import{e as g,R as I,T as se,r as y,K as Me,U as Ue,u as Fe,a as ze,d as V,b as D,c as B,L as M,A as f,f as b,t as J,g as _,B as T,l as P,h as H,C as fe,i as He,j as p,o as Z,k as S,m as Ye,n as We,p as je,q as Ve,s as A,v as Ke,w as $e,P as O,x as R,S as K,O as te,y as ae,z as ye,D as qe,E as F,F as Je,G as Ze,H as Xe,I as Qe,J as es,X as re,M as ne,N as oe,Q as be,V as ss,W as ts,Y as X,Z as Q,_ as as,$ as ie,a0 as we,a1 as rs,a2 as ve,a3 as U,a4 as Ne,a5 as ns,a6 as os,a7 as is,a8 as ls,a9 as cs,aa as ds,ab as us,ac as ms,ad as ps,ae as xs,af as ke,ag as _e,ah as Se,ai as hs,aj as gs,ak as fs,al as js,am as ys,an as bs,ao as ws,ap as vs,aq as Ns,ar as ks,as as _s,at as Ss,au as Cs,av as ee,aw as Ps,ax as Ce,ay as Os,az as Rs,aA as Es,aB as As,aC as Ts,aD as E,aE as Ds,aF as le,aG as Is,aH as Ls,aI as Gs,aJ as Pe,aK as Bs,aL as Ms,aM as Us,aN as Fs,aO as zs,aP as Hs,aQ as Ys,aR as Ws,aS as Vs,aT as Ks,aU as $s,aV as qs,aW as Js,aX as Zs,aY as Xs,aZ as Qs,a_ as et,a$ as st,b0 as tt,b1 as at,b2 as rt,b3 as nt,b4 as ot,b5 as it,b6 as C,b7 as lt,b8 as ct,b9 as dt,ba as Oe,bb as G,bc as ut,bd as mt,be as pt}from"./styles-53dUAiCq.js";import{j as e,i as xt,B as ht,r as gt,m as ft,c as jt,u as yt,a as Re,b as d,d as bt,e as ce,f as de,L as wt,E as vt,g as Nt,R as kt,D as _t,A as St,h as Ct,t as m,k as Pt,l as Ot,n as L,o as v,H as Rt,p as W,q as Et,s as Ee,v as At,w as Tt,x as Dt,y as It,z as Lt,C as Ae,O as Gt,F as Bt,G as Mt,I as Te,J as Ut,K as Ft,M as zt,T as Ht,N as Yt,P as Wt,Q as z,S as Vt,U as Kt,V as $t,W as qt,X as Jt,Y as ue,Z as me,_ as Zt,$ as Xt,a0 as Qt}from"./vendor-DlGVmQ0L.js";function ea(t){return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"89",height:"88",fill:"none",...t,children:[e.jsx("g",{filter:"url(#a)",children:e.jsx("rect",{width:"72",height:"72",x:"8.5",y:"8",fill:"url(#b)",rx:"16"})}),e.jsx("path",{fill:"url(#c)",d:"M65 39.724a11.9 11.9 0 0 1-3.308 8.26c-4.882 5.062-9.618 10.34-14.68 15.216a2.93 2.93 0 0 1-4.114-.09l-14.59-15.124c-4.41-4.572-4.41-11.952 0-16.522a11.16 11.16 0 0 1 16.16 0l.532.548.53-.548A11.224 11.224 0 0 1 53.61 28c3.04 0 5.946 1.248 8.08 3.464a11.9 11.9 0 0 1 3.31 8.26Z"}),e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"b",x1:"50",x2:"23",y1:"10.5",y2:"86.5",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{stopColor:"#FA9BB2"}),e.jsx("stop",{offset:"1",stopColor:"#EC6182"})]}),e.jsxs("linearGradient",{id:"c",x1:"32.223",x2:"43.299",y1:"63.627",y2:"22.876",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{stopColor:"#FFE8F4"}),e.jsx("stop",{offset:"1",stopColor:"#fff"})]}),e.jsxs("filter",{id:"a",width:"80",height:"80",x:"4.5",y:"5",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",children:[e.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),e.jsx("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),e.jsx("feMorphology",{in:"SourceAlpha",operator:"dilate",radius:".5",result:"effect1_dropShadow_8931_201750"}),e.jsx("feOffset",{dy:"1"}),e.jsx("feGaussianBlur",{stdDeviation:"1"}),e.jsx("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),e.jsx("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_8931_201750"}),e.jsx("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),e.jsx("feOffset",{dy:"1"}),e.jsx("feGaussianBlur",{stdDeviation:"2"}),e.jsx("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"}),e.jsx("feBlend",{in2:"effect1_dropShadow_8931_201750",result:"effect2_dropShadow_8931_201750"}),e.jsx("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),e.jsx("feOffset",{}),e.jsx("feGaussianBlur",{stdDeviation:".5"}),e.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),e.jsx("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),e.jsx("feBlend",{in2:"effect2_dropShadow_8931_201750",result:"effect3_dropShadow_8931_201750"}),e.jsx("feBlend",{in:"SourceGraphic",in2:"effect3_dropShadow_8931_201750",result:"shape"})]})]})]})}function $(t){return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"89",height:"89",fill:"none",children:[e.jsx("g",{filter:"url(#a)",children:e.jsx("rect",{width:"72",height:"72",x:"8.5",y:"8.5",fill:"url(#b)",rx:"16"})}),e.jsx("path",{fill:"url(#c)",fillRule:"evenodd",d:"M45 25c-11.046 0-20 8.954-20 20s8.954 20 20 20 20-8.954 20-20-8.954-20-20-20Zm-5.385 12.308c-1.107 0-1.698.86-1.92 1.3a4.02 4.02 0 0 0-.387 1.777c0 .61.12 1.24.387 1.776.222.441.81 1.3 1.92 1.3 1.108 0 1.699-.859 1.92-1.3.267-.533.388-1.165.388-1.776 0-.612-.12-1.241-.388-1.777-.221-.44-.81-1.3-1.92-1.3Zm8.85 1.3c.221-.44.81-1.3 1.92-1.3 1.107 0 1.698.86 1.92 1.3.266.534.387 1.165.387 1.777 0 .61-.12 1.24-.387 1.776-.222.441-.81 1.3-1.92 1.3-1.108 0-1.699-.859-1.92-1.3a4.02 4.02 0 0 1-.388-1.776c0-.612.121-1.241.388-1.777Zm-8.903 16.337a1.538 1.538 0 0 1-2.176-2.175 10.74 10.74 0 0 1 7.65-3.155 10.74 10.74 0 0 1 7.58 3.155 1.537 1.537 0 0 1-.487 2.53 1.537 1.537 0 0 1-1.689-.355 7.664 7.664 0 0 0-5.413-2.253 7.665 7.665 0 0 0-5.465 2.253Z",clipRule:"evenodd"}),e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"b",x1:"50",x2:"23",y1:"11",y2:"87",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{stopColor:"#A69BFA"}),e.jsx("stop",{offset:"1",stopColor:"#7161EC"})]}),e.jsxs("linearGradient",{id:"c",x1:"32.222",x2:"45.68",y1:"64.586",y2:"20.026",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{stopColor:"#EDEAFF"}),e.jsx("stop",{offset:"1",stopColor:"#fff"})]}),e.jsxs("filter",{id:"a",width:"80",height:"80",x:"4.5",y:"5.5",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",children:[e.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),e.jsx("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),e.jsx("feMorphology",{in:"SourceAlpha",operator:"dilate",radius:".5",result:"effect1_dropShadow_8931_201804"}),e.jsx("feOffset",{dy:"1"}),e.jsx("feGaussianBlur",{stdDeviation:"1"}),e.jsx("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),e.jsx("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_8931_201804"}),e.jsx("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),e.jsx("feOffset",{dy:"1"}),e.jsx("feGaussianBlur",{stdDeviation:"2"}),e.jsx("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"}),e.jsx("feBlend",{in2:"effect1_dropShadow_8931_201804",result:"effect2_dropShadow_8931_201804"}),e.jsx("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),e.jsx("feOffset",{}),e.jsx("feGaussianBlur",{stdDeviation:".5"}),e.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),e.jsx("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),e.jsx("feBlend",{in2:"effect2_dropShadow_8931_201804",result:"effect3_dropShadow_8931_201804"}),e.jsx("feBlend",{in:"SourceGraphic",in2:"effect3_dropShadow_8931_201804",result:"shape"})]})]})]})}function sa(){xt({dsn:"https://3ff74915ae3058aa8887dfbbe25a7502@o569127.ingest.sentry.io/6414520",environment:"production",release:"e657c5f3f3e00f703c5e861cd13d04953cbe41dd",integrations:[new ht({routingInstrumentation:gt(d.useEffect,Re,yt,jt,ft)})],initialScope:{tags:{"runtime.name":g.isDesktopApp?"Electron":g.client==="ios"?"iOS":"Browser","runtime.version":g.isDesktopApp?g.electronVersion:"none","todesktop.version":g.isDesktopApp?g.appTodesktopBackendVersion:"none","app.version":g.isDesktopApp?g.appVersion:"none"},contexts:{timing:{"App Load Date":new Date(window.performance.timeOrigin).toString(),"App Load Date ISO":new Date(window.performance.timeOrigin).toISOString()}}},tracesSampleRate:.1,beforeSend(t,s){var a;return((a=s.originalException)==null?void 0:a.doNotSendToSentry)===!0?null:t}})}function ta({children:t}){return e.jsx(vt,{beforeCapture:s=>s.setLevel("fatal"),fallback:e.jsx(De,{}),children:t})}function aa(){const t=bt();return d.useEffect(()=>{if(ce(t)){const s=t.error;de(s||Error(`${t.status} ${t.statusText}`,{cause:t.data}),{level:"fatal",tags:{"router.status":t.status},contexts:{router:{status:t.status,statusText:t.statusText,data:t.data}}})}else de(t,{level:"fatal"}),console.error(t)},[t]),e.jsx(De,{is404:ce(t)&&t.status===404})}function De({is404:t}){return e.jsx("div",{className:"grid h-full content-center justify-center",children:e.jsx("div",{className:"grid max-w-md justify-items-start gap-16",children:t?e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"size-48"}),e.jsx("h1",{className:se,children:"Page not found"}),e.jsx("p",{className:"text-black/60",children:"Sorry, the page you requested could not be found."}),e.jsx(wt,{to:y.calendar.path,className:"underline",children:"Return to the app"})]}):e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:se,children:"Something went wrong"}),e.jsxs("p",{className:"text-black/60",children:["We detected an error and our engineering has been notified. We apologize for the inconvenience. Don’t hesitate to reach out to us if this problem persists: ",e.jsx("a",{href:"mailto:founders@risecalendar.com",rel:"noopener noreferrer",className:"underline outline-none transition-shadow focus-visible:ring",children:"founders@risecalendar.com"})]}),e.jsx("button",{className:"rounded-md bg-primary px-12 py-4 text-white outline-none transition hover:bg-purple-300 focus-visible:ring focus-visible:ring-offset-1",onClick:()=>window.location.reload(),children:"Reload"})]})})})}function ra({isOpen:t,hasVariableHeight:s,backdropBlurred:a,children:r,close:n,onUnmount:l}){const o=Nt();return e.jsx(kt,{open:t,onOpenChange:i=>!i&&n(),children:e.jsx(_t,{forceMount:!0,children:e.jsxs(Me,{children:[e.jsx(Ue,{callback:n}),e.jsx(St,{onExitComplete:l,children:t&&e.jsx(Ct,{className:m("fixed inset-0 overflow-y-auto [-webkit-app-region:no-drag]",a&&"backdrop-blur-sm"),forceMount:!0,children:e.jsx(na,{hasVariableHeight:s,children:e.jsx(Pt,{forceMount:!0,asChild:!0,children:e.jsx(Ot.div,{transition:{type:"spring",duration:.35},initial:{opacity:0,scale:o?1:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:o?1:.95,transition:{type:"spring",duration:.2}},className:"!pointer-events-auto overflow-hidden rounded-xl bg-base-bg-elevated/75 shadow-500 outline-none ring-[0.5px] ring-contrast-10 backdrop-blur-xl backdrop-saturate-[1.75]",children:r})})})})})]})})})}function na({hasVariableHeight:t,children:s}){return e.jsxs("div",{className:"flex min-h-screen flex-col items-center px-16 py-32",children:[e.jsx("div",{className:t?"flex-none":"grow",style:t?{height:oa()}:void 0}),s,e.jsx("div",{className:"grow-[2]"})]})}function oa(){const s=window.innerHeight*13/100;return`calc(13vh - ${(s-Math.floor(s)).toFixed(3)}px)`}function ia({resetKey:t}){const s=Fe();return ze(t,()=>V({type:"reset-dialogs"})),e.jsx(e.Fragment,{children:s.map(a=>e.jsx(la,{dialog:a},a.id))})}function la({dialog:t}){const s=d.useRef(),a=d.useRef(!1),r=()=>V({type:"close-dialog",dialogId:t.id}),n=()=>V({type:"remove-dialog",dialogId:t.id});function l(){if(!a.current)if(s.current){a.current=!0;const o=s.current;(async()=>await o()&&r())().finally(()=>{a.current=!1})}else r()}return e.jsx(ra,{isOpen:t.isOpen,hasVariableHeight:t.hasVariableHeight,backdropBlurred:t.backdropBlurred,close:l,onUnmount:n,children:t.renderDialog({close:l,closeHandlerRef:s})})}const Ie="/app/assets/appicon-BGp-EbBK.png",Le="/app/assets/appscreenshot@2x-A_q7AdBV.png";function ca(){return d.useEffect(()=>{D.user.emailDownloadLink()}),B("bg-base-bg-elevated dark:bg-base-bg"),e.jsxs("div",{className:"mx-auto grid min-h-full max-w-md content-center justify-center justify-items-center p-32 [-webkit-app-region:drag]",children:[e.jsx(M,{event:f.ONBOARDING_CONTINUE_TO_DESKTOP}),e.jsx("img",{src:Ie,alt:"App Icon",className:"mb-24 size-64"}),e.jsx("h1",{className:m(b,"mb-32 [-webkit-app-region:no-drag]"),children:"You're all set!"}),e.jsx("p",{className:"mb-16 text-contrast-50 [-webkit-app-region:no-drag]",children:"We’re focusing on desktop use since that's where most of the work happens (and we’re only a team of 7). So your account is all set and ready for use on desktop."}),e.jsx("p",{className:"text-contrast-50 [-webkit-app-region:no-drag]",children:"We also hate typing, so we've just sent you a quick email with a link to download Rise."})]})}function da({children:t,rightColumn:s}){return e.jsxs("div",{className:"size-full grid grid-cols-1 justify-items-center [-webkit-app-region:drag] lg:grid-cols-2",children:[e.jsx("div",{children:t}),e.jsx("div",{className:"relative hidden w-full overflow-clip bg-gray-30 lg:block",children:s})]})}function ua(){return B("bg-base-bg-elevated dark:bg-base-bg"),e.jsxs(da,{rightColumn:e.jsx("img",{src:Le,alt:"Rise Desktop screenshot",className:"absolute left-[46px] top-[109px] block w-[78rem] max-w-none"}),children:[e.jsx(M,{event:f.ONBOARDING_DOWNLOAD_PAGE_OPENED}),e.jsxs("div",{className:"grid h-full max-w-[24rem] content-center justify-center self-center p-32",children:[e.jsx("img",{src:Ie,alt:"App Icon",className:"-ml-8 mb-40 h-[88px] w-[88px]"}),e.jsxs("div",{className:"grid [-webkit-app-region:no-drag]",children:[e.jsx("h1",{className:m(b,"mb-12"),children:"You're all set!"}),e.jsx("p",{className:J(_,"mb-48 text-[15px] text-contrast-50"),children:"Download our desktop app to start using Rise"}),e.jsxs(T,{to:"https://download.risecalendar.com",variant:"primary",size:"large",onClick:()=>{P(f.ONBOARDING_DOWNLOAD_DESKTOP_APP_BUTTON_BLICKED)},children:["Download for ",g.isMac?"macOS":"desktop"]}),e.jsxs("p",{className:m(H,"mt-12 text-contrast-50"),children:["Go to"," ",e.jsx("a",{href:"https://download.risecalendar.com",onClick:()=>{P(f.ONBOARDING_DOWNLOAD_DESKTOP_APP_BUTTON_BLICKED)},target:"_blank",rel:"noreferrer",children:"download.risecalendar.com"})," ","to download Rise for Windows, macOS or Linux."]})]})]})]})}function ma(){const[t,s]=d.useState({userProperties:!1,contacts:!1,otherContacts:!1});function a(r){P(f.ONBOARDING_PERMISSIONS_SCOPE_TOGGLE_CHANGED,{scope:r,value:!t[r]}),s(n=>({...n,[r]:!n[r]}))}return B("bg-base-bg-elevated dark:bg-base-bg"),e.jsx(fe,{showBackButton:!0,children:e.jsxs("div",{className:"grid justify-start [-webkit-app-region:no-drag] sm:max-w-[28rem]",children:[e.jsx("h1",{className:m(b,"mb-12"),children:"Decide which information you want to use in Rise"}),e.jsxs("p",{className:J(_,"mb-48 text-[15px] text-contrast-50"),children:["For the best experience, we recommend you also share your contacts and meeting rooms.",e.jsx("br",{}),e.jsx("br",{}),"Your data is stored encrypted and will never be shared with anyone else. You can remove your data at any time."," ",e.jsx("a",{href:"https://support.risecalendar.com/c8d90455821f467b925405d2bdbe9fe9",target:"_blank",rel:"noreferrer",className:"font-medium text-primary",onClick:()=>P(f.ONBOARDING_PERMISSIONS_SUPPORT_LINK_CLICKED),children:"Learn more"})]}),e.jsx(He,{permissions:t,changePermission:a,className:"mb-32"}),e.jsx("div",{children:e.jsx(p,{variant:"primary",size:"large",onClick:()=>{const r=[];t.userProperties&&r.push("User.ReadBasic.All"),t.contacts&&r.push("Contacts.Read"),t.otherContacts&&r.push("People.Read"),Z("setup",r)},children:"Give access"})})]})})}function pa(){const{status:t}=S(),[s]=L(),[a,r]=d.useState({otherContacts:!1,contacts:!1,directoryContacts:!1,meetingRooms:!1});function n(o){P(f.ONBOARDING_PERMISSIONS_SCOPE_TOGGLE_CHANGED,{scope:o,value:!a[o]}),r(i=>({...i,[o]:!i[o]}))}B("bg-base-bg-elevated dark:bg-base-bg");const l=s.get("error");return e.jsxs(fe,{showBackButton:!0,children:[e.jsx(M,{event:f.ONBOARDING_PERMISSIONS_PAGE_OPENED}),e.jsxs("div",{className:"grid justify-start [-webkit-app-region:no-drag] sm:max-w-[28rem]",children:[e.jsx("h1",{className:m(b,"mb-12"),children:"Decide which information you want to use in Rise"}),l==="account_already_linked"&&e.jsxs("p",{className:m(_,"mb-48 text-[15px] text-red-400"),children:["Sorry! This Google account is already linked to a different Rise account.",e.jsx("br",{}),"If you want to connect it here, please log in and disconnect it first."]}),l==="missing_scopes"&&e.jsxs("p",{className:m(_,"mb-48 text-[15px] text-red-400"),children:["Sorry! We’re missing some access.",e.jsx("br",{}),"For Rise to work correctly you'll need to give us at least access to your calendars."]}),e.jsxs("p",{className:J(_,"mb-48 text-[15px] text-contrast-50"),children:["For the best experience, we recommend you also share your contacts and meeting rooms.",e.jsx("br",{}),e.jsx("br",{}),"Your data is stored encrypted and will never be shared with anyone else. You can remove your data at any time."," ",e.jsx("a",{href:"https://support.risecalendar.com/c8d90455821f467b925405d2bdbe9fe9",target:"_blank",rel:"noreferrer",className:"font-medium text-primary",onClick:()=>P(f.ONBOARDING_PERMISSIONS_SUPPORT_LINK_CLICKED),children:"Learn more"})]}),e.jsx(Ye,{permissions:a,changePermission:n,className:"mb-32"}),e.jsx("div",{children:e.jsx(p,{variant:"primary",size:"large",onClick:()=>{const o=[];a.otherContacts&&o.push("other_contacts"),a.contacts&&o.push("contacts"),a.directoryContacts&&o.push("directory_contacts"),a.meetingRooms&&o.push("resources"),t==="loaded"?(We("setup",o),P(f.ONBOARDING_PERMISSIONS_CONNECT_GOOGLE_ACCOUNT_LINK_CLICKED,{scopes:o.join(","),number_of_scopes:o.length})):je("signup",o)},children:"Give access"})})]})]})}function xa(){return e.jsx("div",{className:"grid h-full content-center justify-center bg-white [-webkit-app-region:drag]",children:e.jsxs("div",{className:"grid max-w-md justify-items-center gap-16 text-center [-webkit-app-region:no-drag]",children:[e.jsx(I,{className:"size-64"}),e.jsx("h1",{className:b,children:"Sorry to see you go!"}),e.jsx("p",{className:"mb-16 text-contrast-50",children:"Your Rise account is deleted. All your events, calendars and other data we have is now gone."})]})})}function ha(){const[t]=L(),s=ga[t.get("message")];return e.jsx("div",{className:"grid h-full content-center justify-center bg-white [-webkit-app-region:drag]",children:e.jsxs("div",{className:"grid max-w-md justify-items-center gap-16 text-center [-webkit-app-region:no-drag]",children:[e.jsx(I,{className:"size-64"}),e.jsx("h1",{className:b,children:"Connection successful!"}),s&&e.jsx("p",{className:"text-contrast-50",children:s}),e.jsx(p,{className:"mt-16",variant:"primary",onClick:window.close,children:"Close tab"})]})})}const ga={calendar_resource_scope_added:"Google rooms and resource scope added successfully."};function fa(){const{accounts:t}=S(),s=t.items.filter(a=>a.status==="disconnected");if(s.length===1){const a=s[0],r=a.type==="google_calendar"?"Google":"Outlook";return e.jsx("div",{className:"grid h-full content-center justify-center bg-white [-webkit-app-region:drag]",children:e.jsxs("div",{className:"grid max-w-md justify-items-center gap-16 text-center [-webkit-app-region:no-drag]",children:[e.jsx($,{}),e.jsx("h1",{className:b,children:"It looks like we lost access"}),e.jsxs("p",{children:["It looks like we have lost access to your ",r," account"," ",e.jsx("strong",{children:a.accountEmail}),". Please log in and reauthorize Rise."]}),e.jsxs("p",{children:["No luck?"," ",e.jsx("a",{href:"mailto:support@risecalendar.com",className:"font-bold text-primary",children:"Email support, we'll help you out"}),"."]}),e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs(p,{variant:"primary",size:"large",onClick:()=>{a.type==="google_calendar"?Ve(a.uuid):a.type==="outlook"&&Z("app")},children:["Reconnect ",r," account"]}),e.jsxs(p,{variant:"primary",destructive:!0,size:"large",onClick:async()=>{await D.account.delete(a.uuid),A("/app",!0)},children:["Remove ",r," account"]}),e.jsx(p,{variant:"secondary",size:"large",onClick:()=>{A("/logout",!0)},children:"Log out"})]})]})})}return e.jsx("div",{className:"grid h-full content-center justify-center bg-white [-webkit-app-region:drag]",children:e.jsxs("div",{className:"grid max-w-md justify-items-center gap-16 text-center [-webkit-app-region:no-drag]",children:[e.jsx($,{}),e.jsx("h1",{className:b,children:"It looks like we lost access"}),e.jsx("p",{children:"It looks like we have lost access to the following accounts:"}),e.jsx("div",{children:e.jsx("ul",{children:s.map(a=>e.jsx("li",{children:a.accountEmail},a.accountEmail))})}),e.jsxs("p",{children:[e.jsx("a",{href:"mailto:support@risecalendar.com",className:"font-bold text-primary",children:"Email support, we'll help you out"}),"."]}),e.jsx("div",{className:"flex flex-col gap-8",children:e.jsx(p,{variant:"secondary",size:"large",onClick:()=>{A("/logout",!0)},children:"Log out"})})]})})}const ja=v(function(){const{tasks:s,actionsStore:a}=S(),[r,n]=d.useState(null),l=Ke(r?$e([...s.inboxTasks,r]):s.inboxTasks,["createdAt"]);return d.useEffect(()=>a.actionContext.setContextOverride({task:r}),[a.actionContext,r]),d.useEffect(()=>{r!=null&&r.isDeleted&&n(s.inboxTasks[0]||null)},[r==null?void 0:r.isDeleted,s.inboxTasks]),s.loaded&&l.length===0?e.jsx(O,{header:e.jsxs(e.Fragment,{children:[e.jsx(R,{}),e.jsx("div",{className:"grow"}),e.jsx(p,{variant:"secondary",size:"small",icon:K,onClick:()=>a.executeAction(te),children:"Add task"})]}),children:e.jsx(ae,{label:"Tasks without a project and due date will show up here."})}):e.jsx(O,{header:e.jsxs(e.Fragment,{children:[e.jsx(R,{}),e.jsx("div",{className:"grow"}),e.jsx(p,{variant:"secondary",size:"small",icon:K,onClick:()=>a.executeAction(te),children:"Add task"})]}),children:e.jsx("div",{className:"flex min-h-0 grow flex-row",children:e.jsxs("div",{className:"flex grow",children:[e.jsx("div",{className:"h-full w-320 divide-y divide-contrast-5 overflow-y-auto border-r border-contrast-5",children:l.map(o=>e.jsx(ya,{task:o,isSelected:o===r,onSelect:n},o.uuid))}),e.jsx("div",{className:"h-full grow overflow-y-auto",children:r?e.jsx("div",{className:"flex-0 grid grid-cols-1 gap-8 px-40 py-36",children:e.jsx(ye,{object:r,displayType:"fullpage"})}):s.loaded&&l.length===0&&e.jsx(ae,{label:"Your inbox is empty!"})})]})})})}),ya=v(function({task:s,isSelected:a,onSelect:r}){return e.jsx(qe,{task:s,children:e.jsxs("button",{className:m(F,"flex w-full flex-row gap-8 px-12 py-10 text-left hover:bg-contrast-5 data-[state=open]:bg-contrast-5",a&&"bg-contrast-5"),onClick:()=>r(s),children:[e.jsx(Je,{task:s}),e.jsxs("div",{className:"flex w-full flex-col gap-6",children:[e.jsxs("div",{className:"flex w-full",children:[e.jsx("div",{className:"grow",children:e.jsx("div",{className:m("max-w-[25ch] truncate",(s.project||s.dueDate)&&"text-contrast-50"),children:s.title})}),s.createdAt&&e.jsx("div",{className:"whitespace-nowrap text-xs text-contrast-50",children:e.jsx(Ze,{date:s.createdAt,format:"MMM do",sizeVariant:"short"})})]}),(s.priority||s.rrule||s.labels.length>0)&&e.jsxs("div",{className:"flex flex-row items-center gap-4",children:[s.priority&&e.jsx(Xe,{task:s,align:"end"}),s.rrule&&e.jsx("span",{className:"flex items-center rounded-md border border-contrast-10 px-4 py-4 text-contrast-50",children:e.jsx(Qe,{})}),s.labels.length>0&&e.jsx(es,{task:s,align:"end"})]})]})]})})});function ba(){const t=d.useRef(null),s=d.useRef(null),[a]=L(),[r,n]=d.useState("unclicked"),[l,o]=d.useState(null),[i,x]=d.useState(!1),c=()=>{var w,N;const u=(w=t.current)==null?void 0:w.value;if(!u||!ts(u)){o("That looks like an invalid email address");return}o(null),x(!1),D.user.requestLoginCodeEmail((N=t.current)==null?void 0:N.value,j=>j instanceof Rt&&j.response.status===404).then(()=>{n("requested_code")}).catch(()=>{o("Email address not found or incorrect")})},h=u=>{var N;const w=u||((N=s.current)==null?void 0:N.value);if(!w){x(!0),n("enter_email");return}n("submitted_code"),D.user.loginWithLoginCode(w.trim()).then(()=>{const j=a.get("redirect");j&&j.startsWith("/app/flexible-suggestions/accept")?window.location.replace(j):window.location.replace("/app")}).catch(()=>{x(!0),n("enter_email")})};return d.useEffect(()=>{r==="enter_email"&&(t.current.value=""),r==="requested_code"&&(s.current.value="")},[r]),r==="unclicked"?e.jsx(p,{size:"large",onClick:()=>n("enter_email"),children:"Sign in with email"}):r==="enter_email"?e.jsxs(e.Fragment,{children:[i&&e.jsxs("div",{className:m(H,"mb-16 mt-12 flex flex-row gap-6"),children:[e.jsx("span",{children:e.jsx(re,{className:"text-red-400"})}),e.jsx("p",{className:"grow text-left",children:"Sorry, that code is expired or incorrect. Please request a new one."})]}),e.jsx(ne,{ref:t,type:"email",placeholder:"Enter your email address",className:"px-12 py-10 text-base",outerClassName:m("mb-8",l&&"ring ring-red-400 focus-within:ring-red-400"),onChange:()=>o(null),onKeyDown:oe({key:"Enter",isActiveWhenInputFocused:!0,execute:c}),autoFocus:!0}),l&&e.jsxs("div",{className:m(H,"mb-16 flex flex-row gap-6"),children:[e.jsx("span",{children:e.jsx(re,{className:"text-red-400"})}),e.jsx("p",{className:"grow text-left",children:l})]}),e.jsx(p,{size:"large",onClick:()=>c(),children:"Request login code"})]}):r==="requested_code"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:m(H,"mb-12 mt-16 flex flex-row gap-6"),children:[e.jsx("span",{children:e.jsx(be,{className:"text-green-600"})}),e.jsx("p",{className:"grow text-left",children:"We sent an email with a temporary login code. Please check your inbox."})]}),e.jsx(ne,{ref:s,placeholder:"Paste login code",className:"py-10 text-base focus:bg-contrast-10",outerClassName:m("mb-8",i&&"ring ring-red-400 focus-within:ring-red-400"),onPaste:u=>{var w;h((w=u.clipboardData)==null?void 0:w.getData("text"))},onKeyDown:oe({key:"Enter",isActiveWhenInputFocused:!0,execute:()=>{h()}}),autoFocus:!0}),e.jsx(p,{size:"large",onClick:()=>h(),children:"Submit code"})]}):e.jsx(p,{size:"large",disabled:!0,children:e.jsx(ss,{})})}function wa(){const[t]=L(),s=t.get("token");if(B("bg-base-bg-elevated dark:bg-base-bg"),s)return D.user.loginWithToken(s).then(()=>{window.location.replace("/app")}).catch(()=>{window.location.replace("/app/login?error=invalid_token")}),e.jsx("div",{className:"grid h-full content-center justify-center [-webkit-app-region:drag]"});const a=t.get("error");return e.jsxs("div",{className:"grid h-full content-center justify-center [-webkit-app-region:drag]",children:[e.jsx(M,{event:f.LOGIN_PAGE_OPENED}),e.jsxs("div",{className:"flex h-[500px] max-w-md flex-col items-center justify-items-start gap-16 text-center align-top [-webkit-app-region:no-drag]",children:[e.jsx(I,{className:"size-64"}),e.jsx("h1",{className:b,children:"Welcome to Rise!"}),e.jsx("p",{className:"mb-16 max-w-[20rem] text-contrast-50",children:"Rise helps you schedule, optimize and protect your day. You are in charge."}),a==="invalid_token"&&e.jsxs("p",{className:"text-red-400",children:["Sorry! Something went wrong when logging you in.",e.jsx("br",{}),"Please try again."]}),e.jsxs("div",{className:"grid w-256",children:[e.jsxs(p,{size:"large",onClick:()=>je(t.get("redirect")),variant:"primary",className:"mb-6",children:[e.jsx(X,{className:"mr-8"})," Sign in with Google"]}),e.jsxs(p,{size:"large",onClick:()=>Z("login"),variant:"primary",className:"mb-6",children:[e.jsx(Q,{className:"mr-8"})," Sign in with Outlook"]}),a==="account_not_found"&&e.jsxs("p",{className:m(_,"mb-12 text-red-400"),children:["Sorry! This Google account is not yet linked to a Rise account. Follow the link in your invite or"," ",e.jsx("a",{href:"mailto:support@risecalendar.com?subject=Sign in troubles",className:"font-bold",children:"get in touch"}),"."]}),a==="login_code_not_found"&&e.jsxs("p",{className:m(_,"mb-12 text-red-400"),children:["Sorry! The login code you used was not found. Try again or"," ",e.jsx("a",{href:"mailto:support@risecalendar.com?subject=Sign in troubles",className:"font-bold",children:"get in touch"}),"."]}),a==="login_code_expired"&&e.jsxs("p",{className:m(_,"mb-12 text-red-400"),children:["Sorry! The login code you used has expired. Try again or"," ",e.jsx("a",{href:"mailto:support@risecalendar.com?subject=Sign in troubles",className:"font-bold",children:"get in touch"}),"."]}),a==="invalid_grant"&&e.jsxs("p",{className:m(_,"mb-12 text-red-400"),children:["Sorry! Something went wrong. Try again or"," ",e.jsx("a",{href:"mailto:support@risecalendar.com?subject=Sign in troubles",className:"font-bold",children:"get in touch"}),"."]}),a==="added_to_waitinglist"&&e.jsx("p",{className:m(_,"mb-12 text-red-400"),children:"Thanks for your interest in Rise! We are currently over capacity, but we added to you the waiting list and will get back to you as soon as possible."}),e.jsx(ba,{}),e.jsx("div",{className:"my-16 border-t border-contrast-10"}),e.jsx(T,{to:y.signup.path,size:"large",variant:"secondary",children:"I don't have an account"})]})]})]})}function va(){const[t,s]=d.useState(!1),[a]=L(),r=()=>{const n=a.get("email");n&&D.optOuts.post(n),s(!0)};return e.jsx("div",{className:"grid h-full content-center justify-center bg-white [-webkit-app-region:drag]",children:e.jsxs("div",{className:"grid max-w-md justify-items-center gap-16 text-center",children:[e.jsx(I,{className:"size-64"}),e.jsx("p",{className:"text-3xl font-bold",children:"Want to skip Rise?"}),e.jsx("p",{className:"mb-16 text-contrast-50",children:"We hate uncolicited email, too. Confirm your opt-out below and we'll never email you again."}),t?e.jsxs("div",{className:m(F,"flex gap-6 px-16 py-12"),children:[e.jsx(be,{className:"text-green-600"})," Got it!"]}):e.jsx(p,{size:"large",onClick:r,variant:"primary",children:"Please never email me ever again"})]})})}const Na=v(function(){var i,x;const{accounts:s,userStore:a,objectPool:r}=S(),n=W(),l=c=>s.connected.map(h=>({key:h.accountEmail,label:h.accountEmail,options:h.calendars.filter(u=>u.accessLevel==="owner"||u.accessLevel==="writer").filter(u=>u.uuid!==c).map(u=>({value:u.uuid,label:u.name,calendar:u,icon:e.jsx(ie,{color:u.color})}))})).filter(h=>h.options.length!==0),o=s.connected.some(c=>c.calendars.length>0);return e.jsxs("div",{className:"grid h-full content-center justify-center bg-white [-webkit-app-region:drag]",children:[e.jsx(M,{event:f.PRIMARY_CALENDAR_PICKER_PAGE_OPENED}),e.jsxs("div",{className:"grid max-w-md justify-items-center gap-16 text-center [-webkit-app-region:no-drag]",children:[o?e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:b,children:"Pick a primary calendar"}),e.jsx("p",{children:"It looks like you don't have any calendar set as your primary calendar. Please pick one or add a new account to continue using Rise."}),e.jsx(as,{inputPlaceholder:"Set primary calendar…",initialOptionValue:(i=a.primaryCalendar)==null?void 0:i.uuid,options:l(),className:"max-w-sm",onSubmit:({value:c})=>{c&&(a.setPrimaryCalendar(r.getObject("calendar",c)),n("/"))},selectButtonProps:{icon:a.primaryCalendar?e.jsx(ie,{color:(x=a.primaryCalendar)==null?void 0:x.color}):null}})]}):e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:b,children:"Add a calendar account"}),e.jsx("p",{children:"It looks like you don't have any calendar accounts linked to Rise. Connect a new account to continue using Rise."})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs(T,{to:y.setupPermissions.path,size:"large",variant:"primary",className:"mb-6",children:[e.jsx(X,{className:"mr-8"})," Connect Google account"]}),e.jsxs(T,{to:y.setupPermissionsOutlook.path,size:"large",variant:"primary",className:"mb-6",children:[e.jsx(Q,{className:"mr-8"})," Connect Outlook account"]}),e.jsx(p,{variant:"secondary",size:"large",onClick:()=>{A("/logout",!0)},children:"Log out"})]})]})]})});function ka(){return e.jsx("div",{className:"grid h-full content-center justify-center bg-white [-webkit-app-region:drag]",children:e.jsxs("div",{className:"grid max-w-md justify-items-center gap-16 text-center [-webkit-app-region:no-drag]",children:[e.jsx(I,{className:"size-64"}),e.jsx("h1",{className:b,children:"Unsubscribe noted"}),e.jsx("p",{className:"mb-16 text-contrast-50",children:"You will no longer receive product updates from Rise. Your account is still active and you can log in at any time."})]})})}const _a=v(function(){const{actionsStore:s,projects:a,tasks:r,projectStates:n,views:l,categories:o}=S(),[i,x]=d.useState(null),{projectUuid:c}=Et(),h=W();if(d.useEffect(()=>{if(!c)return;const j=a.findByUuid(c);j&&l.loaded&&x(j)},[c,a,a.loaded,l.loaded]),d.useEffect(()=>{if(i)return s.actionContext.setContextOverride({project:i,workspace:i.workspace,team:i.team})},[s.actionContext,i]),!i)return e.jsx(O,{header:e.jsx(R,{})});const u=i.view||i.createDefaultView(),w=we(ve(r.getTasksByProject(i),u.showCompleted?[]:[{option:"statusType",value:["unstarted","started"]}]),u.groupBy,rs(u.groupBy,i),n,u.orderBy),N=i.memberships.map(j=>j.member);return e.jsx(O,{header:e.jsxs(e.Fragment,{children:[e.jsx(R,{}),e.jsx("div",{className:"grow"}),N&&N.length>0&&e.jsx("div",{className:"flex items-center -space-x-6 [-webkit-app-region:no-drag] rtl:space-x-reverse",children:N==null?void 0:N.map(j=>e.jsx(U,{label:j.displayName,children:e.jsx("div",{className:"",children:e.jsx(Ne,{member:j,size:"small"})})},j.uuid))}),o.favoriteCategory!==void 0&&e.jsx(U,{label:"Toggle favorite project",children:e.jsx(p,{icon:o.isFavorite(i)?ns:os,variant:"tertiary",size:"small",className:N&&N.length>0?"ml-4":"",onClick:()=>s.executeAction(is)})}),e.jsx(ls,{options:[[{icon:cs,label:"Edit project",onSelect:()=>ds({project:i})},{icon:us,label:"Delete project",isDestructive:!0,onSelect:()=>{ms({title:`Are you sure you want to delete the project “${i.name}”?`,primaryAction:{key:"delete",label:"Delete",negative:!0,onClick(){i.delete(),h(y.projects.path)}},secondaryAction:{key:"cancel",label:"Cancel"}})}}]],align:"end",children:e.jsx(ps,{children:e.jsx(U,{label:"Open options",children:e.jsx(p,{variant:"tertiary",size:"small",icon:xs,className:"[-webkit-app-region:no-drag]"})})})})]}),subHeader:e.jsx(ke,{view:u}),children:u.type==="board"?e.jsx(_e,{taskGroups:w,view:u,project:i}):e.jsx(Se,{taskGroups:w,view:u,project:i})})}),Sa=v(function(){const{workspaces:s,actionsStore:a}=S(),r=W();return e.jsx(O,{header:e.jsxs(e.Fragment,{children:[e.jsx(R,{}),e.jsx("div",{className:"grow"}),e.jsx(p,{variant:"secondary",size:"small",icon:K,onClick:()=>a.executeAction(hs),children:"Add project"})]}),children:e.jsx("div",{children:s.items.filter(n=>n.projects.length>0).map(n=>e.jsxs("div",{className:"mb-24",children:[e.jsx(gs,{children:n.name||n.domain}),fs(n.projects).map(l=>e.jsxs("button",{onClick:()=>r(y.projects.children.project.getPath({projectUuid:l.uuid})),className:m(F,"flex h-32 w-full items-center gap-8 border-b border-contrast-5 py-8 pl-16 pr-8 hover:border-transparent hover:bg-contrast-5"),children:[l.meetingBoard?e.jsx(U,{label:`${l.progress.completed}/${l.progress.total} done`,children:e.jsx("div",{className:"text-primary",children:e.jsx(js,{backgroundClassName:"text-contrast-20",progress:l.progress.percentage,sizeVariant:"normal"})})}):e.jsx(ys,{className:"text-contrast-60"}),l.name," ",l.team?e.jsxs("span",{className:"flex items-center gap-2 rounded-full border border-contrast-10 px-8 py-2",children:[e.jsx(bs,{})," ",l.team.name]}):null]},l.uuid))]},n.uuid))})})});function Ca(){return B("bg-base-bg-elevated dark:bg-base-bg"),e.jsxs("div",{className:"grid size-full grid-cols-1 justify-items-center [-webkit-app-region:drag] lg:grid-cols-2",children:[e.jsx(M,{event:f.SIGNUP_PAGE_OPENED}),e.jsx("div",{children:e.jsx("div",{className:"flex h-full flex-col",children:e.jsxs("div",{className:"m-auto grid max-w-[20rem] pt-48 [-webkit-app-region:no-drag]",children:[e.jsx(I,{className:"mb-16 size-64"}),e.jsx("h1",{className:m(b,"mb-12"),children:"Projects, tasks, time. Together."}),e.jsx("p",{className:m(_,"mb-48 text-[15px] text-contrast-50"),children:"Rise helps you and your team stay organized and on track."}),e.jsxs("div",{className:"flex w-full max-w-sm flex-col",children:[e.jsxs(T,{to:y.setupPermissions.path,size:"large",onClick:()=>{P(f.SIGNUP_CONTINUE_WITH_GOOGLE_CLICKED)},variant:"primary",className:"mb-16",children:[e.jsx(X,{className:"mr-8"})," Connect Google"]}),e.jsxs(T,{to:y.setupPermissionsOutlook.path,size:"large",onClick:()=>{P(f.SIGNUP_CONTINUE_WITH_GOOGLE_CLICKED)},variant:"primary",className:"mb-6",children:[e.jsx(Q,{className:"mr-8"})," Connect Outlook"]})]}),e.jsx("div",{className:"my-16 border-t border-contrast-10"}),e.jsx(T,{to:y.login.path,size:"large",variant:"secondary",onClick:()=>{P(f.SIGNUP_SIGN_IN_BUTTON_CLICKED)},children:"Sign in"})]})})}),e.jsx("div",{className:"relative hidden w-full overflow-clip bg-gray-30 lg:block",children:e.jsx("img",{src:Le,alt:"Rise Desktop screenshot",className:"absolute left-[46px] top-[109px] block w-[78rem] max-w-none"})})]})}function Pa(){const[t]=L();return t.get("status")==="success"?e.jsx("div",{className:"grid h-full content-center justify-center bg-white [-webkit-app-region:drag]",children:e.jsxs("div",{className:"grid max-w-md justify-items-center gap-16 text-center [-webkit-app-region:no-drag]",children:[e.jsx(ea,{className:"mb-16"}),e.jsx("h1",{className:b,children:"You are all set!"}),e.jsx("p",{className:"text-contrast-50",children:"We are crazy happy to have you with us at Rise. Thanks for becoming a paying member."}),e.jsx(p,{className:"mt-16",variant:"primary",size:"large",onClick:window.close,children:"Close tab"})]})}):e.jsx("div",{className:"grid h-full content-center justify-center bg-white [-webkit-app-region:drag]",children:e.jsxs("div",{className:"grid max-w-md justify-items-center gap-16 text-center [-webkit-app-region:no-drag]",children:[e.jsx($,{className:"mb-16"}),e.jsx("h1",{className:b,children:"Want to try again?"}),e.jsxs("p",{className:"text-contrast-50",children:["It looks like you cancelled the payment flow. Try again, or"," ",e.jsx("a",{href:"mailto:support@risecalendar.com",className:"font-bold text-primary",children:"get in touch"}),"."]}),e.jsxs("div",{className:"flex gap-8",children:[e.jsx(p,{className:"mt-16",variant:"secondary",size:"large",onClick:window.close,children:"Close tab"}),t.get("workspace_uuid")&&t.get("plan")?e.jsx(p,{className:"mt-16",variant:"primary",size:"large",onClick:async()=>{const a=await D.subscriptions.create(t.get("workspace_uuid"),t.get("plan"));A(a.checkout_url)},children:"Try again"}):e.jsx(p,{className:"mt-16",variant:"primary",size:"large",onClick:async()=>{A("/")},children:"Try again"})]})]})})}const Oa=v(function(){var c;const{tasks:s,objectPool:a,projectStates:r,boxes:n,views:l,workspaces:o}=S();if(!(n.loaded&&l.loaded))return e.jsx(O,{header:e.jsx(R,{})});let i=n.viewForType("tasks");i||(i=ws.create(a),i.box=n.forType("tasks"),i.isDraft=!0);const x=we(ve(s.items,[{option:"assignee",value:(c=a.member)==null?void 0:c.uuid},...i.showCompleted?[]:[{option:"statusType",value:["unstarted","started"]}]]),i.groupBy,vs(i.groupBy,o),r,i.orderBy);return e.jsx(O,{header:e.jsx(e.Fragment,{children:e.jsx(R,{})}),subHeader:e.jsx(ke,{view:i}),children:i.type==="board"?e.jsx(_e,{taskGroups:x,view:i}):e.jsx(Se,{taskGroups:x,view:i})})}),Ra=v(function({inboxNotification:s,children:a}){const r=Ns({inboxNotification:s});return e.jsx(ks,{options:()=>[[r.actionToMenuOption(_s),r.actionToMenuOption(Ss)]],children:a})}),Ea=v(function(){const{inboxNotifications:s,actionsStore:a}=S(),[r,n]=d.useState(null),l=d.useRef(null);return d.useEffect(()=>{const o=a.actionContext.setContextOverride({inboxNotification:r,task:r==null?void 0:r.task});return r==null||r.markRead(),o},[a.actionContext,r]),d.useEffect(()=>{var o;(o=l.current)==null||o.scrollTo({top:0})},[r]),s.loaded&&s.items.length===0?e.jsx(O,{header:e.jsx(R,{}),children:e.jsx(pe,{label:"You're all up to date!"})}):e.jsx(O,{header:e.jsx(R,{}),children:e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"h-full w-320 overflow-y-auto border-r border-contrast-10",children:s.items.map(o=>e.jsx(Aa,{inboxNotification:o,isSelected:o===r,select:n},o.uuid))}),e.jsx("div",{ref:l,className:"h-full flex-1 overflow-y-auto",children:r!=null&&r.task?e.jsx("div",{className:"grid grid-cols-1 gap-8 px-40 py-36",children:e.jsx(ye,{object:r.task,displayType:"fullpage"})}):s.loaded&&s.items.length===0&&e.jsx(pe,{label:"You’re all up to date!"})})]})})}),Aa=v(function({inboxNotification:s,isSelected:a,select:r}){var l,o,i,x,c,h;const{userStore:n}=S();return e.jsx(Ra,{inboxNotification:s,children:e.jsxs("button",{className:m(F,"flex w-full items-center gap-8 px-12 py-10 text-left outline-none transition-[box-shadow,color] focus-visible:ring focus-visible:ring-inset",a?"bg-contrast-5":"hover:bg-contrast-5 data-[state=open]:bg-contrast-5",s.readAt&&"text-contrast-50"),onClick:()=>r(s),children:[((l=s.actor)==null?void 0:l.type)==="member"&&e.jsx(Ne,{member:s.actor.member,size:"large"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex-1 truncate",children:((o=s.task)==null?void 0:o.title)||((x=(i=s.meetingBoard)==null?void 0:i.project)==null?void 0:x.name)}),s.task&&e.jsx(Cs,{type:(c=s.task.status)==null?void 0:c.type,sizeVariant:"small",colorHex:((h=s.task.status)==null?void 0:h.color)||void 0})]}),e.jsxs("div",{className:"flex gap-4 pt-2 text-contrast-50",children:[e.jsx(Ta,{body:s.body}),s.changeTime&&e.jsx(U,{label:ee(s.changeTime,[Ps?"MMM d, yyyy":"d MMM yyyy",n.uses12HourClock?"hh:mm b":"HH:mm"].join(" "),n.displayTimezone??void 0),children:e.jsx("span",{className:Ce,children:e.jsx(Da,{date:s.changeTime})})})]})]})]})})});function pe({label:t}){return e.jsx("div",{className:m(F,"flex h-full flex-col items-center justify-center gap-6 pb-80"),children:e.jsx("h1",{children:t})})}function Ta({body:t}){return e.jsx("div",{className:m(Ce,"flex-1 truncate"),children:t&&t.map((s,a)=>a===0?e.jsx(xe,{part:s},a):e.jsxs(d.Fragment,{children:[" ",e.jsx(xe,{part:s})]},a))})}const xe=v(function({part:s}){const{objectPool:a,workspaceTaskStatuses:r}=S();if(s.type==="actor"){const n=a.getObject("member",s.actor_uuid);return(n==null?void 0:n.firstName)||(n==null?void 0:n.displayNameSafe)}if(s.type==="from_status"||s.type==="to_status"){if(!s.status_uuid)return"null";const n=r.findByUuid(s.status_uuid);return n?n.label:s.label}if(s.type==="assignee"){if(!s.assignee_uuid)return"Unknown assignee";const n=a.getObject("member",s.assignee_uuid);return(n==null?void 0:n.firstName)||(n==null?void 0:n.displayNameSafe)}if(s.type==="from_title"||s.type==="to_title"||s.type==="to_due_date"||s.type==="recurrence")return s.label;if(s.type==="to_project"){if(!s.project_uuid)return"Unknown project";const n=a.getObject("project",s.project_uuid);return n==null?void 0:n.label}if(s.type==="to_priority")return s.label;if(s.type==="label"){if(!s.label_uuid)return"Unknown label";const n=a.getObject("label",s.label_uuid);return n!=null&&n.name?n==null?void 0:n.name:null}if(s.type==="comment"){if(!s.comment_uuid)return"Unknown comment";const n=a.getObject("comment",s.comment_uuid);return n!=null&&n.message?Os(n==null?void 0:n.message):null}return s.text}),Da=v(function({date:s}){const a=Rs.nowStartOfMinute,r=Ee(a,s),n=Math.abs(r);if(n<1)return"now";const l=r<0?"in ":"";if(n<Es)return l+n+"min";const o=Math.abs(At(a,s));if(o<As)return l+o+"h";const i=Math.abs(Tt(a,s));if(i<21)return l+i+"d";const x=Math.abs(Dt(a,s));if(x<8)return l+x+"w";const c=It(a,s);if(c<12)return l+c+"m";const h=Lt(a,s);return l+h+"y"}),Ia=v(function(){const{browserStore:s}=S("loading"),a=W(),r=Re();return d.useEffect(()=>{Ae(()=>{if(!s.history){s.history={navigate:a,location:r};return}s.history.navigate!==a&&(s.history.navigate=a),s.history.location!==r&&(s.history.location=r)})},[s,a,r]),e.jsxs(Ts,{children:[e.jsx(Gt,{}),e.jsx(ia,{resetKey:r.pathname}),e.jsx(La,{})]})});function La(){const[t,s]=L();return d.useEffect(()=>{const a=t.get("message");a==="outlook_account_added"&&(E("Outlook account added successfully!"),s(new URLSearchParams,{replace:!0})),a==="outlook_account_reconnected"&&(E("Outlook account reconnected successfully!"),s(new URLSearchParams,{replace:!0})),a==="account_added"&&(E("Google account added successfully!"),s(new URLSearchParams,{replace:!0})),a==="account_reconnected"&&(E("Google account reconnected successfully!"),s(new URLSearchParams,{replace:!0})),a==="getting_started_opt_out"&&(E("Got it! You'll no longer get our getting started emails."),s(new URLSearchParams,{replace:!0})),a==="product_update_opt_out"&&(E("Got it! You'll no longer get our product update emails."),s(new URLSearchParams,{replace:!0})),a==="focus_guard_opt_out"&&(E("Got it! You'll no longer get notifications when FocusGuard kicks in."),s(new URLSearchParams,{replace:!0})),a==="flexible_suggestions_opt_out"&&(E("Got it! You'll no longer get the overview of our suggested flexible events."),s(new URLSearchParams,{replace:!0}));const r=t.get("error");r==="account_already_linked"&&(Ds({variant:"error",title:"Sorry, this Google account is already linked to a different Rise account.",actions:[{label:"Support",variant:"primary",onClick:()=>{A("https://support.risecalendar.com/multiple-accounts#block-6bce0bd54e944e3bbba3d3e39a63b848",!1)}}]}),s(new URLSearchParams,{replace:!0})),r==="missing_scopes"&&(le("Sorry, you need to give Rise calendar access to work."),s(new URLSearchParams,{replace:!0})),r==="users_do_not_match"&&(le("It looks like you are logged in with two different user accounts."),s(new URLSearchParams,{replace:!0})),t.get("inviteTeammates")==="true"&&(s(new URLSearchParams,{replace:!0}),window.setTimeout(Is,250))},[t,s]),e.jsx(Ls,{})}function Ga(){return e.jsx(zt,{router:Fa})}const Ba={loading:"wait",loaded:"allow",unauthorized:{type:"redirect",to:y.login.path}},he={loading:"wait",loaded:{type:"dynamic",isAllowed:!0,async loader(t){return await Te(()=>{var s;return!!((s=t.accounts)!=null&&s.loaded)}),t.accounts.items.length===0||t.userStore.primaryCalendar===null?{type:"redirect",to:y.primaryCalendar.path}:"allow"}},unauthorized:{type:"dynamic",isAllowed:!1,async loader(){return g.isDesktopApp?{type:"redirect",to:y.login.path}:{type:"redirect",to:y.signup.path}}}},k={loading:"allow",loaded:"allow",unauthorized:"allow"},Ma={calendar:{element:e.jsx(Bs,{}),model:he},showEvent:{element:null,model:(()=>{const t={type:"dynamic",isAllowed:!1,loader(s,{request:a}){const r=new URL(a.url).searchParams.toString();return{type:"redirect",to:y.calendar.path+(r?"?"+r:"")}}};return{loading:t,loaded:t,unauthorized:t}})()},login:{element:e.jsx(wa,{}),model:k},signup:{element:e.jsx(Ca,{}),model:k},optOut:{element:e.jsx(va,{}),model:k},setupPermissions:{element:e.jsx(pa,{}),model:k},setupPermissionsOutlook:{element:e.jsx(ma,{}),model:k},setupCompany:{element:e.jsx(Ms,{})},setupTimes:{element:e.jsx(Us,{})},setupFocusguard:{element:e.jsx(Fs,{})},setupInvite:{element:e.jsx(zs,{})},setupDesktop:{element:e.jsx(ca,{})},setupDownload:{element:e.jsx(ua,{}),model:k},accountDeleted:{element:e.jsx(xa,{}),model:k},productUpdateUnsubscribed:{element:e.jsx(ka,{}),model:k},connectSuccess:{element:e.jsx(ha,{}),model:k},disconnectedAccount:{element:e.jsx(fa,{})},primaryCalendar:{element:e.jsx(Na,{})},subscriptionResult:{element:e.jsx(Pa,{}),model:k},settings:{element:e.jsx(Hs,{}),model:he,children:{general:{element:e.jsx(Ys,{})},menuBar:{element:e.jsx(Ws,{})},smartColorCoding:{element:e.jsx(Vs,{})},calendars:{element:e.jsx(Ks,{})},roomsAndContacts:{element:e.jsx($s,{})},conferencing:{element:e.jsx(qs,{})},workingHours:{element:e.jsx(Js,{})},focusGuard:{element:e.jsx(Zs,{})},schedulingLinks:{element:e.jsx(Xs,{})},profile:{element:e.jsx(Qs,{})},emails:{element:e.jsx(et,{})},plans:{element:e.jsx(st,{})},workspaceSettings:{element:e.jsx(tt,{})},tasksGeneral:{element:e.jsx(at,{})}}},projects:{element:null,children:{general:{element:e.jsx(Sa,{})},project:{element:e.jsx(_a,{})}}},task:{element:e.jsx(rt,{})},myFocus:{element:e.jsx(nt,{})},inbox:{element:e.jsx(ja,{})},tasks:{element:e.jsx(Oa,{})},updates:{element:e.jsx(Ea,{})}},Ua=Ge({index:{routerPath:"/",element:e.jsx(Ia,{}),errorElement:e.jsx(aa,{}),model:k,children:Bt(y,Ma)}}),Fa=Mt(Ft)(Ua,{basename:Gs});function Ge(t){return Object.values(t).map(({index:s,routerPath:a,children:r,element:n,errorElement:l,model:o})=>({index:s,element:n,errorElement:l,path:a,loader:za(o),children:r?Ge(r):void 0}))}function za(t){return function(a){Pe();const r={...Ba,...t},n=ot();return Y(n,a,r)}}async function Y(t,s,a,r){const n=t.status,l=r||a[n];if(l==="allow")return{allowedStatuses:new Set(Object.entries(a).filter(([,i])=>i==="allow"||typeof i!="string"&&i.type==="dynamic"&&i.isAllowed).map(([i])=>i))};if(l==="wait")return Te(()=>t.status!==n).then(()=>Y(t,s,a));if(l.type==="redirect")return Ut(l.to);if(l.type==="dynamic"){const o=l.loader(t,s);return typeof o=="string"||"type"in o?Y(t,s,a,o):o.then(i=>Y(t,s,a,i))}throw Error("Unknown action")}const Ha=()=>{const t=()=>A("https://download.risecalendar.com");return e.jsx("div",{className:"align-items-center flex h-full justify-center bg-base-bg",children:e.jsx("div",{className:"align-self-center flex-col text-center",children:e.jsxs("div",{className:"gap-8 p-24",children:[e.jsx("h1",{className:"mb-16 text-xl font-bold",children:"Update to the latest version"}),e.jsxs("p",{className:"mb-16",children:["Your app seems out of date. Download the latest version ",e.jsx("br",{})," to continue using Rise on desktop."]}),e.jsx(p,{variant:"primary",onClick:t,children:"Download latest version"})]})})})},Ya=v(function(){return e.jsx(ta,{children:e.jsx(Wa,{children:e.jsx(Ht,{disableHoverableContent:!0,children:g.isAtLeastVersion("1.9.0")?e.jsx(Ga,{}):e.jsx(Ha,{})})})})}),Wa=v(function({children:s}){const{userStore:a}=it();return e.jsx(Yt,{reducedMotion:a==null?void 0:a.reducedMotion,children:s})}),Va=({reportPre:t,analysisPre:s,reportPost:a,analysisPost:r})=>{const[n,l]=d.useState("post"),o=d.useRef(null);d.useEffect(()=>{o.current&&(o.current.scrollTop=200)},[]);let{events:i}=a,x=r;(n==="pre"||!i)&&(i=t.events,x=s);const[c,h]=d.useState(Wt(C(i[0].starts_at))),u=[c,z(c,1),z(c,2),z(c,3),z(c,4)];return e.jsxs("div",{className:"report-preview",children:[e.jsxs("div",{className:"report-preview-navigation",children:[e.jsx("button",{onClick:()=>l("pre"),className:`element-button ${n==="pre"?"highlight":""}`,children:"Before using Rise"}),e.jsx("button",{onClick:()=>l("post"),className:`element-button ${n==="post"?"highlight":""}`,children:"After using Rise"})]}),e.jsxs("div",{className:"report-preview-calendar",children:[e.jsx("div",{className:"report-preview-navbar",children:e.jsxs("div",{className:"nav-week",children:[e.jsx("button",{onClick:()=>h(Vt(c,1)),className:"element-button week-pager pager-prev",children:e.jsx(lt,{})}),e.jsxs("span",{className:"week-number",children:["Week ",ee(c,"I")]}),e.jsx("button",{onClick:()=>h(Kt(c,1)),className:"element-button week-pager pager-next",children:e.jsx(ct,{})})]})}),e.jsxs("div",{className:"report-preview-week",ref:o,children:[e.jsxs("div",{className:"report-hours",children:[e.jsx("div",{className:"hour",children:e.jsx("span",{})}),e.jsx("div",{className:"hour",children:e.jsx("span",{children:"01:00"})}),e.jsx("div",{className:"hour",children:e.jsx("span",{children:"02:00"})}),e.jsx("div",{className:"hour",children:e.jsx("span",{children:"03:00"})}),e.jsx("div",{className:"hour",children:e.jsx("span",{children:"04:00"})}),e.jsx("div",{className:"hour",children:e.jsx("span",{children:"05:00"})}),e.jsx("div",{className:"hour",children:e.jsx("span",{children:"06:00"})}),e.jsx("div",{className:"hour",children:e.jsx("span",{children:"07:00"})}),e.jsx("div",{className:"hour",children:e.jsx("span",{children:"08:00"})}),e.jsx("div",{className:"hour",children:e.jsx("span",{children:"09:00"})}),e.jsx("div",{className:"hour",children:e.jsx("span",{children:"10:00"})}),e.jsx("div",{className:"hour",children:e.jsx("span",{children:"11:00"})}),e.jsx("div",{className:"hour",children:e.jsx("span",{children:"12:00"})}),e.jsx("div",{className:"hour",children:e.jsx("span",{children:"13:00"})}),e.jsx("div",{className:"hour",children:e.jsx("span",{children:"14:00"})}),e.jsx("div",{className:"hour",children:e.jsx("span",{children:"15:00"})}),e.jsx("div",{className:"hour",children:e.jsx("span",{children:"16:00"})}),e.jsx("div",{className:"hour",children:e.jsx("span",{children:"17:00"})}),e.jsx("div",{className:"hour",children:e.jsx("span",{children:"18:00"})}),e.jsx("div",{className:"hour",children:e.jsx("span",{children:"19:00"})}),e.jsx("div",{className:"hour",children:e.jsx("span",{children:"20:00"})}),e.jsx("div",{className:"hour",children:e.jsx("span",{children:"21:00"})}),e.jsx("div",{className:"hour",children:e.jsx("span",{children:"22:00"})}),e.jsx("div",{className:"hour",children:e.jsx("span",{children:"23:00"})})]}),e.jsx("div",{className:"report-days",children:u.map(w=>e.jsx(Ka,{date:w,events:i,focusBlocks:x?x.total.focus_blocks:[]},dt(w)))})]})]})]})};function q(t){return t.rescheduled_slot?C(t.rescheduled_slot.table.time):C(t.starts_at)}function Be(t){if(t.rescheduled_slot){const s=Ee(C(t.ends_at),C(t.starts_at));return Jt(C(t.rescheduled_slot.table.time),s)}return C(t.ends_at)}const Ka=({date:t,events:s,focusBlocks:a})=>e.jsxs("div",{className:"report-preview-day",children:[s.filter(r=>{const n=q(r),l=Be(r),o=$t(t);return n>=t&&n<o||l>t&&l<o||n<=t&&l>=o}).sort((r,n)=>r.remote_id>n.remote_id?1:-1).map(r=>e.jsx($a,{event:r,renderDate:t},r.remote_id)),a.filter(r=>qt(C(r.starts_at),t)).map(r=>e.jsx(qa,{focusBlock:r,renderDate:t},r.starts_at))]}),$a=({event:t,renderDate:s})=>{const a=Oe({startsAtLocal:G(q(t)),endsAtLocal:G(Be(t)),renderDateLocal:G(s),calendarHourHeight:30});return e.jsxs("div",{className:"report-preview-event",style:a,title:`Location: ${t.location}
Recurring: ${t.is_recurring}
Attendees: ${t.attendees&&t.attendees.map(r=>`${r.email} (${r.status})`).join(", ")}
Reschedulable: ${t.reschedulable}
Reason: ${t.reschedulable_reason}
Starts at: ${ee(q(t),"yyyy-MM-dd HH:mm:ss")}`,children:[e.jsx("div",{className:"event-color"}),t.title]})},qa=({focusBlock:t,renderDate:s})=>{const a=Oe({startsAtLocal:G(C(t.starts_at)),endsAtLocal:G(C(t.ends_at)),renderDateLocal:G(s),calendarHourHeight:30});return e.jsx("div",{className:"report-preview-event focus-block",style:a,title:`Focusblock. Duration: ${t.duration} mins`,children:" "})};Ja();sa();ut.setDelegate(mt);pt();document.body.style["-webkit-app-region"]="no-drag";const ge=document.getElementById("rise-app-container");if(ge)Pe(),ue(ge).render(e.jsx(Ya,{}));else{const t=document.getElementById("rise-report-preview-container");t&&ue(t).render(e.jsx(Va,{reportPre:JSON.parse(t.dataset.reportPre),analysisPre:JSON.parse(t.dataset.analysisPre),reportPost:JSON.parse(t.dataset.reportPost),analysisPost:JSON.parse(t.dataset.analysisPost)}))}function Ja(){Ae(()=>{g.client=me()?"desktop":"web",g.isMobileWeb=window.innerWidth<=640,me()&&(g.appVersion=Zt(),g.electronVersion=Xt(),g.appTodesktopBackendVersion=Qt()),g.isHydrated=!0})}
//# sourceMappingURL=main-DG9SwgkG.js.map
