var LP=Object.defineProperty;var o5=t=>{throw TypeError(t)};var BP=(t,e,n)=>e in t?LP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ie=(t,e,n)=>BP(t,typeof e!="symbol"?e+"":e,n),l5=(t,e,n)=>e.has(t)||o5("Cannot "+n);var H=(t,e,n)=>(l5(t,e,"read from private field"),n?n.call(t):e.get(t)),B=(t,e,n)=>e.has(t)?o5("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),V=(t,e,n,s)=>(l5(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n);import{j as r,a2 as FP,b as K,a3 as fm,a4 as re,a5 as HP,a6 as W1,a7 as mp,a8 as VP,a9 as WP,aa as hn,V as ot,ab as c5,ac as ar,ad as $P,w as en,ae as bs,Q as fe,af as UP,ag as GP,ah as pp,ai as ws,aj as Yt,X as Ie,ak as e0,al as Cs,am as Pe,P as Et,U as Re,an as Zs,ao as En,ap as hr,a1 as rt,aq as J6,ar as zP,as as ne,at as Q6,au as Y,av as q6,H as os,aw as KP,f as ek,ax as tk,t as U,g as Mt,A as Sr,l as on,ay as ZP,az as nk,aA as rk,aB as sk,aC as YP,aD as ik,aE as t0,L as ak,aF as XP,aG as ri,aH as JP,aI as QP,aJ as qP,aK as eL,aL as tL,aM as nL,aN as rL,W as Ve,aO as Ur,aP as ok,aQ as sL,aR as $1,aS as n0,aT as bb,aU as Xr,s as Ge,aV as kn,aW as U1,aX as iL,aY as aL,aZ as oL,a_ as ys,a$ as gp,b0 as yb,b1 as wt,b2 as lL,b3 as lk,b4 as ck,b5 as cL,b6 as uL,b7 as dL,b8 as hL,b9 as fL,ba as mL,bb as pL,bc as gL,bd as bL,be as yL,bf as vL,bg as xL,bh as jL,bi as SL,bj as AL,bk as EL,bl as DL,bm as wL,bn as CL,bo as TL,bp as NL,bq as kL,br as _L,bs as OL,bt as IL,bu as ML,bv as RL,bw as PL,bx as LL,by as BL,bz as FL,bA as uk,bB as HL,bC as VL,bD as or,bE as WL,bF as $L,C as xe,I as dk,bG as G1,bH as mm,bI as hk,bJ as Ee,bK as vb,bL as vi,bM as xb,bN as vs,bO as Ar,bP as tn,bQ as UL,bR as fr,bS as hs,bT as r0,bU as u5,bV as GL,bW as Gn,bX as Xt,bY as ep,bZ as tp,b_ as Ys,b$ as jb,c0 as Sb,c1 as zL,c2 as KL,c3 as Jn,c4 as ZL,c5 as fk,x as mk,c6 as YL,c7 as XL,p as it,o as X,c8 as JL,c9 as QL,ca as qL,cb as d5,cc as e9,q as z1,a as pm,v as pk,cd as t9,ce as n9,cf as r9,cg as Ab,ch as s9,ci as i9,cj as a9,ck as o9,cl as gk,cm as l9,cn as bk,co as yk,cp as Eb,cq as xs,cr as c9,cs as u9,ct as d9,cu as h9,cv as vk,n as xk,cw as Db,cx as f9,cy as m9,cz as p9,cA as jk,cB as Sk,cC as gm,cD as g9,cE as s0,cF as i0,cG as Ak,cH as b9,cI as Ek,cJ as Dk,cK as y9,cL as v9,cM as x9,cN as np,cO as bp,cP as wb,cQ as h5,cR as j9,cS as S9,cT as A9,cU as E9,cV as D9,cW as w9,cX as C9,cY as T9,cZ as N9,c_ as k9,c$ as _9,d0 as O9,d1 as I9,d2 as ss,d3 as Rr,d4 as is,d5 as Cb,d6 as M9,d7 as R9,d8 as wk,d9 as yp,da as P9,db as L9,dc as B9,dd as F9,de as f5,df as H9,dg as V9,dh as W9,di as $9,dj as U9,dk as G9,dl as z9,dm as K9,dn as Z9,dp as Y9,dq as X9,dr as J9,ds as Q9,dt as q9,du as eB,dv as tB,dw as nB,dx as rB,dy as sB,dz as Dt,dA as K1,dB as Ck,dC as iB,O as aB,dD as oB,dE as lB,dF as cB,dG as m5,dH as Tk,dI as uB,dJ as dB,dK as hB,dL as fB,dM as mB,dN as pB,dO as bm,dP as a0,dQ as Z1,dR as xi,dS as si,dT as ii,dU as Nk,dV as gB,dW as p5,dX as bB,dY as kk,dZ as yB,d_ as vB,d$ as Y0,e0 as xB,e1 as g5,e2 as jB,e3 as SB,e4 as X0,e5 as AB,e6 as EB,e7 as DB,e8 as b5,e9 as Tb,ea as y5,eb as v5,ec as wB,ed as CB,ee as TB,ef as NB,eg as _k,eh as kB,ei as _B,ej as OB,ek as IB,el as MB,em as RB,en as PB,eo as LB,ep as BB}from"./vendor-DlGVmQ0L.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function St(t){return r.jsx("svg",{...HB,...t})}function me(t){return r.jsx("svg",{...VB,...t})}function FB(t){return r.jsx("svg",{...WB,...t})}const HB=Y1(12),VB=Y1(16),WB=Y1(24);function Y1(t){return{viewBox:`0 0 ${t} ${t}`,width:t,height:t,preserveAspectRatio:"xMidYMid meet",fill:"currentColor","aria-hidden":!0}}function Ok(t){return r.jsx(me,{...t,children:r.jsx("path",{d:"M13.75 13.75c.41 0 .75-.34.75-.75v-2.5a3.75 3.75 0 0 0-3.75-3.75H4.06L6 5.06A.75.75 0 0 0 4.94 4L1.72 6.97c-.3.3-.3.77 0 1.06L4.94 11A.75.75 0 1 0 6 9.94L4.06 8.25h6.69c1.24 0 2.25 1 2.25 2.25V13c0 .41.34.75.75.75Z"})})}const Ae=FP({override:{classGroups:{shadow:[{shadow:["100","200","300","400","500","100-focus","200-focus"]}]}}}),$B={colors:{primary:{30:"rgb(var(--primary-30, 240 241 255))",50:"rgb(var(--primary-50, 229 230 255))",100:"rgb(var(--primary-100, 217 219 255))",200:"rgb(var(--primary-200, 203 204 255))",300:"rgb(var(--primary-300, 183 184 254))",500:"rgb(var(--primary-500, 157 155 247))",600:"rgb(var(--primary-600, 113 97 236))",700:"rgb(var(--primary-700, 101 87 212))",800:"rgb(var(--primary-800, 93 77 202))",900:"rgb(var(--primary-900, 44 37 101))",950:"rgb(var(--primary-950, 4 0 30))","30-static":"#F0F1FF","50-static":"#E5E6FF","100-static":"#D9DBFF","200-static":"#CBCCFF","300-static":"#B7B8FE","500-static":"#9D9BF7","600-static":"#7161EC","700-static":"#6557D4","800-static":"#5D4DCA","900-static":"#2C2565","950-static":"#04001e",DEFAULT:"rgb(var(--primary, 113 97 236))"},"base-bg":{DEFAULT:"rgb(var(--base-bg, 252 252 254))",elevated:"rgb(var(--base-bg-elevated, 255 255 255))","elevated-static":"#ffffff"},gray:{30:"rgb(var(--gray-30, 252 252 254))",50:"rgb(var(--gray-50, 248 249 253))",100:"rgb(var(--gray-100, 239 240 246))",200:"rgb(var(--gray-200, 230 232 240))",300:"rgb(var(--gray-300, 222 224 234))",400:"rgb(var(--gray-400, 214 217 228))",500:"rgb(var(--gray-500, 203 206 220))",600:"rgb(var(--gray-600, 183 187 205))",700:"rgb(var(--gray-700, 108 111 125))",800:"rgb(var(--gray-800, 95 98 111))",900:"rgb(var(--gray-900, 97 100 114))",950:"rgb(var(--gray-950, 30 32 41))","30-static":"#FCFCFE","50-static":"#F8F9FD","100-static":"#EFF0F6","200-static":"#E6E8F0","300-static":"#DEE0EA","400-static":"#D6D9E4","500-static":"#CBCEDC","600-static":"#B7BBCD","700-static":"#6C6F7D","800-static":"#5F626F","900-static":"#616472","950-static":"#1E2029"}}},UB={theme:$B},{theme:Ik}=UB;function X1(t){return r.jsx(me,{...t,children:r.jsx("path",{d:"M7.03 12.53a.75.75 0 0 0 0-1.06L4.31 8.75h8.94a.75.75 0 0 0 0-1.5H4.31l2.72-2.72a.75.75 0 0 0-1.06-1.06l-4 4a.75.75 0 0 0 0 1.06l4 4a.75.75 0 0 0 1.06 0Z"})})}function vn({className:t,...e}){return r.jsx(X1,{...e,className:Ae("rotate-180",t)})}function GB({className:t,...e}){return r.jsx(X1,{...e,className:Ae("rotate-90",t)})}function zB({className:t,...e}){return r.jsx(X1,{...e,className:Ae("-rotate-90",t)})}function J1(t){return r.jsx(me,{...t,children:r.jsx("path",{fillRule:"evenodd",d:"M2.5 5A2.5 2.5 0 0 1 5 2.5h1A.75.75 0 0 0 6 1H5a4 4 0 0 0-4 4v6a4 4 0 0 0 4 4h6a4 4 0 0 0 4-4v-1a.75.75 0 0 0-1.5 0v1a2.5 2.5 0 0 1-2.5 2.5H5A2.5 2.5 0 0 1 2.5 11V5Zm11.751 1.745a.75.75 0 0 1-.75-.75V3.564L7.708 9.357c-.373.373-.913.438-1.206.145-.293-.293-.228-.833.145-1.206l5.795-5.794h-2.433a.75.75 0 1 1 0-1.5h4.242a.75.75 0 0 1 .75.75v4.243a.75.75 0 0 1-.75.75Z",clipRule:"evenodd"})})}function KB(t){return r.jsx(St,{...t,children:r.jsx("path",{fillRule:"evenodd",d:"M6.005 9.755a3.744 3.744 0 0 0 3.14-1.697.625.625 0 0 1 1.046.687 4.994 4.994 0 0 1-4.186 2.26c-1.98 0-3.691-1.15-4.503-2.817l-.196.41A.625.625 0 1 1 .178 8.06l.825-1.73a.634.634 0 0 1 .38-.391.623.623 0 0 1 .558.06l1.73.825a.625.625 0 1 1-.539 1.128l-.46-.22a3.755 3.755 0 0 0 3.333 2.023Zm5.527-6.649a.625.625 0 0 1 .295.834l-.825 1.73a.623.623 0 0 1-.381.392.623.623 0 0 1-.558-.06l-1.729-.826a.625.625 0 1 1 .538-1.128l.46.22a3.755 3.755 0 0 0-6.513-.264.625.625 0 1 1-1.058-.665A4.994 4.994 0 0 1 6 .995c1.98 0 3.69 1.15 4.502 2.818l.196-.412a.625.625 0 0 1 .833-.295Z",clipRule:"evenodd"})})}function ZB(t){return r.jsx(me,{...t,children:r.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M14.25 1.75V6m0-4.25H10m4.25 0L10 6M14.25 14.25V10m0 4.25H10m4.25 0L10 10M1.75 1.75V6m0-4.25H6m-4.25 0L6 6M1.75 14.25V10m0 4.25H6m-4.25 0L6 10"})})}function x5(t){return r.jsxs(me,{...t,fill:"none",children:[r.jsx("rect",{width:"3",height:"6",x:"1.5",y:"9",fill:"currentColor",rx:"1"}),r.jsx("rect",{width:"3",height:"10",x:"6.5",y:"5",fill:"currentColor",rx:"1"}),r.jsx("rect",{width:"3",height:"14",x:"11.5",y:"1",fill:"currentColor",rx:"1"})]})}function YB(t){return r.jsxs(me,{...t,fill:"none",children:[r.jsx("rect",{width:"3",height:"6",x:"1.5",y:"9",fill:"currentColor",rx:"1"}),r.jsx("rect",{width:"3",height:"10",x:"6.5",y:"5",fill:"currentColor",rx:"1"}),r.jsx("rect",{width:"3",height:"14",x:"11.5",y:"1",fill:"currentColor",fillOpacity:".2",rx:"1"})]})}function XB(t){return r.jsxs(me,{...t,fill:"none",children:[r.jsx("rect",{width:"3",height:"6",x:"1.5",y:"9",fill:"currentColor",rx:"1"}),r.jsx("rect",{width:"3",height:"10",x:"6.5",y:"5",fill:"currentColor",fillOpacity:".2",rx:"1"}),r.jsx("rect",{width:"3",height:"14",x:"11.5",y:"1",fill:"currentColor",fillOpacity:".2",rx:"1"})]})}function JB(t){return r.jsxs(me,{...t,fill:"none",children:[r.jsx("rect",{width:"3",height:"1.5",x:"1.5",y:"7.6",fill:"currentColor",rx:".8"}),r.jsx("rect",{width:"3",height:"1.5",x:"6.5",y:"7.6",fill:"currentColor",rx:".8"}),r.jsx("rect",{width:"3",height:"1.5",x:"11.5",y:"7.6",fill:"currentColor",rx:".8"})]})}function QB(t){return r.jsxs(me,{...t,children:[r.jsx("path",{fillRule:"evenodd",d:"M5.75 1a.75.75 0 0 1 .75.75V2h3v-.25a.75.75 0 0 1 1.5 0V2a4 4 0 0 1 4 4v5a4 4 0 0 1-4 4H5a4 4 0 0 1-4-4V6a4 4 0 0 1 4-4v-.25A.75.75 0 0 1 5.75 1ZM9.5 3.5v.25a.75.75 0 0 0 1.5 0V3.5A2.5 2.5 0 0 1 13.5 6v5a2.5 2.5 0 0 1-2.5 2.5H5A2.5 2.5 0 0 1 2.5 11V6A2.5 2.5 0 0 1 5 3.5v.25a.75.75 0 0 0 1.5 0V3.5h3Z",clipRule:"evenodd"}),r.jsx("path",{fillRule:"evenodd",d:"M5.25 6A.75.75 0 0 1 6 5.25h4a.75.75 0 0 1 .67 1.085l-3 6a.75.75 0 1 1-1.34-.67L8.785 6.75H6A.75.75 0 0 1 5.25 6Z",clipRule:"evenodd"})]})}function qB(t){return r.jsxs(me,{...t,children:[r.jsx("path",{d:"M5.75 1c.41 0 .75.34.75.75V2h3v-.25a.75.75 0 0 1 1.5 0V2h.13c.82 0 1.66.35 2.3.83.65.49 1.22 1.2 1.35 2.04a.75.75 0 0 1-1.49.22c-.04-.31-.3-.71-.76-1.06a2.49 2.49 0 0 0-1.4-.53H11v.25a.75.75 0 0 1-1.5 0V3.5h-3v.25a.75.75 0 0 1-1.5 0V3.5A2.5 2.5 0 0 0 2.5 6v5A2.5 2.5 0 0 0 5 13.5h.32a.75.75 0 0 1 0 1.5H5a4 4 0 0 1-4-4V6a4 4 0 0 1 4-4v-.25c0-.41.34-.75.75-.75Z"}),r.jsx("path",{d:"M10.72 12.72a.75.75 0 1 0 1.06 1.06l3-3c.3-.3.3-.77 0-1.06l-3-3a.75.75 0 1 0-1.06 1.06l1.72 1.72H6.5a.75.75 0 0 0 0 1.5h5.94l-1.72 1.72Z"})]})}function eF(t){return r.jsx(me,{fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",...t,children:r.jsx("path",{d:"M13 3.5H6.75a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2H13a2 2 0 0 0 2-2v-5a2 2 0 0 0-2-2ZM1.75 4v8"})})}function Mk(t){return r.jsx(me,{...t,children:r.jsx("path",{d:"M5.75 1c.41 0 .75.34.75.75V2h3v-.25a.75.75 0 0 1 1.5 0V2h.13c.82 0 1.66.35 2.3.83.65.49 1.22 1.2 1.35 2.04a.75.75 0 0 1-1.49.22c-.04-.31-.3-.71-.76-1.06a2.49 2.49 0 0 0-1.4-.53H11v.25a.75.75 0 0 1-1.5 0V3.5h-3v.25a.75.75 0 0 1-1.5 0V3.5A2.5 2.5 0 0 0 2.5 6v5A2.5 2.5 0 0 0 5 13.5h.32a.75.75 0 0 1 0 1.5H5a4 4 0 0 1-4-4V6a4 4 0 0 1 4-4v-.25c0-.41.34-.75.75-.75Zm9.35 7.7a.75.75 0 0 0-1.2-.9l-4.02 5.36-2.02-1.73a.75.75 0 1 0-.97 1.14l2.62 2.25a.75.75 0 0 0 1.09-.12l4.5-6Z"})})}function tF(t){return r.jsxs(me,{...t,children:[r.jsx("path",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeWidth:"1.5",d:"M14.251 7.02V6a3.25 3.25 0 0 0-3.25-3.25h-6A3.25 3.25 0 0 0 1.751 6v4.998a3.25 3.25 0 0 0 3.25 3.25H8"}),r.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.75 1a.75.75 0 0 1 .75.75v2a.75.75 0 0 1-1.5 0v-2A.75.75 0 0 1 5.75 1ZM10.25 1a.75.75 0 0 1 .75.75v2a.75.75 0 0 1-1.5 0v-2a.75.75 0 0 1 .75-.75ZM10.72 14.78a.75.75 0 0 1 0-1.06l2.47-2.47-2.47-2.47a.75.75 0 0 1 1.06-1.06l3 3a.75.75 0 0 1 0 1.06l-3 3a.75.75 0 0 1-1.06 0Z",clipRule:"evenodd"})]})}function nF(t){return r.jsxs(me,{...t,children:[r.jsx("path",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeWidth:"1.5",d:"M14.251 6.245v-.246a3.25 3.25 0 0 0-3.25-3.25h-6A3.25 3.25 0 0 0 1.751 6v4.999a3.25 3.25 0 0 0 3.25 3.25h.167"}),r.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.75 1a.75.75 0 0 1 .75.75v2a.75.75 0 0 1-1.5 0v-2A.75.75 0 0 1 5.75 1ZM10.25 1a.75.75 0 0 1 .75.75v2a.75.75 0 0 1-1.5 0v-2a.75.75 0 0 1 .75-.75ZM11.72 14.78a.75.75 0 0 1 0-1.06l2.47-2.47-2.47-2.47a.75.75 0 0 1 1.06-1.06l3 3a.75.75 0 0 1 0 1.06l-3 3a.75.75 0 0 1-1.06 0Z",clipRule:"evenodd"}),r.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.72 14.78a.75.75 0 0 1 0-1.06l2.47-2.47-2.47-2.47a.75.75 0 0 1 1.06-1.06l3 3a.75.75 0 0 1 0 1.06l-3 3a.75.75 0 0 1-1.06 0Z",clipRule:"evenodd"})]})}function ln(t){return r.jsx(me,{...t,children:r.jsx("path",{d:"M4 5.75c0-.41.34-.75.75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5A.75.75 0 0 1 4 5.75Z M1 6a4 4 0 0 1 4-4v-.25a.75.75 0 0 1 1.5 0V2h3v-.25a.75.75 0 0 1 1.5 0V2a4 4 0 0 1 4 4v5a4 4 0 0 1-4 4H5a4 4 0 0 1-4-4V6Zm4-2.5A2.5 2.5 0 0 0 2.5 6v5A2.5 2.5 0 0 0 5 13.5h6a2.5 2.5 0 0 0 2.5-2.5V6A2.5 2.5 0 0 0 11 3.5v.25a.75.75 0 0 1-1.5 0V3.5h-3v.25a.75.75 0 0 1-1.5 0V3.5Z M4 5.75c0-.41.34-.75.75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5A.75.75 0 0 1 4 5.75Z"})})}function rF(t){return r.jsx(me,{...t,children:r.jsx("path",{fillRule:"evenodd",d:"M6.5 1.75a.75.75 0 0 0-1.5 0V2a4 4 0 0 0-4 4v5a4 4 0 0 0 4 4h6a4 4 0 0 0 4-4V6a4 4 0 0 0-4-4v-.25a.75.75 0 0 0-1.5 0V2h-3v-.25Zm3 2V3.5h-3v.25a.75.75 0 0 1-1.5 0V3.5A2.5 2.5 0 0 0 2.5 6v5A2.5 2.5 0 0 0 5 13.5h6a2.5 2.5 0 0 0 2.5-2.5V6A2.5 2.5 0 0 0 11 3.5v.25a.75.75 0 0 1-1.5 0ZM5 5a1 1 0 1 0 0 2 1 1 0 0 0 0-2Zm6 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2ZM7 6a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm4 1.5a1 1 0 1 0 0 2 1 1 0 0 0 0-2Zm-7 1a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm4-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2Zm2 3.5a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm-5-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2Zm2 1a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z"})})}function sF(t){return r.jsxs(me,{...t,children:[r.jsx("path",{fillRule:"evenodd",d:"M5.75 1c.41 0 .75.34.75.75V2h3v-.25a.75.75 0 0 1 1.5 0V2a4 4 0 0 1 4 4v5a4 4 0 0 1-4 4H5a4 4 0 0 1-4-4V6a4 4 0 0 1 4-4v-.25c0-.41.34-.75.75-.75ZM9.5 3.5v.25a.75.75 0 0 0 1.5 0V3.5A2.5 2.5 0 0 1 13.5 6v5a2.5 2.5 0 0 1-2.5 2.5H5A2.5 2.5 0 0 1 2.5 11V6A2.5 2.5 0 0 1 5 3.5v.25a.75.75 0 0 0 1.5 0V3.5h3Z"}),r.jsx("rect",{width:"2",height:"6.5",x:"4",y:"5.5",rx:"1"}),r.jsx("rect",{width:"2",height:"6.5",x:"7",y:"5.5",rx:"1"}),r.jsx("rect",{width:"2",height:"6.5",x:"10",y:"5.5",rx:"1"})]})}function iF(t){return r.jsx(St,{...t,children:r.jsx("path",{fillRule:"evenodd",d:"M6 11a5 5 0 1 0-4.33-2.5l-.48 1.78c-.09.34.2.67.55.63l2.32-.3c.6.25 1.25.39 1.94.39ZM3.5 6.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM6.75 6a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm1.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z"})})}function aF(t){return r.jsx(me,{...t,children:r.jsx("path",{stroke:"currentColor",fill:"none",strokeWidth:"1.5",d:"m5.57 13.76-.19-.08-.2.03-2.8.36a.25.25 0 0 1-.27-.32l.55-2.06.08-.3-.15-.27a6.25 6.25 0 1 1 2.98 2.64Z"})})}function oF(t){return r.jsx(St,{...t,children:r.jsx("path",{d:"M6 11A5 5 0 1 0 6 1a5 5 0 0 0 0 10Zm1.512-6.849a.6.6 0 1 1 .977.698l-2.5 3.5a.6.6 0 0 1-.913.075l-1.5-1.5a.6.6 0 1 1 .849-.848l.999.999L7.512 4.15Z"})})}function o0(t){return r.jsx(me,{...t,children:r.jsx("path",{d:"M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0Zm-2.9-2.55a.75.75 0 1 0-1.2-.9l-1.5 2-2.52 3.36-1.142-.98-.875-.75a.75.75 0 1 0-.976 1.14l.875.75 1.75 1.5a.75.75 0 0 0 1.088-.12l3-4 1.5-2Z"})})}function Rk(t){return r.jsxs(St,{...t,children:[r.jsx("path",{d:"M6 9.8a3.8 3.8 0 1 1 0-7.6 3.8 3.8 0 0 1 0 7.6ZM6 11A5 5 0 1 0 6 1a5 5 0 0 0 0 10Z"}),r.jsx("path",{d:"M8.349 4.012a.6.6 0 0 0-.837.14L5.423 7.074l-.999-1a.6.6 0 0 0-.848.85l1.5 1.5a.6.6 0 0 0 .912-.076l2.5-3.5a.6.6 0 0 0-.14-.837Z"})]})}function Nb(t){return r.jsxs(me,{...t,children:[r.jsx("path",{d:"m7 11-.49.57a.75.75 0 0 0 1.09-.12L7 11Zm4.35-4.55a.75.75 0 1 0-1.2-.9l1.2.9ZM5.3 8.55a.75.75 0 1 0-.98 1.14l.98-1.13Zm2.3 2.9 3-4-1.2-.9-3 4 1.2.9Zm3-4 .75-1-1.2-.9-.75 1 1.2.9Zm-5.84 2.62 1.75 1.5.98-1.14-1.75-1.5-.98 1.14Zm-.44-.38.44.38.98-1.14-.44-.37-.98 1.13Z"}),r.jsx("path",{fillRule:"evenodd",d:"M8 13.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11ZM8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Z"})]})}function Ts(t){return r.jsx(me,{fill:"none",...t,children:r.jsx("path",{d:"M10.5 3.25L5.5 8.25L10.5 12.75",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}function l0({className:t,...e}){return r.jsx(Ts,{...e,className:Ae("rotate-180",t)})}function Q1({className:t,...e}){return r.jsx(Ts,{...e,className:Ae("rotate-90",t)})}function ym({className:t,...e}){return r.jsx(Ts,{...e,className:Ae("-rotate-90",t)})}function lF(t){return r.jsx(FB,{fill:"none",...t,children:r.jsx("path",{d:"M15.5 18.5L8.5 11.75L15.5 5.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}function iie({className:t,...e}){return r.jsx(lF,{...e,className:Ae("rotate-180",t)})}function cF(t){return r.jsx(St,{...t,children:r.jsx("path",{d:"M2.646 7.854a.5.5 0 0 0 .708 0L6 5.207l2.646 2.647a.5.5 0 1 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 0 0 0 .708Z"})})}function Pk(t){return r.jsx(me,{...t,children:r.jsx("svg",{width:"16",height:"16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm-.006-3h1.211V4H8.03L6.033 5.305V6.46l1.914-1.25h.047V12Z"})})})}function Lk(t){return r.jsx(me,{...t,children:r.jsx("svg",{width:"16",height:"16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm-2.604-3.875V12h5.266v-1.035H7.061v-.059l1.59-1.664A16.19 16.19 0 0 0 9.79 7.98c.274-.348.465-.665.574-.949.112-.284.168-.574.168-.87 0-.43-.108-.816-.324-1.157a2.258 2.258 0 0 0-.902-.813c-.383-.2-.826-.3-1.328-.3-.498 0-.942.101-1.333.304-.39.2-.697.483-.921.848-.224.365-.336.79-.336 1.277H6.54c0-.286.057-.536.172-.75.114-.213.279-.379.492-.496.214-.117.464-.176.75-.176.27 0 .514.054.73.16.217.105.387.255.512.45.125.193.188.422.188.687a1.6 1.6 0 0 1-.14.664 3.012 3.012 0 0 1-.427.66c-.187.23-.425.497-.714.801l-2.708 2.805Z"})})})}function Bk(t){return r.jsx(me,{...t,children:r.jsx("svg",{width:"16",height:"16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm-1.428-3.168c.422.185.901.277 1.438.277.547 0 1.032-.099 1.457-.296a2.5 2.5 0 0 0 1.004-.825c.247-.349.37-.743.367-1.183.003-.506-.143-.929-.438-1.27-.291-.341-.703-.552-1.234-.633V7.84c.417-.107.75-.317 1-.63.253-.312.378-.692.375-1.14a1.99 1.99 0 0 0-.305-1.086 2.19 2.19 0 0 0-.867-.793c-.372-.2-.815-.3-1.328-.3-.49 0-.935.092-1.336.277a2.475 2.475 0 0 0-.969.77c-.242.328-.37.708-.382 1.14H6.52c.01-.245.086-.454.227-.629.14-.177.323-.312.547-.406.226-.096.47-.145.73-.145.274 0 .51.053.711.157.203.104.36.248.47.433.111.183.167.397.167.645 0 .258-.064.483-.191.676a1.28 1.28 0 0 1-.532.445c-.224.107-.484.16-.78.16h-.677v.984h.676c.37 0 .685.059.945.176.263.117.463.279.598.485.138.203.207.438.207.707 0 .257-.069.485-.207.683-.138.196-.33.348-.574.457-.242.11-.52.164-.836.164-.287 0-.547-.047-.781-.14a1.427 1.427 0 0 1-.57-.399 1.057 1.057 0 0 1-.239-.617H5.186c.018.435.148.818.39 1.149.245.328.577.584.996.769Z"})})})}function Fk(t){return r.jsx(me,{...t,children:r.jsx("svg",{width:"16",height:"16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14ZM5.003 9.46v.977h3.793V12h1.152v-1.563h1.059V9.415H9.948V4H8.46L5.003 9.46Zm3.8-4.023h-.062L6.27 9.352v.062h2.535V5.438Z"})})})}function Hk(t){return r.jsx(me,{...t,children:r.jsx("svg",{width:"16",height:"16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm-1.32-3.172c.39.188.83.281 1.32.281.536 0 1.011-.116 1.425-.347.417-.235.742-.555.977-.961.237-.406.354-.869.351-1.387.003-.518-.106-.976-.328-1.375a2.449 2.449 0 0 0-2.203-1.297c-.297 0-.575.051-.836.153a1.865 1.865 0 0 0-.62.378h-.048l.254-2.238h3.395V4H5.968L5.52 8.031l1.106.164c.15-.135.348-.244.593-.328.245-.083.489-.125.73-.125.318.003.6.077.844.223.248.146.442.346.583.601.14.256.21.546.21.871 0 .32-.069.606-.207.856-.135.25-.322.447-.562.59a1.57 1.57 0 0 1-.816.21c-.386 0-.717-.11-.993-.331a1.172 1.172 0 0 1-.457-.848H5.378c.016.425.14.802.372 1.133a2.4 2.4 0 0 0 .93.781Z"})})})}function uF(t){return r.jsx(me,{...t,children:r.jsx("svg",{width:"16",height:"16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm-.989-3.086c.347.125.698.19 1.055.195.557.006 1.044-.112 1.46-.351.418-.242.74-.57.97-.985a2.79 2.79 0 0 0 .347-1.386c0-.51-.112-.964-.336-1.36a2.475 2.475 0 0 0-.902-.93 2.385 2.385 0 0 0-1.258-.34 2.392 2.392 0 0 0-1.476.505c-.2.159-.37.351-.508.578h-.059c.003-.909.167-1.619.492-2.13.329-.51.786-.765 1.371-.765.386 0 .698.106.938.317.24.21.4.483.48.816h1.192a2.601 2.601 0 0 0-.442-1.129c-.229-.33-.528-.59-.898-.777a2.769 2.769 0 0 0-1.27-.281c-.463 0-.881.097-1.253.293-.373.195-.69.48-.954.855-.263.372-.464.83-.605 1.371-.138.542-.207 1.162-.207 1.86 0 .737.083 1.351.25 1.843.17.492.394.884.676 1.176.281.292.593.5.937.625Zm1.875-1.047a1.526 1.526 0 0 1-.824.227c-.307 0-.583-.077-.828-.23a1.698 1.698 0 0 1-.781-1.45c0-.224.041-.436.125-.637.086-.203.203-.382.351-.539a1.56 1.56 0 0 1 1.16-.5c.305 0 .576.074.813.223.24.148.427.349.562.601.138.253.207.533.207.84 0 .315-.07.6-.21.856-.141.255-.333.458-.575.61Z"})})})}function Vk(t){return r.jsxs(me,{fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",...t,children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("circle",{cx:"12",cy:"12",r:"6"}),r.jsx("circle",{cx:"12",cy:"12",r:"2"})]})}function Wk(t){return r.jsx(me,{...t,children:r.jsx("path",{fillRule:"evenodd",d:"M11.182 3.259a.75.75 0 0 1-.118 1.054L9.109 5.872a.75.75 0 0 1-.935-1.173l1.954-1.559a.75.75 0 0 1 1.054.119ZM7.242 1.75a.75.75 0 0 0-1.5 0v2.5a.75.75 0 1 0 1.5 0v-2.5Zm.812 5.45a1 1 0 0 0-1.15 1.37l2.49 5.745c.386.89 1.687.764 1.895-.184l.452-2.064a1 1 0 0 1 .596-.711l1.955-.804c.898-.37.796-1.672-.148-1.898L8.054 7.2Zm-4.516 4.205a.75.75 0 1 0 1.351.65l1.085-2.252a.75.75 0 0 0-1.351-.65l-1.085 2.252ZM.642 8.335a.75.75 0 0 1 .564-.898l2.438-.556a.75.75 0 0 1 .333 1.462L1.54 8.9a.75.75 0 0 1-.898-.564ZM2.855 3.14a.75.75 0 0 0-.936 1.173l1.955 1.559a.75.75 0 1 0 .935-1.173L2.855 3.14Z",clipRule:"evenodd"})})}function $k(t){return r.jsx(me,{...t,children:r.jsx("path",{d:"M2.5 8a5.5 5.5 0 0 1 9.907-3.291l-1.213-.214a.75.75 0 1 0-.26 1.477l2.461.434a1.25 1.25 0 0 0 1.448-1.014l.434-2.462a.75.75 0 0 0-1.477-.26l-.2 1.13a7 7 0 1 0 1.033 6.44.75.75 0 0 0-1.42-.48A5.5 5.5 0 0 1 2.5 8Zm7.53 2.03a.75.75 0 0 1-1.06 0l-1.5-1.5A.75.75 0 0 1 7.25 8V4.5a.75.75 0 0 1 1.5 0v3.19l1.28 1.28a.75.75 0 0 1 0 1.06Z"})})}function dF(t){return r.jsxs(me,{fill:"none",...t,children:[r.jsx("rect",{width:"12.5",height:"12.5",x:"1.75",y:"1.75",stroke:"currentColor",strokeWidth:"1.5",rx:"3.25"}),r.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M5 11.621 7.121 9.5M7.121 9.5 5 7.379"})]})}function vp(t){return r.jsx(me,{...t,children:r.jsx("path",{fillRule:"evenodd",d:"M13 3.5H3a.5.5 0 0 0-.5.5v6c0 .28.22.5.5.5h10a.5.5 0 0 0 .5-.5V4a.5.5 0 0 0-.5-.5ZM3 2a2 2 0 0 0-2 2v6c0 1.1.9 2 2 2h4.25v1.5h-2a.75.75 0 0 0 0 1.5h5.5a.75.75 0 0 0 0-1.5h-2V12H13a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H3Z"})})}function xn(t){return r.jsxs(me,{...t,children:[r.jsx("path",{d:"M4 2.5h5c.83 0 1.5.67 1.5 1.5H12a3 3 0 0 0-3-3H4a3 3 0 0 0-3 3v5a3 3 0 0 0 3 3v-1.5A1.5 1.5 0 0 1 2.5 9V4c0-.83.67-1.5 1.5-1.5Z"}),r.jsx("rect",{width:"9.5",height:"9.5",x:"4.75",y:"4.75",fill:"none",stroke:"currentColor",strokeWidth:"1.5",rx:"2.25"})]})}function hF(t){return r.jsx(St,{...t,children:r.jsx("path",{fillRule:"evenodd",d:"M1 3.045C1 1.915 1.916 1 3.045 1h3.41C7.585 1 8.5 1.916 8.5 3.045V3.5h.455c1.13 0 2.045.916 2.045 2.045v3.41C11 10.085 10.084 11 8.955 11h-3.41A2.045 2.045 0 0 1 3.5 8.955V8.5h-.455A2.045 2.045 0 0 1 1 6.455v-3.41ZM3.5 7.25V5.545c0-1.13.916-2.045 2.045-2.045H7.25V3a.75.75 0 0 0-.75-.75H3a.75.75 0 0 0-.75.75v3.5c0 .414.336.75.75.75h.5ZM4.75 5.5a.75.75 0 0 1 .75-.75H9a.75.75 0 0 1 .75.75V9a.75.75 0 0 1-.75.75H5.5A.75.75 0 0 1 4.75 9V5.5Z",clipRule:"evenodd"})})}function fF(t){return r.jsx(St,{...t,children:r.jsx("path",{fillRule:"evenodd",d:"M1.875 3.036v5.542H1a.5.5 0 0 0 0 1h1.29l3.478 1.204a1.188 1.188 0 0 0 1.576-1.123V3.047h1.562c.104 0 .188.084.188.187v5.844a.5.5 0 0 0 .5.5h1.375a.5.5 0 0 0 0-1h-.875V3.234c0-.657-.533-1.187-1.188-1.187H7.344v-.082c0-.816-.805-1.389-1.576-1.122L2.674 1.914a1.188 1.188 0 0 0-.799 1.122Zm3.958 2.412a.516.516 0 1 0-.729.73l.007.006a.516.516 0 1 0 .73-.73l-.008-.006Z"})})}function vm(t){return r.jsxs(me,{...t,children:[r.jsx("path",{d:"M2 3.96V12H.75a.75.75 0 1 0 0 1.5h1.87l5.06 1.75c1.13.4 2.32-.45 2.32-1.65V4h2.25c.14 0 .25.11.25.25v8.5c0 .41.34.75.75.75h2a.75.75 0 0 0 0-1.5H14V4.25c0-.97-.78-1.75-1.75-1.75H10v-.1C10 1.2 8.81.36 7.68.75l-4.5 1.56C2.48 2.55 2 3.2 2 3.96Zm6.17-1.8c.16-.05.33.07.33.24v11.2c0 .17-.17.29-.33.23L3.5 12.22V3.96c0-.1.07-.2.17-.23l4.5-1.56Z"}),r.jsx("path",{d:"M6.72 7.47c.3-.3.77-.3 1.06 0l.01.01a.75.75 0 0 1-1.06 1.06l-.01-.01a.75.75 0 0 1 0-1.06Z"})]})}function q1(t){return r.jsx(me,{...t,children:r.jsx("path",{d:"M10.47 6.97 8.75 8.69V1.75a.75.75 0 0 0-1.5 0v6.94L5.53 6.97a.75.75 0 0 0-1.06 1.06l3 3c.3.3.77.3 1.06 0l3-3a.75.75 0 0 0-1.06-1.06ZM2.5 11.5a.75.75 0 0 0-1.5 0v.75A2.75 2.75 0 0 0 3.75 15h8.5A2.75 2.75 0 0 0 15 12.25v-.75a.75.75 0 0 0-1.5 0v.75c0 .69-.56 1.25-1.25 1.25h-8.5c-.69 0-1.25-.56-1.25-1.25v-.75Z"})})}function Uk(t){return r.jsx(me,{...t,children:r.jsx("path",{fillRule:"evenodd",d:"M4 2.5h5c.83 0 1.5.67 1.5 1.5H7a3 3 0 0 0-3 3v3.5A1.5 1.5 0 0 1 2.5 9V4c0-.83.67-1.5 1.5-1.5ZM1 9a3 3 0 0 0 3 3 3 3 0 0 0 3 3h5a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3 3 3 0 0 0-3-3H4a3 3 0 0 0-3 3v5Zm11-3.5H7c-.83 0-1.5.67-1.5 1.5v5c0 .83.67 1.5 1.5 1.5h5c.83 0 1.5-.67 1.5-1.5V7c0-.83-.67-1.5-1.5-1.5ZM9.5 6.75c.41 0 .75.34.75.75v1.25h1.25a.75.75 0 0 1 0 1.5h-1.25v1.25a.75.75 0 0 1-1.5 0v-1.25H7.5a.75.75 0 0 1 0-1.5h1.25V7.5c0-.41.34-.75.75-.75Z"})})}function ex(t){return r.jsx(me,{...t,children:r.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M1.5 9h2.57a1.5 1.5 0 0 1 1.34.83l.18.34a1.5 1.5 0 0 0 1.34.83h2.14a1.5 1.5 0 0 0 1.34-.83l.18-.34A1.5 1.5 0 0 1 11.93 9h2.57m-13 .23V12A1.5 1.5 0 0 0 3 13.5h10a1.5 1.5 0 0 0 1.5-1.5V9.23c0-.15-.02-.3-.07-.45l-1.6-5.22a1.5 1.5 0 0 0-1.44-1.06H4.61a1.5 1.5 0 0 0-1.44 1.06l-1.6 5.22c-.05.15-.07.3-.07.45Z"})})}function mF(t){return r.jsx(me,{...t,children:r.jsx("path",{fillRule:"evenodd",d:"M3 2.5h3.5v4h-4V3c0-.3.2-.5.5-.5ZM3 1h10a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H8.1l-.1.1V13a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3c0-1.1.9-2 2-2Zm5 5.5v-4h5c.3 0 .5.2.5.5v3c0 .3-.2.5-.5.5H8ZM6.5 8.1V13c0 .3-.2.5-.5.5H3a.5.5 0 0 1-.5-.5V8h4v.1Zm8 4.4a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm1.5 0a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z"})})}function ji(t){const e="layers-filled-icon-16"+K.useId();return r.jsxs(me,{fill:"none",...t,children:[r.jsxs("g",{clipPath:`url(#${e})`,children:[r.jsx("path",{d:"M2.147 8.248c-1.372-.762-1.372-2.734 0-3.496L7.029 2.04a2 2 0 0 1 1.942 0l4.882 2.712c1.372.762 1.372 2.734 0 3.496L8.971 10.96a2 2 0 0 1-1.942 0L2.147 8.248Z",fill:"currentColor"}),r.jsx("path",{d:"m1.813 11.063.562.312L3.5 12l3.529 1.96a2 2 0 0 0 1.942 0L12.5 12l1.125-.625.563-.313",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]}),r.jsx("defs",{children:r.jsx("clipPath",{id:e,children:r.jsx("path",{fill:"#fff",d:"M0 0h16v16H0z"})})})]})}function xm(t){const e="layers-icon-16-"+K.useId();return r.jsxs(me,{fill:"none",...t,children:[r.jsxs("g",{clipPath:`url(#${e})`,stroke:"currentColor",strokeWidth:"1.5",children:[r.jsx("path",{d:"M2.511 7.593a1.25 1.25 0 0 1 0-2.186l4.882-2.712a1.25 1.25 0 0 1 1.214 0l4.882 2.712a1.25 1.25 0 0 1 0 2.186l-4.882 2.712a1.25 1.25 0 0 1-1.214 0L2.511 7.593Z"}),r.jsx("path",{d:"m1.813 11.063.562.312L3.5 12l3.529 1.96a2 2 0 0 0 1.942 0L12.5 12l1.125-.625.563-.313",strokeLinecap:"round"})]}),r.jsx("defs",{children:r.jsx("clipPath",{id:e,children:r.jsx("path",{fill:"#fff",d:"M0 0h16v16H0z"})})})]})}function tx(t){return r.jsx(me,{...t,children:r.jsx("path",{fillRule:"evenodd",d:"M3.58 12.42a2.25 2.25 0 0 1 0-3.183.75.75 0 1 0-1.06-1.06 3.75 3.75 0 1 0 5.303 5.303l2.121-2.121a3.751 3.751 0 0 0 .475-4.724c-.23-.345-.712-.342-1.005-.05-.293.294-.278.766-.097 1.139a2.25 2.25 0 0 1-.433 2.574l-2.122 2.121a2.25 2.25 0 0 1-3.182 0Zm8.84-8.84a2.25 2.25 0 0 1 0 3.183.75.75 0 1 0 1.06 1.06A3.75 3.75 0 1 0 8.177 2.52L6.056 4.64a3.751 3.751 0 0 0-.475 4.724c.23.345.712.342 1.005.05.293-.294.278-.766.097-1.14a2.251 2.251 0 0 1 .433-2.573L9.238 3.58a2.25 2.25 0 0 1 3.181 0Z",clipRule:"evenodd"})})}const Gk=t=>r.jsx("svg",{width:16,height:16,fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,viewBox:"0 0 16 16",...t,children:r.jsx("path",{d:"M2 6.66699H11.3333M2 4H14M2 12H11.3333M2 9.33301H14"})}),c0=t=>r.jsx("svg",{width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",...t,children:r.jsx("path",{d:"M7.03 12.53a.75.75 0 0 0 0-1.06L4.31 8.75h8.94a.75.75 0 0 0 0-1.5H4.31l2.72-2.72a.75.75 0 0 0-1.06-1.06l-4 4a.75.75 0 0 0 0 1.06l4 4a.75.75 0 0 0 1.06 0Z"})}),u0=t=>r.jsx("svg",{width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",...t,children:r.jsx("path",{d:"M2.25 8.75A.75.75 0 0 1 1.5 8V7a3.75 3.75 0 0 1 3.75-3.75h6.69l-1.22-1.22A.75.75 0 0 1 11.78.97l2.5 2.5c.3.3.3.77 0 1.06l-2.5 2.5a.75.75 0 1 1-1.06-1.06l1.22-1.22H5.25C4.01 4.75 3 5.75 3 7v1c0 .41-.34.75-.75.75Zm11.5-1.5c.41 0 .75.34.75.75v1a3.75 3.75 0 0 1-3.75 3.75H4.06l1.22 1.22a.75.75 0 1 1-1.06 1.06l-2.5-2.5a.75.75 0 0 1 0-1.06l2.5-2.5a.75.75 0 0 1 1.06 1.06l-1.22 1.22h6.69c1.24 0 2.25-1 2.25-2.25V8c0-.41.34-.75.75-.75Z"})}),nx=t=>r.jsx("svg",{width:16,height:16,fill:"none",...t,children:r.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6a4 4 0 1 0-8 0c0 4.7-2 6-2 6h12s-2-1.3-2-6ZM10 14c-.5 1-1.6 1-2 1-.4 0-1.5 0-2-1"})}),pF=t=>r.jsxs("svg",{width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",...t,children:[r.jsx("path",{fillRule:"evenodd",d:"M5.75 1c.41 0 .75.34.75.75V2h3v-.25a.75.75 0 0 1 1.5 0V2a4 4 0 0 1 4 4v5a4 4 0 0 1-4 4H5a4 4 0 0 1-4-4V6a4 4 0 0 1 4-4v-.25c0-.41.34-.75.75-.75ZM9.5 3.5v.25a.75.75 0 0 0 1.5 0V3.5A2.5 2.5 0 0 1 13.5 6v5a2.5 2.5 0 0 1-2.5 2.5H5A2.5 2.5 0 0 1 2.5 11V6A2.5 2.5 0 0 1 5 3.5v.25a.75.75 0 0 0 1.5 0V3.5h3Z"}),r.jsx("path",{d:"M5.81 7.3a.75.75 0 0 1 .39-.99l2.25-1A.75.75 0 0 1 9.5 6v5.54a.75.75 0 0 1-1.5 0V7.15l-1.2.54a.75.75 0 0 1-.99-.39Z"})]}),zk=t=>r.jsx("svg",{width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",...t,children:r.jsx("path",{fillRule:"evenodd",d:"M5.75 1c.41 0 .75.34.75.75V2h3v-.25a.75.75 0 0 1 1.5 0V2h.13c.82 0 1.66.35 2.3.83.65.49 1.22 1.2 1.35 2.04a.75.75 0 0 1-1.49.22c-.04-.31-.3-.71-.76-1.06a2.49 2.49 0 0 0-1.4-.53H11v.25a.75.75 0 0 1-1.5 0V3.5h-3v.25a.75.75 0 0 1-1.5 0V3.5A2.5 2.5 0 0 0 2.5 6v5A2.5 2.5 0 0 0 5 13.5h.32a.75.75 0 0 1 0 1.5H5a4 4 0 0 1-4-4V6a4 4 0 0 1 4-4v-.25c0-.41.34-.75.75-.75Zm1.75 9.5c0 .7.23 1.33.63 1.83l3.9-4.4A3 3 0 0 0 7.5 10.5Zm3 3a3 3 0 0 1-1.19-.24l3.78-4.27a3 3 0 0 1-2.6 4.5Zm0-7.5a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9Z"})}),gF=t=>r.jsxs("svg",{width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",...t,children:[r.jsx("path",{fillRule:"evenodd",d:"M5.75 1c.41 0 .75.34.75.75V2h3v-.25a.75.75 0 0 1 1.5 0V2a4 4 0 0 1 4 4v5a4 4 0 0 1-4 4H5a4 4 0 0 1-4-4V6a4 4 0 0 1 4-4v-.25c0-.41.34-.75.75-.75ZM9.5 3.5v.25a.75.75 0 0 0 1.5 0V3.5A2.5 2.5 0 0 1 13.5 6v5a2.5 2.5 0 0 1-2.5 2.5H5A2.5 2.5 0 0 1 2.5 11V6A2.5 2.5 0 0 1 5 3.5v.25a.75.75 0 0 0 1.5 0V3.5h3Z"}),r.jsx("rect",{width:2,height:6.5,x:10,y:5.5,rx:1})]}),bF=t=>r.jsx("svg",{width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",...t,children:r.jsx("path",{fillRule:"evenodd",d:"M5.75 1c.41 0 .75.34.75.75V2h3v-.25a.75.75 0 0 1 1.5 0V2a4 4 0 0 1 4 4v5a4 4 0 0 1-4 4H5a4 4 0 0 1-4-4V6a4 4 0 0 1 4-4v-.25c0-.41.34-.75.75-.75ZM9.5 3.5v.25a.75.75 0 0 0 1.5 0V3.5A2.5 2.5 0 0 1 13.5 6v5a2.5 2.5 0 0 1-2.5 2.5H5A2.5 2.5 0 0 1 2.5 11V6A2.5 2.5 0 0 1 5 3.5v.25a.75.75 0 0 0 1.5 0V3.5h3Zm-4.33 8.33a.75.75 0 0 1 0-1.06L6.94 9 5.17 7.23a.75.75 0 0 1 1.06-1.06L8 7.94l1.77-1.77a.75.75 0 0 1 1.06 1.06L9.06 9l1.77 1.77a.75.75 0 0 1-1.06 1.06L8 10.06l-1.77 1.77c-.3.3-.77.3-1.06 0Z"})}),Kk=t=>r.jsx("svg",{width:14,height:14,fill:"currentColor",viewBox:"0 0 14 14",...t,children:r.jsx("path",{fillRule:"evenodd",d:"M0 0h14v14H0V0Zm10.95 3.4a.75.75 0 0 1 .15 1.05l-4.5 6a.75.75 0 0 1-1.088.12L2.887 8.32a.75.75 0 1 1 .976-1.14L5.88 8.91 9.9 3.55a.75.75 0 0 1 1.05-.15Z"})}),Zk=t=>r.jsx("svg",{width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",...t,children:r.jsx("path",{fillRule:"evenodd",d:"M2.5 5.75C2.5 3.95507 3.95507 2.5 5.75 2.5H7.99926C8.41348 2.5 8.74926 2.16421 8.74926 1.75C8.74926 1.33579 8.41348 1 7.99926 1H5.75C3.12665 1 1 3.12664 1 5.75V10.2485C1 12.8719 3.12664 14.9985 5.75 14.9985H10.2485C12.8719 14.9985 14.9985 12.8719 14.9985 10.2485V7.99926C14.9985 7.58505 14.6627 7.24926 14.2485 7.24926C13.8343 7.24926 13.4985 7.58505 13.4985 7.99926V10.2485C13.4985 12.0435 12.0435 13.4985 10.2485 13.4985H5.75C3.95507 13.4985 2.5 12.0435 2.5 10.2485V5.75ZM13.964 3.0817C14.2064 2.74584 14.1307 2.27705 13.7948 2.03462C13.4589 1.7922 12.9901 1.86794 12.7477 2.2038L7.59566 9.34156L4.92715 6.96492C4.61783 6.68943 4.14375 6.71685 3.86826 7.02617C3.59277 7.33549 3.6202 7.80958 3.92952 8.08506L7.21861 11.0144C7.37711 11.1556 7.58801 11.223 7.799 11.1999C8.00999 11.1768 8.20133 11.0654 8.32555 10.8933L13.964 3.0817Z",clipRule:"evenodd"})}),yt=t=>r.jsx("svg",{width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",...t,children:r.jsx("path",{d:"M3.99 8.43A.75.75 0 1 0 3 9.57l1-1.14Zm9.61-3.98a.75.75 0 1 0-1.2-.9l1.2.9ZM7 12l-.49.57a.75.75 0 0 0 1.09-.12L7 12ZM3.01 9.57l3.5 3 .98-1.14-3.5-3L3 9.57Zm4.59 2.88 6-8-1.2-.9-6 8 1.2.9Z"})}),yF=t=>r.jsxs("svg",{width:12,height:12,fill:"none",viewBox:"0 0 12 12",...t,children:[r.jsx("path",{fill:"currentColor",d:"M6 11A5 5 0 1 1 6 1a5 5 0 0 1 0 10Zm0-1.2a3.8 3.8 0 1 0 0-7.6 3.8 3.8 0 0 0 0 7.6Z"}),r.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.424 7.424a.6.6 0 0 1-.848 0l-1-1A.6.6 0 0 1 5.4 6V3.5a.6.6 0 0 1 1.2 0v2.251l.824.825a.6.6 0 0 1 0 .848Z",clipRule:"evenodd"})]}),mr=t=>r.jsxs("svg",{width:16,height:16,fill:"none",viewBox:"0 0 16 16",...t,children:[r.jsx("circle",{cx:8,cy:8,r:6.25,stroke:"currentColor",strokeWidth:1.5}),r.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 4.5V8l1.5 1.5"})]}),Yk=t=>r.jsx("svg",{width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",...t,children:r.jsx("path",{d:"M7.4697 9.4697a.75.75 0 0 1 1.0606 0l3 3a.75.75 0 0 1 0 1.0606.75.75 0 0 1-1.0606 0L8 11.0607l-2.4697 2.4696a.75.75 0 0 1-1.0606-1.0606l3-3ZM8 6.75a.75.75 0 0 1-.5303-.2197l-3-3a.75.75 0 0 1 1.0606-1.0606L8 4.9393l2.4697-2.4696a.75.75 0 0 1 1.0606 1.0607l-3 3A.75.75 0 0 1 8 6.75Z"})}),kb=t=>r.jsx("svg",{width:16,height:16,fill:"none",stroke:"currentColor",viewBox:"0 0 16 16",...t,children:r.jsx("path",{strokeWidth:1.25,d:"M2 4.93333V2.4C2 2.17909 2.17909 2 2.4 2H6.26667C6.48758 2 6.66667 2.17909 6.66667 2.4V4.93333C6.66667 5.15425 6.48758 5.33333 6.26667 5.33333H2.4C2.17909 5.33333 2 5.15425 2 4.93333ZM9.33337 13.6V11.0666C9.33337 10.8457 9.51244 10.6666 9.73337 10.6666H13.6C13.821 10.6666 14 10.8457 14 11.0666V13.6C14 13.8209 13.821 14 13.6 14H9.73337C9.51244 14 9.33337 13.8209 9.33337 13.6ZM9.33337 8.26667V2.4C9.33337 2.17909 9.51244 2 9.73337 2H13.6C13.821 2 14 2.17909 14 2.4V8.26667C14 8.4876 13.821 8.66667 13.6 8.66667H9.73337C9.51244 8.66667 9.33337 8.4876 9.33337 8.26667ZM2 13.6V7.73337C2 7.51244 2.17909 7.33337 2.4 7.33337H6.26667C6.48758 7.33337 6.66667 7.51244 6.66667 7.73337V13.6C6.66667 13.821 6.48758 14 6.26667 14H2.4C2.17909 14 2 13.821 2 13.6Z"})}),Xk=t=>r.jsx("svg",{width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",...t,children:r.jsx("path",{d:"M7.4697 2.4697a.75.75 0 0 1 1.0606 0l3 3a.75.75 0 0 1-1.0606 1.0606L8 4.0607 5.5303 6.5303a.75.75 0 0 1-1.0606-1.0606l3-3Zm1.0606 11.0606a.75.75 0 0 1-1.0606 0l-3-3a.75.75 0 1 1 1.0606-1.0606L8 11.9393l2.4697-2.4696a.75.75 0 1 1 1.0606 1.0606l-3 3Z"})}),vF=t=>r.jsx("svg",{width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",...t,children:r.jsx("path",{fillRule:"evenodd",d:"M2.04 8c.041.082.101.188.182.317.195.312.492.717.877 1.145.777.864 1.866 1.766 3.153 2.226a.75.75 0 0 1-.504 1.412c-1.601-.572-2.887-1.66-3.763-2.634-.441-.49-.79-.964-1.034-1.353a4.965 4.965 0 0 1-.296-.533 2.18 2.18 0 0 1-.097-.244A1.104 1.104 0 0 1 .5 8c0-.167.049-.314.076-.39.035-.096.08-.197.13-.296.102-.2.243-.436.417-.69.348-.51.851-1.13 1.486-1.731C3.867 3.702 5.73 2.5 8 2.5s4.133 1.202 5.39 2.393a10.95 10.95 0 0 1 1.487 1.73c.174.255.315.49.416.69.05.1.096.2.13.297.028.076.077.223.077.39a.75.75 0 0 1-1.493.105 1.415 1.415 0 0 0-.052-.114 4.85 4.85 0 0 0-.316-.521 9.461 9.461 0 0 0-1.28-1.488C11.242 4.923 9.73 4 8 4s-3.242.923-4.36 1.982A9.458 9.458 0 0 0 2.362 7.47a4.844 4.844 0 0 0-.316.52L2.041 8Zm-.057.132Zm12.034 0-.003-.01.003.01ZM1.986 7.877v-.001a.075.075 0 0 1 0 .001ZM10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM9 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm1 3.25a.75.75 0 0 0 0 1.5h5a.75.75 0 0 0 0-1.5h-5Z"})}),xF=t=>r.jsx("svg",{width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",...t,children:r.jsx("path",{fillRule:"evenodd",d:"M2.22 8.32A3.91 3.91 0 0 1 2.04 8a9.46 9.46 0 0 1 1.6-2 6.5 6.5 0 0 1 4.36-2 6.5 6.5 0 0 1 4.36 1.98A9.46 9.46 0 0 1 13.96 8l.05.11A.75.75 0 0 0 15.5 8c0-.17-.05-.31-.08-.39a6.3 6.3 0 0 0-.55-.99c-.34-.5-.84-1.13-1.48-1.73C12.13 3.7 10.27 2.5 8 2.5c-2.27 0-4.13 1.2-5.4 2.4A10.96 10.96 0 0 0 .7 7.3l-.12.3C.55 7.69.5 7.83.5 8c0 .14.04.27.06.34a4.97 4.97 0 0 0 .4.78c.23.38.58.86 1.02 1.35a9.56 9.56 0 0 0 3.77 2.63.75.75 0 0 0 .5-1.41A8.07 8.07 0 0 1 3.1 9.46a8.58 8.58 0 0 1-.88-1.14Zm-.24-.19Zm12.04 0ZM1.99 7.88c0-.01 0-.01 0 0ZM8 10.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM8 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm4-.25c.41 0 .75.34.75.75v1.75h1.75a.75.75 0 0 1 0 1.5h-1.75v1.75a.75.75 0 0 1-1.5 0v-1.75H9.5a.75.75 0 0 1 0-1.5h1.75V9.5c0-.41.34-.75.75-.75Z"})}),jF=t=>r.jsx("svg",{width:16,height:16,fill:"none",viewBox:"0 0 16 16",...t,children:r.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m3.333 10 .634-6.97a.4.4 0 0 1 .398-.363h9.197a.4.4 0 0 1 .399.436l-.594 6.533a.4.4 0 0 1-.399.364H3.333Zm0 0-.4 4"})}),SF=t=>r.jsx("svg",{width:12,height:12,fill:"none",viewBox:"0 0 12 12",...t,children:r.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.286,d:"M1.125 7.125V6.75C1.125 6.45163 1.24353 6.16548 1.4545 5.9545C1.66548 5.74353 1.95163 5.625 2.25 5.625H9.75C10.0484 5.625 10.3345 5.74353 10.5455 5.9545C10.7565 6.16548 10.875 6.45163 10.875 6.75V7.125M6.53025 3.15525L5.46975 2.09475C5.32913 1.95409 5.1384 1.87504 4.9395 1.875H2.25C1.95163 1.875 1.66548 1.99353 1.4545 2.2045C1.24353 2.41548 1.125 2.70163 1.125 3V9C1.125 9.29837 1.24353 9.58452 1.4545 9.7955C1.66548 10.0065 1.95163 10.125 2.25 10.125H9.75C10.0484 10.125 10.3345 10.0065 10.5455 9.7955C10.7565 9.58452 10.875 9.29837 10.875 9V4.5C10.875 4.20163 10.7565 3.91548 10.5455 3.7045C10.3345 3.49353 10.0484 3.375 9.75 3.375H7.0605C6.86175 3.375 6.6705 3.2955 6.53025 3.15525Z"})}),Ut=t=>r.jsx("svg",{width:16,height:16,fill:"none",viewBox:"0 0 16 16",...t,children:r.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M1.5 9.5V9A1.5 1.5 0 0 1 3 7.5h10A1.5 1.5 0 0 1 14.5 9v.5M8.707 4.207 7.293 2.793a1 1 0 0 0-.707-.293H3A1.5 1.5 0 0 0 1.5 4v8A1.5 1.5 0 0 0 3 13.5h10a1.5 1.5 0 0 0 1.5-1.5V6A1.5 1.5 0 0 0 13 4.5H9.414c-.265 0-.52-.106-.707-.293Z"})}),Jk=t=>r.jsx("svg",{width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",...t,children:r.jsx("path",{fillRule:"evenodd",d:"M8 2.56 3.75 6.81v6.44h2v-3.5c0-.83.67-1.5 1.5-1.5h1.5v1.5h-1.5v3.5h1.5v-5c.83 0 1.5.67 1.5 1.5v3.5h2V6.81L8 2.56Zm5.53 3.4L9.06 1.5a1.5 1.5 0 0 0-2.12 0L.97 7.47a.75.75 0 1 0 1.06 1.06l.22-.22v4.94c0 .83.67 1.5 1.5 1.5h8.5c.83 0 1.5-.67 1.5-1.5V8.31l.22.22a.75.75 0 1 0 1.06-1.06l-1.5-1.5Z"})}),xp=t=>r.jsx("svg",{width:16,height:16,fill:"none",viewBox:"0 0 16 16",...t,children:r.jsx("path",{stroke:"currentColor",strokeWidth:1.5,d:"M1.75 10V6C1.75 5.30964 2.30964 4.75 3 4.75H11.1716C11.5031 4.75 11.821 4.8817 12.0555 5.11612L14.0555 7.11612C14.5436 7.60427 14.5436 8.39573 14.0555 8.88388L12.0555 10.8839C11.821 11.1183 11.5031 11.25 11.1716 11.25H3C2.30964 11.25 1.75 10.6904 1.75 10Z"})}),AF=t=>r.jsxs("svg",{width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",...t,children:[r.jsx("path",{d:"M1 3.75A2.75 2.75 0 0 1 3.75 1H6.5A2.5 2.5 0 0 1 9 3.5a.75.75 0 0 1-1.5 0 1 1 0 0 0-1-1H3.75c-.69 0-1.25.56-1.25 1.25v8.5c0 .69.56 1.25 1.25 1.25H6.5a1 1 0 0 0 1-1 .75.75 0 0 1 1.5 0A2.5 2.5 0 0 1 6.5 15H3.75A2.75 2.75 0 0 1 1 12.25v-8.5Z"}),r.jsx("path",{d:"M9.97 5.53a.75.75 0 0 1 1.06-1.06l3 3c.3.3.3.77 0 1.06l-3 3a.75.75 0 1 1-1.06-1.06l1.72-1.72H5.75a.75.75 0 0 1 0-1.5h5.94L9.97 5.53Z"})]}),EF=t=>r.jsx("svg",{width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",...t,children:r.jsx("path",{d:"M3.56 8.7 8.9 1.25c.32-.45 1.03-.12.9.42L8.5 6.5h3.53c.4 0 .64.46.4.8L7.1 14.75c-.32.45-1.03.12-.9-.42L7.5 9.5H3.97a.5.5 0 0 1-.4-.8Z"})}),DF=t=>r.jsx("svg",{width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",...t,children:r.jsx("path",{d:"M2.104 4.225a7 7 0 0 0 9.67 9.67l-1.092-1.092a5.5 5.5 0 0 1-7.485-7.485L2.104 4.225Zm10.7 6.457 1.092 1.093a7 7 0 0 0-9.67-9.67l1.092 1.092a5.5 5.5 0 0 1 7.485 7.485Z"})}),Tn=t=>r.jsxs("svg",{width:16,height:16,fill:"none",stroke:"currentColor",strokeWidth:1.5,viewBox:"0 0 16 16",...t,children:[r.jsx("rect",{width:12.5,height:10.5,x:1.75,y:2.75,rx:2.25}),r.jsx("path",{d:"m2 5.25 4.94 3.09a2 2 0 0 0 2.12 0L14 5.25"})]}),Ot=t=>r.jsx("svg",{width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",...t,children:r.jsx("path",{d:"M9 4a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm0 4a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm-1 5a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"})}),wF=t=>r.jsx("svg",{width:16,height:16,fill:"none",viewBox:"0 0 16 16",...t,children:r.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:1.5,d:"M2.50001 3.70001V3.70001C2.8219 3.41031 3.23963 3.25001 3.67269 3.25001H8.25001C9.35458 3.25001 10.25 4.14544 10.25 5.25001V6.00001V6.50001M10.25 12.1929V9.50001M10.25 6.50001V8.00001V9.50001M10.25 6.50001L13.4347 3.91243C13.7615 3.64694 14.25 3.87947 14.25 4.30049V11.6995C14.25 12.1205 13.7615 12.3531 13.4347 12.0876L10.25 9.50001M1.75001 8.00001V10.75C1.75001 11.8546 2.64544 12.75 3.75001 12.75H6.00001M1 3.04163L11.0014 13.0418"})}),_b=t=>r.jsx("svg",{width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",...t,children:r.jsx("path",{fillRule:"evenodd",d:"M10 3.66V13a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5V3.66a.5.5 0 0 1 .4-.5l3.26-.62a.5.5 0 0 1 .18 0l3.25.62c.24.05.41.25.41.5Zm1.5 2.94V3.66a2 2 0 0 0-1.63-1.97l-3.25-.62a2 2 0 0 0-.74 0l-3.25.62A2 2 0 0 0 1 3.66V13c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V8.68a1 1 0 0 0-.63-.93L11.5 6.6Zm0 1.62v5.28H13a.5.5 0 0 0 .5-.5V9.02l-2-.8Zm-3-.72H7V9h1.5V7.5ZM4 7.5h1.5V9H4V7.5Zm1.5-3H4V6h1.5V4.5Zm1.5 0h1.5V6H7V4.5Zm-1.5 6H4V12h1.5v-1.5Zm1.5 0h1.5V12H7v-1.5Z"})}),CF=t=>r.jsxs("svg",{width:16,height:16,fill:"none",viewBox:"0 0 16 16",...t,children:[r.jsx("rect",{width:12.5,height:11.5,x:2.35,y:2.75,stroke:"currentColor",strokeWidth:1.5,rx:3.25}),r.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6.35 1.75v2"}),r.jsx("path",{fill:"currentColor",d:"M5.77 11.83a.75.75 0 0 1 0-1.06l4.6-4.6a.75.75 0 0 1 1.06 1.06l-4.6 4.6c-.3.3-.77.3-1.06 0Z"}),r.jsx("path",{fill:"currentColor",d:"M11.43 11.83c-.3.3-.77.3-1.06 0l-4.6-4.6a.75.75 0 1 1 1.06-1.06l4.6 4.6c.3.3.3.77 0 1.06Z"}),r.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M10.85 1.75v2"})]}),Qk=t=>r.jsxs("svg",{width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",...t,children:[r.jsx("path",{fillRule:"evenodd",d:"M11.93 8.99c.39-.8.57-1.48.57-1.99a4.5 4.5 0 1 0-9 0c0 .51.18 1.2.57 1.99a12.87 12.87 0 0 0 3.28 4.04c.27.2.48.34.64.42H8c.16-.08.37-.21.64-.42a12.09 12.09 0 0 0 3.28-4.05ZM8 15c1.5 0 6-4.69 6-8A6 6 0 0 0 2 7c0 3.31 4.5 8 6 8Z"}),r.jsx("path",{d:"M9 6a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"})]}),Xe=t=>r.jsx("svg",{width:16,height:16,fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.25,viewBox:"0 0 24 24",...t,children:r.jsx("path",{d:"M5 12h14M12 5v14"})}),pr=t=>r.jsx("svg",{width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",...t,children:r.jsx("path",{fillRule:"evenodd",d:"M5.5 1.75a.75.75 0 0 0-1.5 0v2.364a2.501 2.501 0 0 0 0 4.772v5.364a.75.75 0 0 0 1.5 0V8.886a2.501 2.501 0 0 0 0-4.772V1.75ZM4.75 7.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2ZM12 1.75a.75.75 0 0 0-1.5 0v5.364a2.501 2.501 0 0 0 0 4.772v2.364a.75.75 0 0 0 1.5 0v-2.364a2.501 2.501 0 0 0 0-4.772V1.75Zm-.75 8.75a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"})}),TF=t=>r.jsx("svg",{width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",...t,children:r.jsx("path",{fillRule:"evenodd",d:"M3 2.5h3c.28 0 .5.22.5.5v8.5a2 2 0 1 1-4 0V3c0-.28.22-.5.5-.5ZM1 3c0-1.1.9-2 2-2h3a2 2 0 0 1 2 2v8.5a3.49 3.49 0 0 0 0 0v-.67l4.88-4.88-2.83-2.83L8 5.17V3.05l1.19-1.19a1.22 1.22 0 0 1 1.72 0l3.23 3.23c.47.47.47 1.25 0 1.72L12.94 8h.84c.68 0 1.22.55 1.22 1.22v4.56c0 .68-.54 1.22-1.22 1.22H4.5A3.5 3.5 0 0 1 1 11.5V3Zm12.5 10.5H7.44c.05-.04.1-.08.13-.13l3.88-3.87h2.05v4Zm-9-1.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z"})}),NF=t=>r.jsx("svg",{width:14,height:14,fill:"none",viewBox:"0 0 14 14",...t,children:r.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M1.5 7C1.5 3.96243 3.96243 1.5 7 1.5C10.0376 1.5 12.5 3.96243 12.5 7C12.5 10.0376 10.0376 12.5 7 12.5C3.96243 12.5 1.5 10.0376 1.5 7ZM7 0.5C3.41015 0.5 0.5 3.41015 0.5 7C0.5 10.5899 3.41015 13.5 7 13.5C10.5899 13.5 13.5 10.5899 13.5 7C13.5 3.41015 10.5899 0.5 7 0.5ZM5.3638 4.657C5.17437 4.45608 4.85793 4.44676 4.657 4.6362C4.45608 4.82563 4.44676 5.14207 4.6362 5.343L6.19843 7.00001L4.6362 8.657C4.44676 8.85793 4.45608 9.17437 4.657 9.3638C4.85792 9.55324 5.17437 9.54392 5.3638 9.343L6.88561 7.72888L8.40741 9.343C8.59684 9.54392 8.91329 9.55324 9.11421 9.3638C9.31513 9.17437 9.32445 8.85793 9.13502 8.657L7.57279 7.00001L9.13502 5.34299C9.32445 5.14207 9.31513 4.82562 9.11421 4.63619C8.91328 4.44676 8.59684 4.45608 8.40741 4.65701L6.88561 6.27114L5.3638 4.657Z",clipRule:"evenodd"})}),kF=t=>r.jsx("svg",{width:16,height:16,fill:"none",viewBox:"0 0 16 16",...t,children:r.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M1.75 8C1.75 4.54822 4.54822 1.75 8 1.75C11.4518 1.75 14.25 4.54822 14.25 8C14.25 11.4518 11.4518 14.25 8 14.25C4.54822 14.25 1.75 11.4518 1.75 8ZM8 0.25C3.71979 0.25 0.25 3.71979 0.25 8C0.25 12.2802 3.71979 15.75 8 15.75C12.2802 15.75 15.75 12.2802 15.75 8C15.75 3.71979 12.2802 0.25 8 0.25ZM6.44194 5.55806C6.19787 5.31398 5.80214 5.31398 5.55806 5.55806C5.31398 5.80213 5.31398 6.19786 5.55806 6.44194L7.11612 8.00001L5.55806 9.55806C5.31398 9.80213 5.31398 10.1979 5.55806 10.4419C5.80213 10.686 6.19786 10.686 6.44194 10.4419L8 8.88389L9.55805 10.4419C9.80213 10.686 10.1979 10.686 10.4419 10.4419C10.686 10.1979 10.686 9.80214 10.4419 9.55806L8.88388 8.00001L10.4419 6.44194C10.686 6.19786 10.686 5.80213 10.4419 5.55806C10.1979 5.31398 9.80212 5.31398 9.55805 5.55806L8 7.11612L6.44194 5.55806Z",clipRule:"evenodd"})}),_F=t=>r.jsx("svg",{width:20,height:20,fill:"none",viewBox:"0 0 20 20",...t,children:r.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M1.75 10C1.75 5.44365 5.44365 1.75 10 1.75C14.5563 1.75 18.25 5.44365 18.25 10C18.25 14.5563 14.5563 18.25 10 18.25C5.44365 18.25 1.75 14.5563 1.75 10ZM10 0.25C4.61522 0.25 0.25 4.61522 0.25 10C0.25 15.3848 4.61522 19.75 10 19.75C15.3848 19.75 19.75 15.3848 19.75 10C19.75 4.61522 15.3848 0.25 10 0.25ZM7.53033 6.46967C7.23744 6.17678 6.76256 6.17678 6.46967 6.46967C6.17678 6.76256 6.17678 7.23744 6.46967 7.53033L8.93934 10L6.46967 12.4697C6.17678 12.7626 6.17678 13.2374 6.46967 13.5303C6.76256 13.8232 7.23743 13.8232 7.53033 13.5303L10 11.0607L12.4697 13.5303C12.7626 13.8232 13.2374 13.8232 13.5303 13.5303C13.8232 13.2374 13.8232 12.7626 13.5303 12.4697L11.0607 10L13.5303 7.53033C13.8232 7.23743 13.8232 6.76256 13.5303 6.46967C13.2374 6.17678 12.7625 6.17678 12.4697 6.46967L10 8.93935L7.53033 6.46967Z",clipRule:"evenodd"})}),OF=t=>r.jsx("svg",{width:14,height:14,fill:"none",viewBox:"0 0 14 14",...t,children:r.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M7 14C10.866 14 14 10.866 14 7C14 3.13401 10.866 0 7 0C3.13401 0 0 3.13401 0 7C0 10.866 3.13401 14 7 14ZM10.2101 5.25355C10.4054 5.05829 10.4054 4.74171 10.2101 4.54645C10.0149 4.35118 9.69827 4.35118 9.50301 4.54645L5.96768 8.08178L4.55355 6.66766C4.35829 6.4724 4.04171 6.4724 3.84645 6.66766C3.65118 6.86292 3.65118 7.1795 3.84645 7.37477L5.61412 9.14244C5.80939 9.3377 6.12597 9.3377 6.32123 9.14244L10.2101 5.25355Z",clipRule:"evenodd"})}),IF=t=>r.jsx("svg",{width:16,height:16,fill:"none",viewBox:"0 0 16 16",...t,children:r.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16ZM11.9066 6.44194C12.1507 6.19787 12.1507 5.80214 11.9066 5.55806C11.6625 5.31398 11.2668 5.31398 11.0227 5.55806L7.0202 9.56056L5.44194 7.9823C5.19786 7.73822 4.80213 7.73822 4.55805 7.9823C4.31398 8.22638 4.31398 8.62211 4.55805 8.86619L6.57826 10.8864C6.82233 11.1305 7.21806 11.1305 7.46214 10.8864L11.9066 6.44194Z",clipRule:"evenodd"})}),MF=t=>r.jsx("svg",{width:20,height:20,fill:"none",viewBox:"0 0 20 20",...t,children:r.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M10 20C15.5228 20 20 15.5228 20 10C20 4.47715 15.5228 0 10 0C4.47715 0 0 4.47715 0 10C0 15.5228 4.47715 20 10 20ZM14.6111 7.53033C14.904 7.23744 14.904 6.76257 14.6111 6.46967C14.3183 6.17678 13.8434 6.17678 13.5505 6.46967L8.52526 11.4949L6.53034 9.49998C6.23745 9.20708 5.76257 9.20708 5.46968 9.49998C5.17679 9.79287 5.17679 10.2677 5.46968 10.5606L7.99493 13.0859C8.28783 13.3788 8.7627 13.3788 9.05559 13.0859L14.6111 7.53033Z",clipRule:"evenodd"})}),RF=t=>r.jsx("svg",{width:14,height:14,fill:"none",viewBox:"0 0 14 14",...t,children:r.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M7 13V7V1C3.68629 1 1 3.68629 1 7C1 10.3137 3.68629 13 7 13ZM14 7C14 10.866 10.866 14 7 14C3.13401 14 0 10.866 0 7C0 3.13401 3.13401 0 7 0C10.866 0 14 3.13401 14 7Z",clipRule:"evenodd"})}),PF=t=>r.jsx("svg",{width:16,height:16,fill:"none",viewBox:"0 0 16 16",...t,children:r.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 14.75V8V1.25C4.27208 1.25 1.25 4.27208 1.25 8C1.25 11.7279 4.27208 14.75 8 14.75ZM16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8Z",clipRule:"evenodd"})}),LF=t=>r.jsx("svg",{width:20,height:20,fill:"none",viewBox:"0 0 20 20",...t,children:r.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M1.5 10.0003C1.5 5.30571 5.30571 1.5 10.0003 1.5L10.0003 10.5L10.0003 18.5006C5.30571 18.5006 1.5 14.6949 1.5 10.0003ZM10.0003 0C4.47728 0 0 4.47728 0 10.0003C0 15.5233 4.47728 20.0006 10.0003 20.0006C15.5233 20.0006 20.0006 15.5233 20.0006 10.0003C20.0006 4.47728 15.5233 0 10.0003 0Z",clipRule:"evenodd"})}),BF=t=>r.jsx("svg",{width:14,height:14,fill:"none",viewBox:"0 0 14 14",...t,children:r.jsx("circle",{cx:7,cy:7,r:6,stroke:"currentColor"})}),FF=t=>r.jsx("svg",{width:16,height:16,fill:"none",viewBox:"0 0 16 16",...t,children:r.jsx("circle",{cx:8,cy:8,r:7,stroke:"currentColor",strokeWidth:1.5})}),HF=t=>r.jsx("svg",{width:20,height:20,fill:"currentColor",viewBox:"0 0 20 20",...t,children:r.jsx("circle",{cx:10,cy:10,r:9,fill:"transparent",stroke:"currentColor",strokeWidth:2})}),lt=t=>r.jsx("svg",{width:16,height:16,fill:"none",viewBox:"0 0 16 16",...t,children:r.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m3.5 4 .87 8.9a1.5 1.5 0 0 0 1.5 1.35h4.27a1.5 1.5 0 0 0 1.5-1.35L12.5 4m-9 0H2m1.5 0h2m7 0H14m-1.5 0h-2m-5 0h5m-5 0v-.5A2.5 2.5 0 0 1 8 1v0a2.5 2.5 0 0 1 2.5 2.5V4"})}),Jt=t=>r.jsxs("svg",{width:16,height:16,fill:"none",viewBox:"0 0 16 16",...t,children:[r.jsx("circle",{cx:8,cy:4.5,r:2.75,stroke:"currentColor",strokeWidth:1.5}),r.jsx("path",{fill:"currentColor",d:"M8 14v-.75.75Zm-4.45-1.56A7.24 7.24 0 0 1 8 10.75v-1.5a8.7 8.7 0 0 0-5.38 2.02l.93 1.17ZM8 10.75c1.66 0 3.18.7 4.45 1.7l.93-1.18A8.73 8.73 0 0 0 8 9.25v1.5Zm-4 4h4v-1.5H4v1.5Zm8-1.5H8v1.5h4v-1.5Zm.45-.8c.12.09.16.18.18.24.01.06 0 .14-.03.22-.07.16-.27.34-.6.34v1.5c.9 0 1.65-.52 1.97-1.23.33-.74.17-1.65-.59-2.25l-.93 1.17Zm-9.83-1.18c-.76.6-.92 1.5-.6 2.25A2.12 2.12 0 0 0 4 14.75v-1.5c-.33 0-.53-.18-.6-.34a.35.35 0 0 1-.03-.22.44.44 0 0 1 .18-.25l-.93-1.17Z"})]}),d0=t=>r.jsxs("svg",{width:16,height:16,fill:"none",viewBox:"0 0 16 16",...t,children:[r.jsx("circle",{cx:5.5,cy:4.5,r:2.75,stroke:"currentColor",strokeWidth:1.5}),r.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:1.5,d:"M9.75 7.25a2.75 2.75 0 1 0 0-5.5M5.5 10c-1.784 0-3.038.708-4.077 1.702C.53 12.557 1.263 14 2.5 14h6c1.236 0 1.97-1.443 1.077-2.298C8.538 10.708 7.284 10 5.5 10ZM11.5 10.08c1.273.211 2.244.825 3.077 1.622.893.855.16 2.298-1.077 2.298h-1.25"})]}),Ns=t=>r.jsx("svg",{width:16,height:16,fill:"none",viewBox:"0 0 16 16",...t,children:r.jsx("path",{stroke:"currentColor",strokeWidth:1.5,d:"M10.25 6.5V8.00001V9.5M10.25 6.5V6.00001V5.25001C10.25 4.14544 9.35457 3.25001 8.25 3.25001H3.75C2.64543 3.25001 1.75 4.14544 1.75 5.25001V10.75C1.75 11.8546 2.64543 12.75 3.75 12.75H8.25C9.35457 12.75 10.25 11.8546 10.25 10.75V9.5M10.25 6.5L13.4347 3.91243C13.7615 3.64694 14.25 3.87947 14.25 4.30049V11.6995C14.25 12.1205 13.7615 12.3531 13.4347 12.0876L10.25 9.5"})});function Gr(t){return r.jsx(DF,{...t,className:Ae("animate-spin [animation-duration:2s]",t.className)})}function h0(t){return r.jsx(me,{...t,children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 1.5C9.38071 1.5 10.5 2.61929 10.5 4H5.5C5.5 2.61929 6.61929 1.5 8 1.5ZM8 0C5.79086 0 4 1.79086 4 4C2.34315 4 1 5.34315 1 7V12C1 13.6569 2.34315 15 4 15H12C13.6569 15 15 13.6569 15 12V7C15 5.34315 13.6569 4 12 4C12 1.79086 10.2091 0 8 0ZM4 5.5C3.17157 5.5 2.5 6.17157 2.5 7V12C2.5 12.8284 3.17157 13.5 4 13.5H12C12.8284 13.5 13.5 12.8284 13.5 12V7C13.5 6.17157 12.8284 5.5 12 5.5H4ZM11.1 8.00083C11.3485 7.66945 11.2813 7.19935 10.95 6.95083C10.6186 6.7023 10.1485 6.76945 9.89996 7.10083L6.88026 10.4604L5.86305 9.73138C5.54855 9.46182 5.07508 9.49824 4.80551 9.81273C4.53595 10.1272 4.57237 10.6007 4.88686 10.8703L6.51186 12.1203C6.66932 12.2552 6.87564 12.319 7.08179 12.2963C7.28794 12.2737 7.47552 12.1667 7.59996 12.0008L11.1 8.00083Z"})})}function VF(t){return r.jsx(St,{...t,children:r.jsx("path",{d:"M6 11A5 5 0 1 0 6 1a5 5 0 0 0 0 10Zm1.5-4a2.5 2.5 0 0 0 1.45-.46 3 3 0 1 1-3.49-3.5A2.5 2.5 0 0 0 7.5 7Z"})})}function jp(t){return r.jsx(me,{...t,children:r.jsx("path",{d:"m13.83 10.88.67.34.66-1.34-1.46.26.13.74Zm-8.71-8.7.74.12.26-1.46-1.34.66.34.67Zm8.58 7.96c-.4.07-.8.11-1.2.11v1.5c.5 0 .98-.04 1.46-.13l-.26-1.48Zm-1.2.11A6.75 6.75 0 0 1 5.75 3.5h-1.5c0 4.56 3.7 8.25 8.25 8.25v-1.5ZM5.75 3.5c0-.4.04-.8.1-1.2l-1.47-.26a8.3 8.3 0 0 0-.13 1.46h1.5ZM2.25 8c0-2.26 1.3-4.21 3.2-5.16L4.78 1.5A7.25 7.25 0 0 0 .75 8h1.5ZM8 13.75A5.75 5.75 0 0 1 2.25 8H.75C.75 12 4 15.25 8 15.25v-1.5Zm5.16-3.2A5.75 5.75 0 0 1 8 13.75v1.5a7.25 7.25 0 0 0 6.5-4.03l-1.34-.67Z"})})}function qk(t){return r.jsxs(me,{...t,children:[r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",stroke:"none",d:"M2.97 1.97a.75.75 0 0 1 1.06 0l.8.8A.752.752 0 0 1 5 2.75h8a2.75 2.75 0 0 1 2.75 2.75V11c0 .733-.35 1.385-.894 1.796l.174.174a.75.75 0 1 1-1.06 1.06l-1-1-10-10a.75.75 0 0 1 0-1.06Zm10.793 9.732L6.311 4.25H13c.69 0 1.25.56 1.25 1.25V11a.75.75 0 0 1-.487.703ZM4 7a.75.75 0 0 1 1.5 0v3.5c0 .69.56 1.25 1.25 1.25h3a.75.75 0 0 1 0 1.5h-3A2.75 2.75 0 0 1 4 10.5V7Z"}),r.jsx("path",{d:"M1.75 5v7",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}function f0(t){return r.jsx(me,{...t,children:r.jsx("path",{d:"M14.292 7.775 8.165 13.9a4.002 4.002 0 1 1-5.66-5.66l6.127-6.126a2.668 2.668 0 0 1 3.773 3.773l-6.133 6.127a1.335 1.335 0 0 1-1.887-1.887l5.66-5.653",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}function e_(t){return r.jsx(St,{...t,children:r.jsx("path",{d:"M6.625 2a.625.625 0 1 0-1.25 0v3.375H2a.625.625 0 1 0 0 1.25h3.375V10a.625.625 0 1 0 1.25 0V6.625H10a.625.625 0 1 0 0-1.25H6.625V2Z"})})}function t_(t){return r.jsx(me,{...t,children:r.jsx("path",{fillRule:"evenodd",d:"M11 2.5H5A2.5 2.5 0 0 0 2.5 5v6A2.5 2.5 0 0 0 5 13.5h6a2.5 2.5 0 0 0 2.5-2.5V5A2.5 2.5 0 0 0 11 2.5ZM5 1a4 4 0 0 0-4 4v6a4 4 0 0 0 4 4h6a4 4 0 0 0 4-4V5a4 4 0 0 0-4-4H5Zm3.75 4a.75.75 0 0 0-1.5 0v2.25H5a.75.75 0 0 0 0 1.5h2.25V11a.75.75 0 0 0 1.5 0V8.75H11a.75.75 0 0 0 0-1.5H8.75V5Z"})})}function n_(t){return r.jsx(St,{...t,children:r.jsx("path",{d:"M6 11A5 5 0 1 1 6 1a5 5 0 0 1 0 10Zm0-1a4 4 0 1 0 0-8 4 4 0 0 0 0 8Zm.6-1.4a.6.6 0 1 1-1.2 0 .6.6 0 0 1 1.2 0Zm-.084-4.532a.762.762 0 0 1 .403.36c.05.11.063.25-.045.435a.94.94 0 0 1-.244.259c-.06.048-.126.094-.204.15l-.023.015a7.232 7.232 0 0 0-.226.163 2.092 2.092 0 0 0-.532.56c-.162.262-.251.57-.251.933a.6.6 0 0 0 1.2 0 .54.54 0 0 1 .071-.302.923.923 0 0 1 .238-.236 7.39 7.39 0 0 1 .19-.136l.022-.016c.078-.054.168-.118.258-.189.18-.142.383-.33.538-.596.3-.516.313-1.064.101-1.534-.203-.45-.59-.784-1.024-.97-.548-.234-1.183-.17-1.684.025-.491.19-1.019.574-1.2 1.16a.6.6 0 1 0 1.146.355c.03-.099.177-.276.488-.397.302-.117.598-.116.778-.04Z"})})}function r_(t){return r.jsx(me,{...t,children:r.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 13.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11ZM8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm1.027-9.411c-.508-.485-1.015-.496-1.453-.322-.512.203-.896.65-1.002.99a.75.75 0 0 1-1.432-.448c.254-.811.99-1.583 1.881-1.936.955-.379 2.124-.289 3.104.691a.748.748 0 0 1 .068.08c.355.47.562.95.592 1.439.03.497-.129.92-.36 1.256-.417.61-1.116.992-1.477 1.188l-.02.011c-.087.048-.133.119-.16.223a.622.622 0 0 0-.01.042l.17-2.038c.106-.087.194-.177.26-.273a.486.486 0 0 0 .1-.318c-.007-.11-.056-.301-.261-.585Zm-.098 1.176a4.691 4.691 0 0 1-.72.457 1.818 1.818 0 0 0-.893 1.161 2.173 2.173 0 0 0-.065.661l.002.018v.012L8 9l-.746.075a.75.75 0 0 0 1.493-.137l.012-.135.17-2.038Zm-.17 2.038a.686.686 0 0 0-.012.134l.012-.134Zm.17-2.038.098-1.176-.098 1.176ZM8.75 11.48a.75.75 0 0 0-1.5 0v.02a.75.75 0 0 0 1.5 0v-.02Z",clipRule:"evenodd"})})}function wn(t){return r.jsx(St,{...t,children:r.jsx("path",{d:"M11 6A5 5 0 1 1 1 6a5 5 0 0 1 10 0ZM6.516 4.068a.762.762 0 0 1 .403.36c.05.11.063.25-.045.435a.94.94 0 0 1-.244.259c-.06.048-.126.094-.204.15l-.023.015a8.07 8.07 0 0 0-.226.163 2.092 2.092 0 0 0-.532.56c-.162.262-.25.57-.25.933a.6.6 0 1 0 1.2 0 .54.54 0 0 1 .07-.302.923.923 0 0 1 .238-.236 7.39 7.39 0 0 1 .19-.136l.022-.016a5.75 5.75 0 0 0 .258-.189c.18-.142.383-.33.538-.596.3-.516.314-1.064.101-1.534-.203-.45-.59-.784-1.024-.97-.548-.234-1.183-.17-1.684.025-.491.19-1.019.574-1.2 1.16a.6.6 0 1 0 1.146.355c.03-.099.177-.276.488-.397.302-.117.599-.116.778-.04ZM6 9.2A.6.6 0 1 0 6 8a.6.6 0 0 0 0 1.2Z"})})}function WF(t){const e=`rise-logo${K.useId()}`;return r.jsxs("svg",{viewBox:"0 0 116 116",preserveAspectRatio:"xMidYMid meet",width:"116",height:"116",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[r.jsx("path",{d:"M7.7 79.1c-2.7 0-4.5 2.7-3.2 5.1C14.8 103.2 34.9 116 58 116s43.2-12.9 53.5-31.8c1.3-2.4-.5-5.1-3.2-5.1H7.7Z",fill:`url(#${e}-a)`}),r.jsx("path",{d:"M63.976 0H52.024c-3.233 0-5.78 2.645-5.78 5.78v19.105c0 1.764-2.058 2.547-3.332 1.372l-13.52-13.52c-2.253-2.254-5.976-2.254-8.23 0l-8.425 8.425c-2.254 2.254-2.254 5.977 0 8.23l13.52 13.52c1.175 1.176.392 3.331-1.372 3.331H5.78c-3.233 0-5.78 2.645-5.78 5.78v11.953c0 3.233 2.645 5.78 5.78 5.78h22.24c.98 0 1.96-.391 2.744-1.077l24.493-24.395c1.47-1.47 3.919-1.47 5.486 0l24.494 24.395c.685.686 1.665 1.078 2.743 1.078h22.24c3.233 0 5.78-2.645 5.78-5.78V52.023c0-3.233-2.645-5.78-5.78-5.78H91.115c-1.764 0-2.547-2.058-1.372-3.332l13.521-13.52c2.253-2.253 2.253-5.976 0-8.23l-8.426-8.425c-2.254-2.254-5.976-2.254-8.23 0l-13.52 13.52c-1.176 1.175-3.331.392-3.331-1.372V5.78c0-3.135-2.645-5.78-5.78-5.78Z",fill:`url(#${e}-b)`}),r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:`${e}-a`,x1:"57.993",y1:"118.049",x2:"57.993",y2:"79.469",gradientUnits:"userSpaceOnUse",children:[r.jsx("stop",{stopColor:"#767DF9"}),r.jsx("stop",{offset:".496",stopColor:"#7161EC"}),r.jsx("stop",{offset:"1",stopColor:"#5730E3"})]}),r.jsxs("linearGradient",{id:`${e}-b`,x1:"57.992",y1:".033",x2:"57.992",y2:"69.791",gradientUnits:"userSpaceOnUse",children:[r.jsx("stop",{stopColor:"#FF7557"}),r.jsx("stop",{offset:"1",stopColor:"#FFAF66"})]})]})]})}function $F(t){return r.jsx(me,{...t,children:r.jsx("path",{d:"m4.235 9.168 2.224 2.223 4.811-2.52a4.716 4.716 0 0 0 2.493-3.603l.403-3.282a.47.47 0 0 0-.526-.525l-3.282.402a4.716 4.716 0 0 0-3.602 2.494l-2.52 4.811Zm0 0-2.779-.556s1.112-3.334 4.447-2.778m4.13 4.13c.556 3.334-2.78 4.446-2.78 4.446l-.555-2.779m-4.647 0c-.376.972-.039 1.984-.039 1.984s.938.312 1.876 0",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}function js(t){return r.jsx(me,{...t,children:r.jsx("path",{d:"M9.884 9.712a4 4 0 1 1 .031-.023L9.9 9.7l-.015.011Zm.062 1.715 2.83 3.762a1 1 0 0 0 1.598-1.202l-2.829-3.76a5.5 5.5 0 1 0-1.6 1.201Z"})})}function UF(t){return r.jsx(me,{...t,children:r.jsx("path",{d:"M11.53 6.03c-.3.3-.77.3-1.06 0L8.75 4.31v5.94a.75.75 0 0 1-1.5 0V4.31L5.53 6.03a.75.75 0 0 1-1.06-1.06l3-3c.3-.3.77-.3 1.06 0l3 3c.3.3.3.77 0 1.06ZM2.5 11.5a.75.75 0 0 0-1.5 0v.75A2.75 2.75 0 0 0 3.75 15h8.5A2.75 2.75 0 0 0 15 12.25v-.75a.75.75 0 0 0-1.5 0v.75c0 .69-.56 1.25-1.25 1.25h-8.5c-.69 0-1.25-.56-1.25-1.25v-.75Z"})})}function s_(t){return r.jsx(me,{...t,children:r.jsx("path",{fillRule:"evenodd",d:"M8.29 1.897a1.334 1.334 0 0 0-.579 0L2.605 3.033a.664.664 0 0 0-.516.742L3.334 12.5c.047.33.334 2.333 4.667 2.333s4.62-2.003 4.667-2.333l1.246-8.724a.664.664 0 0 0-.508-.74m-.008-.003L8.29 1.897ZM8 3.37v9.963c-1.954 0-2.702-.453-2.952-.671-.21-.185-.225-.335-.228-.367v-.007L3.681 4.33 8 3.37Z",clipRule:"evenodd"})})}function i_(t){return r.jsxs(me,{...t,children:[r.jsx("path",{fillRule:"evenodd",d:"M11 3.5H5A2.5 2.5 0 0 0 2.5 6v5A2.5 2.5 0 0 0 5 13.5h6a2.5 2.5 0 0 0 2.5-2.5V6A2.5 2.5 0 0 0 11 3.5ZM5 2a4 4 0 0 0-4 4v5a4 4 0 0 0 4 4h6a4 4 0 0 0 4-4V6a4 4 0 0 0-4-4H5Z"}),r.jsx("path",{d:"M3.5 6.5c0-1.1.9-2 2-2h1a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1h-1a2 2 0 0 1-2-2v-4Z"})]})}function rx(t){return r.jsxs(me,{...t,shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",viewBox:"0 0 16 16",children:[r.jsx("style",{children:`
                    @property --small-scale {
                        syntax: '<number>';
                        initial-value: 0;
                        inherits: true;
                    }
                    @property --small-rotation {
                        syntax: '<angle>';
                        initial-value: 0deg;
                        inherits: true;
                    }
                    @property --big-scale {
                        syntax: '<number>';
                        initial-value: 0;
                        inherits: true;
                    }
                    @property --big-rotation {
                        syntax: '<angle>';
                        initial-value: 0deg;
                        inherits: true;
                    }

                    #animation_layer {
                        --small-rotation: 0deg;
                        --small-scale: 1;
                        --big-rotation: 30deg;
                        --big-scale: 1;
                        animation: sparkle_animation 5000ms cubic-bezier(0.56, 0, 0.44, 1) infinite normal forwards;
                    }

                    #small_outer {
                        transform: translate(3.89447px, 3.948705px) rotate(var(--small-rotation));
                    }
                    #small_inner {
                        transform: scale(var(--small-scale));
                    }
                    #big_outer {
                        transform: translate(9.122275px, 8.99741px) rotate(var(--big-rotation));
                    }
                    #big_inner {
                        transform: scale(var(--big-scale));
                    }

                    @keyframes sparkle_animation {
                        0% {
                            --small-rotation: 0deg;
                            --small-scale: 1;
                            --big-scale: 1;
                            --big-rotation: 0deg;
                        }
                        24% {
                            --small-rotation: 0deg;
                            --small-scale: 1;
                        }
                        26% {
                            --big-scale: 1;
                            --big-rotation: 0deg;
                        }
                        32% {
                            --small-scale: 0.3;
                        }
                        34% {
                            --big-scale: 0.5;
                        }
                        38% {
                            --small-scale: 0.3;
                        }
                        42% {
                            --big-scale: 1;
                            --big-rotation: 180deg;
                        }
                        46% {
                            --small-rotation: -180deg;
                            --small-scale: 1;
                        }
                        100% {
                            --small-rotation: -180deg;
                            --small-scale: 1;
                            --big-scale: 1;
                            --big-rotation: 180deg;
                        }
                    }
                `}),r.jsxs("g",{id:"animation_layer",children:[r.jsx("g",{id:"small_outer",transform:"translate(3.89447,3.948705) rotate(0)",children:r.jsx("g",{id:"small_inner",transform:"scale(1,1)",children:r.jsx("path",{d:"M3.89802,6.89741c.18468,0,.33384-.13782.35515-.32643.2415-1.8715.26991-1.89326,2.22324-2.2487.18468-.03627.31253-.18135.31253-.36995s-.13496-.34093-.31963-.36995c-1.92492-.26114-1.97464-.31191-2.21614-2.24145C4.23186,1.14508,4.0898,1,3.89802,1s-.34094.14508-.36225.34819C3.31558,3.21244,3.26586,3.2342,1.31253,3.58238C1.12785,3.61865,1,3.76373,1,3.95233c0,.19586.12785.33368.35515.36995c1.8965.2829,1.96043.35544,2.18062,2.2342.02131.20311.17047.34093.36225.34093Z",transform:"translate(-3.89447,-3.948705)"})})}),r.jsx("g",{id:"big_outer",transform:"translate(9.122275,8.99741) rotate(0)",children:r.jsx("g",{id:"big_inner",transform:"scale(1,1)",children:r.jsx("path",{d:"M9.12582,15c.32674,0,.58245-.2394.63927-.5876.52561-3.7865,1.04411-4.3378,4.63821-4.75126.3481-.04352.5967-.31917.5967-.66736c0-.33368-.2415-.60932-.5895-.6601-3.5871-.48601-4.0417-.96477-4.64541-4.7513-.06392-.34818-.31963-.58756-.63927-.58756-.33384,0-.58954.23938-.64637.58756-.52562,3.78653-1.04414,4.33783-4.63825,4.7513-.34805.04352-.59665.31917-.59665.6601s.2415.60933.58954.66736c3.58702.50776,4.03451.96476,4.64536,4.75126.06393.3482.31964.5876.64637.5876Z",transform:"translate(-9.122275,-8.99741)"})})})]})]})}function jm(t){return r.jsx(me,{...t,children:r.jsx("path",{d:"M3.9 6.9c.18 0 .33-.14.35-.33.24-1.87.27-1.9 2.23-2.25a.37.37 0 0 0 .3-.37.37.37 0 0 0-.31-.37c-1.93-.26-1.98-.31-2.22-2.24C4.23 1.14 4.1 1 3.9 1c-.2 0-.34.15-.36.35-.22 1.86-.27 1.88-2.23 2.23a.37.37 0 0 0-.31.37c0 .2.13.34.36.37 1.9.29 1.96.36 2.18 2.24.02.2.17.34.36.34ZM9.13 15c.32 0 .58-.24.64-.59.52-3.78 1.04-4.34 4.63-4.75.35-.04.6-.32.6-.67 0-.33-.24-.6-.59-.66-3.59-.48-4.04-.96-4.64-4.75C9.7 3.23 9.45 3 9.13 3c-.34 0-.6.24-.65.6-.53 3.78-1.04 4.33-4.64 4.74a.66.66 0 0 0-.6.66c0 .34.25.61.6.67 3.58.5 4.03.97 4.64 4.75.06.35.32.59.65.59Z"})})}function Ob(t){return r.jsx(me,{...t,children:r.jsx("path",{d:"M6.72 2.02a1.35 1.35 0 0 1 2.56 0l1.06 3.26h3.42c1.31 0 1.85 1.67.8 2.44l-2.77 2.01 1.05 3.25a1.35 1.35 0 0 1-2.07 1.51L8 12.5l-2.77 2A1.35 1.35 0 0 1 3.15 13l1.06-3.26-2.77-2.01a1.35 1.35 0 0 1 .8-2.44h3.42l1.06-3.26Zm1.28.9-.95 2.93c-.18.55-.7.93-1.28.93H2.7l2.48 1.8c.48.35.67.95.5 1.51l-.96 2.92 2.49-1.8a1.35 1.35 0 0 1 1.58 0l2.49 1.8-.95-2.92c-.18-.56.01-1.16.49-1.5l2.48-1.81h-3.07c-.58 0-1.1-.38-1.28-.93L8 2.93Z"})})}function j5(t){return r.jsx(me,{...t,children:r.jsx("path",{d:"M6.72 2.02a1.35 1.35 0 0 1 2.56 0l1.06 3.26h3.42c1.31 0 1.85 1.67.8 2.44l-2.77 2.01 1.05 3.25a1.35 1.35 0 0 1-2.07 1.51L8 12.5l-2.77 2A1.35 1.35 0 0 1 3.15 13l1.06-3.26-2.77-2.01a1.35 1.35 0 0 1 .8-2.44h3.42l1.06-3.26Z"})})}function Sp(t){return r.jsxs(me,{...t,children:[r.jsx("circle",{cx:"8",cy:"8",r:"3.25",stroke:"currentColor",fill:"none",strokeWidth:"1.5"}),r.jsx("rect",{width:"2",height:"3",x:"7",rx:"1"}),r.jsx("rect",{width:"2",height:"3",x:"12.95",y:"1.64",rx:"1",transform:"rotate(45 12.95 1.64)"}),r.jsx("rect",{width:"2",height:"3",x:"16",y:"7",rx:"1",transform:"rotate(90 16 7)"}),r.jsx("rect",{width:"2",height:"3",x:"14.36",y:"12.95",rx:"1",transform:"rotate(135 14.36 12.95)"}),r.jsx("rect",{width:"2",height:"3",x:"9",y:"16",rx:"1",transform:"rotate(180 9 16)"}),r.jsx("rect",{width:"2",height:"3",x:"3.05",y:"14.36",rx:"1",transform:"rotate(-135 3.05 14.36)"}),r.jsx("rect",{width:"2",height:"3",y:"9",rx:"1",transform:"rotate(-90 0 9)"}),r.jsx("rect",{width:"2",height:"3",x:"1.64",y:"3.05",rx:"1",transform:"rotate(-45 1.64 3.05)"})]})}function GF(t){return r.jsx(St,{...t,children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 1a1 1 0 0 1 1-1h2a1 1 0 0 1 0 2H5a1 1 0 0 1-1-1Zm-.993.168A3.001 3.001 0 0 0 1 4v4a3 3 0 0 0 3 3h4a3 3 0 0 0 3-3V4a3.001 3.001 0 0 0-2.007-2.832A2 2 0 0 1 7 3H5a2 2 0 0 1-1.993-1.832Zm4.505 2.983a.6.6 0 1 1 .977.698l-2.5 3.5a.6.6 0 0 1-.913.075l-1.5-1.5a.6.6 0 1 1 .849-.848l.999.999L7.512 4.15Z"})})}function zF(t){return r.jsx(me,{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",viewBox:"0 0 24 24",...t,children:r.jsx("path",{d:"M14 12a4 4 0 0 0 0-8H6v8M15 20a4 4 0 0 0 0-8H6v8Z"})})}function KF(t){return r.jsx(me,{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",...t,children:r.jsx("path",{d:"M16 4H9a3 3 0 0 0-2.83 4M14 12a4 4 0 0 1 0 8H6M4 12h16"})})}function ZF(t){return r.jsx(me,{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",...t,children:r.jsx("path",{d:"M19 4h-9M14 20H5M15 4 9 20"})})}function YF(t){return r.jsx(me,{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",...t,children:r.jsx("path",{d:"M6 4v6a6 6 0 0 0 12 0V4M4 20h16"})})}function XF(t){return r.jsxs(me,{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",...t,children:[r.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),r.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]})}function JF(t){return r.jsx(me,{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",...t,children:r.jsx("path",{d:"M15 3h6v6M10 14 21 3M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"})})}function a_(t){return r.jsx(me,{...t,children:r.jsx("path",{d:"M7.62 5.67a.4.4 0 0 1 .76 0l.54 1.66c.05.17.2.28.38.28h1.75c.39 0 .55.5.23.72L9.87 9.36a.4.4 0 0 0-.15.45l.54 1.66a.4.4 0 0 1-.61.45l-1.41-1.03a.4.4 0 0 0-.48 0l-1.4 1.03a.4.4 0 0 1-.62-.45l.54-1.66a.4.4 0 0 0-.15-.45L4.72 8.33a.4.4 0 0 1 .23-.72H6.7a.4.4 0 0 0 .38-.28l.54-1.66Z M1 6a4 4 0 0 1 4-4v-.25a.75.75 0 0 1 1.5 0V2h3v-.25a.75.75 0 0 1 1.5 0V2a4 4 0 0 1 4 4v5a4 4 0 0 1-4 4H5a4 4 0 0 1-4-4V6Zm4-2.5A2.5 2.5 0 0 0 2.5 6v5A2.5 2.5 0 0 0 5 13.5h6a2.5 2.5 0 0 0 2.5-2.5V6A2.5 2.5 0 0 0 11 3.5v.25a.75.75 0 0 1-1.5 0V3.5h-3v.25a.75.75 0 0 1-1.5 0V3.5Z M7.62 5.67a.4.4 0 0 1 .76 0l.54 1.66c.05.17.2.28.38.28h1.75c.39 0 .55.5.23.72L9.87 9.36a.4.4 0 0 0-.15.45l.54 1.66a.4.4 0 0 1-.61.45l-1.41-1.03a.4.4 0 0 0-.48 0l-1.4 1.03a.4.4 0 0 1-.62-.45l.54-1.66a.4.4 0 0 0-.15-.45L4.72 8.33a.4.4 0 0 1 .23-.72H6.7a.4.4 0 0 0 .38-.28l.54-1.66Z"})})}function m0(t){return r.jsx(me,{...t,children:r.jsx("path",{d:"M8.66 2.83a.75.75 0 0 0-1.32 0l-5.5 10.32c-.27.5.1 1.1.66 1.1h11c.57 0 .93-.6.66-1.1L8.66 2.83Zm-2.65-.7a2.25 2.25 0 0 1 3.98 0l5.5 10.31c.8 1.5-.3 3.31-1.99 3.31h-11a2.25 2.25 0 0 1-1.99-3.3l5.5-10.32ZM8 5.25c.41 0 .75.34.75.75v4a.75.75 0 0 1-1.5 0V6c0-.41.34-.75.75-.75Zm0 6.48c.41 0 .75.34.75.75v.02a.75.75 0 0 1-1.5 0v-.02c0-.41.34-.75.75-.75Z"})})}function p0(t){return r.jsx(me,{...t,children:r.jsx("path",{fillRule:"evenodd",d:"M6.01 2.13a2.25 2.25 0 0 1 3.98 0l5.5 10.31c.8 1.5-.3 3.31-1.99 3.31h-11a2.25 2.25 0 0 1-1.99-3.3l5.5-10.32ZM8.75 6a.75.75 0 1 0-1.5 0v4a.75.75 0 0 0 1.5 0V6ZM8 11.73c.41 0 .75.34.75.75v.02a.75.75 0 0 1-1.5 0v-.02c0-.41.34-.75.75-.75Z"})})}function QF(t){return r.jsx(St,{...t,children:r.jsx("path",{d:"M6 11c-2.7614 0-5-2.2386-5-5s2.2386-5 5-5 5 2.2386 5 5-2.2386 5-5 5Zm0-1.2c2.0987 0 3.8-1.7013 3.8-3.8S8.0987 2.2 6 2.2 2.2 3.9013 2.2 6 3.9013 9.8 6 9.8ZM3.9973 6.331l-.0033.005.0016-.0024.001-.0013.0007-.0012Zm-.0033.005.0033-.005-.0008.0013-.0009.0013-.0016.0025.0066-.009a.9503.9503 0 0 1 .0442-.054 1.3556 1.3556 0 0 1 .1975-.1837c.1749-.1328.4182-.2514.736-.2398.1408.0051.2296.0745.5197.5012l.0272.04c.2275.337.6479.9592 1.475.9592.659 0 1.1578-.2493 1.4857-.4945a2.5315 2.5315 0 0 0 .3705-.3387 2.078 2.078 0 0 0 .0994-.1198l.0456-.0629a.6.6 0 0 0-.9927-.6743l-.0056.0076a.8846.8846 0 0 1-.0419.0502 1.3317 1.3317 0 0 1-.194.1769c-.1735.1298-.4263.2555-.767.2555-.139 0-.2267-.0576-.5099-.474l-.0357-.0529c-.2228-.3317-.634-.9437-1.4327-.9727-.6664-.0242-1.1746.2322-1.5053.4834a2.5555 2.5555 0 0 0-.3746.3487 2.1491 2.1491 0 0 0-.1003.123l-.0454.0638a.6.6 0 0 0 .9977.6668Z"})})}function Ib(t){return r.jsx(me,{...t,children:r.jsx("path",{fillRule:"evenodd",d:"M13.5 8a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0ZM15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0Zm-9.58.34Z M5.42 8.34a.75.75 0 0 1-1.34-.68l.05-.08a2.52 2.52 0 0 1 .5-.63c.36-.34.94-.7 1.75-.7.5 0 .92.22 1.25.45.31.22.61.5.86.74l.02.01c.28.26.5.47.72.62.22.15.34.18.4.18.31 0 .55-.14.72-.3l.19-.22.04-.06v-.01a.75.75 0 0 1 1.34.68l-.04.08a2.5 2.5 0 0 1-.5.63c-.37.34-.95.7-1.76.7-.5 0-.92-.22-1.25-.45a7.9 7.9 0 0 1-.86-.74l-.02-.01a6.8 6.8 0 0 0-.72-.62c-.22-.15-.34-.18-.4-.18-.31 0-.55.14-.72.3a1.4 1.4 0 0 0-.23.28v.01Z"})})}function qF(t){return r.jsx(St,{...t,children:r.jsx("path",{fillRule:"evenodd",d:"M11 6A5 5 0 1 1 1 6a5 5 0 0 1 10 0Zm-5-.5c-.58 0-1.1-.35-1.41-.61a4.33 4.33 0 0 1-.19-.17 4.98 4.98 0 0 1-.69.56c-.2.11-.44.22-.72.22a.5.5 0 0 1-.49-.51.5.5 0 0 1 .5-.51c.02 0 .1-.01.22-.09a4.43 4.43 0 0 0 .77-.7L4 3.68a.49.49 0 0 1 .76 0h.01a1.77 1.77 0 0 0 .11.12c.08.08.19.2.32.3.28.24.57.39.79.39.22 0 .51-.15.8-.39a3.56 3.56 0 0 0 .42-.42.5.5 0 0 1 .38-.19.5.5 0 0 1 .38.18v.01l.03.03a4.19 4.19 0 0 0 .77.69c.12.08.2.09.23.09a.5.5 0 0 1 .49.51.5.5 0 0 1-.5.51c-.27 0-.52-.11-.71-.22a3.33 3.33 0 0 1-.7-.56l-.18.17c-.32.26-.83.61-1.41.61ZM4.59 7.9c.32.27.83.62 1.41.62s1.1-.35 1.41-.61l.19-.17a4.98 4.98 0 0 0 .69.56c.2.11.44.22.72.22a.5.5 0 0 0 .49-.51.5.5 0 0 0-.5-.51.54.54 0 0 1-.22-.09 4.43 4.43 0 0 1-.77-.7L8 6.7a.49.49 0 0 0-.39-.19.49.49 0 0 0-.38.18v.01a1.77 1.77 0 0 1-.11.12c-.08.08-.19.2-.32.3-.28.24-.57.39-.79.39-.22 0-.51-.15-.8-.39a3.56 3.56 0 0 1-.42-.42.49.49 0 0 0-.38-.19.49.49 0 0 0-.38.18v.01L4 6.73a4.19 4.19 0 0 1-.77.69.54.54 0 0 1-.23.09.5.5 0 0 0-.49.51c0 .28.22.51.5.51.27 0 .52-.11.71-.22a3.33 3.33 0 0 0 .7-.56l.18.17Z"})})}function sx(t){return r.jsx(me,{...t,children:r.jsx("path",{d:"M5.02 8.75c.08 1.71.42 3.24.93 4.35A5.5 5.5 0 0 1 2.53 8.6c.13.1.3.16.47.16h2.02Zm1.5 0c.07 1.46.36 2.72.74 3.6A3.28 3.28 0 0 0 8 13.49a3.28 3.28 0 0 0 .74-1.12c.38-.9.67-2.15.74-3.61H6.52Zm2.96-1.5H6.52c.07-1.46.36-2.72.74-3.6A3.28 3.28 0 0 1 8 2.51l.11.1c.18.17.4.5.63 1.02.38.9.67 2.15.74 3.61Zm1.5 1.5a12.12 12.12 0 0 1-.93 4.35 5.5 5.5 0 0 0 3.42-4.51c-.13.1-.3.16-.47.16h-2.02Zm2.49-1.34a.75.75 0 0 0-.47-.16h-2.02a12.12 12.12 0 0 0-.93-4.35 5.5 5.5 0 0 1 3.42 4.51Zm-8.45-.16H3a.75.75 0 0 0-.47.16A5.5 5.5 0 0 1 5.95 2.9C5.44 4 5.1 5.54 5.02 7.25ZM15 8A7 7 0 1 0 1 8a7 7 0 0 0 14 0Z",fillRule:"evenodd"})})}function ix(t){return r.jsx(St,{...t,children:r.jsx("path",{d:"M3.88 8.12a.6.6 0 0 1 0-.85l1.34-1.34-1.27-1.27a.6.6 0 0 1 .85-.85l1.27 1.27 1.2-1.2a.6.6 0 0 1 .85.85l-1.2 1.2L8.19 7.2a.6.6 0 1 1-.85.85L6.07 6.78 4.73 8.12a.6.6 0 0 1-.85 0Z M6 11A5 5 0 1 0 6 1a5 5 0 0 0 0 10Zm0-1.2a3.8 3.8 0 1 1 0-7.6 3.8 3.8 0 0 1 0 7.6Z"})})}function Si(t){return r.jsx(me,{...t,children:r.jsx("path",{fillRule:"evenodd",d:"M13.5 8a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0ZM15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0Zm-9.83 2.83a.75.75 0 0 1 0-1.06L6.94 8 5.17 6.23a.75.75 0 0 1 1.06-1.06L8 6.94l1.77-1.77a.75.75 0 0 1 1.06 1.06L9.06 8l1.77 1.77a.75.75 0 1 1-1.06 1.06L8 9.06l-1.77 1.77c-.3.3-.77.3-1.06 0Z"})})}function o_(t){return r.jsx(St,{...t,children:r.jsx("path",{fillRule:"evenodd",d:"M2.463 2.463a.625.625 0 0 0 0 .884L5.116 6l-2.65 2.65a.625.625 0 1 0 .884.884L6 6.884l2.653 2.653a.625.625 0 1 0 .884-.884L6.884 6l2.65-2.65a.625.625 0 0 0-.884-.884L6 5.116 3.347 2.463a.625.625 0 0 0-.884 0Z",clipRule:"evenodd"})})}function Rn(t){return r.jsx(me,{...t,children:r.jsx("path",{fillRule:"evenodd",d:"M11.889 12.95a.75.75 0 1 0 1.06-1.06L9.06 8l3.89-3.89a.75.75 0 0 0-1.061-1.06l-3.89 3.89-3.888-3.89a.75.75 0 0 0-1.06 1.06L6.938 8 3.05 11.89a.75.75 0 1 0 1.06 1.06L8 9.06l3.889 3.89Z",clipRule:"evenodd"})})}function l_(t){return r.jsx(me,{...t,children:r.jsx("path",{d:"M13.34 5.77c-.09.07-1.52.87-1.52 2.67a3.09 3.09 0 0 0 1.88 2.83c0 .05-.3 1-.96 1.99-.6.86-1.23 1.72-2.18 1.72-.95 0-1.2-.55-2.3-.55-1.07 0-1.45.57-2.32.57-.87 0-1.48-.8-2.18-1.78A8.57 8.57 0 0 1 2.3 8.59c0-2.73 1.77-4.17 3.51-4.17.93 0 1.7.6 2.28.6.55 0 1.42-.64 2.47-.64.4 0 1.83.04 2.78 1.4Zm-3.28-2.54c.43-.52.74-1.23.74-1.95 0-.1 0-.2-.02-.28-.71.03-1.56.47-2.06 1.06-.4.45-.77 1.17-.77 1.9l.02.25.2.02c.63 0 1.43-.43 1.89-1Z"})})}function eH(t){return r.jsx(me,{...t,children:r.jsx("path",{d:"M8.642 7.267v2.675h3.888c-.508 1.62-1.89 2.78-3.888 2.78-2.38 0-4.308-1.89-4.308-4.222 0-2.332 1.929-4.222 4.308-4.222 1.07 0 2.047.384 2.8 1.017l2.01-1.97A7.198 7.198 0 0 0 8.642 1.5C4.698 1.5 1.5 4.634 1.5 8.5s3.198 7 7.142 7c5.996 0 7.319-5.495 6.731-8.224l-6.73-.009Z"})})}function ax(t){return r.jsxs(me,{...t,children:[r.jsx("path",{fill:"#4285F4",d:"M8.13 6.818v2.518h3.498a2.997 2.997 0 0 1-1.306 1.956l2.11 1.636c1.229-1.134 1.938-2.8 1.938-4.78 0-.46-.041-.904-.118-1.33H8.13Z"}),r.jsx("path",{fill:"#34A853",d:"m4.487 9.237-.476.364-1.684 1.312A6.499 6.499 0 0 0 8.13 14.5c1.755 0 3.226-.58 4.301-1.572l-2.109-1.637c-.58.39-1.318.626-2.192.626-1.69 0-3.126-1.14-3.64-2.676l-.003-.004Z"}),r.jsx("path",{fill:"#FBBC05",d:"M2.327 5.087a6.42 6.42 0 0 0-.697 2.914 6.42 6.42 0 0 0 .697 2.913c0 .006 2.163-1.678 2.163-1.678A3.895 3.895 0 0 1 4.283 8c0-.43.077-.845.207-1.235L2.327 5.087Z"}),r.jsx("path",{fill:"#EA4335",d:"M8.13 4.088c.957 0 1.808.331 2.488.97l1.861-1.862C11.35 2.144 9.885 1.5 8.129 1.5a6.488 6.488 0 0 0-5.802 3.587L4.49 6.765c.514-1.536 1.95-2.677 3.64-2.677Z"})]})}function tH(t){return r.jsx(me,{...t,children:r.jsx("path",{d:"M4.28 2 1 5.32h3.28V2Zm.87 8.34h3.77V9.1l3.2 2.64v.96c0 .54-.43.98-.96.98h-6v-3.33Zm8.07 1.18 1 .83c.32.25.78.02.78-.39V3.78a.48.48 0 0 0-.79-.37l-.98.82-.2.16-.91.76-3.2 2.63v.18l4.3 3.55Zm-4.3-6.2v1.32l3.2-2.63V2.97a.97.97 0 0 0-.96-.97h-6v3.32h3.76Zm-4.64.88v3.27H1V6.2h3.28Zm0 4.14v3.33H1.96a.97.97 0 0 1-.96-.98v-2.35h3.28Z"})})}function nH(t){return r.jsxs(me,{...t,children:[r.jsx("path",{d:"M10.4907 3.3923V6.52199L11.5844 7.21067C11.6133 7.21908 11.6758 7.21968 11.7046 7.21067L16.4118 4.03711C16.4118 3.66152 16.0614 3.3923 15.8637 3.3923H10.4907Z"}),r.jsx("path",{d:"M10.4908 7.68961L11.489 8.37528C11.6296 8.47864 11.7991 8.37528 11.7991 8.37528C11.6302 8.47864 16.4125 5.30208 16.4125 5.30208V11.0543C16.4125 11.6804 16.0117 11.9431 15.561 11.9431H10.4902V7.68961H10.4908Z"}),r.jsx("path",{d:"M5.32267 6.24677C4.98254 6.24677 4.71152 6.40661 4.51141 6.72571C4.31129 7.04481 4.21094 7.46727 4.21094 7.99309C4.21094 8.52673 4.31129 8.94859 4.51141 9.25867C4.71152 9.56936 4.97413 9.7238 5.29864 9.7238C5.63336 9.7238 5.89898 9.57296 6.09488 9.27129C6.29079 8.96962 6.38934 8.55076 6.38934 8.01533C6.38934 7.45706 6.29439 7.02258 6.1039 6.71189C5.9134 6.40181 5.65319 6.24677 5.32267 6.24677Z"}),r.jsx("path",{d:"M0.587402 1.80282V14.047L9.90196 16V0L0.587402 1.80282ZM6.82034 9.99482C6.42673 10.5128 5.91352 10.7724 5.28013 10.7724C4.66297 10.7724 4.16059 10.5212 3.77178 10.0195C3.38357 9.51707 3.18887 8.86325 3.18887 8.05679C3.18887 7.20526 3.38598 6.51658 3.78079 5.99076C4.17561 5.46494 4.69843 5.20173 5.34924 5.20173C5.964 5.20173 6.46158 5.45292 6.84077 5.95651C7.22057 6.46009 7.41046 7.12353 7.41046 7.94742C7.41106 8.79414 7.21396 9.47681 6.82034 9.99482Z"})]})}function g0(t){const e=K.useId();return r.jsxs(me,{fill:"none",...t,children:[r.jsxs("g",{clipPath:`url(#${e}a)`,children:[r.jsx("path",{fill:"#0A2767",d:"M14.5 8.302a.29.29 0 0 0-.14-.249l-.006-.003-4.505-2.666a.605.605 0 0 0-.675 0L4.669 8.05l-.005.003a.294.294 0 0 0 .007.503l4.505 2.666a.605.605 0 0 0 .675 0l4.504-2.666a.29.29 0 0 0 .144-.254Z"}),r.jsx("path",{fill:"#0364B8",d:"M5.195 6.522h2.956v2.71H5.195v-2.71Zm8.7-2.754v-1.24a.562.562 0 0 0-.548-.574h-7.67a.562.562 0 0 0-.549.575v1.239l4.535 1.21 4.232-1.21Z"}),r.jsx("path",{fill:"#0078D4",d:"M5.128 3.769H8.15v2.72H5.128V3.77Z"}),r.jsx("path",{fill:"#28A8EA",d:"M11.175 3.769H8.15v2.72l3.024 2.721h2.72V6.49l-2.72-2.721Z"}),r.jsx("path",{fill:"#0078D4",d:"M8.151 6.49h3.024v2.72H8.15V6.49Z"}),r.jsx("path",{fill:"#0364B8",d:"M8.151 9.21h3.024v2.72H8.15V9.21Z"}),r.jsx("path",{fill:"#14447D",d:"M5.195 9.232h2.956v2.464H5.195V9.232Z"}),r.jsx("path",{fill:"#0078D4",d:"M11.174 9.21h2.72v2.72h-2.72V9.21Z"}),r.jsx("path",{fill:`url(#${e}b)`,d:"m14.362 8.54-.006.002-4.505 2.534a.63.63 0 0 1-.305.094l-.246-.144a.634.634 0 0 1-.06-.034L4.675 8.386h-.002l-.15-.083v5.128a.62.62 0 0 0 .624.616h8.74c.004 0 .009-.003.014-.003a.763.763 0 0 0 .212-.044.615.615 0 0 0 .085-.044c.02-.011.055-.036.055-.036a.61.61 0 0 0 .247-.489V8.303a.272.272 0 0 1-.138.236Z"}),r.jsx("path",{fill:"#0A2767",d:"M14.259 8.283v.314l-4.71 3.243L4.672 8.39a.003.003 0 0 0-.003-.003l-.447-.27V7.89l.184-.003.39.223.01.003.032.022s4.584 2.615 4.596 2.62l.175.103a.916.916 0 0 1 .048-.018l4.55-2.56.052.003Z",opacity:".5"}),r.jsx("path",{fill:"#1490DF",d:"m14.362 8.54-.006.003-4.505 2.533a.631.631 0 0 1-.675 0L4.67 8.543l-.005-.004a.272.272 0 0 1-.143-.236v5.128a.62.62 0 0 0 .624.616h8.73a.62.62 0 0 0 .623-.616V8.303a.272.272 0 0 1-.138.236Z"}),r.jsx("path",{fill:"#000",d:"m9.917 11.04-.067.037a.626.626 0 0 1-.298.097l1.714 2.027 2.99.72a.616.616 0 0 0 .189-.237L9.917 11.04Z",opacity:".1"}),r.jsx("path",{fill:"#000",d:"m10.223 10.867-.373.21a.626.626 0 0 1-.298.097l.803 2.214 3.901.532a.611.611 0 0 0 .245-.489v-.066l-4.278-2.498Z",opacity:".05"}),r.jsx("path",{fill:"#28A8EA",d:"M5.155 14.047h8.72a.627.627 0 0 0 .374-.121L9.3 11.027a.634.634 0 0 1-.06-.035L4.675 8.387h-.003l-.149-.084v5.11c0 .35.283.633.632.634Z"}),r.jsx("path",{fill:"#000",d:"M8.756 4.927v6.449a.556.556 0 0 1-.553.556h-3.68V4.675h.605v-.302h3.075a.555.555 0 0 1 .553.554Z",opacity:".1"}),r.jsx("path",{fill:"#000",d:"M8.454 5.229v6.449a.492.492 0 0 1-.046.211.55.55 0 0 1-.508.344H4.523V4.675H7.9c.088-.001.175.02.251.063a.55.55 0 0 1 .303.491Z",opacity:".2"}),r.jsx("path",{fill:"#000",d:"M8.454 5.229v5.844a.558.558 0 0 1-.554.555H4.523V4.675H7.9c.088-.001.175.02.251.063a.55.55 0 0 1 .303.491Z",opacity:".2"}),r.jsx("path",{fill:"#000",d:"M8.151 5.229v5.844a.556.556 0 0 1-.553.555H4.523V4.675h3.075c.306 0 .553.248.553.554Z",opacity:".2"}),r.jsx("path",{fill:`url(#${e}c)`,d:"M2.054 4.675h5.543c.306 0 .554.248.554.554v5.543a.554.554 0 0 1-.554.554H2.054a.554.554 0 0 1-.554-.554V5.229c0-.306.248-.554.554-.554Z"}),r.jsx("path",{fill:"#fff",d:"M3.233 7c.136-.292.357-.535.633-.7a1.914 1.914 0 0 1 1.006-.252c.326-.007.648.075.93.239.266.158.48.39.616.668.149.306.223.643.216.982.008.356-.069.708-.222 1.028-.14.288-.36.528-.635.692a1.852 1.852 0 0 1-.965.245 1.82 1.82 0 0 1-.952-.242 1.622 1.622 0 0 1-.624-.669 2.105 2.105 0 0 1-.218-.97 2.338 2.338 0 0 1 .215-1.022Zm.675 1.64c.072.185.196.344.356.46a.93.93 0 0 0 .556.168.974.974 0 0 0 .594-.173c.158-.116.278-.276.346-.46.075-.205.113-.423.11-.642a1.954 1.954 0 0 0-.104-.65 1.028 1.028 0 0 0-.335-.48.92.92 0 0 0-.589-.18.96.96 0 0 0-.569.169 1.055 1.055 0 0 0-.363.464 1.844 1.844 0 0 0-.002 1.325Z"}),r.jsx("path",{fill:"#50D9FF",d:"M11.175 3.769h2.72v2.72h-2.72V3.77Z"})]}),r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:e+"b",x1:"9.512",x2:"9.512",y1:"8.303",y2:"14.047",gradientUnits:"userSpaceOnUse",children:[r.jsx("stop",{stopColor:"#35B8F1"}),r.jsx("stop",{offset:"1",stopColor:"#28A8EA"})]}),r.jsxs("linearGradient",{id:e+"c",x1:"2.655",x2:"6.996",y1:"4.242",y2:"11.759",gradientUnits:"userSpaceOnUse",children:[r.jsx("stop",{stopColor:"#1784D9"}),r.jsx("stop",{offset:".5",stopColor:"#107AD5"}),r.jsx("stop",{offset:"1",stopColor:"#0A63C9"})]}),r.jsx("clipPath",{id:e+"a",children:r.jsx("path",{fill:"#fff",d:"M1.5 1.954h13v12.093h-13z"})})]})]})}function ai(t){return r.jsx(me,{...t,children:r.jsx("path",{d:"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8Zm9.33-.87 2.03-1.38c.17-.14.3-.1.3.14v4.22c0 .28-.16.25-.3.15l-2.03-1.38V7.13Zm-7-1.23c0-.13.11-.23.24-.23h4.67c.73 0 1.32.57 1.32 1.28v3.15c0 .13-.11.23-.24.23H4.65a1.3 1.3 0 0 1-1.32-1.28V5.9Z"})})}function He({className:t,color:e,isSelected:n}){return n?r.jsx(Kk,{className:Ae("m-[-0.0625rem] rounded",t),style:{color:e}}):r.jsx("div",{className:Ae("size-12 rounded",t),style:{backgroundColor:e}})}function Mb(t){const e="diagonalHatch"+K.useId();return r.jsxs("svg",{width:"100%",height:"100%",...t,children:[r.jsx("defs",{children:r.jsx("pattern",{id:e,patternUnits:"userSpaceOnUse",width:3,height:6,patternTransform:"rotate(-45 0 0) translate(0 -1)",children:r.jsx("path",{d:"M -1,2 l 6,0",stroke:"currentColor",strokeWidth:3})})}),r.jsx("rect",{x:0,y:0,width:"100%",height:"100%",fill:`url(#${e})`})]})}function rH(t){return r.jsxs("svg",{width:"22",height:"16",viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",strokeWidth:"1.5",strokeLinecap:"round",stroke:"currentColor",...t,children:[r.jsx("circle",{cx:"5.75",cy:"4.5",r:"2.75"}),r.jsx("path",{d:"M10 7.25C11.5188 7.25 12.75 6.01878 12.75 4.5C12.75 2.98122 11.5188 1.75 10 1.75"}),r.jsx("path",{d:"M15 7.25C16.5188 7.25 17.75 6.01878 17.75 4.5C17.75 2.98122 16.5188 1.75 15 1.75"}),r.jsx("path",{d:"M5.75 10C3.96557 10 2.71184 10.7076 1.67311 11.7019C0.78017 12.5567 1.51392 14 2.75003 14H5.75L8.75005 14C9.98611 14 10.7199 12.5568 9.82697 11.702C8.78825 10.7076 7.53448 10 5.75 10Z"}),r.jsx("path",{d:"M11.75 10.08C13.0225 10.2915 13.9939 10.9045 14.8269 11.702C15.7198 12.5567 14.9861 14 13.75 14L12.75 14H12.5"}),r.jsx("path",{d:"M16.75 10.08C18.0225 10.2915 18.9939 10.9045 19.8269 11.702C20.7198 12.5567 19.9861 14 18.75 14L17.75 14H17.5"})]})}function ox(t,e,n){const s=n||new Map;return t.forEach(i=>{const a=e(i);s.has(a)?s.get(a).push(i):s.set(a,[i])}),s}function c_(){const t=new Map;let e=0;return{add(n,s){let i=t.get(n);return i?i.add(s):(i=new Set([s]),t.set(n,i)),e+=1,function(){i.delete(s),i.size===0&&t.delete(n),e-=1}},forEachInKey(n,s){const i=t.get(n);i&&i.forEach(s)},forEachInKeyReverse(n,s){const i=t.get(n);i&&Array.from(i).reverse().forEach(s)},getSubscriberCount(){return e}}}function sH(t){let e="checkmark",n=t.isResource?"Available":"Accepted";return t.status==="declined"?(e="xmark",n=t.isResource?"Occupied":"Declined"):t.status==="tentative"?(e="waves",n="Tentative"):t.status==="needsAction"&&(e="questionmark",n="Waiting for response"),t.isOrganizer&&(n+=" & organizer"),{statusLabel:n,icon:e}}function Er(t,e){if(!e||!t)return!1;const n=t.substring(t.indexOf("@")+1);return e.includes(n)}function zr(t,e=10){return Number(t.toFixed(e))}function dr(t,e,n=10){const s=Math.abs(t-e),i=1/10**(n-1);return s<i}function iH(t){return Math.sqrt(t.reduce((e,[n,s])=>e+(n-s)**2,0))}function u_(t,e){return Math.round(t/e)*e}function aH(t,e){return Math.floor(t/e)*e}function oH(t,e){const n=t%e;return n<0?n+e:n}function lH(t){const e=new Intl.PluralRules("en-US",{type:"ordinal"});return`${t}${{one:"st",two:"nd",few:"rd",many:"th",other:"th",zero:"th"}[e.select(t)]}`}const Qt=255;function Ap(t,e){return b0(h_(Ss(t),{r:28,g:28,b:29,a:e}))}function Ai(t,e){return b0(h_(Ss(t),{r:Qt,g:Qt,b:Qt,a:e}))}function cH(t,e){const n=Ss(t);if(f_(n)>e){const i=m_(n);return b0(p_({...i,l:e}))}return t}function uH(t,e){const n=Ss(t);if(f_(n)<e){const i=m_(n);return b0(p_({...i,l:e}))}return t}function d_(t,e,n){return n?uH(t,1-e):cH(t,e)}function Ss(t){const e=(t.length<=5?[t[1]+t[1],t[2]+t[2],t[3]+t[3],t[4]+t[4]||"ff"]:[t.substring(1,3),t.substring(3,5),t.substring(5,7),t.substring(7,9)||"ff"]).map(n=>n?Number.parseInt(n,16):0);return{r:e[0],g:e[1],b:e[2],a:e[3]/Qt}}function b0(t){return"#"+(t.a===1?[t.r,t.g,t.b]:[t.r,t.g,t.b,t.a*Qt]).map(n=>Math.round(n).toString(16).padStart(2,"0")).join("")}function h_(t,e){const n=zr(t.a-t.a*e.a+e.a),s=t.a/n,i=t.a*e.a/n,a=e.a/n;function l(p){return zr(s*t[p]-i*t[p]+a*e[p])}return{r:l("r"),g:l("g"),b:l("b"),a:n}}function f_({r:t,g:e,b:n}){const s=Math.max(t,e,n),i=Math.min(t,e,n);return(s+i)/Qt/2}function m_({r:t,g:e,b:n,a:s}){const i=t/Qt,a=e/Qt,l=n/Qt,p=Math.max(i,a,l),f=Math.min(i,a,l),v=p-f,E=(p+f)/2;if(v===0)return{h:0,s:0,l:E,a:s};let w=(p===i?(a-l)/v%6:p===a?(l-i)/v+2:(i-a)/v+4)*60;w<0&&(w+=360);const D=v/(1-Math.abs(2*E-1));return{h:w,s:D,l:E,a:s}}function p_({h:t,s:e,l:n,a:s}){if(e===0){const[E,w,D]=[n,n,n].map(M=>M*Qt);return{r:E,g:D,b:w,a:s}}const i=(1-Math.abs(2*n-1))*e,a=i*(1-Math.abs(t/60%2-1)),l=n-i/2,[p,f,v]=(t<60?[i,a,0]:t<120?[a,i,0]:t<180?[0,i,a]:t<240?[0,a,i]:t<300?[a,0,i]:[i,0,a]).map(E=>(E+l)*Qt);return{r:p,g:f,b:v,a:s}}const dH=Math.sqrt(Qt**2*3);function hH(t,e){const n=Ss(t),s=Ss(e);return iH([[n.r,s.r],[n.g,s.g],[n.b,s.b]])/dH}const S5=["#FF4C6A","#FF33FF","#5F4CFF","#14B8AF","#3BB200","#FFD500","#FF8833","#99001A","#850085","#0F008A","#005580","#806A00","#B24A00","#D27988","#CC66CC","#8279D2","#539FC6","#339993","#4A862D","#BFAA40","#CC9166","#FF002B","#CC00CC","#1B00FF","#0088CC","#0D7C76","#226600","#B29500","#E56000","#FF8095","#FF85FF","#9F94FF","#6BCEFF","#50ECE3","#70FF29","#FFE252","#FFAC70"];function Kn(t){return t==="Etc/UTC"?g_:t.startsWith("Etc/")?Sm.find(e=>e.name===t):fm.find(e=>t===e.name||e.group.includes(t)||e.abbreviation===t)}function fH(t){return fm.find(e=>e.rawOffsetInMinutes===t)}const g_={name:"Etc/UTC",alternativeName:"Coordinated Universal Time (UTC)",abbreviation:"UTC",group:["Etc/UTC","Etc/UCT","UCT","UTC","Universal","Zulu"],countryName:"",countryCode:"",continentCode:"",continentName:"",mainCities:[""],rawOffsetInMinutes:0,rawFormat:"+00:00 Coordinated Universal Time (UTC)"};function b_(t){return{name:`Etc/GMT${t>0?"+":""}${t}`,alternativeName:`GMT${t>0?"+":""}${t}`,abbreviation:`GMT${t>0?"+":""}${t}`,group:["Etc/GMT",`Etc/GMT${t>0?"+":""}${t}`],countryName:"",countryCode:"",continentCode:"",continentName:"",mainCities:[],rawOffsetInMinutes:t*60,rawFormat:`${t>0?"+":""}${t*60}:00 Offset from GMT`}}const Sm=[];for(let t=-14;t<1;t++)Sm.push(b_(t));for(let t=1;t<=12;t++)Sm.push(b_(t));const _n=1e3,Am=60,Nn=60,lx=24,Ep=_n*Am,A5=_n*Am*Nn,$s=Am*Nn,mH=_n*Am*Nn*lx,oi=Nn*lx;function bn(t){return t.toISOString().slice(0,-5)+"Z"}function Wt(t){return HP(t,{representation:"date"})}function yn(t){return W1(t)}function pH(t){const e=Math.floor(t/60).toString().padStart(2,"0"),n=(t%60).toString().padStart(2,"0");return`${e}:${n}`}const gH={short:{minutes:"mins",hour:"hr",hours:"hrs"},long:{minutes:"minutes",hour:"hour",hours:"hours"}};function bH(t){return t==="nl-NL"?{short:{minutes:"min",hour:"uur",hours:"uur"},long:{minutes:"minuten",hour:"uur",hours:"uur"}}:gH}function lr(t,e,n){const s=bH(n||"en-US")[e?"short":"long"];return t<60?`${t} ${s.minutes}`:t===60?`1 ${s.hour}`:t%60===0?`${t/60} ${s.hours}`:(t-30)%60===0?`${(t-30)/60},5 ${s.hours}`:`${pH(t)} ${s.hours}`}const E5=re.box(Intl.DateTimeFormat().resolvedOptions().timeZone);let D5=!1;function gr(){if(E5===void 0){const t=new Date().getTimezoneOffset(),e=fH(t*-1);if(D5||(console.error("Could not determine local timezone",{level:"error",contexts:{timezone_info:{resolvedOptions:JSON.stringify(Intl.DateTimeFormat().resolvedOptions()),localTimeOffset:new Date().getTimezoneOffset(),timezoneByOffset:JSON.stringify(e),dateFnsTimezone:mp(new Date,"yyyy-MM-dd HH:mm z")}}}),D5=!0),e)return e.name;throw new Error(`Could not determine local timezone based on timezoneOffset (${t})`)}return E5.get()}function we(t,e){return VP(t,e||gr())}function Se(t,e){return WP(t,e||gr())}function Ei(t,e,n,s){const i=`${Oe(t,"yyyy-MM-dd",s)} ${w5(e)}:${w5(n)}:00`;return W1(i,{timeZone:s||gr()})}function Kr(t,e,n){const s=Se(t),i=e.split(":");return hn(s,{hours:parseInt(i[0]),minutes:parseInt(i[1])})}function w5(t){return t.toString().padStart(2,"0")}function pt(t,e){return W1(`${t} 00:00:00`,{timeZone:e||gr()})}function Oe(t,e,n){return mp(Se(t,n),e)}function Un(t,e){const n=e?Se(t,e).getDay():t.getDay();return n===6||n===0}function C5(t){return/[0-2]?[0-9]:[0-6][0-9]/i.test(t)}function yH(t){return{startDate:we(pt(t.startDate)),endDate:we(ot(pt(t.endDate)))}}function Ye(t,e,n){return e===12?mp(t,t.getMinutes()?n?"h:mma":"h:mm a":n?"ha":"h a"):mp(t,"HH:mm")}function nn(t,e,n){return Ye(n===null?t:Se(t,n),e)}function Rb(t){const[e,n]=t.split(":").map(i=>parseInt(i)),s=new Date(1970,0,1,e,n);return Ye(s,12)}function vH(t){const e=t.includes(":"),n=/[ap]/i.test(t);let s=t.replace(/[.m\s]/gi,"");return n?s=s.replace(/a/i,e?" AM":":00 AM").replace(/p/i,e?" PM":":00 PM"):e||(s=s+":00"),s.indexOf(":")===1?"0"+s:s}const xH="hh:mm a",jH="HH:mm";function y_(t){const e=vH(t);let n=c5(e,xH,0);return ar(n)||(n=c5(e,jH,0)),n}function SH(t,e){return hn(t,{hours:e.getHours(),minutes:e.getMinutes()})}function AH(t,e){return $P(t,e,{weekStartsOn:1})}function cx(t,e){const n=parseInt(Oe(t,"HH",e)),s=parseInt(Oe(t,"mm",e));return n*Nn+s}function ks(t,e){return cx(t,e)/oi*100}function v_(t){const e=yH(t),n=en(e.endDate,e.startDate),s=n>7?UP:GP,i=n>7?pp:ws;return{current:e,pre:{startDate:i(bs(e.startDate,n)),endDate:e.startDate},post:{startDate:e.endDate,endDate:s(fe(e.endDate,n))}}}function ux(t,e){const n=t!==void 0,s=e!==void 0;if(n&&s)return x_(t,e);if(n&&!s)return Dr(t);if(!n&&s)return Pb(e)}function Dr(t){return Math.round(t+j_())}function Pb(t){return Math.round(t-j_())}function x_(t,e){const n=e-t,s=t+n*(.4+.2*Math.random());return Math.abs(n)>10?u_(s,.01):s}function j_(){return 900+Math.random()*200}function EH({timeWindowString:t,timezone:e,now:n}){const s=wH(t),i=Cs(n);if(s==="next_2"||s==="asap"||s==="next_7")return{label:"in next 7 days",startsAt:we(Pe(i),e),endsAt:we(fe(ot(i),7),e)};if(s==="today")return{label:s,startsAt:we(Pe(i),e),endsAt:we(ot(i),e)};if(s==="tomorrow")return{label:s,startsAt:we(fe(Pe(i),1),e),endsAt:we(fe(ot(i),1),e)};if(s==="this week")return{label:s,startsAt:we(Et(i),e),endsAt:we(ot(fe(Et(i),6)),e)};if(s==="next week")return{label:s,startsAt:we(Re(Et(i),1),e),endsAt:we(ot(fe(Re(Et(i),1),6)),e)};if(s==="this morning")return{label:s,startsAt:we(Pe(i),e),endsAt:we(Zs(En(i,12),1),e)};if(s==="this afternoon")return{label:s,startsAt:we(En(i,12),e),endsAt:we(ot(i),e)};if(s==="tomorrow morning")return{label:s,startsAt:we(fe(Pe(i),1),e),endsAt:we(fe(Zs(En(i,12),1),1),e)};if(s==="tomorrow afternoon")return{label:s,startsAt:we(fe(En(i,12),1),e),endsAt:we(fe(ot(i),1),e)};if(s==="beginning of this week"||s==="early this week")return{label:s,startsAt:we(Et(i),e),endsAt:we(ot(fe(Et(i),1)),e)};if(s==="end of this week"||s==="late this week")return{label:s,startsAt:we(fe(Et(i),3),e),endsAt:we(ot(fe(Et(i),4)),e)};if(s==="beginning of next week"||s==="early next week")return{label:s,startsAt:we(Re(Et(i),1),e),endsAt:we(ot(fe(Re(Et(i),1),1)),e)};if(s==="end of next week"||s==="late next week")return{label:s,startsAt:we(fe(Re(Et(i),1),3),e),endsAt:we(ot(fe(Re(Et(i),1),4)),e)};if(s==="next month")return{label:s,startsAt:we(hr(pp(i),1),e),endsAt:we(ot(bs(Re(hr(pp(i),1),2),2)),e)};const a=/^(next )?(monday|tuesday|wednesday|thursday|friday|saturday|sunday)( morning| afternoon)?$/.exec(s),l=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];if(a){const v=l.indexOf(a[2]),E=fe(Et(i),v),w=a[1]!==void 0?1:0;if(a[3]){if(a[3]===" morning")return{label:s,startsAt:we(Re(E,w),e),endsAt:we(Zs(En(Re(E,w),12),1),e)};if(a[3]===" afternoon")return{label:s,startsAt:we(En(Re(E,w),12),e),endsAt:we(ot(Re(E,w)),e)}}return{label:s,startsAt:we(Re(E,w),e),endsAt:we(ot(Re(E,w)),e)}}const p=/week (\d{1,2})/.exec(s);if(p){const v=parseInt(p[1]);let E=i;return v<parseInt(rt(E,"I"))&&(E=J6(E,1)),E=Et(zP(E,v)),{label:s,startsAt:we(E,e),endsAt:we(Zs(Re(E,1),1),e)}}const f=/in (\d{1,2}) weeks/.exec(s);if(f){const v=parseInt(f[1]);let E=Et(i);return{label:s,startsAt:we(Re(E,v),e),endsAt:we(ot(bs(Re(E,v+1),1)),e)}}return null}function S_({timeWindowString:t,timezone:e,now:n}){const s=e||gr(),i=n||new Date,a=EH({timeWindowString:t,timezone:s,now:i});return a===null?null:A_({timeWindow:a,now:i})}function A_({timeWindow:t,now:e}){const n=e||new Date;return Yt(t.startsAt,Ie(n,1))&&(t.startsAt=e0(Cs(n),1)),t}function DH(t,e){const n=t.split("."),s=e.split(".");for(let i=0;i<n.length;i++){const a=Number(n[i]),l=Number(s[i]);if(isNaN(a)||isNaN(l))throw Error(`Invalid versions compared: ${t} and ${e}`);if(a>l)return!0;if(a<l)return!1}return!0}function On(t){return t.charAt(0).toUpperCase()+t.slice(1)}function wH(t){return t.toLowerCase().trim()}const E_=/[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}/i;function CH(t){return t===null?!1:E_.exec(t)!==null}function TH(t){const e=t.match(E_);return e?e[0]:null}var T5,N5,k5,_5,O5,I5;function NH(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:M5(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||M5(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return OH(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:kH(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function kH(t){var e=_H(t,"string");return typeof e=="symbol"?e:e+""}function _H(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M5(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function OH(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}var Dv,Hi,Vi,Wi,$i,Ui;const Hp=class Hp{constructor(){B(this,Hi,(T5(this),N5(this)));B(this,Vi,k5(this));B(this,Wi,_5(this));B(this,$i,O5(this));B(this,Ui,I5(this,"online"));ie(this,"client",window.todesktop?"desktop":"web");ie(this,"isMac",/Mac|iPod|iPhone|iPad/.test(window.navigator.platform));ie(this,"isSafari",/^((?!chrome|android).)*safari/i.test(navigator.userAgent));ie(this,"isMobileWeb",!1);ie(this,"appVersion",null);ie(this,"appTodesktopBackendVersion",null);ie(this,"electronVersion",null);ie(this,"isHydrated",!1)}get colorScheme(){return H(this,Hi)}set colorScheme(e){V(this,Hi,e)}get devicePixelRatio(){return H(this,Vi)}set devicePixelRatio(e){V(this,Vi,e)}get viewportWidth(){return H(this,Wi)}set viewportWidth(e){V(this,Wi,e)}get viewportHeight(){return H(this,$i)}set viewportHeight(e){V(this,$i,e)}get connectionStatus(){return H(this,Ui)}set connectionStatus(e){V(this,Ui,e)}get isDesktopApp(){return this.client==="desktop"}get isMacApp(){return this.client==="desktop"&&this.isMac}get hasSmallHeaderBar(){return this.isAtLeastVersion("1.20.1")}isAtLeastVersion(e){if(!this.isHydrated)throw Error("EnvironmentStore is not initialized yet");return this.isDesktopApp?DH(this.appVersion,e):!0}};Dv=new WeakMap,Hi=new WeakMap,Vi=new WeakMap,Wi=new WeakMap,$i=new WeakMap,Ui=new WeakMap,B(Hp,Dv,[N5,k5,_5,O5,I5,T5]=NH(Hp,[[re,1,"colorScheme"],[re,1,"devicePixelRatio"],[re,1,"viewportWidth"],[re,1,"viewportHeight"],[re,1,"connectionStatus"],[ne,3,"isDesktopApp"],[ne,3,"isMacApp"],[ne,3,"hasSmallHeaderBar"]],[]).e);let Lb=Hp;const pe=new Lb,IH=1e3,dx=new Set("qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM".split(""));function D_(){const t=new Set,e=c_();function n(a){return e.add(a.key,a)}let s;function i(a){if(t.size!==0){window.clearTimeout(s);let f=!1;if(t.forEach(v=>{MH(a,v)&&(f=!0,v.execute(a),t.delete(v))}),a.key!=="Shift"&&a.key!=="Meta"&&a.key!=="Alt"&&t.clear(),f)return}let l=!1;function p(f){w_(a,f)&&(f.thenKey?(l=!0,t.add(f)):f.execute(a))}e.forEachInKeyReverse(dx.has(a.key)?a.key.toUpperCase():a.key,p),a.altKey&&/^Key[A-Z]$/.test(a.code)&&e.forEachInKeyReverse(a.code[3],p),l&&(s=window.setTimeout(()=>t.clear(),IH))}return{addKeyboardShortcut:n,keyDownHandler:i}}function _s(...t){return function(n){const s=dx.has(n.key)?n.key.toUpperCase():n.key;t.forEach(i=>{s===i.key&&w_(n,i)&&i.execute(n)})}}function w_(t,e){return!(N_(t)!==!!e.commandKey||(C_(e.key)!=="symbol"||t.metaKey)&&(t.shiftKey!==!!e.shiftKey||t.altKey!==!!e.altKey)||!e.isActiveWhenInputFocused&&T_(t.target))}function MH(t,e){if(N_(t)&&!e.commandKey)return!1;const n=C_(e.thenKey);if(n==="letter"){if(t.code!=="Key"+e.thenKey)return!1}else if(t.key!==e.thenKey)return!1;return!(n!=="symbol"&&(t.shiftKey&&!e.shiftKey||t.altKey&&!e.altKey)||!e.isActiveWhenInputFocused&&T_(t.target))}function C_(t){return dx.has(t)?"letter":t.length!==1||t===" "?"command":"symbol"}function T_(t){return t.tagName==="INPUT"&&t.type!=="checkbox"||t.tagName==="TEXTAREA"||t.tagName==="SELECT"||t.isContentEditable}function N_(t){return pe.isMac?t.metaKey:t.ctrlKey}const{keyDownHandler:RH,addKeyboardShortcut:PH}=D_();window.document&&document.addEventListener("keydown",RH);const Bb=PH,ct=Boolean;function R5(t){return new Map(t.map(e=>[e.key,e]))}function LH(t,e,n){if(!t)return e;const s=R5(t),i=R5(e),a=[],l=[];for(const[p]of s)i.has(p)&&a.push(i.get(p));for(const[p,f]of i)s.has(p)||l.push(f);return n?[...l,...a]:[...a,...l]}function BH({children:t,newToTop:e}){const n=t.flat().filter(ct),s=K.useRef(),i=LH(s.current,n,e);return K.useEffect(()=>{s.current=i}),i}function FH(t){const e=K.useRef(t);return K.useEffect(()=>{e.current=t}),e.current}function Fb(t,e){const n=FH(t),s=K.useMemo(()=>n,[e]);return e?s:t}function k_({children:t,isActive:e}){return Fb(t,e)}function hx({useHook:t,children:e}){const n=t();return e?e(n):null}function Em(t){const e=K.useRef();return K.useInsertionEffect(()=>{e.current=t}),K.useCallback((...n)=>e.current(...n),[])}function Os(t,e){const n=K.useRef();return K.useInsertionEffect(()=>{n.current=t}),K.useCallback(Q6((...s)=>n.current(...s),e),[])}function HH({action:t}){const e=Em(t);return K.useLayoutEffect(e,[e]),null}function VH(t,e=!0){const n=K.useRef(t);return K.useInsertionEffect(()=>{e&&(n.current=t)},[e,t]),n}function rn(t,e){const n=K.useRef(!0);K.useEffect(n.current?()=>void(n.current=!1):e,[t])}function WH(t,e){const n=K.useRef(!0);K.useEffect(n.current?()=>void(n.current=!1):e,t)}function $H(t,e){K.useEffect(e,[t])}function __(){return K.useReducer(t=>t+1,0)[1]}function UH(t){const[e,n]=K.useState(t);return K.useLayoutEffect(()=>{n(t)},[t]),[e,n]}const Dp=new Set;let P5=!1,Xs=!1;const O_={get current(){return GH(),Xs}};function I_(){const t=__();return K.useEffect(()=>(Dp.add(t),()=>void Dp.delete(t)),[t]),O_.current}function GH(){if(P5)return;P5=!0;function t(n){!Xs&&n.key==="Tab"&&(Xs=!0,Dp.forEach(s=>s()))}function e(){Xs&&(Xs=!1,Dp.forEach(n=>n()))}document.addEventListener("keydown",t,{capture:!0,passive:!0}),document.addEventListener("mousedown",e,{capture:!0,passive:!0})}const M_=K.createContext({addKeyboardShortcut:Bb}),zH=K.forwardRef(function(e,n){const[s]=K.useState(D_);return r.jsx(M_.Provider,{value:s,children:r.jsx("div",{ref:n,"data-keyboard-shortcut-boundary":!0,...e,onKeyDown:i=>{var a;i.stopPropagation(),s.keyDownHandler(i),(a=e.onKeyDown)==null||a.call(e,i)}})})});function R_(){return K.useContext(M_)}function $e({isEnabled:t=!0,resetKey:e,key:n,shiftKey:s,commandKey:i,altKey:a,thenKey:l,isActiveWhenInputFocused:p},f){const v=VH(f),E=R_();K.useEffect(()=>{if(t)return E.addKeyboardShortcut({key:n,shiftKey:s,commandKey:i,altKey:a,thenKey:l,isActiveWhenInputFocused:p,execute:w=>v.current(w)})},[t,e,a,v,E,p,n,i,s,l])}function KH(t,e,n){const s=t.then(e,n);return s.cancel=t.cancel,s}function ZH(){let t,e,n;const s=new Promise((l,p)=>{t=l,e=p,n&&(n.type==="resolve"?l(n.value):p(n.value))});function i(l){if(t){t(l);return}n||(n={type:"resolve",value:l})}function a(l){if(e){e(l);return}n||(n={type:"reject",value:l})}return{promise:s,resolve:i,reject:a}}function Fe(t,e){if(pe.isDesktopApp&&t.match(/^https?:\/\//)){window.todesktop.contents.openUrlInBrowser(t);return}Object.assign(document.createElement("a"),{target:e?"_self":"_blank",href:t,rel:e?void 0:"noopener noreferrer"}).click()}function Qn(t){t.preventDefault()}function vt(t){t.stopPropagation()}function br(t,e){function n([s,i]){return[s,a=>(a.stopPropagation(),i(a))]}return Object.fromEntries(Object.entries(t).map(e?s=>e.includes(s[0])?s:n(s):n))}function fx(t,e=document.body){if(t.tagName==="INPUT"||t.tagName==="TEXTAREA")return!0;for(let n=t;n&&n!==e;n=n.parentElement)if(n.tagName==="BUTTON"||n.role==="button"||n.tagName==="A")return!0;return!1}function P_(t){return t instanceof HTMLAnchorElement?t:t.contentEditable==="true"||!t.parentElement?null:P_(t.parentElement)}function L_(t){if(t.button!==0)return;const e=P_(t.target);e&&(t.preventDefault(),Fe(e.href))}function As({nullDuration:t}){const e=[15,20,25,30,45,60,90,120,150,180];return(t?[null,...e]:e).map(s=>({value:s,label:s?YH(s):"No duration"}))}function YH(t){if(t>=60){const e=Math.floor(t/60),n=t%60;if(n===0||n===30){const s=n===30?e+.5:e;return`${new Intl.NumberFormat().format(s)} hour${s>1?"s":""}`}return`${e} hour${e>1?"s":""}`}return`${t} min`}function XH(t){return t}function at(...t){return(...e)=>t.every(n=>n(...e))}class y0 extends Error{constructor(n,s){super(n);ie(this,"statusCode");this.statusCode=s}}function Dm(t,e){const n=new URL(t);e&&Object.entries(e).forEach(([i,a])=>{if(a!=null){if(a instanceof Date){n.searchParams.append(i,bn(a));return}n.searchParams.append(i,a.toString())}});const s=n.toString();return s.endsWith("/")?s.slice(0,-1):s}function Vm(t){if(!t)throw new Error("Platform delegate not set!");return!0}class JH{constructor(){ie(this,"delegate",null)}setDelegate(e){this.delegate=e}getItem(e){return Vm(this.delegate)?this.delegate.getItem(`rise:${e}`):null}setItem(e,n){Vm(this.delegate)&&this.delegate.setItem(`rise:${e}`,n)}removeItem(e){Vm(this.delegate)&&this.delegate.removeItem(`rise:${e}`)}getKeys(){return Vm(this.delegate)?this.delegate.getKeys():[]}purge(){this.getKeys().forEach(e=>this.removeItem(e))}}const un=new JH;var L5,B5,F5,H5;function QH(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:V5(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||V5(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return tV(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:qH(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function qH(t){var e=eV(t,"string");return typeof e=="symbol"?e:e+""}function eV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V5(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function tV(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}var wv,Gi,zi,Ki;const Vp=class Vp{constructor(){B(this,Gi,(L5(this),B5(this,null)));B(this,zi,F5(this,null));B(this,Ki,H5(this,null))}get accessToken(){return H(this,Gi)}set accessToken(e){V(this,Gi,e)}get refreshToken(){return H(this,zi)}set refreshToken(e){V(this,zi,e)}get onLoginCallback(){return H(this,Ki)}set onLoginCallback(e){V(this,Ki,e)}setTokens(e,n){var s;this.accessToken=e,this.refreshToken=n,un.setItem("rise:auth:accessToken",e),un.setItem("rise:auth:refreshToken",n),(s=this.onLoginCallback)==null||s.call(this,!0)}loadTokens(){var e;this.accessToken=un.getItem("rise:auth:accessToken")??null,this.refreshToken=un.getItem("rise:auth:refreshToken")??null,(e=this.onLoginCallback)==null||e.call(this,!!(this.accessToken&&this.refreshToken))}clearTokens(){this.accessToken=null,this.refreshToken=null,un.removeItem("rise:auth:accessToken"),un.removeItem("rise:auth:refreshToken")}};wv=new WeakMap,Gi=new WeakMap,zi=new WeakMap,Ki=new WeakMap,B(Vp,wv,[B5,F5,H5,L5]=QH(Vp,[[re,1,"accessToken"],[re,1,"refreshToken"],[re,1,"onLoginCallback"],[Y,2,"setTokens"],[Y,2,"loadTokens"],[Y,2,"clearTokens"]],[]).e);let Hb=Vp;const Tt=new Hb;var Vb={};const nV=`${Vb.DEV_BACKEND_URL?Vb.DEV_BACKEND_URL+"/":"https://beta.risecalendar.com/"}`,rV=Vb.RISE_CLIENT_ID||"dbd6e340-c244-4b38-adcd-6d99d74aa122";let Us=null;async function sV(){if(!Tt.refreshToken)return"failure";if(Us)return Us;let t;return Us=new Promise(e=>{t=e}),iV(Tt.refreshToken).then(e=>{Tt.setTokens(e.access_token,e.refresh_token),t("success")}).catch(e=>{if(e.name==="HTTPError"&&e.response.status===400)return Tt.clearTokens(),t("failure");if(e.name==="TimeoutError"||e.name==="TypeError"&&e.message==="Network request failed")return t("timeout");t("failure")}).finally(()=>{Us=null}),Us}function iV(t){return q6.post(`${nV}auth/token`,{json:{grant_type:"refresh_token",client_id:rV,refresh_token:t}}).json()}async function W5({objectPool:t,preferLocal:e}){var n;if(e&&t.user)return{status:"authorizedLocal",user:t.user};try{const s=await ue.user.fetchMe();return(n=t.objectStorage)==null||n.setUserUuid(s.uuid),{status:"authorizedRemote",user:t.loadObject("user",s.uuid,s),isImpersonating:s.is_impersonating||!1}}catch(s){return s.name==="HTTPError"&&s.message.indexOf("401")>-1?{status:"unauthorized",user:null}:{status:"error",error:s}}}var $5={};const le={get:Wm("get"),post:Wm("post"),patch:Wm("patch"),delete:Wm("delete")},J0=`${$5.DEV_BACKEND_URL?$5.DEV_BACKEND_URL+"/":"https://beta.risecalendar.com/"}api/`,B_=[];function Wm(t){const e=q6[t];return function n(s,i={}){const a=Dm(J0+s,i.queryParams),l=new AbortController,p={headers:{Authentication:`Bearer ${Tt.accessToken}`}},f=e(a,{json:i.body,signal:l.signal,...Tt.accessToken?p:{},retry:pe.client==="ios"?{limit:0}:void 0}).json().catch(async v=>{var D;const E=(D=i.noSendToSentry)==null?void 0:D.call(i,v);if(v instanceof os){const{request:M,response:o}=v,d=M.url.replace(J0,"/api/");if(o.headers.has("www-authenticate")&&o.headers.get("www-authenticate").includes("invalid_token"))return sV().then(u=>{var P;return u==="success"?n(s,i):(u==="failure"&&(Tt.clearTokens(),(P=Tt.onLoginCallback)==null||P.call(Tt,!1)),Promise.reject("timeout"))}).catch(u=>{var P;return Tt.clearTokens(),(P=Tt.onLoginCallback)==null||P.call(Tt,!1),Promise.reject(u)});const m=new y0(`Request ${M.method} ${d} failed with status code ${o.status} ${o.statusText}`,o.status),h=await o.text();o.status===422?m.name=`UnprocessableContentError ${M.method} ${d}`:m.name="HTTPError",B_.push({date:new Date().toISOString(),method:M.method,url:d,body:JSON.stringify(i.body),status:o.status,response:h}),(E||!aV(o.status))&&(m.doNotSendToSentry=!0),$m({error:m,request:M,response:o,body:h,options:i})}if(v instanceof KP){const{request:M}=v,o=M.url.replace(J0,"/api/"),d=new Error(`Request ${M.method} ${o} timed out`);d.name="TimeoutError",d.doNotSendToSentry=!0,$m({error:d,request:M,options:i})}if(v instanceof TypeError&&v.message==="Network request failed"){const M=new Error("Network request failed");M.name="TypeError",M.doNotSendToSentry=!0,$m({error:M,options:i})}const w=Error(v.message);w.name=v.name,(E||w.name==="AbortError")&&(w.doNotSendToSentry=!0),$m({error:w,request:{method:t,url:a,body:JSON.stringify(i.body)},options:i})});return f.cancel=()=>l.abort(),f}}function aV(t){return t!==401}function $m({error:t,request:e,response:n,body:s,options:i}){const a=e?e instanceof Request?{method:e.method,url:e.url,body:JSON.stringify(i.body)}:e:void 0;throw ek(t,{contexts:{request:a,response:n?{status:n.status,body:s}:void 0}}),t}function U5(t){return t?{recurring_save_decision:t}:null}const ue={account:{list:()=>le.get("accounts/list"),patch:(t,e)=>le.patch(`accounts/${t}`,{body:e}),delete:t=>le.delete(`accounts/${t}`)},attachments:{list:()=>le.get("attachments/list")},boxes:{list:()=>le.get("boxes/list")},calendar:{patch:t=>le.patch(`calendars/${t.uuid}`,{body:t})},categories:{list:()=>le.get("categories/list"),save:(t,e)=>{if(e)return le.post("categories",{body:t});const{uuid:n,...s}=t;return le.patch(`categories/${n}`,{body:s})},delete:t=>le.delete(`categories/${t.uuid}`)},crossCalendarBlocking:{list:()=>le.get("cross_calendar_blocking/settings"),delete:t=>le.delete(`cross_calendar_blocking/settings/${t.uuid}`),save:(t,e)=>e?le.post("cross_calendar_blocking/settings",{body:t}):le.patch(`cross_calendar_blocking/settings/${t.uuid}`,{body:t})},comments:{list:()=>le.get("comments/list"),save:(t,e)=>{if(e)return le.post("comments",{body:t});const{uuid:n,...s}=t;return le.patch(`comments/${n}`,{body:s})},delete:t=>le.delete(`comments/${t.uuid}`)},conferenceSolutions:{list:()=>le.get("conference_solutions/list"),delete:t=>le.delete(`conference_solutions/${t.uuid}`),save:(t,e)=>e?le.post("conference_solutions",{body:t}):le.patch(`conference_solutions/${t.uuid}`,{body:t})},events:{fetchEvents:({startDate:t,endDate:e})=>le.get("events/list",{queryParams:{starts_at:t,ends_at:e}}),fetchEvent:t=>le.get(`events/${t}`,{noSendToSentry:e=>e instanceof os&&e.response.status===404}),fetchEventByICalUID:(t,e)=>le.get("events/by_ical_uid",{queryParams:{ical_uid:t,starts_at:e}}),saveEvent:(t,e)=>{if(e)return le.post("events",{body:t});const{recurringEventDecision:n,sendUpdatesDecision:s,uuid:i,...a}=t;return le.patch(`events/${t.uuid}`,{queryParams:{send_updates:!!s,...U5(n)},body:a})},deleteEvent:(t,e,n)=>le.delete(`events/${t}`,{queryParams:U5(e),noSendToSentry:n}),fetchForEmails:(t,e,n)=>le.get("events/list_by_emails",{queryParams:{emails:n,starts_at:t,ends_at:e}})},favorites:{getStatus:()=>le.get("favorites/status"),list:()=>le.get("favorites/list"),save:({json:t})=>le.post("favorites",{body:t}),delete:t=>le.delete(`favorites/${t}`)},findTime:t=>le.post("find_time",{body:t}),findTimeAsync:t=>le.post("find_time/async",{body:t}),groups:{list:()=>le.get("groups/list")},groupResponseStatus:{list:t=>le.get("groups/response_status",{queryParams:{event_uuid:t},noSendToSentry:e=>e instanceof os&&e.response.status===404})},inboxNotifications:{list:()=>le.get("inbox_notifications/list"),save:(t,e)=>{if(e)return console.warn("Not possible to create a InboxNotification model"),Promise.resolve();const{uuid:n,...s}=t;return le.patch(`inbox_notifications/${n}`,{body:s})},delete:t=>le.delete(`inbox_notifications/${t.uuid}`)},labels:{list:()=>le.get("labels/list"),save:(t,e)=>{if(e)return le.post("labels",{body:t});const{uuid:n,...s}=t;return le.patch(`labels/${n}`,{body:s})},delete:t=>le.delete(`labels/${t.uuid}`)},location:{autocomplete:t=>le.get("locations/autocomplete",{queryParams:{input:t}}),details:t=>le.get("locations/details",{queryParams:{place_id:t}})},meetingBoards:{create:t=>le.post("meeting_boards",{body:{event_uuid:t}})},optOuts:{post:t=>le.post("opt_outs",{body:{email:t}})},people:{list:()=>le.get("people/list"),listTopInDomains:()=>le.get("people/list_top_in_domains"),inviteByEmail:t=>le.post("invites",{body:{email:t}})},projects:{list:()=>le.get("projects/list"),save:(t,e)=>{if(e)return le.post("projects",{body:t});const{uuid:n,...s}=t;return le.patch(`projects/${n}`,{body:s})},delete:t=>le.delete(`projects/${t.uuid}`),userPreferences:{list:()=>le.get("projects/user_preferences/list"),save:(t,e)=>{if(e)return le.post("projects/user_preferences",{body:t});const{uuid:n,...s}=t;return le.patch(`projects/user_preferences/${n}`,{body:s})},delete:t=>le.delete(`projects/user_preferences/${t.uuid}`)}},projectCategories:{list:()=>le.get("project_categories/list"),save:(t,e)=>e?le.post(`categories/${t.category_uuid}/project_categories`,{body:t}):(console.warn("Not possible to patch a projectCategories model"),Promise.resolve()),delete:t=>{var e;return le.delete(`categories/${(e=t.category)==null?void 0:e.uuid}/project_categories/${t.uuid}`)}},projectStates:{list:()=>le.get("project_states/list"),save:(t,e)=>{if(e)return le.post("project_states",{body:t});const{uuid:n,...s}=t;return le.patch(`project_states/${n}`,{body:s})},delete:t=>le.delete(`project_states/${t.uuid}`)},resources:{list:()=>le.get("resources/list"),listAvailability:({startsAt:t,endsAt:e,accountUuid:n})=>le.get("resources/list_availability",{queryParams:{starts_at:t,ends_at:e,account_uuid:n}})},search:(t,e)=>le.get("search",{queryParams:{q:t,limit:e}}),schedulingLinks:{list:()=>le.get("scheduling_links/list"),listBookedEvents:t=>le.get(`scheduling_links/${t}/list_booked_events`),save:(t,e)=>e?le.post("scheduling_links",{body:t}):le.patch(`scheduling_links/${t.uuid}`,{body:t}),delete:t=>le.delete(`scheduling_links/${t.uuid}`)},subscriptions:{list:()=>le.get("subscriptions/list"),create:(t,e)=>le.post("subscriptions/create",{body:{workspace_uuid:t,plan:e}}),requestPortalSessionLink:t=>le.post("subscriptions/request_portal_session_link",{body:{workspace_uuid:t}}),saveMember:(t,e,n)=>le.patch("subscriptions/member",{body:{workspace_uuid:t,user_uuid:e,access_level:n}})},subtasks:{list:()=>le.get("subtasks/list"),save:(t,e)=>{if(e)return le.post("subtasks",{body:t});const{uuid:n,...s}=t;return le.patch(`subtasks/${n}`,{body:s})},delete:t=>le.delete(`subtasks/${t.uuid}`)},tasks:{list:()=>le.get("tasks/list"),fetchTask:t=>le.get(`tasks/${t}`,{noSendToSentry:e=>e instanceof os&&e.response.status===404}),save:(t,e)=>{if(e)return le.post("tasks",{body:t});const{uuid:n,...s}=t;return le.patch(`tasks/${n}`,{body:s})},delete:t=>le.delete(`tasks/${t.uuid}`),getAttachment:(t,e)=>le.get(`tasks/${t}/attachments/${e}`),getAttachments:t=>le.get(`tasks/${t}/attachments`),addAttachment:(t,e,n,s,i)=>le.post(`tasks/${t}/attachments/${e}`,{body:{file_name:n,file_size:s,file_type:i}}),deleteAttachment:(t,e)=>le.delete(`tasks/${t}/attachments/${e}`),getChangelog:t=>le.get(`tasks/${t}/changelog`)},task_labels:{list:()=>le.get("task_labels/list"),save:(t,e)=>e?le.post("task_labels",{body:t}):(console.warn("Not possible to patch a task_labels model"),Promise.resolve()),delete:t=>le.delete(`task_labels/${t.uuid}`)},task_subscriptions:{list:()=>le.get("task_subscriptions/list"),save:(t,e)=>e?le.post("task_subscriptions",{body:t}):(console.warn("Not possible to patch a task_subscription model"),Promise.resolve()),delete:t=>le.delete(`task_subscriptions/${t.uuid}`)},teams:{list:()=>le.get("teams/list"),save:(t,e)=>{if(e)return le.post("teams",{body:t});const{uuid:n,...s}=t;return le.patch(`teams/${n}`,{body:s})},delete:t=>le.delete(`teams/${t.uuid}`)},team_memberships:{list:()=>le.get("team_memberships/list"),save:(t,e)=>{if(e)return le.post("team_memberships",{body:t});const{uuid:n,...s}=t;return le.patch(`team_memberships/${n}`,{body:s})},delete:t=>le.delete(`team_memberships/${t.uuid}`)},user:{fetchJWT:()=>le.get("user/jwt",{noSendToSentry:t=>t instanceof os&&t.response.status===401}),fetchMe:()=>le.get("user/me"),patchMe:t=>le.patch("user/me",{body:t}),checkUsername:t=>le.get("user/check_username",{queryParams:{username:t}}),loginWithToken:t=>le.post("user/login",{body:{token:t}}),requestLoginCodeEmail:(t,e)=>le.post("user/login_code/request",{body:{email:t},noSendToSentry:e}),createLoginCode:()=>le.post("user/login_code/create"),loginWithLoginCode:t=>le.post("user/login_code/login",{body:{code:t}}),emailDownloadLink:()=>le.get("user/email_download_link"),deleteUser:()=>le.delete("user/delete_user"),getProfileImageUploadUrl:(t,e,n)=>le.post("user/profile_image_upload_url",{body:{file_name:t,file_size:e,file_type:n}}),addDevice:(t,e)=>le.post("user/device",{body:{platform:t,token:e}})},views:{list:()=>le.get("views/list"),save:(t,e)=>{if(e){const a=t.project_uuid?`projects/${t.project_uuid}/views`:`boxes/${t.box_uuid}/views`;return le.post(a,{body:t})}const{uuid:n,...s}=t,i=t.project_uuid?`projects/${t.project_uuid}/views/${n}`:`boxes/${t.box_uuid}/views/${n}`;return le.patch(i,{body:s})}},waitingForIntegrations:{register:(t,e)=>le.post("waiting_for_integrations",{body:{email:t,integration_type:e}})},workspace_memberships:{list:()=>le.get("workspace_memberships/list")},workspace_task_status:{list:()=>le.get("workspace_task_status/list"),save:(t,e)=>{if(e)return le.post("workspace_task_status",{body:t});const{uuid:n,...s}=t;return le.patch(`workspace_task_status/${n}`,{body:s})},delete:t=>le.delete(`workspace_task_status/${t.uuid}`)},workspaces:{list:()=>le.get("workspaces/list"),save:(t,e)=>{if(e)throw new Error("Not possible to create a workspace");const{uuid:n,...s}=t;return le.patch(`workspaces/${n}`,{body:s})}}};function oV(t){try{return new URL(t),!0}catch{return!1}}function lV(t){return!/^\s*(?:javascript|data):/i.test(t)}function F_(t,e="google_maps"){return oV(t)&&lV(t)?t:e==="google_maps"?`https://www.google.com/maps/search/${encodeURIComponent(t)}`:`https://maps.apple.com/?q=${encodeURIComponent(t)}`}const v0=window.todesktop?"web-electron":"web";function aie(t,e=[]){const n=Dm("https://beta.risecalendar.com/login",{client:v0,redirect:t,...e.length>0?{scopes:e.join(",")}:void 0});Fe(n,!0)}async function x0(t,e=[]){const n=await cV(t,e);Fe(n,!0)}async function cV(t,e=[]){const{login_code:n}=await ue.user.createLoginCode();return Dm("https://beta.risecalendar.com/api/accounts/connect_account/google",{client:v0,origin:t,login_code:n,...e.length>0?{scopes:e.join(",")}:void 0})}async function oie(t){const{login_code:e}=await ue.user.createLoginCode(),n=await Dm(`https://beta.risecalendar.com/api/accounts/reconnect/${t}`,{client:v0,origin:"app",login_code:e});Fe(n,!0)}async function H_(t,e=[]){const n=await uV(t,e);Fe(n,!0)}async function uV(t,e=[]){let n="";try{n=(await ue.user.createLoginCode()).login_code}catch(s){if(s.statusCode!==401)throw s}return Dm("https://beta.risecalendar.com/outlook/authorize",{client:v0,origin:t,login_code:n,...e.length>0?{scopes:e.join(",")}:void 0})}function V_(t){const e=t===12;return Array(24).fill(null).flatMap((n,s)=>{const i=s.toString().padStart(2,"0"),a=`${i}:00`,l=`${i}:30`,p=a,f=rt(new Date(1970,0,1,s,0),"hh:mm a"),v=l,E=rt(new Date(1970,0,1,s,30),"hh:mm a");return[{value:a,label:e?f:p,keywords:[e?p:f]},{value:l,label:e?E:v,keywords:[e?v:E]}]})}const dV=`# Version 2023090700, Last Updated Thu Sep  7 07:07:01 2023 UTC
AAA
AARP
ABB
ABBOTT
ABBVIE
ABC
ABLE
ABOGADO
ABUDHABI
AC
ACADEMY
ACCENTURE
ACCOUNTANT
ACCOUNTANTS
ACO
ACTOR
AD
ADS
ADULT
AE
AEG
AERO
AETNA
AF
AFL
AFRICA
AG
AGAKHAN
AGENCY
AI
AIG
AIRBUS
AIRFORCE
AIRTEL
AKDN
AL
ALIBABA
ALIPAY
ALLFINANZ
ALLSTATE
ALLY
ALSACE
ALSTOM
AM
AMAZON
AMERICANEXPRESS
AMERICANFAMILY
AMEX
AMFAM
AMICA
AMSTERDAM
ANALYTICS
ANDROID
ANQUAN
ANZ
AO
AOL
APARTMENTS
APP
APPLE
AQ
AQUARELLE
AR
ARAB
ARAMCO
ARCHI
ARMY
ARPA
ART
ARTE
AS
ASDA
ASIA
ASSOCIATES
AT
ATHLETA
ATTORNEY
AU
AUCTION
AUDI
AUDIBLE
AUDIO
AUSPOST
AUTHOR
AUTO
AUTOS
AVIANCA
AW
AWS
AX
AXA
AZ
AZURE
BA
BABY
BAIDU
BANAMEX
BANANAREPUBLIC
BAND
BANK
BAR
BARCELONA
BARCLAYCARD
BARCLAYS
BAREFOOT
BARGAINS
BASEBALL
BASKETBALL
BAUHAUS
BAYERN
BB
BBC
BBT
BBVA
BCG
BCN
BD
BE
BEATS
BEAUTY
BEER
BENTLEY
BERLIN
BEST
BESTBUY
BET
BF
BG
BH
BHARTI
BI
BIBLE
BID
BIKE
BING
BINGO
BIO
BIZ
BJ
BLACK
BLACKFRIDAY
BLOCKBUSTER
BLOG
BLOOMBERG
BLUE
BM
BMS
BMW
BN
BNPPARIBAS
BO
BOATS
BOEHRINGER
BOFA
BOM
BOND
BOO
BOOK
BOOKING
BOSCH
BOSTIK
BOSTON
BOT
BOUTIQUE
BOX
BR
BRADESCO
BRIDGESTONE
BROADWAY
BROKER
BROTHER
BRUSSELS
BS
BT
BUILD
BUILDERS
BUSINESS
BUY
BUZZ
BV
BW
BY
BZ
BZH
CA
CAB
CAFE
CAL
CALL
CALVINKLEIN
CAM
CAMERA
CAMP
CANON
CAPETOWN
CAPITAL
CAPITALONE
CAR
CARAVAN
CARDS
CARE
CAREER
CAREERS
CARS
CASA
CASE
CASH
CASINO
CAT
CATERING
CATHOLIC
CBA
CBN
CBRE
CBS
CC
CD
CENTER
CEO
CERN
CF
CFA
CFD
CG
CH
CHANEL
CHANNEL
CHARITY
CHASE
CHAT
CHEAP
CHINTAI
CHRISTMAS
CHROME
CHURCH
CI
CIPRIANI
CIRCLE
CISCO
CITADEL
CITI
CITIC
CITY
CITYEATS
CK
CL
CLAIMS
CLEANING
CLICK
CLINIC
CLINIQUE
CLOTHING
CLOUD
CLUB
CLUBMED
CM
CN
CO
COACH
CODES
COFFEE
COLLEGE
COLOGNE
COM
COMCAST
COMMBANK
COMMUNITY
COMPANY
COMPARE
COMPUTER
COMSEC
CONDOS
CONSTRUCTION
CONSULTING
CONTACT
CONTRACTORS
COOKING
COOL
COOP
CORSICA
COUNTRY
COUPON
COUPONS
COURSES
CPA
CR
CREDIT
CREDITCARD
CREDITUNION
CRICKET
CROWN
CRS
CRUISE
CRUISES
CU
CUISINELLA
CV
CW
CX
CY
CYMRU
CYOU
CZ
DABUR
DAD
DANCE
DATA
DATE
DATING
DATSUN
DAY
DCLK
DDS
DE
DEAL
DEALER
DEALS
DEGREE
DELIVERY
DELL
DELOITTE
DELTA
DEMOCRAT
DENTAL
DENTIST
DESI
DESIGN
DEV
DHL
DIAMONDS
DIET
DIGITAL
DIRECT
DIRECTORY
DISCOUNT
DISCOVER
DISH
DIY
DJ
DK
DM
DNP
DO
DOCS
DOCTOR
DOG
DOMAINS
DOT
DOWNLOAD
DRIVE
DTV
DUBAI
DUNLOP
DUPONT
DURBAN
DVAG
DVR
DZ
EARTH
EAT
EC
ECO
EDEKA
EDU
EDUCATION
EE
EG
EMAIL
EMERCK
ENERGY
ENGINEER
ENGINEERING
ENTERPRISES
EPSON
EQUIPMENT
ER
ERICSSON
ERNI
ES
ESQ
ESTATE
ET
ETISALAT
EU
EUROVISION
EUS
EVENTS
EXCHANGE
EXPERT
EXPOSED
EXPRESS
EXTRASPACE
FAGE
FAIL
FAIRWINDS
FAITH
FAMILY
FAN
FANS
FARM
FARMERS
FASHION
FAST
FEDEX
FEEDBACK
FERRARI
FERRERO
FI
FIDELITY
FIDO
FILM
FINAL
FINANCE
FINANCIAL
FIRE
FIRESTONE
FIRMDALE
FISH
FISHING
FIT
FITNESS
FJ
FK
FLICKR
FLIGHTS
FLIR
FLORIST
FLOWERS
FLY
FM
FO
FOO
FOOD
FOOTBALL
FORD
FOREX
FORSALE
FORUM
FOUNDATION
FOX
FR
FREE
FRESENIUS
FRL
FROGANS
FRONTDOOR
FRONTIER
FTR
FUJITSU
FUN
FUND
FURNITURE
FUTBOL
FYI
GA
GAL
GALLERY
GALLO
GALLUP
GAME
GAMES
GAP
GARDEN
GAY
GB
GBIZ
GD
GDN
GE
GEA
GENT
GENTING
GEORGE
GF
GG
GGEE
GH
GI
GIFT
GIFTS
GIVES
GIVING
GL
GLASS
GLE
GLOBAL
GLOBO
GM
GMAIL
GMBH
GMO
GMX
GN
GODADDY
GOLD
GOLDPOINT
GOLF
GOO
GOODYEAR
GOOG
GOOGLE
GOP
GOT
GOV
GP
GQ
GR
GRAINGER
GRAPHICS
GRATIS
GREEN
GRIPE
GROCERY
GROUP
GS
GT
GU
GUARDIAN
GUCCI
GUGE
GUIDE
GUITARS
GURU
GW
GY
HAIR
HAMBURG
HANGOUT
HAUS
HBO
HDFC
HDFCBANK
HEALTH
HEALTHCARE
HELP
HELSINKI
HERE
HERMES
HIPHOP
HISAMITSU
HITACHI
HIV
HK
HKT
HM
HN
HOCKEY
HOLDINGS
HOLIDAY
HOMEDEPOT
HOMEGOODS
HOMES
HOMESENSE
HONDA
HORSE
HOSPITAL
HOST
HOSTING
HOT
HOTELS
HOTMAIL
HOUSE
HOW
HR
HSBC
HT
HU
HUGHES
HYATT
HYUNDAI
IBM
ICBC
ICE
ICU
ID
IE
IEEE
IFM
IKANO
IL
IM
IMAMAT
IMDB
IMMO
IMMOBILIEN
IN
INC
INDUSTRIES
INFINITI
INFO
ING
INK
INSTITUTE
INSURANCE
INSURE
INT
INTERNATIONAL
INTUIT
INVESTMENTS
IO
IPIRANGA
IQ
IR
IRISH
IS
ISMAILI
IST
ISTANBUL
IT
ITAU
ITV
JAGUAR
JAVA
JCB
JE
JEEP
JETZT
JEWELRY
JIO
JLL
JM
JMP
JNJ
JO
JOBS
JOBURG
JOT
JOY
JP
JPMORGAN
JPRS
JUEGOS
JUNIPER
KAUFEN
KDDI
KE
KERRYHOTELS
KERRYLOGISTICS
KERRYPROPERTIES
KFH
KG
KH
KI
KIA
KIDS
KIM
KINDER
KINDLE
KITCHEN
KIWI
KM
KN
KOELN
KOMATSU
KOSHER
KP
KPMG
KPN
KR
KRD
KRED
KUOKGROUP
KW
KY
KYOTO
KZ
LA
LACAIXA
LAMBORGHINI
LAMER
LANCASTER
LAND
LANDROVER
LANXESS
LASALLE
LAT
LATINO
LATROBE
LAW
LAWYER
LB
LC
LDS
LEASE
LECLERC
LEFRAK
LEGAL
LEGO
LEXUS
LGBT
LI
LIDL
LIFE
LIFEINSURANCE
LIFESTYLE
LIGHTING
LIKE
LILLY
LIMITED
LIMO
LINCOLN
LINK
LIPSY
LIVE
LIVING
LK
LLC
LLP
LOAN
LOANS
LOCKER
LOCUS
LOL
LONDON
LOTTE
LOTTO
LOVE
LPL
LPLFINANCIAL
LR
LS
LT
LTD
LTDA
LU
LUNDBECK
LUXE
LUXURY
LV
LY
MA
MADRID
MAIF
MAISON
MAKEUP
MAN
MANAGEMENT
MANGO
MAP
MARKET
MARKETING
MARKETS
MARRIOTT
MARSHALLS
MATTEL
MBA
MC
MCKINSEY
MD
ME
MED
MEDIA
MEET
MELBOURNE
MEME
MEMORIAL
MEN
MENU
MERCKMSD
MG
MH
MIAMI
MICROSOFT
MIL
MINI
MINT
MIT
MITSUBISHI
MK
ML
MLB
MLS
MM
MMA
MN
MO
MOBI
MOBILE
MODA
MOE
MOI
MOM
MONASH
MONEY
MONSTER
MORMON
MORTGAGE
MOSCOW
MOTO
MOTORCYCLES
MOV
MOVIE
MP
MQ
MR
MS
MSD
MT
MTN
MTR
MU
MUSEUM
MUSIC
MV
MW
MX
MY
MZ
NA
NAB
NAGOYA
NAME
NATURA
NAVY
NBA
NC
NE
NEC
NET
NETBANK
NETFLIX
NETWORK
NEUSTAR
NEW
NEWS
NEXT
NEXTDIRECT
NEXUS
NF
NFL
NG
NGO
NHK
NI
NICO
NIKE
NIKON
NINJA
NISSAN
NISSAY
NL
NO
NOKIA
NORTON
NOW
NOWRUZ
NOWTV
NP
NR
NRA
NRW
NTT
NU
NYC
NZ
OBI
OBSERVER
OFFICE
OKINAWA
OLAYAN
OLAYANGROUP
OLDNAVY
OLLO
OM
OMEGA
ONE
ONG
ONL
ONLINE
OOO
OPEN
ORACLE
ORANGE
ORG
ORGANIC
ORIGINS
OSAKA
OTSUKA
OTT
OVH
PA
PAGE
PANASONIC
PARIS
PARS
PARTNERS
PARTS
PARTY
PAY
PCCW
PE
PET
PF
PFIZER
PG
PH
PHARMACY
PHD
PHILIPS
PHONE
PHOTO
PHOTOGRAPHY
PHOTOS
PHYSIO
PICS
PICTET
PICTURES
PID
PIN
PING
PINK
PIONEER
PIZZA
PK
PL
PLACE
PLAY
PLAYSTATION
PLUMBING
PLUS
PM
PN
PNC
POHL
POKER
POLITIE
PORN
POST
PR
PRAMERICA
PRAXI
PRESS
PRIME
PRO
PROD
PRODUCTIONS
PROF
PROGRESSIVE
PROMO
PROPERTIES
PROPERTY
PROTECTION
PRU
PRUDENTIAL
PS
PT
PUB
PW
PWC
PY
QA
QPON
QUEBEC
QUEST
RACING
RADIO
RE
READ
REALESTATE
REALTOR
REALTY
RECIPES
RED
REDSTONE
REDUMBRELLA
REHAB
REISE
REISEN
REIT
RELIANCE
REN
RENT
RENTALS
REPAIR
REPORT
REPUBLICAN
REST
RESTAURANT
REVIEW
REVIEWS
REXROTH
RICH
RICHARDLI
RICOH
RIL
RIO
RIP
RO
ROCHER
ROCKS
RODEO
ROGERS
ROOM
RS
RSVP
RU
RUGBY
RUHR
RUN
RW
RWE
RYUKYU
SA
SAARLAND
SAFE
SAFETY
SAKURA
SALE
SALON
SAMSCLUB
SAMSUNG
SANDVIK
SANDVIKCOROMANT
SANOFI
SAP
SARL
SAS
SAVE
SAXO
SB
SBI
SBS
SC
SCA
SCB
SCHAEFFLER
SCHMIDT
SCHOLARSHIPS
SCHOOL
SCHULE
SCHWARZ
SCIENCE
SCOT
SD
SE
SEARCH
SEAT
SECURE
SECURITY
SEEK
SELECT
SENER
SERVICES
SEVEN
SEW
SEX
SEXY
SFR
SG
SH
SHANGRILA
SHARP
SHAW
SHELL
SHIA
SHIKSHA
SHOES
SHOP
SHOPPING
SHOUJI
SHOW
SHOWTIME
SI
SILK
SINA
SINGLES
SITE
SJ
SK
SKI
SKIN
SKY
SKYPE
SL
SLING
SM
SMART
SMILE
SN
SNCF
SO
SOCCER
SOCIAL
SOFTBANK
SOFTWARE
SOHU
SOLAR
SOLUTIONS
SONG
SONY
SOY
SPA
SPACE
SPORT
SPOT
SR
SRL
SS
ST
STADA
STAPLES
STAR
STATEBANK
STATEFARM
STC
STCGROUP
STOCKHOLM
STORAGE
STORE
STREAM
STUDIO
STUDY
STYLE
SU
SUCKS
SUPPLIES
SUPPLY
SUPPORT
SURF
SURGERY
SUZUKI
SV
SWATCH
SWISS
SX
SY
SYDNEY
SYSTEMS
SZ
TAB
TAIPEI
TALK
TAOBAO
TARGET
TATAMOTORS
TATAR
TATTOO
TAX
TAXI
TC
TCI
TD
TDK
TEAM
TECH
TECHNOLOGY
TEL
TEMASEK
TENNIS
TEVA
TF
TG
TH
THD
THEATER
THEATRE
TIAA
TICKETS
TIENDA
TIPS
TIRES
TIROL
TJ
TJMAXX
TJX
TK
TKMAXX
TL
TM
TMALL
TN
TO
TODAY
TOKYO
TOOLS
TOP
TORAY
TOSHIBA
TOTAL
TOURS
TOWN
TOYOTA
TOYS
TR
TRADE
TRADING
TRAINING
TRAVEL
TRAVELERS
TRAVELERSINSURANCE
TRUST
TRV
TT
TUBE
TUI
TUNES
TUSHU
TV
TVS
TW
TZ
UA
UBANK
UBS
UG
UK
UNICOM
UNIVERSITY
UNO
UOL
UPS
US
UY
UZ
VA
VACATIONS
VANA
VANGUARD
VC
VE
VEGAS
VENTURES
VERISIGN
VERSICHERUNG
VET
VG
VI
VIAJES
VIDEO
VIG
VIKING
VILLAS
VIN
VIP
VIRGIN
VISA
VISION
VIVA
VIVO
VLAANDEREN
VN
VODKA
VOLKSWAGEN
VOLVO
VOTE
VOTING
VOTO
VOYAGE
VU
WALES
WALMART
WALTER
WANG
WANGGOU
WATCH
WATCHES
WEATHER
WEATHERCHANNEL
WEBCAM
WEBER
WEBSITE
WED
WEDDING
WEIBO
WEIR
WF
WHOSWHO
WIEN
WIKI
WILLIAMHILL
WIN
WINDOWS
WINE
WINNERS
WME
WOLTERSKLUWER
WOODSIDE
WORK
WORKS
WORLD
WOW
WS
WTC
WTF
XBOX
XEROX
XFINITY
XIHUAN
XIN
XN--11B4C3D
XN--1CK2E1B
XN--1QQW23A
XN--2SCRJ9C
XN--30RR7Y
XN--3BST00M
XN--3DS443G
XN--3E0B707E
XN--3HCRJ9C
XN--3PXU8K
XN--42C2D9A
XN--45BR5CYL
XN--45BRJ9C
XN--45Q11C
XN--4DBRK0CE
XN--4GBRIM
XN--54B7FTA0CC
XN--55QW42G
XN--55QX5D
XN--5SU34J936BGSG
XN--5TZM5G
XN--6FRZ82G
XN--6QQ986B3XL
XN--80ADXHKS
XN--80AO21A
XN--80AQECDR1A
XN--80ASEHDB
XN--80ASWG
XN--8Y0A063A
XN--90A3AC
XN--90AE
XN--90AIS
XN--9DBQ2A
XN--9ET52U
XN--9KRT00A
XN--B4W605FERD
XN--BCK1B9A5DRE4C
XN--C1AVG
XN--C2BR7G
XN--CCK2B3B
XN--CCKWCXETD
XN--CG4BKI
XN--CLCHC0EA0B2G2A9GCD
XN--CZR694B
XN--CZRS0T
XN--CZRU2D
XN--D1ACJ3B
XN--D1ALF
XN--E1A4C
XN--ECKVDTC9D
XN--EFVY88H
XN--FCT429K
XN--FHBEI
XN--FIQ228C5HS
XN--FIQ64B
XN--FIQS8S
XN--FIQZ9S
XN--FJQ720A
XN--FLW351E
XN--FPCRJ9C3D
XN--FZC2C9E2C
XN--FZYS8D69UVGM
XN--G2XX48C
XN--GCKR3F0F
XN--GECRJ9C
XN--GK3AT1E
XN--H2BREG3EVE
XN--H2BRJ9C
XN--H2BRJ9C8C
XN--HXT814E
XN--I1B6B1A6A2E
XN--IMR513N
XN--IO0A7I
XN--J1AEF
XN--J1AMH
XN--J6W193G
XN--JLQ480N2RG
XN--JVR189M
XN--KCRX77D1X4A
XN--KPRW13D
XN--KPRY57D
XN--KPUT3I
XN--L1ACC
XN--LGBBAT1AD8J
XN--MGB9AWBF
XN--MGBA3A3EJT
XN--MGBA3A4F16A
XN--MGBA7C0BBN0A
XN--MGBAAKC7DVF
XN--MGBAAM7A8H
XN--MGBAB2BD
XN--MGBAH1A3HJKRD
XN--MGBAI9AZGQP6J
XN--MGBAYH7GPA
XN--MGBBH1A
XN--MGBBH1A71E
XN--MGBC0A9AZCG
XN--MGBCA7DZDO
XN--MGBCPQ6GPA1A
XN--MGBERP4A5D4AR
XN--MGBGU82A
XN--MGBI4ECEXP
XN--MGBPL2FH
XN--MGBT3DHD
XN--MGBTX2B
XN--MGBX4CD0AB
XN--MIX891F
XN--MK1BU44C
XN--MXTQ1M
XN--NGBC5AZD
XN--NGBE9E0A
XN--NGBRX
XN--NODE
XN--NQV7F
XN--NQV7FS00EMA
XN--NYQY26A
XN--O3CW4H
XN--OGBPF8FL
XN--OTU796D
XN--P1ACF
XN--P1AI
XN--PGBS0DH
XN--PSSY2U
XN--Q7CE6A
XN--Q9JYB4C
XN--QCKA1PMC
XN--QXA6A
XN--QXAM
XN--RHQV96G
XN--ROVU88B
XN--RVC1E0AM3E
XN--S9BRJ9C
XN--SES554G
XN--T60B56A
XN--TCKWE
XN--TIQ49XQYJ
XN--UNUP4Y
XN--VERMGENSBERATER-CTB
XN--VERMGENSBERATUNG-PWB
XN--VHQUV
XN--VUQ861B
XN--W4R85EL8FHU5DNRA
XN--W4RS40L
XN--WGBH1C
XN--WGBL6A
XN--XHQ521B
XN--XKC2AL3HYE2A
XN--XKC2DL3A5EE0H
XN--Y9A3AQ
XN--YFRO4I67O
XN--YGBI2AMMX
XN--ZFR164B
XXX
XYZ
YACHTS
YAHOO
YAMAXUN
YANDEX
YE
YODOBASHI
YOGA
YOKOHAMA
YOU
YOUTUBE
YT
YUN
ZA
ZAPPOS
ZARA
ZERO
ZIP
ZM
ZONE
ZUERICH
ZW`,hV=dV.split(`
`).filter(t=>!t.startsWith("#")).map(t=>`.${t.toLowerCase()}`),fV=/^(https?:\/\/)?[a-zA-Z0-9_-]+\.[a-zA-Z0-9_-]+.+$/;function mV(t){let e;try{e=new URL(t)}catch{return!1}return(e.protocol==="http:"||e.protocol==="https:")&&t.match(fV)&&hV.some(n=>e.hostname.toLowerCase().endsWith(n))}function lie(){function t(e){const n=e.target;if(O_.current||!n||n.tagName!=="BUTTON"&&n.role!=="button"||n.dataset.noPreventFocus==="true")return;if(n.dataset.noPreventFocusOnce==="true"){delete n.dataset.noPreventFocusOnce;return}e.stopPropagation(),n.addEventListener("focusout",vt,{once:!0});const s=W_(n);n.blur(),s==null||s.focus()}document.addEventListener("focusin",t,{capture:!0,passive:!0})}function W_(t){return t.dataset.keyboardShortcutBoundary?t:t.parentElement&&W_(t.parentElement)}function pV(t){t&&(t.dataset.noPreventFocusOnce="true",t.focus())}function mx(t){var i;if(t===null)return null;const e=[];t.commandKey&&e.push("CommandOrControl"),t.shiftKey&&e.push("Shift"),t.altKey&&e.push("Alt"),t.ctrlKey&&e.push("Ctrl");const s={" ":"Space","":"`"}[t.key]||((i=t.key)==null?void 0:i.toUpperCase());return s&&e.push(s),e.join("+")}function $_(t){var p;if(t==null)return null;const e=t.toLowerCase().replace("space"," ").split("+");if(e.length===0)return null;const n=e.includes("commandorcontrol")||e.includes("meta"),s=e.includes("shift"),i=e.includes("alt"),a=e.includes("ctrl"),l=(p=e.filter(f=>f.length===1)[0])==null?void 0:p.toUpperCase();return l===void 0?null:{key:l,...n?{commandKey:!0}:void 0,...s?{shiftKey:!0}:void 0,...i?{altKey:!0}:void 0,...a?{ctrlKey:!0}:void 0}}const U_={key:"Escape",isActiveWhenInputFocused:!0};function Rt(t,{isEnabled:e=!0,resetKey:n}={}){$e({...U_,isEnabled:e,resetKey:n},G_(t))}function gV({callback:t,...e}){return Rt(t,e),null}function bV(){const{addKeyboardShortcut:t}=R_(),e=K.useRef();return K.useEffect(()=>()=>{var n;return(n=e.current)==null?void 0:n.call(e)},[]),function(s){var i;(i=e.current)==null||i.call(e),e.current=s&&t({...U_,execute:G_(s)})}}function G_(t){return function(n){n.defaultPrevented||(n.preventDefault(),t())}}function yV(t,{isEnabled:e=!0}={}){const[n,s]=K.useState(()=>e&&px.has(t));return K.useEffect(()=>{if(e)return vV(t,s)},[t,e]),n}function vV(t,e){fs.getSubscriberCount()===0&&xV();const n=fs.add(t,e);return e(px.has(t)),function(){n(),e(!1),fs.getSubscriberCount()===0&&jV()}}const fs=c_();let Js=null,px=new Set;function xV(){Js===null&&(window.addEventListener("keydown",z_,{passive:!0}),window.addEventListener("keyup",K_,{passive:!0}))}function jV(){Js!==null&&window.clearTimeout(Js),Js=window.setTimeout(()=>{Js=null,fs.getSubscriberCount()===0&&(window.removeEventListener("keydown",z_),window.removeEventListener("keyup",K_),px=new Set)},1e3)}function z_(t){fs.forEachInKey(t.key,e=>{e(!0)})}function K_(t){fs.forEachInKey(t.key,e=>{e(!1)})}const We=K.forwardRef(function({depth:e=1,children:n,...s},i){if(e>=1&&e%1===0)return Z_(i,s,n,e);throw Error("Invalid depth")});function Z_(t,e,n,s){return K.cloneElement(n,void 0,s===1?r.jsx(tk,{ref:t,...e,children:n.props.children}):Z_(t,e,n.props.children,s-1))}function Y_(t){const e=K.useRef(null),n=Em(t);return K.useLayoutEffect(()=>{const s=e.current;n({width:s.offsetWidth,height:s.offsetHeight});const i=new ResizeObserver(a=>{const l=a[0].borderBoxSize[0];n({width:l.inlineSize,height:l.blockSize})});return i.observe(s,{box:"border-box"}),()=>i.unobserve(s)},[n]),e}function In(t){return{renderComponent:t}}function Um(t,e){return SV(t)?t.renderComponent(e):r.jsx(t,{...e})}function SV(t){return typeof t.renderComponent=="function"}function ze(t,e){if(typeof t=="function")return r.jsx(t,{className:e});if(!e)return t;const n=t.props.className;return K.cloneElement(t,{className:n?Ae(e,n):e})}function X_(t=!0){const e=K.useRef(null);return K.useEffect(()=>{const n=e.current;t&&n&&window.setTimeout(()=>pV(n))},[t]),e}function AV(t){const e=K.useRef(null);return K.useEffect(()=>{var n;t&&((n=e.current)==null||n.select())},[t]),e}function wm(t){K.useEffect(()=>{if(t)return document.body.classList.add(...t.split(" ")),()=>document.body.classList.remove(...t.split(" "))})}function Is({initialIndex:t=0,optionsLength:e,resetKey:n,submit:s}){const[i,a]=K.useReducer(EV(e),t,DV);return rn(n,()=>a({type:"reset"})),$e({key:"ArrowDown",isActiveWhenInputFocused:!0},l=>{l.preventDefault(),a({type:"increment"})}),$e({key:"ArrowUp",isActiveWhenInputFocused:!0},l=>{l.preventDefault(),a({type:"decrement"})}),$e({key:"Enter",isActiveWhenInputFocused:!0},l=>{l.preventDefault(),i.index<e&&s(i.index)}),{selectedOptionIndex:i.index,scrollIntoViewKey:i.shouldScrollIntoView?i.index:void 0,setSelectedOptionIndex(l){a({type:"set",index:l})}}}function EV(t){return function(n,s){if(s.type==="set")return s.index===n.index?n:{index:s.index,shouldScrollIntoView:!1};if(s.type==="reset")return n.index===0&&n.shouldScrollIntoView?n:{index:0,shouldScrollIntoView:!0};if(s.type==="increment"){const i=n.index+1,a=i>=t?t-1:i;return a===n.index&&n.shouldScrollIntoView?n:{index:a,shouldScrollIntoView:!0}}if(s.type==="decrement"){const i=n.index-1,a=i<=0?0:i;return a===n.index&&n.shouldScrollIntoView?n:{index:a,shouldScrollIntoView:!0}}return n}}function DV(t){return{index:typeof t=="function"?t():t,shouldScrollIntoView:!0}}function Cm(t,e){return K.forwardRef(function(s,i){return r.jsx(t,{ref:i,...e,...s,...e.className&&s.className&&{className:Ae(e.className,s.className)}})})}function Pn({shortcut:t,hideKeys:e,size:n="inherit",colorVariant:s="dark",className:i}){const{key:a,shiftKey:l,altKey:p,commandKey:f,thenKey:v,ctrlKey:E}=t,w=D=>r.jsx(CV,{hideKey:e,colorVariant:s,children:D});return r.jsxs("span",{className:Ae("whitespace-nowrap align-baseline",wV[n],e?Wb[s].containerHiddenKeys:["leading-[1.1em]",Wb[s].container],i),children:[l&&r.jsxs(r.Fragment,{children:[w(Gs.Shift)," "]}),p&&r.jsxs(r.Fragment,{children:[w(Gs.Alt)," "]}),E&&r.jsxs(r.Fragment,{children:[w(Gs.Ctrl)," "]}),f&&r.jsxs(r.Fragment,{children:[w(Gs.Command)," "]}),w(Gs[a]||a),v&&r.jsxs(r.Fragment,{children:[" then ",w(v)]})]})}const Gs={Escape:"Esc",ArrowLeft:"",ArrowRight:"",ArrowUp:"",ArrowDown:"",Backspace:"",Enter:"",Ctrl:pe.isMac?"":"Ctrl",Command:pe.isMac?"":"Ctrl",Shift:"",Alt:pe.isMac?"":"Alt"," ":""},wV={small:"text-[0.625rem] tracking-[0.01em] font-normal",inherit:"text-[0.9em]"},Wb={dark:{containerHiddenKeys:"text-contrast-30",key:"bg-contrast-10"},light:{container:"text-white",containerHiddenKeys:"text-white/30",key:"bg-white/30"},"light-static":{container:"text-white-static",containerHiddenKeys:"text-white-static/30",key:"bg-white-static/30"}};function CV({children:t,hideKey:e,colorVariant:n}){const s=pe.isMac&&t.length===1&&t.codePointAt(0)>=8592&&t.codePointAt(0)<=9215;return r.jsx("kbd",{className:U(s?"font-system":"font-sans",!e&&["inline-block min-w-[calc(1.1em+theme(spacing.4))] rounded p-2 text-center",Wb[n].key]),children:t})}const Di="font-bold text-[2rem] leading-40 tracking-[-0.022em]",J_="font-bold text-2xl leading-28",Jr="font-bold text-xl leading-24",ht="font-semibold text-base leading-[1.1875rem]",zn="font-medium text-[0.9375rem] leading-20 tracking-[-0.009em]",oe="font-medium text-sm leading-16",Te="font-medium text-[0.6875rem] leading-[0.8125rem] tracking-[0.005em]",yr="font-semibold text-[0.625rem] leading-12 uppercase tracking-[0.01em]",ls="text-base leading-[1.3125rem]",Ne="font-normal text-sm leading-16",wi="font-normal text-[0.6875rem] leading-[0.8125rem] tracking-[0.005em]",vr=K.forwardRef(function({variant:e="border",className:n,forceHover:s,iconLeft:i,iconRight:a,keyboardShortcut:l,outerClassName:p,...f},v){const E=TV[e];function w(D){return r.jsxs("div",{className:Ae("relative isolate flex items-center rounded-md transition",D&&"focus-within:ring focus-within:!ring-primary",E.outerContainer,f.disabled?"text-contrast-50":!f.readOnly&&E.outerContainerEnabledAddition,s&&E.outerContainerForceHoverAddition,p),children:[r.jsxs("div",{className:"relative flex flex-1 items-center",children:[i&&ze(i,"flex-none absolute left-0 ml-6 pointer-events-none"),r.jsx("input",{ref:v,className:Ae(oe,"w-full text-ellipsis bg-transparent px-8 py-6 outline-none placeholder:text-ellipsis placeholder:text-contrast-50",i&&"pl-28",a&&"pr-24",n),...f}),a&&ze(a,"flex-none absolute right-0 mr-6 pointer-events-none")]}),l&&r.jsx(Pn,{shortcut:l,size:"small",className:U("mr-6 flex-none",f.disabled?"cursor-default":"cursor-text")})]})}return e==="ghost"?r.jsx(hx,{useHook:I_,children:w}):w(!0)}),TV={ghost:{outerContainer:"bg-transparent",outerContainerEnabledAddition:"hover:bg-contrast-5 focus-within:bg-contrast-5",outerContainerForceHoverAddition:"bg-contrast-5"},border:{outerContainer:"bg-base-bg-elevated dark:bg-base-bg ring ring-contrast-10",outerContainerEnabledAddition:"hover:ring-contrast-20",outerContainerForceHoverAddition:"ring-contrast-20"},"border-transparent":{outerContainer:"ring ring-contrast-10",outerContainerEnabledAddition:"hover:ring-contrast-20",outerContainerForceHoverAddition:"ring-contrast-20"},internal:{outerContainer:"bg-transparent focus-within:ring-0"}},$b=K.createContext({registerForceClose(){return()=>{}}});function NV({children:t}){const[e,n]=K.useState(0),s=K.useContext($b),i=K.useMemo(()=>({registerForceClose(){n(p=>p+1);const l=s.registerForceClose();return()=>{n(p=>p-1),l()}}}),[s]),a=e!==0;return r.jsx($b.Provider,{value:i,children:t({isForceClosed:a})})}function kV(){const{registerForceClose:t}=K.useContext($b);K.useEffect(t,[t])}const _V=K.forwardRef(function({isOpen:e,onExitComplete:n,onAnimatedParentRemoved:s,widthVariant:i,animationVariant:a="side-align-direction",className:l,style:p,...f},v){const E=f["data-side"],w=f["data-align"],D=Mt(),M=a==="no-animation";PV(s);const o=i&&(E==="bottom"||E==="top");return r.jsxs(r.Fragment,{children:[r.jsx(Sr,{onExitComplete:n,children:e&&r.jsx(on.div,{ref:v,...f,transition:{type:"spring",duration:M?0:.2},initial:{opacity:0,scale:D||M?1:.99},animate:{opacity:1,scale:1},exit:{opacity:0,scale:D||M?1:.975,transition:{type:"spring",duration:M?0:.35}},style:{...p,transformOrigin:MV(a,E,w),...o&&IV(i)},className:Ae("overflow-hidden rounded-lg bg-base-bg-elevated/75 shadow-400 outline-none ring-[0.5px] ring-contrast-10 backdrop-blur-md backdrop-saturate-[1.75] empty:hidden",o&&OV(i),l)})}),M&&!e&&r.jsx(HH,{action:n})]})});function OV(t){if(t==="anchor")return"w-[--radix-popper-anchor-width]";if(t==="min-anchor")return"min-w-[--radix-popper-anchor-width]"}function IV(t){if(typeof t!="string"&&t.type==="min-anchor-and-static")return{minWidth:`max(var(--radix-popper-anchor-width), ${t.minWidth})`}}function MV(t,e,n){if(t==="side-align-direction")return e&&[G5[e],RV[e][n]||"center"].join(" ");if(t==="side-direction")return e&&G5[e]}const G5={bottom:"top",top:"bottom",right:"left",left:"right"},RV={bottom:{start:"left",end:"right"},top:{start:"left",end:"right"},left:{start:"top",end:"bottom"},right:{start:"top",end:"bottom"}};function PV(t){const e=ZP(),n=Em(t);K.useLayoutEffect(()=>{e||n()},[e,n])}function LV({openProp:t,defaultOpen:e,onOpenChange:n}){const[s,i]=K.useReducer(BV,e?"open":"closed"),a=t===void 0;K.useLayoutEffect(()=>{a||i(t?"open":"closing")},[a,t]);function l(p){(a||p==="closed")&&i(p),n==null||n(p==="open")}return[s,l]}function BV(t,e){return e==="open"?"open":e==="closing"&&t!=="closed"?"closing":"closed"}function cn({defaultOpen:t,open:e,onOpenChange:n,modal:s,content:i,side:a="bottom",sideOffset:l=4,align:p="start",alignOffset:f,collisionBoundary:v,collisionPadding:E=8,children:w,contentRef:D,shouldBlurOnCloseFocus:M,components:o=qn,minimalRenderWhenClosed:d,onExitComplete:m,...h}){const[u,P]=LV({openProp:e,defaultOpen:t,onOpenChange:n}),R=FV({status:u,children:w,shouldBlurOnCloseFocus:M});if(d&&u==="closed")return R;const _=()=>P("closing"),F=()=>{P("closed"),m==null||m()},C=r.jsxs(r.Fragment,{children:[u==="open"&&s&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"pointer-events-auto fixed inset-0 [-webkit-app-region:no-drag]"}),r.jsx(WV,{})]}),Um(o.Content,{asChild:!0,forceMount:u!=="closed"||void 0,side:a,sideOffset:l,align:p,alignOffset:f,collisionBoundary:v,collisionPadding:E,children:r.jsx(_V,{ref:D,...h,isOpen:u==="open",onExitComplete:F,onAnimatedParentRemoved:_,children:typeof i=="function"?i(_):i})})]});return Um(o.Root,{open:u==="open",defaultOpen:t,onOpenChange:A=>P(A?"open":"closing"),modal:s,children:r.jsxs(r.Fragment,{children:[Um(o.Trigger,{asChild:!0,children:R}),u!=="closed"&&Um(o.Portal,{forceMount:!0,children:s?r.jsxs(zH,{children:[r.jsx(gV,{callback:_}),C]}):C})]})})}const qn={Root:nk,Portal:rk,Content:sk,Trigger:YP};function FV({status:t,children:e,shouldBlurOnCloseFocus:n}){const s=HV(e,t);return n?r.jsx(We,{children:r.jsx(VV,{status:t,children:s})}):s}function HV(t,e){const n=typeof t=="function"?t(e==="open",e):t;return e==="closing"&&K.isValidElement(n)?K.cloneElement(n,{"data-is-closing":!0}):n}function VV({status:t,children:e}){const n=K.useRef(null),s=ik(n,e.ref);return K.useEffect(()=>{if(t==="closed"&&n.current){let i=function(){a.removeEventListener("focus",i),a.blur()};const a=n.current;a.addEventListener("focus",i),window.setTimeout(()=>{a.removeEventListener("focus",i)},100)}},[t]),K.cloneElement(e,{ref:s})}function WV(){return kV(),null}function j0(t){return $V(t)?t:[{options:t}]}function $V(t){return!t[0]||!!t[0].options}function Ms(t){const e=K.useRef(null),n=K.useRef(!0);return K.useLayoutEffect(()=>{if((t||t===0)&&e.current){const s=n.current;n.current&&(n.current=!1);const i=()=>{var a;(a=e.current)==null||a.scrollIntoView({block:s?"center":"nearest",inline:"nearest"})};if(s||!document.body.contains(e.current)){const a=setTimeout(i);return()=>clearTimeout(a)}i()}},[t]),e}const Q_=K.forwardRef(function({option:e,renderLabel:n,isSelected:s,shouldWrapText:i,checked:a,hasCheckboxOffset:l,...p},f){return r.jsx("button",{ref:f,...p,className:U("scroll-m-4 rounded-md px-8 py-6 text-left outline-none ring-inset focus-visible:ring",s&&"bg-contrast-5"),children:r.jsx(q_,{option:e,renderLabel:n,shouldWrapText:i,checked:a,hasCheckboxOffset:l})})});function q_({option:t,shouldWrapText:e,renderLabel:n,checked:s,hasCheckboxOffset:i}){return r.jsxs("div",{className:U(oe,"flex items-center justify-between gap-8 tabular-nums"),children:[r.jsxs("div",{className:"flex min-w-0 flex-grow items-center gap-8",children:[i&&(s?r.jsx(yt,{}):r.jsx("div",{className:"size-16"})),t.icon&&ze(t.icon,"flex-none text-contrast-50"),r.jsx("div",{className:"min-w-0 flex-grow",children:(n==null?void 0:n(t))||r.jsx(e7,{...t,shouldWrapText:e})}),t.iconRight&&ze(t.iconRight,"flex-none text-contrast-50")]}),t.keyboardShortcut&&r.jsx(Pn,{shortcut:t.keyboardShortcut,hideKeys:!0})]})}function e7({label:t,secondaryLabel:e,shouldWrapText:n}){return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:n?void 0:"truncate",children:t}),e&&r.jsx("div",{className:U(Te,"text-contrast-50"),children:e})]})}function t7({optionGroups:t,onSubmit:e,initialIndex:n,inputValue:s,bottomHint:i,renderLabel:a,shouldWrapText:l,optionValue:p,hasMultipleValues:f,scrollContainerClassName:v}){const E=t.flatMap(u=>u.options),{scrollIntoViewKey:w,selectedOptionIndex:D,setSelectedOptionIndex:M}=Is({initialIndex:n,optionsLength:E.length,resetKey:s,submit:u=>e(E[u])}),[o,d]=K.useState(!0),m=Ms(w);if(E.length===0)return null;const h=!!f&&Array.isArray(p);return r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute top-0 h-6 w-full"}),r.jsx("div",{className:"absolute bottom-0 h-6 w-full"}),r.jsxs("div",{className:Ae("max-h-[min(var(--radix-popper-available-height),25rem)] overflow-auto pt-4",v),children:[t.map((u,P)=>{var A;if(u.options.length===0)return null;const R=t.slice(0,P).reduce((j,x)=>j+x.options.length,0),_=R!==0,F=o&&u.options.length>z5,C=F?u.options.slice(0,z5):u.options;return r.jsxs("div",{className:U("grid grid-cols-1 px-4 pb-4",_&&"relative pt-4 before:absolute before:inset-x-0 before:border-t-[0.5px] before:border-contrast-10"),children:[u.label&&r.jsx("div",{className:U(oe,"px-8 pb-4 text-contrast-50",_&&"pt-4"),children:u.label}),((A=u.renderOptions)==null?void 0:A.call(u,{group:u,optionsToRender:C,scrolledIntoViewRef:m,inputValue:s,selectedOptionIndex:D-R,setSelectedOptionIndex(j){M(R+j)},onSubmit:e}))||C.map((j,x)=>{const N=R+x,b=N===D,O=()=>M(N),T=()=>e(j);return r.jsx(Q_,{ref:b?m:void 0,option:j,renderLabel:a,shouldWrapText:l,isSelected:b,onMouseMove:O,onFocus:O,onClick:T,checked:h&&p.some(L=>L===j.value),hasCheckboxOffset:f},j.value)}),F&&r.jsxs("div",{className:U(Ne,"px-8 py-6 text-contrast-50"),children:[`${u.options.length-C.length} more elements not displayed for better performance. `,r.jsx("button",{className:"hover:underline",onClick:()=>d(!1),children:"Show all"})]})]},"key"in u?u.key:P)}),i&&r.jsx("div",{className:U(Ne,"min-w-full max-w-[16rem] border-t border-contrast-10 px-12 py-8 text-contrast-50"),children:i})]})]})}const z5=100;function UV({query:t,loadOptions:e,transform:n,isActive:s=!0,shouldDelayLoadingIndicator:i=!0}){const[{options:a,queryForOptions:l,isLoading:p,error:f},v]=K.useState(()=>({options:[],queryForOptions:t,isLoading:s})),E=Em(()=>{const D=()=>v(M=>M.isLoading?M:{...M,isLoading:!0});if(i)return window.setTimeout(D,250);D()});return K.useEffect(()=>{if(!s){v(d=>!d.isLoading&&d.options.length===0?d:{...d,options:[],isLoading:!1});return}const D=E(),M=e(t);let o=!0;return M.then(d=>{o&&(window.clearTimeout(D),v({options:d,queryForOptions:t,isLoading:!1}))},d=>{throw o&&(window.clearTimeout(D),v(m=>({...m,isLoading:!1,error:d}))),d}),()=>{var d;o=!1,window.clearTimeout(D),(d=M.cancel)==null||d.call(M)}},[s,E,e,t]),{options:K.useMemo(()=>n(a),[n,a]),queryForOptions:l,isLoading:p,error:f}}function Rs({initialValue:t,getOptions:e,onOpenChange:n,...s}){const{optionsValue:i,...a}=n7(t),{isOpen:l}=a,p=K.useMemo(()=>l?j0(e(i)):[],[l,i,e]);return rn(l,()=>n==null?void 0:n(l)),r.jsx(r7,{...s,...a,resetKey:a.inputValue,isLoading:!1,optionGroups:p})}function GV({initialValue:t,loadOptions:e,...n}){const{optionsValue:s,...i}=n7(t),{options:a,queryForOptions:l,isLoading:p}=UV({query:s,loadOptions:e,transform:j0,isActive:i.isOpen});return r.jsx(r7,{...n,...i,resetKey:l,isLoading:p,optionGroups:a})}function n7(t=""){const[{isOpen:e,inputValue:n,hasInputValueChanged:s},i]=K.useReducer((p,f)=>f.type==="input-change"?{isOpen:!0,inputValue:f.value,hasInputValueChanged:!0}:f.type==="open"?p.isOpen?p:{...p,isOpen:!0,hasInputValueChanged:!1}:f.type==="close"?{...p,isOpen:!1}:f.type==="close-and-reset"?{isOpen:!1,inputValue:t,hasInputValueChanged:!1}:f.type==="reset"?{...p,inputValue:t,hasInputValueChanged:!1}:p,{isOpen:!1,inputValue:t,hasInputValueChanged:!1});rn(t,()=>{!e&&a()});function a(){i({type:"reset"})}function l(){i({type:"close-and-reset"})}return{isOpen:e,inputValue:n,optionsValue:s?n:"",hasInputValueChanged:s,setInputValue(p){i({type:"input-change",value:p})},openAutoComplete(){i({type:"open"})},closeAutoComplete(){i({type:"close"})},closeAndResetAutoComplete:l,resetAutoComplete:a}}function r7({placeholder:t,disabled:e,readOnly:n,resetKey:s,isLoading:i,optionGroups:a,isOpen:l,shouldStayOpenOnSubmit:p,shouldResetOnSubmit:f,openAutoComplete:v,closeAutoComplete:E,closeAndResetAutoComplete:w,resetAutoComplete:D,inputValue:M,hasInputValueChanged:o,setInputValue:d,renderLabel:m,children:h,onSubmit:u,onFocus:P,inputProps:R,..._}){const F=AV(l&&!o),[C,A]=K.useReducer(b=>b+1,0);Rt(w,{isEnabled:l&&(a.length>0||M!==""),resetKey:C});const j=n||e;function x(){!l&&!j&&v(),P==null||P()}function N(b){!l&&!j&&b.key==="Enter"&&v()}return rn(j,()=>{j&&l&&w()}),r.jsx(cn,{open:l,onOpenChange:b=>{if(!j&&b){v();return}const O=window.event;(!O||O.type==="dismissableLayer.pointerDownOutside"||O.type==="dismissableLayer.focusOutside")&&w()},widthVariant:"anchor",animationVariant:"side-direction",modal:!1,components:zV,shouldBlurOnCloseFocus:!0,..._,content:r.jsx(t7,{optionGroups:a,initialIndex:()=>M?a.flatMap(b=>b.options).findIndex(b=>b.label===M):0,renderLabel:m,shouldWrapText:!0,onSubmit:b=>{p?(D(),A()):f?w():E(),u(b)},inputValue:s}),children:b=>h?h({ref:F,value:M,onChange:d,onFocus:x,onKeyDown:N,isOpen:b,isLoading:i}):r.jsx(t0,{children:r.jsx(s7,{ref:F,placeholder:t,value:M,disabled:e,readOnly:n,iconRight:i?r.jsx(Gr,{className:"size-14 text-contrast-60"}):void 0,...R,onChange:O=>d(O.target.value),onFocus:x,onKeyDown:N})})})}const zV={...qn,Content:In(t=>r.jsx(qn.Content,{...t,onOpenAutoFocus:Qn}))},s7=K.forwardRef(function({type:e,...n},s){const[i,a]=K.useState(!1);K.useEffect(()=>{if(typeof s!="function"&&(s==null?void 0:s.current)instanceof HTMLInputElement){const f=s.current;return f.addEventListener("blur",p),f.addEventListener("focus",l),()=>{f.removeEventListener("blur",p),f.removeEventListener("focus",l)}}});function l(){a(!0)}function p(){a(!1)}return Rt(()=>{var f;typeof s!="function"&&(s==null?void 0:s.current)instanceof HTMLInputElement&&((f=s==null?void 0:s.current)==null||f.blur())},{isEnabled:i}),r.jsx(vr,{ref:s,...n})}),ae=K.forwardRef(function(e,n){return r.jsx("button",{ref:n,disabled:e.readOnly||e.disabled,...S0(e)})}),KV=K.forwardRef(function(e,n){const s=e.readOnly||e.disabled,{onClick:i,...a}=S0(e);return r.jsx("div",{ref:n,role:"button",tabIndex:s?void 0:1,"aria-disabled":s,...a,onClick:s?void 0:i})}),qt=K.forwardRef(function(e,n){return r.jsx(ak,{ref:n,...S0(e)})});K.forwardRef(function(e,n){return r.jsx(tk,{ref:n,...S0(e,{asChild:!0})})});function S0({className:t,classNameInner:e,variant:n="secondary",destructive:s,readOnly:i,keyboardShortcut:a,size:l="medium",justifyText:p="auto",icon:f,iconRight:v,forceHover:E,disabled:w,isBlock:D,children:M,...o},{asChild:d}={}){const m=f&&!M&&!a&&!v,h=ZV[n],u=s?YV[w?"foreground":h.destructiveVariant](h):h,P=XV[l],R=Ae(oe,"group/button relative isolate items-center justify-center overflow-hidden rounded-md outline-none transition [-webkit-app-region:no-drag] focus-visible:ring focus-visible:ring-primary",D?"flex":"inline-flex",u.button,w?u.buttonDisabledAddition:!i&&u.buttonEnabledAddition,(E??o["data-state"]==="open")&&u.buttonForceHoverAddition,P.button,m&&P.iconOnlyAddition,t),_=U("flex-none transition-colors",w?u.iconDisabled:u.iconEnabled),F=f&&ze(f,_),C=a&&r.jsx(Pn,{shortcut:a,colorVariant:w&&u.shortcutVariantDisabled||u.shortcutVariant,size:"small"}),A=v&&ze(v,_),j=M&&r.jsx("div",{className:Ae("flex flex-1 items-center",p==="auto"?v||a?"justify-start text-left":"justify-center":p==="left"?"justify-start text-left":p==="center"?"justify-center":"justify-end text-right",e),children:M});return{...o,className:R,children:d?[r.jsx(K.Fragment,{children:F},1),r.jsx(XP,{children:j},2),r.jsx(K.Fragment,{children:C},3),r.jsx(K.Fragment,{children:A},4)]:r.jsxs(r.Fragment,{children:[F,j,C,A]})}}const ZV={primary:{button:"focus-visible:ring-offset-1",buttonEnabledAddition:"text-white-static bg-primary hover:bg-primary-500",buttonReadOnlyAddition:"text-white-static bg-primary",buttonDisabledAddition:"text-contrast-50 bg-contrast-5",buttonForceHoverAddition:"bg-primary-500",iconEnabled:"text-white-static",iconDisabled:"text-contrast-20",destructiveVariant:"background",shortcutVariant:"light-static",shortcutVariantDisabled:"dark"},secondary:{button:"bg-base-bg-elevated ring ring-contrast-10 before:absolute before:transition-colors before:inset-0 before:-z-10",buttonEnabledAddition:"text-black hover:ring-contrast-20 dark:hover:ring-contrast-10 dark:hover:before:bg-contrast-5",buttonReadOnlyAddition:"text-black",buttonDisabledAddition:"text-contrast-50",buttonForceHoverAddition:"ring-contrast-20 dark:ring-contrast-10 dark:before:bg-contrast-5",iconEnabled:"text-contrast-50 group-hover/button:text-contrast-60",iconDisabled:"text-contrast-20",destructiveVariant:"foreground",shortcutVariant:"dark"},"secondary-semi-transparent":{button:"dark:bg-contrast-5 ring ring-contrast-10",buttonEnabledAddition:"text-black hover:ring-contrast-20 dark:hover:ring-contrast-10 dark:hover:bg-contrast-10",buttonReadOnlyAddition:"text-black",buttonDisabledAddition:"text-contrast-50",buttonForceHoverAddition:"ring-contrast-20 dark:ring-contrast-10 dark:bg-contrast-10",iconEnabled:"text-contrast-50 group-hover/button:text-contrast-60",iconDisabled:"text-contrast-20",destructiveVariant:"foreground",shortcutVariant:"dark"},tertiary:{button:"bg-transparent",buttonEnabledAddition:"text-black hover:bg-contrast-5",buttonReadOnlyAddition:"text-black",buttonDisabledAddition:"text-contrast-50",buttonForceHoverAddition:"bg-contrast-5",iconEnabled:"text-contrast-50 group-hover/button:text-contrast-60",iconDisabled:"text-contrast-20",destructiveVariant:"foreground",shortcutVariant:"dark"},"tertiary-inverse-static":{button:"bg-transparent",buttonEnabledAddition:"text-white-static hover:bg-white-static/5",buttonReadOnlyAddition:"text-white-static",buttonDisabledAddition:"text-white-static/40",buttonForceHoverAddition:"bg-white-static/5",iconEnabled:"text-white-static/50 group-hover/button:text-white-static/60",iconDisabled:"text-white-static/20",destructiveVariant:"foreground",shortcutVariant:"light-static"},colored:{button:"bg-primary-50 ring ring-primary-200",buttonEnabledAddition:"text-primary dark:text-primary-900 hover:bg-primary-100",buttonReadOnlyAddition:"text-primary dark:text-primary-900",buttonDisabledAddition:"text-primary/70 dark:text-primary-900/70",buttonForceHoverAddition:"bg-primary-100",iconEnabled:"text-primary dark:text-primary-900",iconDisabled:"text-primary/70 dark:text-primary-900/70",destructiveVariant:"foreground",shortcutVariant:"dark"}},YV={foreground(t){return{...t,buttonEnabledAddition:U(t.buttonEnabledAddition,"text-red-400"),buttonReadOnlyAddition:U(t.buttonReadOnlyAddition,"text-red-400"),buttonDisabledAddition:U(t.buttonDisabledAddition,"text-red-400/50"),iconEnabled:"text-red-400",iconDisabled:"text-red-400/20"}},background(t){return{...t,buttonEnabledAddition:U(t.buttonEnabledAddition,"bg-red-400 hover:bg-red-500"),buttonReadOnlyAddition:U(t.buttonReadOnlyAddition,"bg-red-400"),buttonForceHoverAddition:U(t.buttonForceHoverAddition,"bg-red-500")}}},XV={tiny:{button:U(oe,"gap-2 p-2"),iconOnlyAddition:"p-0 size-20"},small:{button:U(oe,"gap-4 px-6 py-4"),iconOnlyAddition:"p-0 size-24"},medium:{button:U(oe,"gap-8 px-8 py-6"),iconOnlyAddition:"p-0 size-28"},large:{button:U(zn,"gap-10 px-16 py-12"),iconOnlyAddition:"p-0 size-44"}},JV=K.forwardRef(function({className:e,style:n,sizeVariant:s="small",...i},a){const l=QV[s];return r.jsxs("div",{className:Ae("group relative flex items-center justify-center rounded text-primary ring ring-inset transition",l,i.checked?"ring-transparent":i.disabled?"bg-base-bg ring-contrast-10":"ring-contrast-20 hover:ring-contrast-50",e),style:n,children:[r.jsx(Kk,{className:U("flex-none rounded transition",i.checked?i.disabled?"text-contrast-20":"group-hover:brightness-110":"text-transparent")}),r.jsx("input",{ref:a,...i,type:"checkbox",className:U("absolute inset-0 rounded outline-none transition-shadow focus-visible:ring focus-visible:ring-offset-1 enabled:cursor-pointer",i.checked&&!(n!=null&&n.color)&&"ring-primary/30")})]})}),QV={small:"size-14",large:"size-16"};function wr(t,e){return t>=e?t:e}function Tm(t,e){return t<e?t:e}function It(t,e){if(t===void 0)throw new Error(`Date is undefined, this should not happen, uuid: ${e}`);return t.toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"})}function Ub(t){return t.toLocaleDateString("en-GB",{day:"numeric",month:"short"})}function gx(t,e){return QP(t,{weekStartsOn:e,firstWeekContainsDate:e===1?4:1})}function K5(t,e,n){const s=n===1?4:1;return qP(ws(t,{weekStartsOn:n}),e,{weekStartsOn:n,firstWeekContainsDate:s})}function i7(t,e){return ri(JP(t.getTime(),e))}function ce({children:t,...e}){return!e.label&&!e.content?t:r.jsx(qV,{...e,children:t})}function qV({children:t,label:e,content:n,keyboardShortcut:s,noDelay:i,...a}){const[l,p]=K.useState(!1);return Rt(()=>p(!1),{isEnabled:l}),r.jsx(NV,{children:({isForceClosed:f})=>r.jsx(cn,{open:f?!1:l,onOpenChange:p,align:"center",sideOffset:8,...a,className:U("rounded px-8 py-4 shadow-[0_2px_4px_rgb(0_0_0/0.1)]",a==null?void 0:a.className),content:n||r.jsx(eW,{label:e,keyboardShortcut:s}),components:{Root:In(v=>r.jsx(eL,{...v,delayDuration:i?0:void 0})),Portal:tL,Content:nL,Trigger:rL},children:t})})}function eW({label:t,keyboardShortcut:e}){return r.jsxs("div",{className:U(Te,"flex items-center gap-8 text-black/80"),children:[r.jsx("div",{className:"py-2",children:t}),e&&r.jsx(Pn,{shortcut:e,className:"flex-none"})]})}function tW({day:t,month:e,today:n,selection:s,loadingDate:i,loadingState:a,isInteractive:l,isFirstDayOfWeek:p,isSelectionInPastPrevented:f,onSubmit:v,getDayTooltipProps:E}){const w=Ve(t,n),D=s&&!Yt(t,s[0])&&!Ur(t,s[1]),M=s&&!D,o=f&&Yt(t,n),d=o||!l||!v,m=ok(t,e),h=i&&Ve(t,i)&&nW[a],u=r.jsx("button",{disabled:d,className:U("size-28 outline-none transition-shadow focus-visible:ring",(w||!!h)&&"group flex items-center justify-center",D?["bg-contrast-5 hover:enabled:bg-contrast-10",Ve(t,s[0])?"rounded-l-md":!p&&"relative before:absolute before:inset-y-0 before:-left-px before:w-px before:bg-contrast-5",Ve(t,s[1])&&"rounded-r-md"]:"rounded-md hover:enabled:bg-contrast-5",rW({isToday:w,looksDisabled:o,isMuted:M,isSelected:D,isInMonth:m})),onClick:d?void 0:()=>v(t),children:w?r.jsx("div",{className:U("w-20 min-w-max rounded-md bg-primary py-2 transition-colors group-hover:group-enabled:bg-primary-500 dark:group-hover:group-enabled:bg-primary-300",h?"px-2":"px-4"),children:h||t.getDate()}):h||t.getDate()}),P=l&&(E==null?void 0:E(t));return P?r.jsx(ce,{side:"left",align:"start",sideOffset:6,...P,children:u}):u}const nW={idle:void 0,"loading-invisible":void 0,"loading-visible":r.jsx(Gr,{}),error:r.jsx(Si,{className:"text-red-400"})};function rW({isToday:t,looksDisabled:e,isMuted:n,isSelected:s,isInMonth:i}){return t?"text-white-static":i?e?"text-contrast-50":n?"text-contrast-75":"text-black":s?"text-contrast-75":e?"text-contrast-20":"text-contrast-30"}function a7(t){return r.jsxs("div",{className:Ae(oe,"grid w-max gap-10",t.className),children:[r.jsx(sW,{...t}),r.jsx(iW,{...t})]})}function sW({month:t,today:e,isInteractive:n,goToToday:s,goToPreviousMonth:i,goToNextMonth:a,showKeyboardShortcuts:l}){return r.jsxs("div",{className:U("flex",n?"justify-between":"justify-center"),children:[r.jsxs("div",{className:"py-6",children:[rt(t,"MMMM")+" ",r.jsx("span",{className:"text-contrast-50",children:t.getFullYear()})]}),n&&r.jsxs("div",{className:"grid grid-flow-col gap-px",children:[s&&!ok(e,t)&&r.jsx(ce,{label:"Go to today",side:"top",children:r.jsx(ae,{variant:"tertiary",icon:Ok,onClick:s,className:"transition-shadow"})}),i&&r.jsx(ce,{label:"Go to previous month",keyboardShortcut:l?{key:"ArrowUp"}:void 0,side:"top",children:r.jsx(ae,{variant:"tertiary",icon:Q1,onClick:i,className:"transition-shadow"})}),a&&r.jsx(ce,{label:"Go to next month",keyboardShortcut:l?{key:"ArrowDown"}:void 0,side:"top",children:r.jsx(ae,{variant:"tertiary",icon:ym,onClick:a,className:"transition-shadow"})})]})]})}function iW({month:t,today:e,selection:n,loadingDate:s,loadingState:i="idle",isInteractive:a,isSelectionInPastPrevented:l,onSubmit:p,getDayTooltipProps:f,startOfWeek:v}){const E=oW(t,v),w=aW(n),D=Pe(e);return r.jsxs("div",{className:"grid grid-cols-8 place-items-center gap-px",children:[r.jsx("div",{}),E[0].days.map(M=>r.jsx(ce,{label:rt(M,"EEEE"),side:"top",children:r.jsx("div",{className:U(yr,"w-full cursor-default text-center text-contrast-30"),children:rt(M,"EEEEE")})},"weekday"+M.getTime())),E.map(({weekNumber:M,days:o})=>r.jsxs(K.Fragment,{children:[r.jsx(ce,{label:`Week ${M}`,side:"top",children:r.jsx("div",{className:U(yr,"w-full cursor-default text-center text-contrast-30"),children:M})}),o.map((d,m)=>r.jsx(tW,{day:d,month:t,today:D,selection:w,loadingDate:s,loadingState:i,isInteractive:a&&!i.startsWith("loading-"),isFirstDayOfWeek:m===0,isSelectionInPastPrevented:l,onSubmit:p,getDayTooltipProps:f},d.getTime()))]},M))]})}function aW(t){return t?(Array.isArray(t)?t:[t,t]).map(n=>Pe(n)):void 0}function oW(t,e){const n=t.getMonth(),s=t.getFullYear();return K.useMemo(()=>lW({month:n,year:s,weekStartsOn:e}),[n,s,e])}function lW({year:t,month:e,weekStartsOn:n=1}){const s=ws(new Date(t,e,1),{weekStartsOn:n});return uW.map(i=>{const a=Re(s,i),l=gx(a,n),p=cW.map(f=>fe(a,f));return{weekNumber:l,days:p}})}const cW=Array(7).fill(0).map((t,e)=>e),uW=Array(6).fill(0).map((t,e)=>e);function A0({onSubmit:t,...e}){const n=dW(e),[s,i]=K.useState("idle"),[a,l]=K.useState();return e.isInteractive?r.jsx(hW,{...e,onSubmit:p=>{const f=t==null?void 0:t(p);if(f){l(p),i("loading-invisible");const v=window.setTimeout(()=>i("loading-visible"),200);f.then(()=>{window.clearTimeout(v),l(void 0),i("idle")},()=>{window.clearTimeout(v),i("error")})}},initialMonth:n,loadingDate:a,loadingState:s}):r.jsx(a7,{...e,month:n})}function dW({today:t,initialMonth:e,forceMonth:n,selection:s}){return n||e||(s?Array.isArray(s)?sL(s,i=>Math.abs(i.getTime()-t.getTime())):s:t)}function hW({initialMonth:t,forceMonth:e,onMonthShown:n,...s}){const[i,a]=K.useState(t);return rn(e,()=>e&&a(e)),$H(i,()=>n==null?void 0:n(i)),r.jsx(a7,{...s,month:i,goToToday:()=>a(s.today),goToPreviousMonth:()=>a(hr(i,-1)),goToNextMonth:()=>a(hr(i,1))})}function fW({title:t,close:e}){return r.jsxs("div",{className:U(oe,"flex items-center justify-between gap-8 border-b border-contrast-10 p-8 pl-24 text-contrast-50"),children:[t,r.jsx(ce,{label:"Close",side:"top",children:r.jsx(ae,{variant:"tertiary",icon:Rn,className:"flex-none",onClick:e})})]})}function o7({startsAtLocal:t,endsAtLocal:e,renderDateLocal:n,calendarHourHeight:s,minEventHeight:i}){const a=s/60,l=Pe(n),p=ot(l),f=Ve(t,l)?t:l,v=Ve(e,p)?e:p,E=bb(f)===0?1:0,w=(Xr(f)*60+bb(f))*a+E+1;let D=Ge(v,f,{roundingMethod:"ceil"})*a-E-2;return i&&(D=Math.max(D,i)),{top:w,height:D}}function Gb({eventStartsAt:t,eventEndsAt:e,timeWindowStartsAt:n,timeWindowEndsAt:s}){return t>=n&&t<s||e>n&&e<=s||t<=n&&e>=s}function bx(t,e,n,s){const i=s?kn:U1,a=t.start<e?e:t.start,l=t.end>n?n:t.end;return Math.max(i(l,a),1)}function mW(t,e){const n=sn(t||"");return`${e?"[x] ":"[ ] "}${n.title}`}const pW=/^\s*(?<checkbox>\[[\sx]?\])\s*(?<title>.*)/;function sn(t){if(!t)return{title:null,isTask:!1,isCompleted:!1};const e=pW.exec(t);return e?{title:e.groups.title,isTask:!0,isCompleted:e.groups.checkbox==="[x]"}:{title:t,isTask:!1,isCompleted:!1}}function xr(t,e=!0){return n=>{const s=n.allDay?n.startsAtDate:n.startsAt,i=n.allDay?n.endsAtDate:n.endsAt;return!e&&$1(s)&&!Ur(i,n0(Pe(s)))?!1:Gb({eventStartsAt:s,eventEndsAt:i,timeWindowStartsAt:t.startDate,timeWindowEndsAt:t.endDate})}}function Qs(t,e=!0){const n=pt(t.startDate),s=ot(pt(t.endDate)),i=Pe(Se(n)),a=fe(Pe(Se(s)),1);return xr({startDate:i,endDate:a},e)}function Z5(t,e,n=new Set){return!t.isMeeting||e===null?!1:t.attendees.every(s=>{var i;return Er(s.email,e)||((i=s.email)==null?void 0:i.endsWith("@resource.calendar.google.com"))||n.has(s.email)})}const bt=K.forwardRef(function({label:e,profileImageUrl:n,size:s="small",fallbackBackgroundColorHex:i,className:a,children:l,...p},f){return r.jsx(iL,{ref:f,...p,className:Ae("box-content flex flex-none items-center justify-center overflow-hidden rounded-full",X5[s].root,a),children:l||r.jsxs(r.Fragment,{children:[r.jsx(aL,{className:"size-full",src:n||void 0,alt:e||""}),r.jsx(oL,{className:Ae(Te,"flex size-full items-center justify-center font-semibold uppercase text-white",X5[s].fallback),style:{background:i||bW(e||"")},children:gW(e)})]})})});function gW(t){if(t){const e=t.replace("@","");return e.indexOf(" ")>-1?t.split(" ").map(n=>n[0]).join("").substring(0,2):e.substring(0,2)}return null}const Y5=["#14B8AF","#1B00FF","#3BB200","#5F4CFF","#850085","#FF002B","#FF33FF","#FF8833"];function bW(t){return`linear-gradient(180deg, rgba(255, 255, 255, 0.5) 0%, rgba(255, 255, 255, 0.3) 100%), ${Y5[Math.abs(yW(t)%Y5.length)]}`}function yW(t){return t.split("").reduce((e,n)=>(e<<5)-e+n.charCodeAt(0)|0,0)}const X5={tiny:{root:"size-16",fallback:"text-[0.5rem]"},xsmall:{root:"size-20",fallback:"text-[0.5rem]"},small:{root:"size-24",fallback:"text-[0.6875rem]"},large:{root:"size-32",fallback:"text-sm"}};function l7({label:t,children:e}){return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:U(oe,"flex flex-none items-start py-6 text-contrast-50"),children:t}),r.jsx("div",{className:"min-w-0 flex-1",children:e})]})}function vW({label:t,before:e=[],after:n=[]}){const s=ys(n,e,"email"),i=ys(e,n,"email");return r.jsx(l7,{label:t,children:r.jsxs("div",{className:U(oe,"grid gap-8 py-6"),children:[s.map(a=>r.jsx(J5,{person:a,hideEmail:a.isResource},a.email)),i.map(a=>r.jsx(J5,{person:a,hideEmail:a.isResource,isRemoved:!0},a.email))]})})}function J5({person:t,isRemoved:e,hideEmail:n}){return r.jsxs("div",{className:"flex w-full flex-row items-center gap-8",children:[r.jsx("div",{className:"flex-none",children:r.jsx(bt,{label:t.name||t.email,profileImageUrl:t.profileImageUrl})}),r.jsxs("div",{className:U(e&&"text-contrast-50 line-through","grow"),children:[r.jsx("div",{className:oe,children:t.name||t.email}),t.name&&!n&&r.jsx("div",{className:U(Te,"text-contrast-50"),children:t.email})]})]})}function Lr({label:t,before:e,after:n,forceWrap:s=!1}){return r.jsx(l7,{label:t,children:r.jsxs("div",{className:U(oe,s&&"flex-col","flex flex-wrap gap-8 py-6"),children:[e&&r.jsx("div",{className:"max-w-full truncate text-contrast-50 line-through",children:e}),n&&r.jsx("div",{className:"max-w-full truncate",children:n})]})})}function xW({label:t,beforeStartDate:e,afterStartDate:n,beforeEndDate:s,afterEndDate:i,beforeAllDay:a,afterAllDay:l,timeNotation:p,displayTimezone:f}){const v=s&&a?fe(s,-1):s,E=i&&l?fe(i,-1):i,w=Ve(e,v),D=Ve(n,E),M=w&&D&&Ve(e,n);let o=!M;const d=(u,P,R)=>P?R?`${It(u)}`:`${It(u)} ${nn(u,p,f)}`:R?"All-day":nn(u,p,f),m=[d(n,!M,l),(!l||!D)&&d(E,!D,l)].filter(ct).join("  ");let h;return e&&v&&a!==void 0&&(h=[d(e,!M,a),(!a||!w)&&d(v,!w,a)].filter(ct).join("  ")),r.jsx(Lr,{label:t,before:h,after:m,forceWrap:o})}function jW({label:t,before:e,after:n}){const s=e&&r.jsx("div",{dangerouslySetInnerHTML:{__html:gp.sanitize(yb(e.replaceAll(`
`,"<br>")))}}),i=n&&r.jsx("div",{dangerouslySetInnerHTML:{__html:gp.sanitize(yb(n.replaceAll(`
`,"<br>")))}});return r.jsx(Lr,{label:t,before:s,after:i,forceWrap:!0})}function c7(t,e){return!wt(t.startDate,e.startDate)||!wt(t.endDate,e.endDate)||t.allDay!==e.allDay}function u7(t,e){const n=ys(e.attendees||[],t.attendees||[],"email"),s=ys(t.attendees||[],e.attendees||[],"email");return n.length>0||s.length>0}function SW(t,e){const n=["allDay","endDate","startDate","attendees"];return Object.keys(t).filter(s=>!n.includes(s)).length>0||Object.keys(e).filter(s=>!n.includes(s)).length>0}function Q5(t){var i;const e=sn(t||""),n=(i=e.title)==null?void 0:i.trim();if(!n)return t;let s="";return e.isTask&&(s=e.isCompleted?" ":" "),n.length>30?`${s}${n.substring(0,28)}`:`${s}${n}`}const AW=function({timeNotation:e,displayTimezone:n,className:s,before:i,after:a}){const l=c7(i,a),p=u7(i,a);return r.jsxs("div",{className:Ae("grid grid-cols-[max-content_auto] gap-x-24 gap-y-4",s),children:[(i.title||a.title)&&r.jsx(Lr,{label:"Title",before:Q5(i.title),after:Q5(a.title)}),p&&r.jsx(vW,{label:"Participants",before:i.attendees,after:a.attendees}),l&&r.jsx(xW,{label:"Time",beforeStartDate:i.startDate,beforeEndDate:i.endDate,beforeAllDay:i.allDay,afterStartDate:a.startDate,afterEndDate:a.endDate,afterAllDay:a.allDay,timeNotation:e,displayTimezone:n}),(i.flexible||a.flexible)&&r.jsx(Lr,{label:"Flexible",before:i.flexible,after:a.flexible}),(i.recurrence||a.recurrence)&&r.jsx(Lr,{label:"Repeat",before:i.recurrence,after:a.recurrence}),(i.conferenceSolution||a.conferenceSolution)&&r.jsx(Lr,{label:"Video",before:i.conferenceSolution,after:a.conferenceSolution}),(i.location||a.location)&&r.jsx(Lr,{label:"Location",before:i.location,after:a.location}),(i.description||a.description)&&r.jsx(jW,{label:"Notes",before:i.description,after:a.description})]})};function yx(){const t=__();return K.useEffect(()=>(qs||(qs=new Set,EW()),qs.add(t),()=>void qs.delete(t)),[t]),li===void 0&&(li=document.documentElement.classList.contains("dark")),li}let qs,li;function EW(){function t(){const n=document.documentElement.classList.contains("dark");li!==n&&(li=n,qs.forEach(s=>s()))}new MutationObserver(t).observe(document.documentElement,{attributeFilter:["class"]}),window.setTimeout(t,100)}function DW({color:t,isStriped:e,hasLimitedWidth:n,isRoundedRight:s,isColorFull:i,isMuted:a}){const l=s;return r.jsx("div",{className:U("w-4 flex-none overflow-hidden",s&&"my-[0.0625rem]",l?"rounded-full":s&&"rounded-r-full"),style:{color:t},children:r.jsxs("div",{className:U("relative isolate h-full overflow-hidden bg-current",!l&&"rounded-l-md",n?"w-4":"w-6"),children:[r.jsx("div",{className:U("absolute inset-0 -z-10 transition-colors",(i||a)&&"bg-base-bg-elevated/50")}),e&&r.jsx(Mb,{className:U("absolute inset-0 transition-colors",!i&&"text-base-bg-elevated/75")})]})})}function vx({stripeVariant:t,colorVariant:e,isLine:n,isMuted:s,baseColorHex:i=Ik.colors.primary.DEFAULT,overrideColorHex:a,isTransparent:l,className:p,style:f,secondaryHighlightLines:v=[],children:E,didAppear:w,shouldAppear:D,shouldDelayHighlight:M,shouldShimmer:o,noOverlap:d,forceHover:m,hasOverflowStart:h,hasOverflowEnd:u,buttonRef:P,...R}){const _=yx(),F=a||i,C=wW({colorVariant:e,colorHex:F,isStriped:t==="striped-background",isMuted:s,isDarkMode:_}),A=e==="color-full",j=e==="color-light",x=e==="no-color",N=e==="naked",b=Mt(),O={ref:P,...R,className:Ae("group/event relative isolate flex cursor-pointer touch-none items-stretch text-left outline-none focus-visible:z-50 focus-visible:ring focus-visible:ring-primary focus-visible:ring-offset-1",h?"pl-8":"rounded-l-md",u?"pr-8":"rounded-r-md",N&&"rounded-l-sm",j&&!d&&"ring ring-base-bg/70",l&&"opacity-50",D?"z-50 transition-[color,background-color,box-shadow]":"transition",o&&"animate-shimmer bg-[length:300%_100%]",p),style:{...f,width:n?8:f==null?void 0:f.width,backgroundColor:N?void 0:C,backgroundImage:o?`linear-gradient(120deg, ${C} 0%, ${C} 37%, 45%, ${Ai(C,.25)} 50%, 55%, ${C} 63%, ${C} 100%)`:void 0},children:r.jsxs(r.Fragment,{children:[r.jsx("div",{className:U("absolute inset-0 -z-10 border",(!h||N)&&"rounded-l-md",!u&&"rounded-r-md",N?"left-6 transition-[border-color]":"transition",x?["border-contrast-10",h&&"border-l-0",u&&"border-r-0"]:"border-transparent",m?[x||N?"bg-contrast-5":"bg-white/25","dark:bg-contrast-10"]:[x||N?"group-hover/event:bg-contrast-5 group-data-[state=open]/event:bg-contrast-5":"group-hover/event:bg-white/25 group-data-[state=open]/event:bg-white/25","dark:group-hover/event:bg-contrast-10 dark:group-data-[state=open]/event:bg-contrast-10"])}),t==="striped-background"&&r.jsx(Mb,{className:U("absolute inset-0 -z-10 rounded-md text-white",N&&"left-6",A?"opacity-[0.15]":"opacity-50"),width:N?"calc(100% - 0.375rem)":"100%",style:j?void 0:{color:_?Ap(F,.75):Ai(F,.75)}}),r.jsx(DW,{color:i,isStriped:t==="striped-highlight-line",hasLimitedWidth:n,isRoundedRight:N||h,isColorFull:!a&&A,isMuted:s}),!n&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:U("flex flex-none overflow-hidden opacity-75",!b&&"transition-[width]"),style:{width:A?0:`calc(0.25rem * ${v.length} + ${v.length}px)`},children:v.map(({color:T,isDashed:L},c)=>r.jsxs("div",{className:U("relative ml-px w-4 flex-none",N&&"my-px rounded-full"),style:{backgroundColor:T},children:[s&&r.jsx("div",{className:U("absolute inset-0 bg-base-bg-elevated/50",N&&"rounded-full")}),L&&r.jsx(Mb,{className:"text-base-bg-elevated/75"})]},c))}),E({colorHex:F,baseColorHex:i})]})]})};return D?r.jsx(on.button,{transition:{type:"spring",duration:1.3,bounce:.35,delay:M?1:0},initial:{opacity:0,scale:4.5},animate:{opacity:1,scale:1},onAnimationComplete:w,...O}):r.jsx("button",{...O})}function wW({colorVariant:t,colorHex:e,isStriped:n,isMuted:s,isDarkMode:i}){if(t==="color-light"){const a=i?Ap:Ai,l=.7+(n?-.05:0)+(s?.075:0);return a(e,l)}return t==="color-full"?e:Ik.colors["base-bg"].DEFAULT}function CW({titleDetailVariant:t,color:e,colorClassName:n,isMuted:s}){const i=TW[t],a=!(n!=null&&n.includes("text-current"));return r.jsx(i,{className:U("mr-4 inline align-bottom",e&&s&&"opacity-70",a&&"transition",n),style:{color:e}})}const TW={warning:m0,"out-of-office":CF,office:_b,home:Jk};function xx({colorVariant:t,isTitleStrikeThrough:e,title:n,isMuted:s,icon:i,titleDetailVariant:a,colorHex:l,contentConfig:p,shiftPercent:f}){const v=NW[t],E=s?v.textPrimaryMuted:v.textPrimary,w=s?v.textSecondaryMuted:v.textSecondary,D=e?w:E,{availableTitleLines:M,isContentCentered:o,secondaryText:d,isSecondaryTextInline:m,secondaryTextAlignment:h,paddingSize:u}=kW(p),P=yx(),R=v.hasForcedIconColor&&s?P?Ap(l,.7):Ai(l,.6):void 0,_=r.jsx("div",{className:U("flex w-full min-w-0 px-6",u==="small"?"py-2":!o&&"pt-6",o?"items-center":"items-start"),children:r.jsxs("div",{className:U("flex w-full",m?"items-center gap-4":"flex-col gap-[0.0625rem]"),style:{color:v.hasDarkenedText?P?Ai(l,.7):Ap(l,.6):void 0},children:[r.jsxs("div",{className:U(oe,"-my-2 -ml-2 overflow-hidden text-ellipsis py-2 pl-2 transition",h==="end"&&"w-full",D,M<=1?"whitespace-nowrap":"[-webkit-box-orient:vertical] [display:-webkit-box]"),style:{WebkitLineClamp:M},children:[a&&r.jsx(CW,{titleDetailVariant:a,color:v.hasForcedIconColor?l:void 0,colorClassName:D,isMuted:s}),i&&_W({Icon:i,className:"mr-4 align-bottom h-16 inline-flex items-center",iconClassName:D,color:R||null,checkboxClassName:v.checkbox,checkboxUncheckedClassName:v.checkboxUncheckedOverrides}),r.jsx("span",{className:e?"line-through":void 0,children:n})]}),d&&r.jsx("div",{className:U(Te,"transition",w,m?"flex-none tabular-nums":"truncate"),children:d})]})});return f?r.jsx("div",{className:"h-20",children:r.jsx("div",{className:"absolute inset-0",style:{paddingLeft:`calc(${f*100}% + 0.375rem * ${f})`},children:_})}):_}const NW={"color-full":{textPrimary:"text-white",textPrimaryMuted:"text-white",textSecondary:"text-white/75",textSecondaryMuted:"text-white/75",checkbox:"text-white/70",checkboxUncheckedOverrides:"ring-white/40 hover:ring-white/70"},"color-light":{textPrimary:"text-current",textPrimaryMuted:"text-current opacity-80",textSecondary:"text-current opacity-70",textSecondaryMuted:"text-current opacity-50",checkbox:"text-current",checkboxUncheckedOverrides:"ring-current opacity-50 hover:opacity-75 hover:ring-current",hasDarkenedText:!0},"no-color":{textPrimary:"text-black",textPrimaryMuted:"text-contrast-75",textSecondary:"text-contrast-50",textSecondaryMuted:"text-contrast-30",checkbox:"text-contrast-30",hasForcedIconColor:!0},naked:{textPrimary:"text-black",textPrimaryMuted:"text-contrast-75",textSecondary:"text-contrast-50",textSecondaryMuted:"text-contrast-30",checkbox:"text-contrast-30",hasForcedIconColor:!0}},d7=16,h7=12,f7=1,zb=6,q5=d7+f7+h7+zb;function kW(t){if(t.type==="standalone-event"||t.type==="all-day-event")return{availableTitleLines:1,isContentCentered:!0,secondaryText:t.secondaryContentType&&(t.secondaryContentType.type==="time-narrow"?Ye(t.secondaryContentType.date,t.secondaryContentType.timeNotation):`${Oe(t.secondaryContentType.startDate,"ccc")} ${Ye(t.secondaryContentType.startDate,t.secondaryContentType.timeNotation)}  ${Oe(t.secondaryContentType.endDate,"ccc")} ${Ye(t.secondaryContentType.endDate,t.secondaryContentType.timeNotation)}`),isSecondaryTextInline:!0,secondaryTextAlignment:t.type==="standalone-event"?"end":"start",paddingSize:"small"};const{availableHeightPx:e,eventHeightPx:n}=t,s=e??n,i=s>=q5,a=!i&&n<q5+zb,l=s-f7-zb-(i?h7:-1);return{availableTitleLines:Math.max(Math.floor(l/d7),1),isContentCentered:a,isSecondaryTextInline:!1,paddingSize:"large",secondaryTextAlignment:"end",secondaryText:i&&[Ye(t.startDate,t.timeNotation),t.location].filter(Boolean).join(" ")}}function _W({Icon:t,className:e,iconClassName:n,color:s,checkboxClassName:i,checkboxUncheckedClassName:a}){if(!e)return t;const l=t.props.className;return K.cloneElement(t,{className:l?U(e,l):e,iconClassName:n,checkboxClassName:i,checkboxUncheckedClassName:a,colorHex:s})}const cs=K.forwardRef(function({title:e,titleDetailVariant:n,isTitleStrikeThrough:s,className:i,secondaryContentType:a,amountOfDays:l=1,textDay:p,resizeDragHandleProps:f,icon:v,...E},w){return r.jsx(vx,{buttonRef:w,...E,className:i,style:{width:`calc(${l*100}% - 0.625rem)`},children:({colorHex:D})=>r.jsxs(r.Fragment,{children:[r.jsx(xx,{colorVariant:E.colorVariant,isTitleStrikeThrough:s,title:e,titleDetailVariant:n,icon:v,isMuted:E.isMuted,colorHex:D,contentConfig:{type:"all-day-event",secondaryContentType:a},shiftPercent:p?p/l:void 0}),f&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"absolute inset-y-0 left-0 w-6 cursor-ew-resize touch-none",...br(f.left,["onClickCapture"])}),r.jsx("div",{className:"absolute inset-y-0 right-0 w-6 cursor-ew-resize touch-none",...br(f.right,["onClickCapture"])})]})]})})}),dn=K.forwardRef(function({title:e,startDate:n,timeNotation:s,titleDetailVariant:i,location:a,isTitleStrikeThrough:l,position:p,resizeDragHandleProps:f,className:v,...E},w){var D,M,o,d;return r.jsx(vx,{buttonRef:w,...E,className:U("absolute",v),style:{...E.style,height:p.heightPx,top:p.offsetTopPx,left:ci(p.offsetLeft),width:ci({percent:1-(((D=p.offsetRight)==null?void 0:D.percent)??0)-(((M=p.offsetLeft)==null?void 0:M.percent)??0),px:-(((o=p.offsetLeft)==null?void 0:o.px)??0)-(((d=p.offsetRight)==null?void 0:d.px)??0)})},children:({colorHex:m})=>r.jsxs(r.Fragment,{children:[r.jsx(xx,{colorVariant:E.colorVariant,isTitleStrikeThrough:l,title:e,titleDetailVariant:i,isMuted:E.isMuted,icon:E.icon,colorHex:m,contentConfig:{type:"time-event",availableHeightPx:p.availableHeightPx,eventHeightPx:p.heightPx,location:a,startDate:n,timeNotation:s}}),f&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"absolute inset-x-0 top-0 h-6 cursor-ns-resize touch-none",...br(f.top,["onClickCapture"])}),r.jsx("div",{className:"absolute inset-x-0 bottom-0 h-6 cursor-ns-resize touch-none",...br(f.bottom,["onClickCapture"])})]})]})})});function ci(t){return t&&`calc(${t.percent*100}% + ${t.px/16}rem)`}const jx=K.forwardRef(function({title:e,startDate:n,endDate:s,timeNotation:i,displayTimezone:a,position:l,appear:p,className:f,style:v,resizeDragHandleProps:E,...w},D){var P,R,_,F;const{availableTitleLines:M,isContentCentered:o,isSecondaryTextVisible:d}=OW(l.availableHeightPx,l.heightPx),m=[nn(n,i,a),s&&nn(s,i,a)].filter(ct).join("  "),h={...w,ref:D,className:Ae("absolute flex touch-none flex-col rounded-md bg-base-bg px-10 text-left outline-none before:absolute before:inset-0 before:transition hover:before:bg-contrast-5 focus-visible:z-10 focus-visible:ring focus-visible:ring-primary focus-visible:ring-offset-1",o?"justify-center":"pt-6",f),style:{...v,height:l.heightPx,top:l.offsetTopPx,left:ci(l.offsetLeft),right:ci(l.offsetRight),width:ci({percent:1-(((P=l.offsetRight)==null?void 0:P.percent)??0)-(((R=l.offsetLeft)==null?void 0:R.percent)??0),px:-(((_=l.offsetLeft)==null?void 0:_.px)??0)-(((F=l.offsetRight)==null?void 0:F.px)??0)})},children:r.jsxs(r.Fragment,{children:[r.jsx("div",{className:U(oe,"w-full overflow-hidden text-ellipsis",M<=1?"whitespace-nowrap":"[-webkit-box-orient:vertical] [display:-webkit-box]"),style:{WebkitLineClamp:M},children:e}),d&&r.jsx("div",{className:U(Te,"w-full truncate"),children:m}),E&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"absolute inset-x-0 top-0 h-6 cursor-ns-resize touch-none",...br(E.top,["onClickCapture"])}),r.jsx("div",{className:"absolute inset-x-0 bottom-0 h-6 cursor-ns-resize touch-none",...br(E.bottom,["onClickCapture"])})]})]})},u=Mt();return p?r.jsx(on.button,{...h,initial:{opacity:0,scale:u?1:.8},animate:{opacity:1,scale:1},transition:{type:"spring",duration:.7,bounce:.35}}):r.jsx("button",{...h})});function OW(t,e){const n=t??e,s=n>=ej,i=!s&&e<ej+Kb,a=n-g7-Kb-(s?p7:-1);return{availableTitleLines:Math.max(Math.floor(a/m7),1),isContentCentered:i,isSecondaryTextVisible:s}}const m7=16,p7=12,g7=1,Kb=6,ej=m7+g7+p7+Kb,us=K.forwardRef(function({title:e,titleDetailVariant:n,icon:s,isTitleStrikeThrough:i,className:a,secondaryContentType:l,resizeDragHandleProps:p,...f},v){return r.jsx(vx,{buttonRef:v,noOverlap:!0,...f,className:U("w-full",a),children:({colorHex:E})=>r.jsxs(r.Fragment,{children:[r.jsx(xx,{colorVariant:f.colorVariant,isTitleStrikeThrough:i,title:e,titleDetailVariant:n,isMuted:f.isMuted,icon:s,colorHex:E,contentConfig:{type:"standalone-event",secondaryContentType:l}}),p&&r.jsxs(r.Fragment,{children:[p.left&&r.jsx("div",{className:"absolute inset-y-0 left-0 w-6 cursor-ew-resize touch-none",...br(p.left,["onClickCapture"])}),p.right&&r.jsx("div",{className:"absolute inset-y-0 right-0 w-6 cursor-ew-resize touch-none",...br(p.right,["onClickCapture"])})]})]})})});function b7({shouldOpen:t,children:e,content:n,title:s,body:i,primaryAction:a,secondaryAction:l,autoFocus:p,...f}){const v=IW(),[E,w]=UH(t);return r.jsx(cn,{open:v?E:!1,onOpenChange:w,minimalRenderWhenClosed:!0,align:"center",sideOffset:2,modal:!1,...f,className:"max-w-[18rem] overflow-visible rounded-md bg-primary px-12 py-12 text-white-static shadow-[0_2px_4px_rgb(0_0_0/0.1)]",content:D=>r.jsx(MW,{content:n,title:s,body:i,primaryAction:a,secondaryAction:l,close:D}),components:{Root:nk,Portal:rk,Content:In(D=>r.jsx(sk,{...D,onInteractOutside:Qn,onOpenAutoFocus:p?void 0:Qn})),Trigger:t0},children:e})}function IW(){const[t,e]=K.useState(!1);return K.useEffect(()=>{const n=window.setTimeout(()=>{e(!0)},500);return()=>window.clearTimeout(n)},[]),t}function MW({content:t,title:e,body:n,primaryAction:s,secondaryAction:i,close:a}){if(t)return t;const l=i?Array.isArray(i)?i:[i]:[];function p(f){return function(){var E;f.noHintClose||a(),(E=f.onClick)==null||E.call(f)}}return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:U(Ne,"flex flex-col gap-8"),children:[r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsx("h1",{className:U(oe,"flex-grow"),children:e}),r.jsx(ce,{label:"Close and show later",side:"top",children:r.jsx(ae,{variant:"tertiary-inverse-static",size:"tiny",icon:Rn,className:"-mr-2 -mt-2 flex-none self-start focus-visible:ring-white-static",onClick:f=>{f.stopPropagation(),a()}})})]}),n,(s||l.length!==0)&&r.jsxs("div",{className:"flex gap-8 pt-4",children:[s&&r.jsx(ae,{variant:"secondary",className:"ring-0 focus-visible:ring-white-static",onClick:p(s),children:s.label}),l.map((f,v)=>r.jsx(ae,{variant:"primary",onClick:p(f),className:"ring ring-white-static/10 hover:bg-white-static/5 focus-visible:bg-transparent focus-visible:ring-white-static",children:f.label},v))]})]}),r.jsx(lL,{asChild:!0,width:26,height:7,children:r.jsx("svg",{viewBox:"0 0 26 7",className:"text-primary",children:r.jsx("path",{fill:"currentColor",d:"m14.993 6.228 5.586-4.965A5 5 0 0 1 23.901 0H2.099a5 5 0 0 1 3.322 1.263l5.586 4.965a3 3 0 0 0 3.986 0Z"})})})]})}const E0=K.forwardRef(function({variant:e="border",forceHover:n,className:s,...i},a){const l=RW[e];function p(f){return r.jsx(lk,{ref:a,cacheMeasurements:!0,className:Ae("block w-full resize-none rounded-md px-8 py-6 outline-none transition placeholder:text-contrast-50",f&&"focus-visible:ring focus-visible:ring-primary",l.textarea,!i.disabled&&!i.readOnly&&l.textareaEnabledAddition,n&&l.textareaForceHoverAddition,s),...i})}return e==="ghost"?r.jsx(hx,{useHook:I_,children:p}):p(!0)}),RW={ghost:{textarea:"bg-transparent",textareaEnabledAddition:"hover:bg-contrast-5 focus-visible:bg-contrast-5",textareaForceHoverAddition:"bg-contrast-5"},border:{textarea:"bg-base-bg-elevated dark:bg-base-bg ring ring-contrast-10",textareaEnabledAddition:"hover:ring-contrast-20",textareaForceHoverAddition:"ring-contrast-20"},"border-transparent":{textarea:"ring ring-contrast-10",textareaEnabledAddition:"hover:ring-contrast-20",textareaForceHoverAddition:"ring-contrast-20"},internal:{textarea:"bg-transparent focus-visible:ring-0"}};function PW(t){return r.jsx(ce,{side:"right",align:t.content?"start":"center",animationVariant:t.content?"no-animation":void 0,...t,className:U(t.content&&"rounded-lg",t.className)})}const wp=K.forwardRef(function({label:e,icon:n,icon2:s,iconRight:i,keyboardShortcut:a,hasIconOffset:l,tooltip:p,secondaryLabel:f,isDestructive:v,className:E,...w},D){const M=r.jsxs("button",{ref:D,"data-no-prevent-focus":!0,...w,className:Ae("relative flex w-full scroll-m-4 items-center gap-8 rounded-md px-8 py-6 text-left outline-none data-[state=open]:bg-contrast-5 data-[highlighted]:enabled:bg-contrast-5",v?"text-red-400 disabled:text-red-400/50":"disabled:text-contrast-50",l&&"pl-32",E),children:[n&&ze(n,U("absolute left-8",v?"text-red-400/70":"text-contrast-50")),s&&ze(s,v?"text-red-400/70":"text-contrast-50"),r.jsxs("div",{className:"min-w-0 flex-1",children:[e,f&&r.jsx("div",{className:U(Te,"text-contrast-50"),children:f})]}),a&&r.jsx(Pn,{shortcut:a,hideKeys:!0}),i&&ze(i,"text-contrast-50")]});return p?r.jsx(PW,{...p,children:M}):M});function y7({options:t,...e}){const n=typeof t=="function",s=n?t:Sx(t);return!n&&s.length===0?typeof e.children=="function"?e.children(!1,"closed"):e.children:r.jsx(cn,{modal:!0,...e,content:i=>r.jsx(v7,{optionGroups:s,components:e.components,close:i})})}function v7({optionGroups:t,components:e,close:n}){return r.jsx(ck,{children:()=>{const s=typeof t=="function"?Sx(t()):t,i=s.some(a=>tj(a)?a.options.length!==0:a.options.some(l=>j7(l)||l.icon));return r.jsx("div",{className:U(oe,"max-h-[--radix-popper-available-height] overflow-y-auto py-4"),children:s.map((a,l)=>{const p=l!==0;return r.jsxs(K.Fragment,{children:[p&&r.jsx(e.MenuSeparator,{className:"relative my-4 h-px before:absolute before:inset-0 before:border-b-[0.5px] before:border-contrast-10"}),tj(a)?r.jsx(HW,{...a,hasIconOffset:i,components:e,close:n}):r.jsx(LW,{...a,hasIconOffset:i,components:e,close:n})]},l)})})}})}function LW({label:t,options:e,hasIconOffset:n,components:s,close:i,renderOptions:a}){return r.jsxs(s.MenuGroup,{className:S7,children:[t&&r.jsx(x7,{label:t,components:s}),e.map((l,p)=>{if(j7(l)){const{checked:f,onCheckedChange:v,icon:E,onSelect:w,...D}=l;return r.jsx(s.MenuCheckboxItem,{asChild:!0,disabled:D.disabled,checked:f,onCheckedChange:v,onSelect:w,children:r.jsx(wp,{...D,hasIconOffset:n,icon:E||r.jsx(s.MenuItemIndicator,{children:r.jsx(yt,{})})})},p)}if(WW(l)){const{subOptions:f,iconRight:v,...E}=l;return r.jsx(s.MenuSub,{children:r.jsx(cn,{components:{Root:s.MenuSub,Portal:s.Portal,Content:s.MenuSubContent,Trigger:E.disabled?In(w=>r.jsx(s.MenuSubTrigger,{...w,disabled:!0})):s.MenuSubTrigger},alignOffset:-4,content:r.jsx(v7,{optionGroups:Sx(f),components:s,close:i}),children:r.jsx(wp,{...E,hasIconOffset:n,iconRight:v||r.jsx(l0,{className:"-mr-4"})})})},p)}return r.jsx(BW,{hasIconOffset:n,components:s,close:i,...l},p)}),a&&r.jsx(ck,{children:()=>a({components:s,close:i})})]})}function BW({hasIconOffset:t,components:e,close:n,onSelect:s,disabled:i,iconRight:a,...l}){const[p,f]=K.useState("idle"),v=i||p.startsWith("loading");return r.jsx(e.MenuItem,{asChild:!0,disabled:v,onSelect:E=>{const w=s(E);if(w){E.preventDefault(),f("loading-invisible");const D=window.setTimeout(()=>f("loading-visible"),200);w.then(()=>{window.clearTimeout(D),f("idle"),n()},()=>{window.clearTimeout(D),f("error")})}},children:r.jsx(wp,{...l,disabled:v,hasIconOffset:t,iconRight:FW[p]||a})})}const FW={idle:void 0,"loading-invisible":void 0,"loading-visible":Gr,error:r.jsx(Si,{className:"text-red-400"})};function HW({label:t,options:e,value:n,onValueChange:s,hasIconOffset:i,components:a,close:l,renderOptions:p}){return r.jsxs(a.MenuRadioGroup,{value:n,onValueChange:s,className:S7,children:[t&&r.jsx(x7,{label:t,components:a}),e.map(({value:f,icon:v,onSelect:E,...w},D)=>r.jsx(a.MenuRadioItem,{asChild:!0,value:f,disabled:w.disabled,onSelect:E,children:r.jsx(wp,{...w,hasIconOffset:i,icon:v||r.jsx(a.MenuItemIndicator,{children:r.jsx(yt,{})})})},D)),p==null?void 0:p({components:a,close:l})]})}function x7({label:t,components:e}){return r.jsx(e.MenuLabel,{className:"px-8 py-4 text-contrast-50",children:t})}function Sx(t){const e=t.filter(ct);return(VW(e)?e.map(s=>Array.isArray(s)?{options:s}:s):[{options:e}]).map(s=>({...s,options:s.options.filter(ct)})).filter(s=>s.options.length!==0||s.renderOptions)}function VW(t){return!t[0]||Array.isArray(t[0])||!!t[0].options}function tj(t){return!!t.onValueChange}function j7(t){return typeof t.checked=="boolean"}function WW(t){return t.subOptions!==void 0}const S7="px-4";function Cr(t){return r.jsx(y7,{...t,components:$W})}const $W={Root:cL,Portal:uL,Content:dL,Trigger:hL,MenuItem:fL,MenuLabel:mL,MenuSeparator:pL,MenuGroup:gL,MenuCheckboxItem:bL,MenuRadioGroup:yL,MenuRadioItem:vL,MenuItemIndicator:xL,MenuSub:jL,MenuSubTrigger:SL,MenuSubContent:AL};function Ue({components:t=Zb,...e}){return r.jsx(y7,{components:t,...e})}const Zb={Root:EL,Portal:DL,Content:wL,Trigger:CL,MenuItem:TL,MenuLabel:NL,MenuSeparator:kL,MenuGroup:_L,MenuCheckboxItem:OL,MenuRadioGroup:IL,MenuRadioItem:ML,MenuItemIndicator:RL,MenuSub:PL,MenuSubTrigger:LL,MenuSubContent:BL};function UW({className:t,steps:e=1,progress:n=0,stepProgress:s=0}){const i=Array.from({length:e},(a,l)=>e===1?n:l<n?100:l===n?s:0);return r.jsx("div",{className:Ae("flex w-full gap-4",t),role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":e>1?e:100,children:i.map((a,l)=>r.jsx(GW,{progress:a},l))})}function GW({progress:t=0}){return r.jsx("div",{className:"relative h-4 w-full overflow-hidden rounded-full bg-contrast-10",children:r.jsx("div",{className:U("absolute left-0 top-0 h-4 rounded-full bg-primary transition-all",t===0&&"hidden"),style:{width:`${t}%`}})})}function Tr({className:t,iconClassName:e="text-primary",backgroundClassName:n="opacity-30",progress:s,sizeVariant:i="small"}){const a=Math.min(100,Math.max(0,s||0)),l=i==="small"?14:16,p=1.5,f=l/2-p,v=2*Math.PI*f,E=v-v*a/100;return r.jsxs("svg",{width:l,height:l,viewBox:`0 0 ${l} ${l}`,className:t,style:{transform:"rotate(-90deg)"},children:[r.jsx("circle",{r:f,cx:l/2,cy:l/2,fill:"transparent",stroke:"currentColor",strokeWidth:p,className:n}),r.jsx("circle",{r:f,cx:l/2,cy:l/2,fill:"transparent",stroke:"currentColor",strokeWidth:p,strokeLinecap:"round",strokeDasharray:v,strokeDashoffset:E,className:e})]})}function Ax({variant:t="border",size:e="medium",options:n,className:s,renderLabel:i,...a}){const l=zW[t],p=KW[e];return r.jsx(FL,{orientation:"vertical",...a,className:Ae("grid grid-cols-1",l.root,s),children:n.map(f=>r.jsxs(uk,{value:f.value,className:U(oe,"flex items-center outline-none focus-visible:ring focus-visible:ring-inset",l.item,p.item),children:[r.jsx("div",{className:"size-14 flex-none rounded-full ring ring-inset ring-contrast-10",children:r.jsx(HL,{forceMount:!0,className:"size-full block rounded-full ring-inset transition-shadow data-[state=checked]:ring-4"})}),(i==null?void 0:i(f))||r.jsxs("label",{className:"flex grow cursor-pointer justify-between gap-8",children:[f.label,f.secondaryLabel&&r.jsx("span",{className:"text-contrast-50",children:f.secondaryLabel})]})]},f.value))})}const zW={border:{root:"ring ring-contrast-10 rounded-md",item:"border-b border-contrast-10 last:border-none hover:bg-contrast-5 bg-clip-padding first:rounded-t-md last:rounded-b-md"},plain:{root:"",item:"px-0 rounded-md"}},KW={tiny:{item:"p-4 gap-4"},small:{item:"p-6 gap-8"},medium:{item:"p-8 gap-8"},large:{item:"p-12 gap-12"}};function mn({children:t}){return r.jsx("ul",{className:"divide-y divide-contrast-10 rounded-md border border-contrast-10 empty:hidden",children:K.Children.map(t,e=>e&&r.jsx("li",{className:"p-8",children:e}))})}function er({options:t,onChange:e,distribution:n="even-width",className:s,...i}){return r.jsx(VL,{...i,onValueChange:e,orientation:"horizontal",className:Ae("overflow-x-auto overflow-y-hidden rounded-lg bg-contrast-5 p-2 [-webkit-app-region:no-drag]",s),children:r.jsx("div",{className:U("grid min-w-max grid-flow-col gap-2",n==="even-width"&&"auto-cols-fr"),children:t.map(a=>r.jsx(uk,{value:a.value,asChild:!0,children:a.button?a.button:r.jsx(ZW,{label:a.label,icon:a.icon})},a.value))})})}const ZW=K.forwardRef(function({label:e,icon:n,...s},i){const a=s["data-state"]==="checked";return r.jsxs("button",{ref:i,...s,className:U(oe,"flex items-center justify-center gap-4 rounded-md px-8 py-4 outline-none ring-inset transition focus-visible:ring",a?"bg-base-bg-elevated shadow-200 dark:bg-contrast-10":["text-contrast-75",!s.disabled&&"hover:text-black"]),children:[n&&ze(n,U("flex-none",e&&"text-contrast-50")),e&&r.jsx("span",{className:"flex-shrink-0",children:e})]})});function Ps(t,e){return t?e.map(n=>({...n,options:or(n.options,t,{keys:["label","secondaryLabel","keywords"],baseSort:(s,i)=>s.index<i.index?-1:1,sorter:n.noSort?XH:void 0,threshold:n.matchThreshold?or.rankings[n.matchThreshold]:void 0})})).filter(n=>n.options.length!==0):e}function YW({inputPlaceholder:t="Search",optionGroups:e,initialOptionValue:n,shouldStayOpenOnSubmit:s,getOptions:i,onSubmit:a,close:l,...p}){const[f,v]=K.useReducer(m=>!m,!1);function E(m){s?(D(""),v()):l(),a(m)}const[w,D]=K.useState(""),M=K.useMemo(()=>i?j0(i(w,e)):e,[i,w,e]),o=K.useMemo(()=>Ps(w,M),[w,M]),d=Array.isArray(n)?n[0]:n;return r.jsxs(XW,{className:f?"pb-[0.1px]":void 0,children:[r.jsx("div",{"aria-hidden":!0,className:U(oe,"h-0 overflow-hidden whitespace-nowrap px-12"),children:t}),r.jsx("input",{placeholder:t,value:w,onChange:m=>D(m.target.value),className:U(oe,"w-0 min-w-full bg-transparent px-12 py-8 text-black outline-none placeholder:text-contrast-50 placeholder-shown:text-ellipsis",o.reduce((m,h)=>m+h.options.length,0)!==0&&"border-b border-contrast-10")}),r.jsx(t7,{optionGroups:o,onSubmit:E,initialIndex:()=>d===void 0?0:o.flatMap(m=>m.options).findIndex(m=>m.value===d),inputValue:w,optionValue:n,scrollContainerClassName:"max-h-[min(var(--radix-popper-available-height)-2rem-1px,25rem)]",...p})]})}function XW(t){const[e,n]=K.useReducer((i,a)=>i<a.width?a.width:i,0),s=Y_(n);return r.jsx("div",{ref:s,...t,style:e?{minWidth:e}:void 0})}function je({inputPlaceholder:t,options:e,initialOptionValue:n,shouldStayOpenOnSubmit:s,bottomHint:i,getOptions:a,onSubmit:l,renderLabel:p,children:f,selectButtonProps:v,hasMultipleValues:E,...w}){const D=j0(e);return r.jsx(cn,{modal:!0,widthVariant:{type:"min-anchor-and-static",minWidth:"6rem"},...w,content:M=>r.jsx(YW,{inputPlaceholder:t,optionGroups:D,initialOptionValue:n,shouldStayOpenOnSubmit:s,bottomHint:i,getOptions:a,onSubmit:l,close:M,renderLabel:p,hasMultipleValues:E}),children:f||r.jsx(JW,{...v,optionGroups:D,initialOptionValue:n,hasMultipleValues:E})})}const JW=K.forwardRef(function({isMuted:e,initialOptionValue:n,optionGroups:s,children:i,className:a,iconRight:l,forceHover:p,hasMultipleValues:f,...v},E){const w=K.useMemo(()=>n===void 0?void 0:s.flatMap(d=>d.options).find(d=>d.value===n),[n,s]),D=typeof e=="boolean"?e:!w||!w.value,M=l===void 0?ym:l,o=p??v["data-state"]==="open";return r.jsx(ae,{ref:E,forceHover:o,className:U(D&&"text-contrast-50",a),iconRight:M&&ze(M,U("transition-opacity",!o&&v.variant==="tertiary"&&"opacity-0 group-hover/button:group-enabled/button:opacity-100 group-focus-visible/button:group-enabled/button:opacity-100")),...v,children:i||(f&&Array.isArray(n)?`${n.length} selected`:w==null?void 0:w.label)||"Select an option"})});function et({outerClassName:t,className:e,...n}){return r.jsx("div",{className:Ae("relative h-16 w-[1.625rem] rounded-full transition-colors before:absolute before:inset-y-[0.0625rem] before:left-[0.0625rem] before:w-14 before:rounded-full before:bg-base-bg-elevated before:shadow-100 before:transition",n.checked?[n.disabled?"bg-primary/50":"bg-primary","before:translate-x-10"]:n.disabled?"bg-contrast-10":"bg-contrast-20",t),children:r.jsx("input",{type:"checkbox",...n,className:Ae("absolute inset-0 rounded-full bg-transparent outline-none transition-shadow focus-visible:ring",!n.disabled&&["cursor-pointer",n.checked&&"focus-visible:ring-offset-1"],e)})})}function QW({icon:t,title:e,actions:n,onActionClick:s}){return r.jsxs("div",{className:U(oe,"flex items-center gap-8 rounded-[10px] bg-black px-12 py-8 leading-28 text-white shadow-400"),children:[t&&ze(t),e,n&&n.map(i=>r.jsx(ae,{variant:i.variant==="primary"?"primary":"tertiary",onClick:()=>{s(),i.onClick&&i.onClick()},className:U(i.variant==="secondary"&&"text-white ring ring-white/20 hover:ring-white/40"),children:i.label},i.label))]})}function qW(t){const[e,n]=K.useState(!1);if(e)throw Error("LOL crash");return r.jsx(ae,{...t,variant:"primary",size:"small",onClick:()=>n(!0),children:"Crash"})}function A7(t){return Object.fromEntries(Object.entries(t).map(([e,{index:n,path:s,children:i}])=>{const a=i?A7(i):void 0,l={index:n,routerPath:s,children:a};return[e,s&&e$.test(s)?{...l,getPath(p){return WL(s,p)}}:{...l,path:s}]}))}const e$=/\/?\*$|\/:/,nj="/app",ye=A7({calendar:{index:!0,path:"/"},showEvent:{path:"/show-event"},login:{path:"/login"},signup:{path:"/signup"},optOut:{path:"/optout"},setupPermissions:{path:"/setup/permissions"},setupPermissionsOutlook:{path:"/setup/permissions/outlook"},setupCompany:{path:"/setup/company"},setupTimes:{path:"/setup/times"},setupFocusguard:{path:"/setup/focusguard"},setupInvite:{path:"/setup/invite"},setupDesktop:{path:"/setup/desktop"},setupDownload:{path:"/setup/download"},accountDeleted:{path:"/account-deleted"},productUpdateUnsubscribed:{path:"/unsubscribed-product-updates"},connectSuccess:{path:"/connect-success"},disconnectedAccount:{path:"/disconnected-account"},primaryCalendar:{path:"/primary-calendar"},subscriptionResult:{path:"/subscription/result"},settings:{path:"/settings",children:{general:{index:!0,path:"/settings"},menuBar:{path:"/settings/menu-bar"},smartColorCoding:{path:"/settings/smart-color-coding"},calendars:{path:"/settings/calendars"},roomsAndContacts:{path:"/settings/rooms-and-contacts"},conferencing:{path:"/settings/conferencing"},workingHours:{path:"/settings/working-hours"},focusGuard:{path:"/settings/focus-guard"},schedulingLinks:{path:"/settings/scheduling-links"},profile:{path:"/settings/profile"},emails:{path:"/settings/emails"},plans:{path:"/settings/plans"},workspaceSettings:{path:"/settings/workspace/:workspaceUuid"},tasksGeneral:{path:"/settings/tasks-general"}}},projects:{path:"/projects",children:{general:{path:"/projects"},project:{path:"/projects/:projectUuid"}}},tasks:{path:"/tasks"},task:{path:"/task/:taskUuid"},myFocus:{path:"/my-focus"},inbox:{path:"/inbox"},updates:{path:"/updates"}});function t$(t){$L({id:t})}class n${getItem(e){return localStorage.getItem(e)}setItem(e,n){localStorage.setItem(e,n)}removeItem(e){localStorage.removeItem(e)}getKeys(){return Object.keys(localStorage).filter(e=>e.startsWith("rise:")).map(e=>e.replace("rise:",""))}}const r$=new n$;var rj,sj;function s$(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:ij(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||ij(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return o$(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:i$(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function i$(t){var e=a$(t,"string");return typeof e=="symbol"?e:e+""}function a$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ij(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function o$(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}var Fr,Cv,Zi;let Be=(Fr=class{constructor(e,n,s="normal"){ie(this,"entity",void rj(this));ie(this,"objectPool");ie(this,"sorter",null);B(this,Zi,sj(this,!1));this.entity=e,this.objectPool=n,pe.client==="ios"&&s==="low"?setTimeout(()=>{this.fetch()},1e3):this.fetch()}get _loaded(){return H(this,Zi)}set _loaded(e){V(this,Zi,e)}get loaded(){return this.objectPool.hydrationStatus==="completed"||this._loaded}new(){return this.objectPool.createInstance(this.entity,null)}add(e){return this.objectPool.addObject(e),e}delete(e){return this.remove(e),e.delete()}remove(e){this.objectPool.removeObject(e)}findByUuid(e){return this.objectPool.getObject(this.entity,e)}hasUuid(e){return this.objectPool.hasObjectByUuid(this.entity,e)}removeByUuid(e){const n=this.findByUuid(e);n&&this.remove(n)}updateFromJSON(e){const n=this.findByUuid(e.uuid);return n?(n.load(e),n):this.objectPool.loadObject(this.entity,e.uuid,e)}async fetch(){const e=await this.remoteItems();xe(()=>{const n=new Set;if(e.forEach(s=>{n.add(this.objectPool.loadObject(this.entity,s.uuid,s).uuid)}),this.objectPool.getObjects(this.entity).forEach(s=>{!n.has(s.uuid)&&!s.isNew&&!s.isDirty&&s.setDeleted(!0)}),e.length===0){this._loaded=!0;return}dk(()=>this.objectPool.relationshipsReady.get(this.entity)||!1,()=>{this._loaded=!0})})}get items(){return this.sorter?this.objectPool.getObjects(this.entity).sort(this.sorter):this.objectPool.getObjects(this.entity)||[]}},Cv=new WeakMap,Zi=new WeakMap,B(Fr,Cv,[sj,rj]=s$(Fr,[[re,1,"_loaded"],[ne,3,"loaded"],[ne,3,"items"]],[]).e),Fr);var aj;function l$(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:oj(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||oj(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return d$(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:c$(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function c$(t){var e=u$(t,"string");return typeof e=="symbol"?e:e+""}function u$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oj(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function d$(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}var Tv;const Wp=class Wp extends Be{constructor(e){aj(super("account",e))}async remoteItems(){return ue.account.list()}get connected(){return this.items.filter(e=>e.status==="connected")}get ownEmails(){return this.items.map(e=>e.accountEmail)}get calendars(){return this.items.flatMap(e=>e.calendars)}get hasDisconnectedAccount(){return this.items.some(e=>e.status==="disconnected")}get hasSyncingAccounts(){return this.items.some(e=>e.syncState==="syncing"||e.syncState==="not_started")}get visibleCalendarsByRemoteId(){return Object.fromEntries(this.calendars.filter(e=>e.visible).map(e=>[e.remoteId,e]))}calendarGroupsForEvent(e){if(!e.canBeEdited)return[];let n=this.connected;switch(e.type){case"workingLocation":n=this.connected.filter(i=>i.workingLocationsSupported);break;case"outOfOffice":n=this.connected.filter(i=>i.outOfOfficeSupported);break}const s=e.type==="workingLocation"||e.type==="outOfOffice";return n.map(i=>({label:i.accountEmail,options:i.calendars.filter(a=>(a.accessLevel==="owner"||a.accessLevel==="writer")&&(!s||a.remotePrimary)).map(a=>({type:"calendar",value:a.uuid,label:a.name,calendar:a,color:a.color}))})).filter(i=>i.options.length!==0)}};Tv=new WeakMap,B(Wp,Tv,[aj]=l$(Wp,[[ne,3,"connected"],[ne,3,"ownEmails"],[ne,3,"calendars"],[ne,3,"hasDisconnectedAccount"],[ne,3,"hasSyncingAccounts"],[ne,3,"visibleCalendarsByRemoteId"]],[],0,void 0,Be).e);let Yb=Wp;class h$ extends Be{constructor(e){super("attachment",e,"low")}async remoteItems(){return ue.attachments.list()}}class f$ extends Be{constructor(e){super("box",e,"low")}async remoteItems(){return ue.boxes.list()}forType(e){return this.items.find(n=>n.type===e)||null}viewForType(e){var n;return((n=this.forType(e))==null?void 0:n.view)||null}}var lj;function m$(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:cj(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||cj(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return b$(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:p$(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function p$(t){var e=g$(t,"string");return typeof e=="symbol"?e:e+""}function g$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cj(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function b$(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}var Nv;const $p=class $p extends Be{constructor(e){lj(super("category",e,"low"))}async remoteItems(){return ue.categories.list()}get favoriteCategory(){return this.items.find(e=>e.type==="favorites")}isFavorite(e){var n;return((n=this.favoriteCategory)==null?void 0:n.hasProject(e))||!1}toggleFavorite(e){var n,s;this.isFavorite(e)?(n=this.favoriteCategory)==null||n.removeProject(e):(s=this.favoriteCategory)==null||s.addProject(e)}};Nv=new WeakMap,B($p,Nv,[lj]=m$($p,[[ne,3,"favoriteCategory"]],[],0,void 0,Be).e);let Xb=$p;class y$ extends Be{constructor(e){super("comment",e,"low")}async remoteItems(){return ue.comments.list()}}var uj;function v$(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:dj(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||dj(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return S$(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:x$(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function x$(t){var e=j$(t,"string");return typeof e=="symbol"?e:e+""}function j$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dj(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function S$(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}var kv;const Up=class Up extends Be{constructor(e){uj(super("conference_solution",e,"low"))}async remoteItems(){return ue.conferenceSolutions.list()}get numberOfConnectedZoomAccounts(){return this.items.filter(e=>e.provider==="zoom"&&e.status==="connected").length}get hasZoomConnected(){return this.numberOfConnectedZoomAccounts>0}};kv=new WeakMap,B(Up,kv,[uj]=v$(Up,[[ne,3,"numberOfConnectedZoomAccounts"],[ne,3,"hasZoomConnected"]],[],0,void 0,Be).e);let Jb=Up;class A$ extends Be{constructor(e){super("cross_calendar_blocking",e,"low")}async remoteItems(){return ue.crossCalendarBlocking.list()}isBlockedIn(e){return this.items.filter(n=>n.mainCalendar===e)}async blockIn(e,n){const s=this.getSharedBlockingSettings(),i=this.new();i.mainCalendar=e,i.followerCalendar=n,i.onlyWithinWorkingHours=(s==null?void 0:s.onlyWithinWorkingHours)||null,i.title=(s==null?void 0:s.title)||null,i.save(),this.add(i)}getSharedBlockingSettings(){const e=this.items[0];return e?{onlyWithinWorkingHours:e.onlyWithinWorkingHours,title:e.title}:null}toggleOnlyWithinWorkingHours(){const e=this.getSharedBlockingSettings(),n=(e==null?void 0:e.onlyWithinWorkingHours)||!1;this.items.forEach(s=>{s.onlyWithinWorkingHours=!n,s.save()})}setTitle(e){this.items.forEach(n=>{n.title=e,n.save()})}}class E$ extends Be{constructor(e){super("group",e,"low")}async remoteItems(){return(await ue.groups.list()).flatMap(e=>e.groups)}findByEmail(e){return this.items.find(n=>n.email===e)}}var hj;function D$(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:fj(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||fj(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return T$(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:w$(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function w$(t){var e=C$(t,"string");return typeof e=="symbol"?e:e+""}function C$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fj(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function T$(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}var _v;const Gp=class Gp extends Be{constructor(e){hj(super("inbox_notification",e,"low")),this.sorter=(n,s)=>G1(n.changeTime,s.changeTime)}async remoteItems(){return this.objectPool.user.hasTag("inbox_notifications")?ue.inboxNotifications.list():[]}get unreadNotifications(){return this.items.filter(e=>!e.readAt)}};_v=new WeakMap,B(Gp,_v,[hj]=D$(Gp,[[ne,3,"unreadNotifications"]],[],0,void 0,Be).e);let Qb=Gp;function N$(t){return t instanceof Ce?t.isDone:sn(t.title).isCompleted}function pn(t){return t.attendanceStatus==="needsAction"?"striped-background":t.attendanceStatus==="tentative"?"striped-highlight-line":"no-stripes"}function gt(t,e){return t instanceof de?t.isSelected?"color-full":e&&!t.allDay?"naked":t.isInfluencingAvailability?"color-light":"no-color":t.isSelected?"color-full":e&&!t.allDay?"naked":t instanceof Le&&t.influencesAvailability===!1?"no-color":t instanceof Ce?e&&!t.allDay?"naked":t.allDay||t.isDone?"no-color":"color-light":"color-light"}function gn(t){if(t.haveAllAttendeesDeclined)return"warning";if(t instanceof Gt||t.type==="non-working-days"||Ti(t))return"out-of-office";if(jr(t)&&(t instanceof de||t instanceof Le)&&t.workingLocation){if(t.workingLocation.type==="homeOffice")return"home";if(t.workingLocation.type==="officeLocation")return"office"}}function an(t){var e,n,s,i;if(t instanceof de){const a=(e=sn(t.title).title)==null?void 0:e.trim();return t.isNew?a||"New Event":a||(((n=t.calendar)==null?void 0:n.accessLevel)==="reader"?"Busy":"(No title)")}return t instanceof Le?t.freebusy?"Busy":((s=sn(t.title).title)==null?void 0:s.trim())||"(No title)":((i=t.title)==null?void 0:i.trim())||"(No title)"}function Zr(t){return t.conferenceData?t instanceof de&&t.conferenceData.provider==="google_meet"&&t.selfAttendee?`${t.conferenceData.link}?authuser=${t.selfAttendee.email}`:t.conferenceData.link:null}function qb(t){var e;if(t instanceof de&&t.htmlLink){const n=jr(t)?t.organizerEmail:(e=t.selfAttendee)==null?void 0:e.email;if(n)return`${t.htmlLink}&authuser=${n}`}return null}function Qr(t){let e=0;const n=[...t].sort(_$),s=new Set;return Object.values(mm(n,i=>{var l,p,f;const a=i.fingerprint;if(i instanceof Ce)return i.uuid;if(i instanceof de&&i.isFollower){if((l=i.extendedProperties)!=null&&l.following_task)return(p=i.extendedProperties)==null?void 0:p.following_task;const v=k$(t,i);if(v&&v.fingerprint)return v.fingerprint}if(a&&i instanceof de){if(s.has(a))return"unique-"+e++;s.add(a)}if(i instanceof Gt||i.type==="non-working-days"){const v=i.startsAtDate||i.startsAt;return`out-of-office-${v.getFullYear()}-${v.getMonth()}-${v.getDate()}`}return i instanceof Le&&((f=i.extendedProperties)==null?void 0:f.type)==="task"?i.extendedProperties.task:a||"unique-"+e++})).map(([i,...a])=>({event:i,deduplicatedEvents:a}))}function k$(t,e){return t.find(n=>n.uuid===e.followedEvent)}function _$(t,e){const n=mj(t)-mj(e);if(n!==0)return n;const s=(t.title||"").localeCompare(e.title||"");return s!==0?s:t.uuid.localeCompare(e.uuid)}function mj(t){return t instanceof de?t.isFollower?6:Ti(t)?1:jr(t)?2:t.isOrganizer||t.isCreator?3:t.readOnly?5:4:t instanceof Ce?5:t instanceof Le?Ti(t)?7:jr(t)?8:9:10}function O$(t){if(t.length===0)return[];const e=[];let n;return t.slice().sort((s,i)=>s.startsAt.getTime()-i.startsAt.getTime()).forEach(s=>{if(!n||Ge(s.startsAt,n.endsAt)>1){n={startsAt:s.startsAt,endsAt:s.endsAt},e.push(n);return}n.endsAt<s.endsAt&&(n.endsAt=s.endsAt)}),e}function E7(t){return t.some(e=>!e.isSelf&&!e.isResource)&&t.every(e=>e.hasDeclined||e.isSelf||e.isResource)}function I$(t){return t.some(e=>e.hasDeclined)}function rr(t){var n,s,i;const{calendar:e}=t;if(e!=null&&e.remotePrimary&&e.account.areEventTypeColorsActive){if(t instanceof Ce)return e.account.eventTypeColors.noAttendeesNoLocation;if(t.isMeeting)return t.internalMeeting?t.peopleAttendees.length===1?e.account.eventTypeColors.oneAttendee:e.account.eventTypeColors.manyAttendees:e.account.eventTypeColors.externalAttendees;if(!t.location)return e.account.eventTypeColors.noAttendeesNoLocation}if(t instanceof de&&t.remoteColorId&&((s=(n=e==null?void 0:e.account)==null?void 0:n.eventColors)!=null&&s[t.remoteColorId]))return(i=e==null?void 0:e.account)==null?void 0:i.eventColors[t.remoteColorId]}function D0(t,e){if(t instanceof Ce)return t.isDone;const{isTask:n,isCompleted:s}=sn(t.title);if(n)return s;const i=t.endsAt||t.endsAtDate;return t.allDay?!Yt(e.nowStartOfDay,i):Ve(e.nowStartOfDay,i)?Ur(e.nowStartOfMinute,i):Ur(e.nowStartOfDay,i)}function Dn({allDay:t,showDeclined:e}={}){return n=>{var s;return n instanceof de?n.status!=="cancelled"&&(t===void 0||n.presentAsAllDay===t)&&!n.isDeleted&&n.calendar&&n.calendar.visible&&n.calendar.account&&n.calendar.account.status!=="deleting"&&(e||n.attendanceStatus!=="declined")&&!((s=n.extendedProperties)!=null&&s.task):n instanceof Le?(t===void 0||n.allDay===t)&&(e||n.attendanceStatus!=="declined"):t===void 0||n.allDay===t}}function M$(t,e,n){if(e.isScrolling)return;const s=t.start,i=e.calendarDays[0];if(s<i&&t.end>i)return(n.weekendVisible?kn:U1)(i,s)}const Wn={lightBlue:{label:"Light blue",value:"#0078d4"},lightGreen:{label:"Light green",value:"#107c10"},lightOrange:{label:"Light orange",value:"#f7630c"},lightGray:{label:"Light gray",value:"#0a0a0a"},lightYellow:{label:"Light yellow",value:"#fde300"},lightTeal:{label:"Light teal",value:"#038387"},lightPink:{label:"Light pink",value:"#bf0077"},lightBrown:{label:"Light Brown",value:"#8e562e"},lightRed:{label:"Light red",value:"#d13438"}},Nt={red:{label:"Red",value:"#c2291c"},orange:{label:"Orange",value:"#e15d33"},yellow:{label:"Yellow",value:"#edc04b"},lightGreen:{label:"Light green",value:"#5fb37e"},teal:{label:"Teal",value:"#13b1a8"},darkGreen:{label:"Dark green",value:"#3b7e49"},lightBlue:{label:"Light blue",value:"#4699df"},darkBlue:{label:"Dark blue",value:"#5a57ff"},pink:{label:"Pink",value:"#e43fff"},purple:{label:"Purple",value:"#9f3fff"}},R$=[Wn.lightBlue,Wn.lightGreen,Wn.lightOrange,Wn.lightGray,Wn.lightYellow,Wn.lightTeal,Wn.lightPink,Wn.lightBrown,Wn.lightRed],Ci=[Nt.red,Nt.orange,Nt.yellow,Nt.lightGreen,Nt.teal,Nt.darkGreen,Nt.lightBlue,Nt.darkBlue,Nt.pink,Nt.purple];function D7(t,e){const n=t.items.filter(s=>{var i;return s.provider==="custom_link"||s.provider==="zoom"||((i=e.conferenceSolutions)==null?void 0:i.includes(s.provider))});return t.numberOfConnectedZoomAccounts>1?n.map(s=>s.provider==="zoom"?{uuid:s.uuid,provider:s.provider,label:`${s.label} (${s.email})`}:s):n}function P$(t,e){var n;if(e.conferenceSolution)return e.conferenceSolution;if((n=e.conferenceData)!=null&&n.provider){if(e.conferenceData.provider==="custom_link"){const s=new URL(e.conferenceData.link),i=`//${s.host}${s.pathname}`;return t.items.find(a=>a.provider==="custom_link"&&a.link===i)||null}return t.items.find(s=>{var i;return s.provider===((i=e.conferenceData)==null?void 0:i.provider)})||null}return null}function Ex({users:t,peopleStore:e,userStore:n}){if(!t||!n.firstName)return null;const s=t.map(i=>e.nameForEmail({email:i,fallbackOnEmail:!1,preferFirstName:!0})).filter(i=>i!==null);return s.length!==t.length?null:s.concat([n.firstName]).join(" / ")}function Ti(t){return t.type==="outOfOffice"}function jr(t){return t.type==="workingLocation"}function L$(t,e){const n=t.allOwnDisplayEvents.filter(xr(e)).filter(Dn({allDay:!1,showDeclined:!1})).filter(s=>!N$(s));return Qr(n).map(({event:s})=>s)}function B$(t,e){const n=t.allOwnDisplayEvents.filter(xr(e)).filter(Dn({allDay:!1,showDeclined:!1}));return Qr(n).map(({event:s})=>s)}function w7(t,e){return t.sort((n,s)=>n.name.localeCompare(s.name))}function F$(t){const e=[{value:null,label:"No repeat"}],n=H$(t);return t.rrule&&!n.find(s=>s.value===t.rrule.toString())&&e.push({value:t.rrule.toString(),label:On(t.rrule.toText())}),e.concat(n)}function H$(t){const e=W$(t).map(n=>({value:n.toString(),label:On(n.toText())}));return t.allDay&&t.type==="workingLocation"?e:e.concat({value:"custom",label:"Custom"})}function V$(t){const e=[{value:null,label:"No repeat"}],n=$$(t);return t.rrule&&!n.find(s=>s.value===t.rrule.toString())&&e.push({value:t.rrule.toString(),label:On(t.rrule.toText())}),e.concat(n).concat({value:"custom",label:"Custom"})}function Dx(t){if(!t)return null;const e=typeof t=="string"?JSON.parse(t):t,s=hk(e.join(`
`),{forceset:!0}).rrules();return s[0]?s[0]:null}function rp(t){return t.allDay?t.startsAtDate:t.startsAt}function Gm(t){return wx(rp(t))}function Q0(t){return t.dueDate?wx(t.dueDate):Ee.MO}function wx(t){switch(vs(t)){case 0:return Ee.SU;case 1:return Ee.MO;case 2:return Ee.TU;case 3:return Ee.WE;case 4:return Ee.TH;case 5:return Ee.FR;case 6:return Ee.SA}}function W$(t){return t.allDay&&t.type==="workingLocation"?[ey(Gm(t))]:[C7(),I7(),ey(Gm(t)),T7(Gm(t)),N7(rp(t)),k7(rp(t)),_7(Gm(t)),O7(rp(t))]}function $$(t){return[C7(),I7(),ey(Q0(t)),T7(Q0(t)),N7(t.dueDate||new Date),k7(t.dueDate||new Date),_7(Q0(t)),O7(t.dueDate||new Date)].map(e=>({value:e.toString(),label:On(e.toText())}))}function C7(){return new Ee({freq:Ee.DAILY})}function ey(t){return new Ee({freq:Ee.WEEKLY,byweekday:t})}function T7(t){return new Ee({freq:Ee.WEEKLY,interval:2,byweekday:t})}function N7(t){const e=vb(t);return new Ee({freq:Ee.MONTHLY,byweekday:wx(t).nth(e)})}function k7(t){return new Ee({freq:Ee.MONTHLY,bymonthday:vi(t)})}function _7(t){return new Ee({freq:Ee.MONTHLY,byweekday:t.nth(-1)})}function O7(t){return new Ee({freq:Ee.YEARLY,bymonth:xb(t)+1,bymonthday:vi(t)})}function I7(){return new Ee({freq:Ee.WEEKLY,byweekday:[Ee.MO,Ee.TU,Ee.WE,Ee.TH,Ee.FR]})}function U$(t,e,n=[],s,i){const{getKey:a,getGrouping:l,getGroupKey:p,getGroupLabel:f,groupSorter:v,createSetProperty:E,createSetGroupOrderBetween:w}=G$[e],D=n.reduce((o,d)=>(o.set(p(d),[]),o),new Map);return Array.from(ox(t,a,D).entries()).map(([o,d])=>{d.sort(M7[i]);const m=l(n,o,d);return{tasks:d,key:o,label:f(m),grouping:m,setProperty:E(m),setGroupOrderBetween:w==null?void 0:w(m,s)}}).sort(v)}const G$={status:{getKey:t=>t.status?t.status.labelSafe:"no-status",getGrouping:(t,e,n)=>{var s,i;return{propertyKey:"status",status:((s=t.find(a=>a.status.label===e))==null?void 0:s.status)||((i=n[0])==null?void 0:i.status)||null}},getGroupKey:t=>{var e;return((e=t.status)==null?void 0:e.labelSafe)||"no-status"},getGroupLabel:t=>{var e;return((e=t.status)==null?void 0:e.labelSafe)||"No status"},groupSorter:(t,e)=>t.grouping.status?e.grouping.status?w0(t.grouping.status,e.grouping.status):1:-1,createSetProperty:t=>e=>{e.isNew&&(e.workspace=t.status.workspace),e.setStatus(t.status)}},due_date:{getKey:t=>t.dueDate?t.dueGroup.key:"no-due",getGrouping:(t,e,n)=>{var s,i;return{propertyKey:"due_date",due:((s=t.find(a=>a.due.key===e))==null?void 0:s.due)||((i=n[0])==null?void 0:i.dueGroup)||Ht["no-due"]}},getGroupKey:t=>{var e;return((e=t.due)==null?void 0:e.key)||"no-due"},getGroupLabel:t=>{var e;return((e=t.due)==null?void 0:e.label)||"No due date"},groupSorter:(t,e)=>t.grouping.due?e.grouping.due?t.grouping.due.ordering-e.grouping.due.ordering:1:-1,createSetProperty:t=>e=>{switch(t.due.key){case"no-due":e.setDueDate(null);break;case"today":e.setDueDate(ge.nowStartOfDay);break;case"tomorrow":e.setDueDate(fe(ge.nowStartOfDay,1));break;case"this-week":const n=fe(ge.nowStartOfDay,2);Yt(n,ge.nowStartOfNextWeek)&&e.setDueDate(n);break;case"next-week":e.setDueDate(ge.nowStartOfNextWeek);break;case"later":e.setDueDate(Re(ge.nowStartOfNextWeek,1));break;case"overdue":e.setDueDate(bs(ge.nowStartOfDay,1));break}}},assignee:{getKey:t=>t.assignee?t.assignee.uuid:"no-assignee",getGrouping:(t,e,n)=>{var s,i;return{propertyKey:"assignee",assignee:((s=t.find(a=>{var l;return((l=a.assignee)==null?void 0:l.uuid)===e}))==null?void 0:s.assignee)||((i=n[0])==null?void 0:i.assignee)||null}},getGroupKey:t=>{var e;return((e=t.assignee)==null?void 0:e.uuid)||"no-assignee"},getGroupLabel:t=>{var e;return((e=t.assignee)==null?void 0:e.displayNameSafe)||"Unassigned"},groupSorter:(t,e)=>t.grouping.assignee?e.grouping.assignee?t.grouping.assignee.displayNameSafe.localeCompare(e.grouping.assignee.displayNameSafe):1:-1,createSetProperty:t=>e=>{e.setAssignee(t.assignee)}},priority:{getKey:t=>t.priority?t.priority.toString():"no-priority",getGrouping:(t,e,n)=>{var s,i;return{propertyKey:"priority",priority:((s=t.find(a=>a.priority===parseInt(e)))==null?void 0:s.priority)||((i=n[0])==null?void 0:i.priority)||null}},getGroupKey:t=>{var e;return((e=t.priority)==null?void 0:e.toString())||"no-priority"},getGroupLabel:t=>t.priority?Zn[t.priority]:"No priority",groupSorter:(t,e)=>t.grouping.priority?e.grouping.priority?t.grouping.priority-e.grouping.priority:1:-1,createSetProperty:t=>e=>{e.setPriority(t.priority)}},custom_groups:{getKey:t=>t.projectState?t.projectState.uuid:"no-project-state",getGrouping:(t,e,n)=>{var s,i;return{propertyKey:"custom_groups",projectState:((s=t.find(a=>{var l;return((l=a.projectState)==null?void 0:l.uuid)===e}))==null?void 0:s.projectState)||((i=n[0])==null?void 0:i.projectState)||null}},getGroupKey:t=>{var e;return((e=t.projectState)==null?void 0:e.uuid)||"no-project-state"},getGroupLabel:t=>{var e;return((e=t.projectState)==null?void 0:e.labelSafe)||"No group"},groupSorter:(t,e)=>t.grouping.projectState?e.grouping.projectState?t.grouping.projectState.ordering-e.grouping.projectState.ordering:1:-1,createSetProperty:t=>e=>{e.setProjectState(t.projectState)},createSetGroupOrderBetween(t,e){const{projectState:n}=t;if(n)return function(i,a){var p,f;const l=ux((p=i==null?void 0:i.grouping.projectState)==null?void 0:p.ordering,(f=a==null?void 0:a.grouping.projectState)==null?void 0:f.ordering)??Dr(e.highestOrdering);xe(()=>{n.setOrdering(l),n.save()})}}}},M7={manual:(t,e)=>e.ordering-t.ordering,assignee:(t,e)=>t.assignee?e.assignee?e.assignee.displayNameSafe.localeCompare(t.assignee.displayNameSafe):1:-1,due_date:(t,e)=>t.dueTime?e.dueTime?t.dueTime.getTime()===e.dueTime.getTime()?t.displayTitle.localeCompare(e.displayTitle):t.dueTime.getTime()-e.dueTime.getTime():-1:1,priority:(t,e)=>t.priority?e.priority?t.priority-e.priority:1:-1,status:(t,e)=>t.status?e.status?w0(t.status,e.status):1:-1,createdAt:(t,e)=>t.createdAt?e.createdAt?e.createdAt.getTime()-t.createdAt.getTime():-1:1,updatedAt:(t,e)=>t.updatedAt?e.updatedAt?e.updatedAt.getTime()-t.updatedAt.getTime():-1:1};function fn(t,e){return t.filter(n=>e.every(s=>{var i,a,l;if(s.option==="assignee")return((i=n.assignee)==null?void 0:i.uuid)===s.value;if(s.option==="statusType")return Array.isArray(s.value)?s.value.some(p=>{var f;return((f=n.status)==null?void 0:f.type)===p}):((a=n.status)==null?void 0:a.type)===s.value;if(s.option==="due"){if(s.value==="overdue")return n.overDue;if(s.value==="today")return n.today&&!n.overDue;if(s.value==="tomorrow")return n.tomorrow&&!n.overDue;if(s.value==="later")return!n.today&&!n.overDue;if(s.value==="no-due")return n.dueDate===null;if(s.value==="due")return!!n.dueDate}if(s.option==="createdAt"){if(s.value==="today")return n.createdAt&&Ve(n.createdAt,ge.nowStartOfDay);if(s.value==="now")return n.createdAt&&Ge(ge.nowStartOfMinute,n.createdAt)<5}if(s.option==="updatedAt"){if(s.value==="today")return n.updatedAt&&Ve(n.updatedAt,ge.nowStartOfDay);if(s.value==="now")return n.updatedAt&&Ge(ge.nowStartOfMinute,n.updatedAt)<5}return s.option==="project"?s.value===null?n.project===null:((l=n.project)==null?void 0:l.uuid)===s.value:!1}))}function Ni(t,e){return t.slice().sort((n,s)=>{for(const i of e){const a=M7[i](n,s);if(a!==0)return a}return 0})}function cie(t){return Array.from(new Set(t))}function uie(t,e){var n;if(t==="status")return(n=e.workspace)==null?void 0:n.taskStatuses.map(s=>({propertyKey:"status",status:s}));if(t==="assignee"&&e.workspace)return[...e.workspace.isPersonal?[]:[{propertyKey:"assignee",assignee:null}],...Cx(e).map(s=>({propertyKey:"assignee",assignee:s}))];if(t==="due_date")return R7();if(t==="priority")return P7();if(t==="custom_groups")return[{propertyKey:"custom_groups",projectState:null},...e.projectStates.map(s=>({propertyKey:"custom_groups",projectState:s}))]}function die(t,e){if(t==="due_date")return R7();if(t==="priority")return P7();if(t==="status")return e.items.flatMap(n=>n.taskStatuses).sort(w0).map(n=>({propertyKey:"status",status:n}))}function R7(){return[Ht.today,Ht.tomorrow,Ht["this-week"],Ht["next-week"],Ht.later].map(t=>({propertyKey:"due_date",due:t}))}function P7(){return Object.keys(Zn).map(t=>({propertyKey:"priority",priority:parseInt(t)}))}function Cx(t){return t.memberships&&t.memberships.length>0?t.memberships.map(e=>e.member)||[]:L7(t.workspace)}function L7(t){return t!=null&&t.isPersonal?[]:(t==null?void 0:t.workspaceMembers.map(e=>e.member))||[]}function B7({event:t,objectPool:e,userStore:n,title:s}){const i=Ce.create(e);return i.title=s??(t.type==="default"||t.type==="event"||t.type==="outOfOffice"&&t.title!==Ly?t.title:null),i.workspace=n.privateWorkspace,i.assignee=e.member,i.status=i.workspace.taskUnstartedStatus,i.durationInMinutes=t.allDay?30:t.duration,i.allDay=t.allDay,t.allDay?(i.startsAtDate=t.startsAtDate,i.endsAtDate=t.endsAtDate,i.dueDate=t.startsAtDate):(i.startsAt=t.startsAt,i.endsAt=t.endsAt,i.dueDate=t.startsAt),i}function z$({task:t,eventsStore:e,type:n}){const s=e.createEventAt(t.allDay?t.startsAtDate:t.startsAt,t.allDay);return s.title=t.title,s.setType(n),s}function F7(t,e){const n=Ce.create(e);return n.title=t.title,n.workspace=t.workspace,n.project=t.project,n.assignee=t.assignee,n.status=t.workspace.taskUnstartedStatus,n.durationInMinutes=t.durationInMinutes,n.dueDate=t.dueDate,n.allDay=t.allDay,n.startsAt=t.startsAt,n.endsAt=t.endsAt,n.startsAtDate=t.startsAtDate,n.endsAtDate=t.endsAtDate,n}function w0(t,e){return zm[t.type]<zm[e.type]?-1:zm[t.type]>zm[e.type]?1:t.ordering-e.ordering}function Ls(t,e){var n;return t.calendar?t.calendar.color:t.assignee&&e.getAlternativeCalendarByEmail(t.assignee.email)?e.getAlternativeCalendarByEmail(t.assignee.email).color:t.project&&!t.isMyTask?t.project.displayColor:(n=t.objectPool.user.calendarForNewEvents)==null?void 0:n.color}function C0(t){if(t.length===0||t.filter(s=>!Z$(s)).length>0)return!1;const e=t.slice().sort(K$(["day","startsAt"]));let n=!1;return e.forEach((s,i)=>{if(i===0||e[i-1].day!==s.day)return;const a=Kr(new Date,s.startsAt),l=Kr(new Date,e[i-1].endsAt);a<l&&(n=!0)}),!n}function K$(t){const e=[];let n;const s=t.length;return t=t.map((i,a)=>(i[0]==="-"?(e[a]=-1,i=i.substring(1)):e[a]=1,i)),(i,a)=>{for(n=0;n<s;n++){const l=t[n];if(i[l]>a[l])return e[n];if(i[l]<a[l])return-e[n]}return 0}}function Z$(t){if(t.day<0||t.day>7||!C5(t.startsAt)||!C5(t.endsAt))return!1;const e=Kr(new Date,t.startsAt),n=Kr(new Date,t.endsAt);return!(e>=n)}var pj;function Y$(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:gj(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||gj(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return Q$(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:X$(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function X$(t){var e=J$(t,"string");return typeof e=="symbol"?e:e+""}function J$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gj(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function Q$(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}var Ov;const zp=class zp extends Be{constructor(e){pj(super("label",e,"low"))}async remoteItems(){return ue.labels.list()}getLabelsByWorkspace(e){return this.items.filter(n=>{var s;return((s=n.workspace)==null?void 0:s.uuid)===e.uuid})}get nextColor(){const e=new Map;this.items.forEach(i=>{if(i.color){const a=e.get(i.color)||0;e.set(i.color,a+1)}});let n=1/0,s="";return Ci.forEach(i=>{const a=e.get(i.value)||0;a<n&&(n=a,s=i.value)}),s}};Ov=new WeakMap,B(zp,Ov,[pj]=Y$(zp,[[ne,3,"nextColor"]],[],0,void 0,Be).e);let ty=zp;class q$ extends Be{constructor(e){super("project_category",e,"low")}async remoteItems(){return ue.projectCategories.list()}}var bj;function eU(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:yj(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||yj(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return rU(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:tU(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function tU(t){var e=nU(t,"string");return typeof e=="symbol"?e:e+""}function nU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yj(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function rU(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}var Iv;const Kp=class Kp extends Be{constructor(e){bj(super("project_state",e,"low"))}async remoteItems(){return ue.projectStates.list()}getProjectStatesByProject(e){return this.items.filter(n=>{var s;return((s=n.project)==null?void 0:s.uuid)===e.uuid}).sort((n,s)=>n.ordering-s.ordering)}get highestOrdering(){return this.items.reduce((e,n)=>n.ordering>e?n.ordering:e,0)}};Iv=new WeakMap,B(Kp,Iv,[bj]=eU(Kp,[[ne,3,"highestOrdering"]],[],0,void 0,Be).e);let ny=Kp;class sU extends Be{constructor(e){super("project",e)}async remoteItems(){return ue.projects.list()}getProjectsByWorkspace(e){return this.items.filter(n=>{var s;return((s=n.workspace)==null?void 0:s.uuid)===e.uuid})}getProjectsByWorkspaceAndTeam(e,n){return this.getProjectsByWorkspace(e).filter(s=>{var i;return((i=s.team)==null?void 0:i.uuid)===n.uuid})}}var vj;function iU(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:xj(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||xj(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return lU(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:aU(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function aU(t){var e=oU(t,"string");return typeof e=="symbol"?e:e+""}function oU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xj(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function lU(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}var Mv;const Zp=class Zp extends Be{constructor(e){vj(super("projects_user_preferences",e))}async remoteItems(){return ue.projects.userPreferences.list()}getForWorkspace(e){return this.items.find(n=>{var s;return((s=n.workspace)==null?void 0:s.uuid)===e.uuid})||null}createForWorkspace(e){const n=this.new();return n.workspace=e,this.add(n),n}getOrCreateForWorkspace(e){return this.getForWorkspace(e)||this.createForWorkspace(e)}setCalendarForWorkspace(e,n,s=!1){const i=this.getOrCreateForWorkspace(e);i.calendar=n,s!==i.disableTaskEventSync&&(i.disableTaskEventSync=s),i.save()}setExposeTitlesForWorkspace(e,n){const s=this.getOrCreateForWorkspace(e);s.exposeTitles=n,s.save()}};Mv=new WeakMap,B(Zp,Mv,[vj]=iU(Zp,[[Y,2,"createForWorkspace"],[Y,2,"getOrCreateForWorkspace"],[Y,2,"setCalendarForWorkspace"],[Y,2,"setExposeTitlesForWorkspace"]],[],0,void 0,Be).e);let ry=Zp;class cU extends Be{constructor(e){super("scheduling_link",e,"low")}async remoteItems(){return ue.schedulingLinks.list()}visibleSchedulingLinks(){return this.items.filter(e=>e.calendar&&!e.singleUse).sort((e,n)=>Ar(e.createdAt,n.createdAt))}}class uU extends Be{constructor(e){super("subtask",e,"low")}async remoteItems(){return ue.subtasks.list()}}class dU extends Be{constructor(e){super("task_label",e,"low")}async remoteItems(){return ue.task_labels.list()}getTasksForLabel(e){return this.items.filter(n=>{var s;return((s=n.label)==null?void 0:s.uuid)===e.uuid}).map(n=>n.task)}getLabelsForTask(e){return this.items.filter(n=>{var s;return((s=n.task)==null?void 0:s.uuid)===e.uuid}).map(n=>n.label)}}class hU extends Be{constructor(e){super("task_subscription",e,"low")}async remoteItems(){return ue.task_subscriptions.list()}}var jj;function fU(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:Sj(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||Sj(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return gU(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:mU(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function mU(t){var e=pU(t,"string");return typeof e=="symbol"?e:e+""}function pU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sj(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function gU(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}var Rv;const Yp=class Yp extends Be{constructor(e){jj(super("task",e))}async remoteItems(){return ue.tasks.list()}getTasksByProject(e){return this.items.filter(n=>{var s;return((s=n.project)==null?void 0:s.uuid)===e.uuid})}get highestOrdering(){return this.items.reduce((e,n)=>n.ordering>e?n.ordering:e,0)}get inboxTasks(){var e;return fn(this.items,[{option:"assignee",value:(e=this.objectPool.member)==null?void 0:e.uuid},{option:"statusType",value:["unstarted","started"]},{option:"due",value:"no-due"},{option:"project",value:null}])}get myFocusTasks(){var n;return Ni(fn(this.items,[{option:"assignee",value:(n=this.objectPool.member)==null?void 0:n.uuid},{option:"due",value:"today"}]),["due_date","priority"])}get myFocusOverdueTasks(){var e;return Ni(fn(this.items,[{option:"assignee",value:(e=this.objectPool.member)==null?void 0:e.uuid},{option:"due",value:"overdue"},{option:"statusType",value:["unstarted","started"]}]),["due_date","priority"])}get numberOfMyFocusTasks(){return fn(this.myFocusTasks,[{option:"statusType",value:["unstarted","started"]}]).length+this.myFocusOverdueTasks.length}async fetchTask(e){if(this.hasUuid(e))return this.findByUuid(e);try{const n=await ue.tasks.fetchTask(e);if(n)return this.objectPool.loadObject(this.entity,n.uuid,n)}catch(n){if(n instanceof y0&&n.statusCode!==404)throw n}return null}};Rv=new WeakMap,B(Yp,Rv,[jj]=fU(Yp,[[ne,3,"highestOrdering"],[ne,3,"inboxTasks"],[ne,3,"myFocusTasks"],[ne,3,"myFocusOverdueTasks"],[ne,3,"numberOfMyFocusTasks"]],[],0,void 0,Be).e);let sy=Yp;class bU extends Be{constructor(e){super("team_membership",e,"low")}async remoteItems(){return ue.team_memberships.list()}}class yU extends Be{constructor(e){super("team",e,"low")}async remoteItems(){return ue.teams.list()}getTeamsByWorkspace(e){return this.items.filter(n=>{var s;return((s=n.workspace)==null?void 0:s.uuid)===e.uuid})}}class vU extends Be{constructor(e){super("view",e,"low")}async remoteItems(){return ue.views.list()}}class xU extends Be{constructor(e){super("workspace_task_status",e)}async remoteItems(){return ue.workspace_task_status.list()}}var kt=(t=>(t.Create="create",t.Update="update",t.Delete="delete",t))(kt||{});class H7{constructor({type:e,newValues:n,previousValues:s,additionalValues:i,model:a}){ie(this,"uuid");ie(this,"createdAt");ie(this,"startedAt");ie(this,"completedAt");ie(this,"status","new");ie(this,"type");ie(this,"newValues");ie(this,"previousValues");ie(this,"additionalValues");ie(this,"model");ie(this,"donePromise");this.uuid=tn(),this.createdAt=new Date,this.type=e,this.newValues=n,this.previousValues=s,this.additionalValues=i,this.model=a,this.donePromise=new Promise((l,p)=>{this.resolveDonePromise=l,this.rejectDonePromise=p})}commitOnModel(){(this.type==="create"||this.type==="update")&&(Object.keys(this.newValues).forEach(e=>{const n=this.model.propertyForField(e);n&&(this.model.markAsNotDirty(n),this.model.addPropertyTransactionCount(n))}),this.model.storeLastSavedState())}commit(){return this.startedAt=new Date,this.status="running",this.push().then(e=>{var n;return this.status="done",(n=this.resolveDonePromise)==null||n.call(this),this.model.markAsPersisted(),e&&this.model.persistFunctions&&this.model.persistFunctions.ingestAfterSave&&this.type!=="delete"&&this.model.load(e),e},e=>{var n;throw this.status="failed",(n=this.rejectDonePromise)==null||n.call(this,e),e}).finally(()=>{this.completedAt=new Date})}async push(){if(this.model.persistFunctions){if(this.type==="delete"){if(!this.model.isNew&&this.model.persistFunctions.delete)try{return await this.model.persistFunctions.delete(this.model,this.additionalValues)}catch(e){if(e.message.includes("404 Not Found"))return!0;throw e}return!0}if(this.model.persistFunctions.save){const e=this.getFieldsWithCountOfOne();return Object.keys(this.newValues).forEach(n=>{const s=this.model.propertyForField(n);s&&this.model.decreasePropertyTransactionCount(s)}),Object.keys(e).length===0?!1:this.model.persistFunctions.save({uuid:this.model.uuid,...e,...this.additionalValues},this.type==="create")}}throw new Error("No persist functions defined. Not saving.")}getFieldsWithCountOfOne(){if(this.type!=="update")return this.newValues;const e={};return Object.keys(this.newValues).forEach(n=>{const s=this.model.propertyForField(n);s&&this.model.scheduledTransactionsCountPerProperty[s]===1&&(e[n]=this.newValues[n])}),e}rollback(){if(this.type==="delete"){this.model.setDeleted(!1);return}if(this.type==="create"){this.model.setDeleted(!0);return}Object.keys(this.previousValues).forEach(e=>{const n=this.model.propertyForField(e);n&&(this.model.setProperty(n,this.model.loadProperty(n,this.previousValues)),this.model.markAsNotDirty(n))})}setAdditionalValue(e,n){this.additionalValues||(this.additionalValues={}),this.additionalValues[e]=n}didChange(e){return Object.keys(this.newValues).includes(e)}didOnlyChange(e){const n=Object.keys(this.newValues);return n.length===1&&n[0]===e}}function q0(t,e,n){const s=n||AU(t),i=jU(t,s),a=SU(i,t.lastSavedProperties);return new H7({type:s,newValues:i,previousValues:a,additionalValues:e,model:t})}function jU(t,e){return e===kt.Delete?{}:t.persistFunctions&&(t.persistFunctions.persistPartials||e===kt.Update&&t.persistFunctions.persistPartialsOnPatchOnly)?t.dirtyPropertiesAndValues():t.toJSON()}function SU(t,e){return Object.fromEntries(Object.keys(t).map(n=>[n,e[n]]))}function AU(t){return t.isDeleted?kt.Delete:t.isNew?kt.Create:kt.Update}function Cp(t,e){return t instanceof Date&&e instanceof Date?!wt(t,e):t!==e}var Aj,Ej,Dj,wj,Cj,Tj,Nj,kj;function EU(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:_j(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||_j(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return CU(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:DU(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function DU(t){var e=wU(t,"string");return typeof e=="symbol"?e:e+""}function wU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _j(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function CU(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}var Pv,Yi,Xi,Ji,Qi,qi,ea,ta;const Xp=class Xp{constructor({entity:e,uuid:n,transactionQueue:s,objectPool:i,persistFunctions:a}){ie(this,"entity",void Aj(this));B(this,Yi,Ej(this));B(this,Xi,Dj(this,!0));B(this,Ji,wj(this,!1));B(this,Qi,Cj(this,!1));B(this,qi,Tj(this,!1));ie(this,"persistFunctions");ie(this,"properties");ie(this,"localProperties");ie(this,"propertyFieldMap");ie(this,"propertyLoaders");ie(this,"lastSavedProperties");ie(this,"transactionQueue");ie(this,"objectPool");B(this,ea,Nj(this));B(this,ta,kj(this,{}));ie(this,"persistedPromise");ie(this,"persistedPromiseResolver");this.entity=e,this.persistFunctions=a,this.uuid=n||tn(),this.transactionQueue=s,this.objectPool=i,this.properties={},this.localProperties={},this.lastSavedProperties={},this.propertyFieldMap={},this.propertyLoaders={},this.dirtyProperties=new Set,this.persistedPromise=new Promise(l=>{n?l(this):this.persistedPromiseResolver=l}),n||(this.isNew=!0)}get uuid(){return H(this,Yi)}set uuid(e){V(this,Yi,e)}get isShell(){return H(this,Xi)}set isShell(e){V(this,Xi,e)}get isNew(){return H(this,Ji)}set isNew(e){V(this,Ji,e)}get isDraft(){return H(this,Qi)}set isDraft(e){V(this,Qi,e)}get isDeleted(){return H(this,qi)}set isDeleted(e){V(this,qi,e)}get dirtyProperties(){return H(this,ea)}set dirtyProperties(e){V(this,ea,e)}get scheduledTransactionsCountPerProperty(){return H(this,ta)}set scheduledTransactionsCountPerProperty(e){V(this,ta,e)}get persisted(){return this.persistedPromise}markAsPersisted(){var e;(e=this.persistedPromiseResolver)==null||e.call(this,this),this.persistedPromiseResolver=void 0}async save(e){if(this.isDeleted)return{saveDecision:"discard",done:Promise.resolve()};if(this.checkDirtyProperties(),!this.isDirty&&(e==null?void 0:e.additionalValues)===void 0)return{saveDecision:"save",done:Promise.resolve()};const n=q0(this,e==null?void 0:e.additionalValues),s=await this.shouldSave(e,n);return s instanceof H7?this._save(s):s==="save"?this._save(n):s==="discard"&&n.rollback(),this.afterSave(),{saveDecision:s,done:n.donePromise}}async delete(){var s;if(this.isDeleted)return!0;const e=q0(this,{},kt.Delete),n=await this.shouldDelete(e);return n&&(this.setDeleted(!0),(s=this.transactionQueue)==null||s.addTransaction(e)),!!n}load(e){Object.keys(this.properties).forEach(n=>{!this.dirtyProperties.has(n)&&(this.scheduledTransactionsCountPerProperty[n]===void 0||this.scheduledTransactionsCountPerProperty[n]===0)?this.unsafeSetProperty(n,this.loadProperty(n,e)):console.log("Local field marked as dirty, skipping remote change",n)}),this.loadFallback(e),this.storeLastSavedState(),this.isShell=!1}loadFallback(e){}afterLoad(){}fieldForProperty(e){return this.propertyFieldMap[e]?this.propertyFieldMap[e]:e}propertyForField(e){return this.properties[e]?e:Object.keys(this.propertyFieldMap).find(n=>this.propertyFieldMap[n]===e)}loadProperty(e,n){const s=this.fieldForProperty(e);return this.propertyLoaders[e]?this.propertyLoaders[e].in(s,n,this.objectPool):n[s]}exportProperty(e){const n=this.propertyLoaders[e]?this.propertyLoaders[e].out(e,this):this.getProperty(e);return UL(n)}_save(e){var n;(n=this.transactionQueue)==null||n.addTransaction(e),this.isNew&&(this.isNew=!1),this.isDraft&&(this.isDraft=!1)}async shouldSave(e,n){return"save"}async shouldDelete(e){return!0}afterSave(){}toJSON(){return null}markAsDirty(e){this.dirtyProperties.has(e)||this.dirtyProperties.add(e),this.isDraft&&(this.isDraft=!1)}markAsNotDirty(e){this.dirtyProperties.delete(e)}get isDirty(){return this.dirtyProperties.size>0}isDirtyProperty(e){return this.dirtyProperties.has(e)}checkDirtyProperties(){this.dirtyProperties.forEach(e=>{const n=this.getLastSavedValueForProperty(e),s=this.exportProperty(e);Cp(n,s)||this.markAsNotDirty(e)})}dirtyPropertiesAndValues(){const e={};return this.dirtyProperties.forEach(n=>{e[this.fieldForProperty(n)]=this.exportProperty(n)}),e}addPropertyTransactionCount(e){this.scheduledTransactionsCountPerProperty[e]||(this.scheduledTransactionsCountPerProperty[e]=0),this.scheduledTransactionsCountPerProperty[e]+=1}decreasePropertyTransactionCount(e){this.scheduledTransactionsCountPerProperty[e]||(this.scheduledTransactionsCountPerProperty[e]=0),this.scheduledTransactionsCountPerProperty[e]>0&&(this.scheduledTransactionsCountPerProperty[e]-=1)}resetDirtyProperties(){this.dirtyProperties=new Set}revertUnsavedChanges(){this.isDirty&&q0(this).rollback()}setDraft(e){this.isDraft=e}setDeleted(e){var n,s;this.isDeleted!==e&&(xe(()=>this.isDeleted=e),e?(n=this.objectPool.objectStorage)==null||n.delete(this):(s=this.objectPool.objectStorage)==null||s.persist(this))}storeLastSavedState(){var e;this.lastSavedProperties={...this.lastSavedProperties,...Object.fromEntries(Object.keys(this.properties).filter(n=>!this.dirtyProperties.has(n)).map(n=>[this.fieldForProperty(n),this.exportProperty(n)]))},this.objectPool.hydrationStatus!=="started"&&((e=this.objectPool.objectStorage)==null||e.persist(this))}getProperty(e){return this[e]}setProperty(e,n){this[e]=n}unsafeSetProperty(e,n){if(n!==void 0){if(this.properties[e]instanceof Array){this.properties[e].replace(n);return}this.properties[e].set(n)}}getLastSavedValueForProperty(e){return this.lastSavedProperties[this.fieldForProperty(e)]}loadLastSavedValueForProperty(e){return this.loadProperty(e,this.lastSavedProperties)}getLinkedObjects(e){return this.objectPool.getRelationships(this.entity,this.uuid,e)}};Pv=new WeakMap,Yi=new WeakMap,Xi=new WeakMap,Ji=new WeakMap,Qi=new WeakMap,qi=new WeakMap,ea=new WeakMap,ta=new WeakMap,B(Xp,Pv,[Ej,Dj,wj,Cj,Tj,Nj,kj,Aj]=EU(Xp,[[re,1,"uuid"],[re,1,"isShell"],[re,1,"isNew"],[re,1,"isDraft"],[re,1,"isDeleted"],[re,1,"dirtyProperties"],[re,1,"scheduledTransactionsCountPerProperty"],[Y,2,"delete"],[Y,2,"load"],[Y,2,"_save"],[Y,2,"markAsDirty"],[Y,2,"markAsNotDirty"],[ne,3,"isDirty"],[Y,2,"resetDirtyProperties"],[Y,2,"revertUnsavedChanges"],[Y,2,"setDraft"],[Y,2,"setProperty"]],[]).e);let be=Xp;function q(t,e){return(n,s)=>{const i=s.name;function a(p,f){p.properties[i]=re.box(f),t&&(p.propertyFieldMap[i]=t),e&&(p.propertyLoaders[i]=e)}const l={init(p){return a(this,p),p},get(){return this.properties[i].get()},set(p){const f=this.properties[i].get();if(Cp(f,p)){const v=this.isDirtyProperty(i);if(xe(()=>{this.properties[i].set(p),this.isShell&&(this.isShell=!1)}),v){const E=this.getLastSavedValueForProperty(i);Cp(E,p)?this.setDraft(!1):this.markAsNotDirty(i)}else this.markAsDirty(i);(e==null?void 0:e.type)==="relationship"&&this.objectPool.triggerRelationshipsUpdate()}}};if(s.kind!=="accessor")throw new Error(`"Property" is an accessor decorator, but was used as "${s.kind}"`);return l}}function De(t,e){return{type:"relationship",relation:e,in:(n,s,i)=>{const a=n.replace("_uuid","");return s[a]?i.loadObject(t,s[a].uuid,s[a]):s[n]?i.getOrCreateObject(t,s[n]):null},out:(n,s)=>s[n]&&s[n].uuid}}var Oj,V7,Ij,W7,Mj,$7,Rj,U7,Pj,G7,Lj;function TU(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:Bj(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||Bj(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return _U(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:NU(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function NU(t){var e=kU(t,"string");return typeof e=="symbol"?e:e+""}function kU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bj(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function _U(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}const T0=250;V7=q();W7=q();$7=q("active_members");U7=q("subscription_uuid",De("workspace_subscription"));G7=q("is_personal");var Lv,na,ra,sa,ia,aa;const Jp=class Jp extends be{constructor({uuid:n,transactionQueue:s,objectPool:i}){super({entity:"workspace",uuid:n,transactionQueue:s,objectPool:i,persistFunctions:{save:ue.workspaces.save,persistPartials:!0}});B(this,na,(Oj(this),Ij(this,null)));B(this,ra,Mj(this,null));B(this,sa,Rj(this,null));B(this,ia,Pj(this,null));B(this,aa,Lj(this,!1))}get name(){return H(this,na)}set name(n){V(this,na,n)}get domain(){return H(this,ra)}set domain(n){V(this,ra,n)}get activeMembers(){return H(this,sa)}set activeMembers(n){V(this,sa,n)}get subscription(){return H(this,ia)}set subscription(n){V(this,ia,n)}get isPersonal(){return H(this,aa)}set isPersonal(n){V(this,aa,n)}get workspaceMembers(){return this.getLinkedObjects("workspace_membership")}get taskStatuses(){return this.getLinkedObjects("workspace_task_status").sort(w0)}get hasSimpleTaskStatuses(){var n;return((n=this.taskStatuses)==null?void 0:n.length)===2}get projects(){return this.getLinkedObjects("project")}get taskCompletedStatus(){var n;return(n=this.taskStatuses)==null?void 0:n.find(s=>s.type==="completed")}get taskUnstartedStatus(){var n;return(n=this.taskStatuses)==null?void 0:n.find(s=>s.type==="unstarted")}findMostRelevantTaskStatus(n){var a;if(!n)return this.taskUnstartedStatus;if(((a=n.workspace)==null?void 0:a.uuid)===this.uuid)return n;const s=this.taskStatuses.find(l=>l.label===n.label&&l.type===n.type);if(s)return s;const i=this.taskStatuses.find(l=>l.type===n.type);return i||this.taskUnstartedStatus}get accessLevel(){var n,s;return((s=(n=this.workspaceMembers)==null?void 0:n.find(i=>{var a,l,p;return((a=i.member)==null?void 0:a.uuid)===((p=(l=this.objectPool)==null?void 0:l.user)==null?void 0:p.uuid)}))==null?void 0:s.role)||null}get isSubscriptionActive(){return this.subscription&&(this.subscription.status==="active"||this.subscription.status==="past_due")}get hasFreeSubscription(){return this.subscription&&this.subscription.status==="free"}get numberOfTasks(){return this.getLinkedObjects("task").length}get isOverTaskLimit(){return this.numberOfTasks>T0}get label(){return this.name||this.domain||"Unnamed workspace"}};Lv=new WeakMap,na=new WeakMap,ra=new WeakMap,sa=new WeakMap,ia=new WeakMap,aa=new WeakMap,B(Jp,Lv,[Ij,Mj,Rj,Pj,Lj,Oj]=TU(Jp,[[V7,1,"name"],[W7,1,"domain"],[$7,1,"activeMembers"],[U7,1,"subscription"],[G7,1,"isPersonal"]],[],0,void 0,be).e);let iy=Jp;var Fj;function OU(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:Hj(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||Hj(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return RU(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:IU(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function IU(t){var e=MU(t,"string");return typeof e=="symbol"?e:e+""}function MU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hj(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function RU(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}var Bv;const Qp=class Qp extends Be{constructor(e){Fj(super("workspace",e)),this.sorter=(n,s)=>n.label.localeCompare(s.label)}async remoteItems(){const e=await ue.workspace_memberships.list();return e.forEach(n=>{n.workspace.members.forEach(s=>{const i=`${n.workspace.uuid}_${s.user.uuid}`;this.objectPool.loadObject("workspace_membership",i,{uuid:i,workspace:n.workspace,member:{uuid:s.user.uuid,email:s.email,first_name:s.user.first_name,last_name:s.user.last_name},role:s.access_level})})}),e.map(n=>n.workspace)}get workspaceMostOverLimit(){let e,n=0;return this.items.forEach(s=>{const i=s.numberOfTasks-T0;!s.isPersonal&&!s.hasFreeSubscription&&i>n&&(e=s,n=i)}),e}};Bv=new WeakMap,B(Qp,Bv,[Fj]=OU(Qp,[[ne,3,"workspaceMostOverLimit"]],[],0,void 0,Be).e);let ay=Qp;class PU{constructor(e){ie(this,"callback");ie(this,"fetchedRange",null);ie(this,"currentStartDate",null);ie(this,"currentRange",null);this.callback=e}fetchEventsWithDateTimeRange(e){if(this.maybeAddRangeToFetchedRange(e)){const n=new Date;return ue.events.fetchEvents(e).then(s=>{this.callback(s,e,n)})}}async fetchEventsWithExpandedRange(e){this.currentRange=e;const n=v_(e);await this.fetchEventsWithDateTimeRange(n.current),await this.fetchEventsWithDateTimeRange(n.post),this.fetchEventsWithDateTimeRange(n.pre)}fetchEventsWithCurrentRange(){if(!this.currentRange){console.error("Current range not set");return}this.fetchEventsWithExpandedRange(this.currentRange)}clearFetchedRange(){this.fetchedRange=null}maybeAddRangeToFetchedRange(e){if(!this.fetchedRange)return this.fetchedRange=e,!0;let n=!1;return e.startDate<this.fetchedRange.startDate&&(fr(this.fetchedRange.startDate,e.endDate)<=0?this.fetchedRange.startDate=e.startDate:this.fetchedRange=e,n=!0),e.endDate>this.fetchedRange.endDate&&(fr(e.startDate,this.fetchedRange.endDate)<=0?this.fetchedRange.endDate=e.endDate:this.fetchedRange=e,n=!0),n}}class LU{constructor(e,n){ie(this,"objectPool");ie(this,"eventsStore");ie(this,"eventFetcher");this.objectPool=n,this.eventsStore=e,this.eventFetcher=new PU(this.receivedRemoteEvents.bind(this))}receivedRemoteEvents(e,n,s){xe(()=>{const i=new Set;e.forEach(l=>{i.add(this.processEvent(l).uuid)}),this.eventsStore.findEventsInDateTimeRange(n).forEach(l=>{!i.has(l.uuid)&&!l.isNew&&!l.isDirty&&!this.eventModifiedLocally(l,s)&&l.setDeleted(!0)})})}processEvent(e){const n=this.eventsStore.eventByUUID(e.uuid);if(!n){const s=this.buildEvent(e);return this.eventsStore.addEvent(s),s}return n.updatedAt&&e.updated_at&&Date.parse(n.updatedAt.toISOString())>Date.parse(e.updated_at)||(n.load(e),n.setDeleted(!1)),n}buildEvent(e){const n=this.eventsStore.createEventStore(e.uuid);return n.load(e),n}async fetchEvent(e){const n=this.eventsStore.eventByUUID(e);if(n)return n;try{const s=await ue.events.fetchEvent(e);if(s)return this.processEvent(s)}catch(s){if(s instanceof y0&&s.statusCode!==404)throw s}return null}async fetchEventByICalUID(e,n){const s=await ue.events.fetchEventByICalUID(e,n);return s?this.processEvent(s):null}eventModifiedLocally(e,n){return e.updatedAt?Ur(e.updatedAt,n):!1}}var Vj,z7,Wj,K7,$j,Z7,Uj,Y7,Gj,X7,zj,J7,Kj,Q7,Zj,q7,Yj,eO,Xj,tO,Jj,nO,Qj;function BU(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:qj(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||qj(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return VU(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:FU(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function FU(t){var e=HU(t,"string");return typeof e=="symbol"?e:e+""}function HU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qj(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function VU(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}const WU={preset0:"#6d0811",preset1:"#5e2504",preset2:"#4d2a00",preset3:"#463100",preset4:"#073004",preset5:"#01373a",preset6:"#22330a",preset7:"#014659",preset8:"#403582",preset9:"#80215d",preset10:"#282d2e",preset11:"#01333f",preset12:"#444241",preset13:"#343231",preset14:"#202020",preset15:"#420610",preset16:"#7a2101",preset17:"#2b1710",preset18:"#3a2f00",preset19:"#073004",preset20:"#013938",preset21:"#162702",preset22:"#002039",preset23:"#240f3c",preset24:"#240017"};z7=q();K7=q("account_email");Z7=q();Y7=q();X7=q();J7=q();Q7=q("user_uuid",De("user"));q7=q("sync_state");eO=q("working_locations_supported");tO=q("out_of_office_supported");nO=q("event_type_colors",{in:(t,e)=>{var n,s,i,a,l;return{isActive:((n=e.event_type_colors)==null?void 0:n.is_active)||!1,oneAttendee:((s=e.event_type_colors)==null?void 0:s.one_attendee)??null,manyAttendees:((i=e.event_type_colors)==null?void 0:i.many_attendees)??null,externalAttendees:((a=e.event_type_colors)==null?void 0:a.external_attendees)??null,noAttendeesNoLocation:((l=e.event_type_colors)==null?void 0:l.no_attendees_no_location)??null}},out:(t,e)=>e._eventTypeColors&&{is_active:e._eventTypeColors.isActive,one_attendee:e._eventTypeColors.oneAttendee,many_attendees:e._eventTypeColors.manyAttendees,external_attendees:e._eventTypeColors.externalAttendees,no_attendees_no_location:e._eventTypeColors.noAttendeesNoLocation}});var Fv,oa,la,ca,ua,da,ha,fa,ma,pa,ga,ba;const qp=class qp extends be{constructor({uuid:n,transactionQueue:s,objectPool:i}){super({entity:"account",uuid:n,transactionQueue:s,objectPool:i,persistFunctions:{save:a=>ue.account.patch(this.uuid,a),persistPartials:!0,ingestAfterSave:!1}});B(this,oa,(Vj(this),Wj(this)));B(this,la,$j(this));B(this,ca,Uj(this));B(this,ua,Gj(this));B(this,da,zj(this));B(this,ha,Kj(this));B(this,fa,Zj(this));B(this,ma,Yj(this,null));B(this,pa,Xj(this,!0));B(this,ga,Jj(this,!0));B(this,ba,Qj(this,{isActive:!1,oneAttendee:null,manyAttendees:null,externalAttendees:null,noAttendeesNoLocation:null}))}get type(){return H(this,oa)}set type(n){V(this,oa,n)}get accountEmail(){return H(this,la)}set accountEmail(n){V(this,la,n)}get status(){return H(this,ca)}set status(n){V(this,ca,n)}get domain(){return H(this,ua)}set domain(n){V(this,ua,n)}get colors(){return H(this,da)}set colors(n){V(this,da,n)}get scopes(){return H(this,ha)}set scopes(n){V(this,ha,n)}get user(){return H(this,fa)}set user(n){V(this,fa,n)}get syncState(){return H(this,ma)}set syncState(n){V(this,ma,n)}get workingLocationsSupported(){return H(this,pa)}set workingLocationsSupported(n){V(this,pa,n)}get outOfOfficeSupported(){return H(this,ga)}set outOfOfficeSupported(n){V(this,ga,n)}get _eventTypeColors(){return H(this,ba)}set _eventTypeColors(n){V(this,ba,n)}loadFallback(n){n.calendars!==void 0&&(this.getLinkedObjects("calendar").forEach(s=>{var i;(i=this.objectPool)==null||i.removeObject(s)}),n.calendars.forEach(s=>{var i;(i=this.objectPool)==null||i.loadObject("calendar",s.uuid,s)}))}get calendars(){return this.getLinkedObjects("calendar")}get groups(){return this.getLinkedObjects("group")}get groupEmails(){return new Set(this.groups.map(n=>n.email))}get isOutlook(){return this.type==="outlook"}get missingGoogleScopes(){const n=[];return this.scopes.contacts||n.push("contacts"),this.scopes.otherContacts||n.push("other_contacts"),this.scopes.directoryContacts||n.push("directory_contacts"),this.scopes.resources||n.push("resources"),n}get missingOutlookScopes(){const n=[];return this.scopes.user_properties||n.push("User.ReadBasic.All"),this.scopes.contacts||n.push("Contacts.Read"),this.scopes.other_contacts||n.push("People.Read"),n}get eventColors(){var n;if(this.isOutlook)return WU;if((n=this.colors)!=null&&n.event){let s={};return Object.keys(this.colors.event).forEach(i=>{s[i]=d_(this.colors.event[i].background,.65,this.user.isDarkMode)}),s}}get eventTypeColors(){return{oneAttendee:this._eventTypeColors.oneAttendee??Nt.yellow.value,manyAttendees:this._eventTypeColors.manyAttendees??Nt.purple.value,externalAttendees:this._eventTypeColors.externalAttendees??Nt.orange.value,noAttendeesNoLocation:this._eventTypeColors.noAttendeesNoLocation??Nt.teal.value}}get areEventTypeColorsActive(){return this._eventTypeColors.isActive}setEventTypeColor(n,s){this._eventTypeColors[n]=s,this.markAsDirty("_eventTypeColors"),this.save()}setEventTypeColorsActive(n){this._eventTypeColors.isActive=n,this.markAsDirty("_eventTypeColors"),this.save()}};Fv=new WeakMap,oa=new WeakMap,la=new WeakMap,ca=new WeakMap,ua=new WeakMap,da=new WeakMap,ha=new WeakMap,fa=new WeakMap,ma=new WeakMap,pa=new WeakMap,ga=new WeakMap,ba=new WeakMap,B(qp,Fv,[Wj,$j,Uj,Gj,zj,Kj,Zj,Yj,Xj,Jj,Qj,Vj]=BU(qp,[[z7,1,"type"],[K7,1,"accountEmail"],[Z7,1,"status"],[Y7,1,"domain"],[X7,1,"colors"],[J7,1,"scopes"],[Q7,1,"user"],[q7,1,"syncState"],[eO,1,"workingLocationsSupported"],[tO,1,"outOfOfficeSupported"],[nO,1,"_eventTypeColors"],[ne,3,"calendars"],[ne,3,"groups"],[ne,3,"groupEmails"],[ne,3,"isOutlook"],[ne,3,"missingGoogleScopes"],[ne,3,"missingOutlookScopes"],[ne,3,"eventColors"],[ne,3,"eventTypeColors"],[ne,3,"areEventTypeColorsActive"],[Y,2,"setEventTypeColor"],[Y,2,"setEventTypeColorsActive"]],[],0,void 0,be).e);let oy=qp;var eS,tS,nS,rS;function $U(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:sS(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||sS(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return zU(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:UU(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function UU(t){var e=GU(t,"string");return typeof e=="symbol"?e:e+""}function GU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sS(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function zU(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}var Hv,ya,va,xa;const eg=class eg{constructor(e,n,s){B(this,ya,(eS(this),tS(this)));B(this,va,nS(this,null));B(this,xa,rS(this,null));this.timezone=e,this.context=s,n&&(this.emails=n)}get timezone(){return H(this,ya)}set timezone(e){V(this,ya,e)}get emails(){return H(this,va)}set emails(e){V(this,va,e)}get context(){return H(this,xa)}set context(e){V(this,xa,e)}addEmail(e){this.emails||(this.emails=[]),this.emails.find(n=>n===e)||this.emails.push(e)}get toJson(){return{timezone:this.timezone.name,emails:this.emails}}};Hv=new WeakMap,ya=new WeakMap,va=new WeakMap,xa=new WeakMap,B(eg,Hv,[tS,nS,rS,eS]=$U(eg,[[re,1,"timezone"],[re,1,"emails"],[re,1,"context"],[Y,2,"addEmail"],[ne,3,"toJson"]],[]).e);let Tp=eg;var iS,rO,aS,sO,oS,iO,lS,cS;function KU(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:uS(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||uS(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return XU(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:ZU(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function ZU(t){var e=YU(t,"string");return typeof e=="symbol"?e:e+""}function YU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uS(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function XU(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}rO=q("task_uuid",De("task"));sO=q("file_name");iO=q();var Vv,ja,Sa,Aa,Ea;const tg=class tg extends be{constructor({uuid:n,transactionQueue:s,objectPool:i}){super({entity:"attachment",uuid:n,transactionQueue:s,objectPool:i,persistFunctions:{delete:a=>{if(a.entity!=="attachment")throw new Error("Invalid entity when deleting attachment");const l=a;return ue.tasks.deleteAttachment(l.task.uuid,l.uuid)}}});B(this,ja,(iS(this),aS(this,null)));B(this,Sa,oS(this,null));B(this,Aa,lS(this,null));B(this,Ea,cS(this,null))}get task(){return H(this,ja)}set task(n){V(this,ja,n)}get fileName(){return H(this,Sa)}set fileName(n){V(this,Sa,n)}get status(){return H(this,Aa)}set status(n){V(this,Aa,n)}get progress(){return H(this,Ea)}set progress(n){V(this,Ea,n)}async upload(n){return this.task&&this.task.isNew&&await(await this.task.save()).done,new Promise(async(s,i)=>{if(!this.task)throw new Error("Cannot upload attachment when not linked to a task");if(!this.isNew)throw new Error("Cannot upload attachment to object that is already saved");this.fileName=n.name;const{upload_url:a}=await ue.tasks.addAttachment(this.task.uuid,this.uuid,n.name,n.size,n.type);if(!a)throw new Error("No upload URL returned");const l=new XMLHttpRequest;l.open("PUT",a,!0),l.setRequestHeader("Access-Control-Allow-Origin","*"),l.setRequestHeader("x-goog-content-length-range","0,25000000"),l.setRequestHeader("Content-Type",n.type),l.onload=()=>{const f=l.status;if(f===200)this.status="upload_finalized";else throw new Error(`Error while uploading file: ${f}`)},l.onerror=()=>{throw new Error("Error while uploading file")};var p=this;l.upload.addEventListener("progress",function(f){f.loaded<=n.size&&xe(()=>{p.progress=Math.round(f.loaded/n.size*100)}),f.loaded===f.total&&(xe(()=>{p.progress=100}),s(!0))}),l.send(n)})}async getDownloadURL(){const{download_url:n}=await ue.tasks.getAttachment(this.task.uuid,this.uuid);if(!n)throw new Error("No download URL returned");return n}static create(n){const s=n.createObject("attachment",null);return n==null||n.addObject(s),s}};Vv=new WeakMap,ja=new WeakMap,Sa=new WeakMap,Aa=new WeakMap,Ea=new WeakMap,B(tg,Vv,[aS,oS,lS,cS,iS]=KU(tg,[[rO,1,"task"],[sO,1,"fileName"],[iO,1,"status"],[re,1,"progress"]],[],0,void 0,be).e);let ki=tg;class ir{constructor(e,n){ie(this,"layer","best-time-to-meet");ie(this,"proposal");ie(this,"query");ie(this,"type","best-time-to-meet");ie(this,"uuid");ie(this,"title","Best time to meet");ie(this,"description",null);ie(this,"startsAt");ie(this,"endsAt");ie(this,"startsAtDate",null);ie(this,"endsAtDate",null);ie(this,"allDay",!1);ie(this,"duration");ie(this,"location",null);ie(this,"multiday",!1);ie(this,"isSelected",!1);ie(this,"readOnly",!1);ie(this,"canInviteOthers",!0);this.uuid=tn(),this.proposal=e,this.query=n,this.startsAt=e.time,this.endsAt=Ie(e.time,e.duration),this.duration=e.duration}setSelected(e){this.isSelected=e}get haveAllAttendeesDeclined(){return!1}get attendanceStatus(){return"accepted"}get canBeEdited(){return!1}get canChangeAllDayField(){return!1}get start(){return this.startsAt}get end(){return this.endsAt}}var dS,aO,hS,oO,fS;function JU(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:mS(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||mS(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return eG(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:QU(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function QU(t){var e=qU(t,"string");return typeof e=="symbol"?e:e+""}function qU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mS(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function eG(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}aO=q();oO=q();var Wv,Da,wa;const ng=class ng extends be{constructor({uuid:n,transactionQueue:s,objectPool:i}){super({entity:"box",uuid:n,transactionQueue:s,objectPool:i,persistFunctions:{}});B(this,Da,(dS(this),hS(this,null)));B(this,wa,fS(this,null))}get type(){return H(this,Da)}set type(n){V(this,Da,n)}get name(){return H(this,wa)}set name(n){V(this,wa,n)}get view(){return this.getLinkedObjects("view")[0]||null}};Wv=new WeakMap,Da=new WeakMap,wa=new WeakMap,B(ng,Wv,[hS,fS,dS]=JU(ng,[[aO,1,"type"],[oO,1,"name"],[ne,3,"view"]],[],0,void 0,be).e);let ly=ng;class tG{constructor(){ie(this,"uuid");ie(this,"description");ie(this,"name");ie(this,"remoteId")}load(e){this.description=e.description,this.name=e.name,this.remoteId=e.remote_id,this.uuid=e.uuid}}function ft(){return{in:(t,e)=>e[t]&&new Date(e[t]),out:(t,e)=>e[t]&&bn(e[t])}}var pS,lO,gS,cO,bS,uO,yS,dO,vS,hO,xS,fO,jS,mO,SS,pO,AS,gO,ES,bO,DS;function nG(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:wS(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||wS(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return iG(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:rG(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function rG(t){var e=sG(t,"string");return typeof e=="symbol"?e:e+""}function sG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wS(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function iG(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}lO=q("account_uuid",De("account"));cO=q("calendar_name");uO=q("color");dO=q("influences_availability");hO=q();fO=q("access_level");mO=q("conference_solutions");pO=q("remote_primary");gO=q("remote_id");bO=q("updated_at",ft());var $v,Ca,Ta,Na,ka,_a,Oa,Ia,Ma,Ra,Pa;const rg=class rg extends be{constructor({uuid:n,transactionQueue:s,objectPool:i}){super({entity:"calendar",uuid:n,transactionQueue:s,objectPool:i,persistFunctions:{save:a=>ue.calendar.patch(a),persistPartials:!0,ingestAfterSave:!1}});B(this,Ca,(pS(this),gS(this)));B(this,Ta,bS(this));B(this,Na,yS(this,"000000"));B(this,ka,vS(this,!1));B(this,_a,xS(this,!1));B(this,Oa,jS(this));B(this,Ia,SS(this));B(this,Ma,AS(this,!1));B(this,Ra,ES(this));B(this,Pa,DS(this,null))}get account(){return H(this,Ca)}set account(n){V(this,Ca,n)}get name(){return H(this,Ta)}set name(n){V(this,Ta,n)}get _color(){return H(this,Na)}set _color(n){V(this,Na,n)}get influencesAvailability(){return H(this,ka)}set influencesAvailability(n){V(this,ka,n)}get visible(){return H(this,_a)}set visible(n){V(this,_a,n)}get accessLevel(){return H(this,Oa)}set accessLevel(n){V(this,Oa,n)}get conferenceSolutions(){return H(this,Ia)}set conferenceSolutions(n){V(this,Ia,n)}get remotePrimary(){return H(this,Ma)}set remotePrimary(n){V(this,Ma,n)}get remoteId(){return H(this,Ra)}set remoteId(n){V(this,Ra,n)}get updatedAt(){return H(this,Pa)}set updatedAt(n){V(this,Pa,n)}get actualColor(){return`#${this._color}`}get color(){return d_(`${this.actualColor}`,.65,this.objectPool.user.isDarkMode)}async toggleVisibility(n){this.visible=!this.visible,(await this.save()).done.then(()=>{n.eventFetcher.clearFetchedRange(),n.eventFetcher.fetchEventsWithCurrentRange()})}toggleInfluencing(){this.influencesAvailability=!this.influencesAvailability,this.save()}setInfluencing(n){this.influencesAvailability=n,this.save()}setColor(n){this._color=n==null?void 0:n.replace("#",""),this.save()}};$v=new WeakMap,Ca=new WeakMap,Ta=new WeakMap,Na=new WeakMap,ka=new WeakMap,_a=new WeakMap,Oa=new WeakMap,Ia=new WeakMap,Ma=new WeakMap,Ra=new WeakMap,Pa=new WeakMap,B(rg,$v,[gS,bS,yS,vS,xS,jS,SS,AS,ES,DS,pS]=nG(rg,[[lO,1,"account"],[cO,1,"name"],[uO,1,"_color"],[dO,1,"influencesAvailability"],[hO,1,"visible"],[fO,1,"accessLevel"],[mO,1,"conferenceSolutions"],[pO,1,"remotePrimary"],[gO,1,"remoteId"],[bO,1,"updatedAt"],[ne,3,"actualColor"],[ne,3,"color"],[Y,2,"toggleVisibility"],[Y,2,"toggleInfluencing"],[Y,2,"setInfluencing"],[Y,2,"setColor"]],[],0,void 0,be).e);let cy=rg;var CS,yO,TS,vO,NS;function aG(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:kS(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||kS(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return cG(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:oG(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function oG(t){var e=lG(t,"string");return typeof e=="symbol"?e:e+""}function lG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kS(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function cG(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}yO=q("category_uuid",De("category"));vO=q("project_uuid",De("project"));var Uv,La,Ba;const sg=class sg extends be{constructor({uuid:n,transactionQueue:s,objectPool:i}){super({entity:"project_category",uuid:n,transactionQueue:s,objectPool:i,persistFunctions:{save:ue.projectCategories.save,delete:ue.projectCategories.delete,persistPartials:!0}});B(this,La,(CS(this),TS(this,null)));B(this,Ba,NS(this,null))}get category(){return H(this,La)}set category(n){V(this,La,n)}get project(){return H(this,Ba)}set project(n){V(this,Ba,n)}static create(n){const s=n.createObject("project_category",null);return n==null||n.addObject(s),s}};Uv=new WeakMap,La=new WeakMap,Ba=new WeakMap,B(sg,Uv,[TS,NS,CS]=aG(sg,[[yO,1,"category"],[vO,1,"project"]],[],0,void 0,be).e);let Np=sg;var _S,xO,OS,jO,IS;function uG(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:MS(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||MS(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return fG(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:dG(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function dG(t){var e=hG(t,"string");return typeof e=="symbol"?e:e+""}function hG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MS(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function fG(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}xO=q();jO=q();var Gv,Fa,Ha;const ig=class ig extends be{constructor({uuid:n,transactionQueue:s,objectPool:i}){super({entity:"category",uuid:n,transactionQueue:s,objectPool:i,persistFunctions:{save:ue.categories.save,delete:ue.categories.delete,persistPartials:!0}});B(this,Fa,(_S(this),OS(this,null)));B(this,Ha,IS(this,null))}get type(){return H(this,Fa)}set type(n){V(this,Fa,n)}get name(){return H(this,Ha)}set name(n){V(this,Ha,n)}get projectCategories(){return this.getLinkedObjects("project_category")}findProjectCategoryByProject(n){return this.projectCategories.find(s=>s.project===n)||null}hasProject(n){return!!this.findProjectCategoryByProject(n)}addProject(n){const s=Np.create(this.objectPool);return s.category=this,s.project=n,s.save(),s}removeProject(n){var s;(s=this.findProjectCategoryByProject(n))==null||s.delete()}};Gv=new WeakMap,Fa=new WeakMap,Ha=new WeakMap,B(ig,Gv,[OS,IS,_S]=uG(ig,[[xO,1,"type"],[jO,1,"name"],[ne,3,"projectCategories"]],[],0,void 0,be).e);let uy=ig;var RS,SO,PS,AO,LS,EO,BS,DO,FS,wO,HS;function mG(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:VS(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||VS(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return bG(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:pG(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function pG(t){var e=gG(t,"string");return typeof e=="symbol"?e:e+""}function gG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VS(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function bG(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}SO=q("user_uuid",De("member"));AO=q("task_uuid",De("task"));EO=q("message_json");DO=q("created_at",ft());wO=q("updated_at",ft());var zv,Va,Wa,$a,Ua,Ga;const ag=class ag extends be{constructor({uuid:n,transactionQueue:s,objectPool:i}){super({entity:"comment",uuid:n,transactionQueue:s,objectPool:i,persistFunctions:{save:ue.comments.save,delete:ue.comments.delete,persistPartials:!0,ingestAfterSave:!0}});B(this,Va,(RS(this),PS(this)));B(this,Wa,LS(this,null));B(this,$a,BS(this,null));B(this,Ua,FS(this,null));B(this,Ga,HS(this,null))}get member(){return H(this,Va)}set member(n){V(this,Va,n)}get task(){return H(this,Wa)}set task(n){V(this,Wa,n)}get message(){return H(this,$a)}set message(n){V(this,$a,n)}get createdAt(){return H(this,Ua)}set createdAt(n){V(this,Ua,n)}get updatedAt(){return H(this,Ga)}set updatedAt(n){V(this,Ga,n)}async save(n){return this.task&&(this.task.isNew&&this.task.save(),await this.task.persisted),super.save(n)}get isEdited(){return this.createdAt&&this.updatedAt&&this.createdAt.getTime()!==this.updatedAt.getTime()}};zv=new WeakMap,Va=new WeakMap,Wa=new WeakMap,$a=new WeakMap,Ua=new WeakMap,Ga=new WeakMap,B(ag,zv,[PS,LS,BS,FS,HS,RS]=mG(ag,[[SO,1,"member"],[AO,1,"task"],[EO,1,"message"],[DO,1,"createdAt"],[wO,1,"updatedAt"],[ne,3,"isEdited"]],[],0,void 0,be).e);let ms=ag;var WS,CO,$S,TO,US,NO,GS,kO,zS,_O,KS;function yG(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:ZS(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||ZS(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return jG(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:vG(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function vG(t){var e=xG(t,"string");return typeof e=="symbol"?e:e+""}function xG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZS(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function jG(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}CO=q();TO=q();NO=q();kO=q();_O=q();var Kv,za,Ka,Za,Ya,Xa;const og=class og extends be{constructor({uuid:n,transactionQueue:s,objectPool:i}){super({entity:"conference_solution",uuid:n,transactionQueue:s,objectPool:i,persistFunctions:{save:ue.conferenceSolutions.save,delete:ue.conferenceSolutions.delete,persistPartials:!1}});B(this,za,(WS(this),$S(this,null)));B(this,Ka,US(this,null));B(this,Za,GS(this,null));B(this,Ya,zS(this,null));B(this,Xa,KS(this,null))}get label(){return H(this,za)}set label(n){V(this,za,n)}get provider(){return H(this,Ka)}set provider(n){V(this,Ka,n)}get status(){return H(this,Za)}set status(n){V(this,Za,n)}get email(){return H(this,Ya)}set email(n){V(this,Ya,n)}get link(){return H(this,Xa)}set link(n){V(this,Xa,n)}toJSON(){return{uuid:this.uuid,label:this.label,link:this.link,provider:this.provider}}get isValidCustomLink(){return this.provider==="custom_link"&&!!(this.label&&this.link)}};Kv=new WeakMap,za=new WeakMap,Ka=new WeakMap,Za=new WeakMap,Ya=new WeakMap,Xa=new WeakMap,B(og,Kv,[$S,US,GS,zS,KS,WS]=yG(og,[[CO,1,"label"],[TO,1,"provider"],[NO,1,"status"],[kO,1,"email"],[_O,1,"link"]],[],0,void 0,be).e);let dy=og;var YS,XS,JS,QS,qS,eA;function SG(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:tA(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||tA(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return DG(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:AG(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function AG(t){var e=EG(t,"string");return typeof e=="symbol"?e:e+""}function EG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tA(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function DG(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}var Zv,Ja,Qa,qa,eo,to;const lg=class lg{constructor(){B(this,Ja,(YS(this),XS(this)));B(this,Qa,JS(this));B(this,qa,QS(this,null));B(this,eo,qS(this));B(this,to,eA(this))}get uuid(){return H(this,Ja)}set uuid(e){V(this,Ja,e)}get email(){return H(this,Qa)}set email(e){V(this,Qa,e)}get timezone(){return H(this,qa)}set timezone(e){V(this,qa,e)}get position(){return H(this,eo)}set position(e){V(this,eo,e)}get contextEvent(){return H(this,to)}set contextEvent(e){V(this,to,e)}_formatContextEvent(e){var n,s,i,a,l,p,f,v,E,w,D,M,o;return{accessLevel:e==null?void 0:e.access_level,uuid:((n=e==null?void 0:e.context_event)==null?void 0:n.uuid)||null,type:((s=e==null?void 0:e.context_event)==null?void 0:s.type)||null,title:((i=e==null?void 0:e.context_event)==null?void 0:i.title)||null,freebusy:((a=e==null?void 0:e.context_event)==null?void 0:a.freebusy)||!1,startsAt:(l=e==null?void 0:e.context_event)!=null&&l.starts_at?yn((p=e==null?void 0:e.context_event)==null?void 0:p.starts_at):null,endsAt:(f=e==null?void 0:e.context_event)!=null&&f.ends_at?yn((v=e==null?void 0:e.context_event)==null?void 0:v.ends_at):null,startsAtDate:(E=e==null?void 0:e.context_event)!=null&&E.date_starts_at?pt((w=e==null?void 0:e.context_event)==null?void 0:w.date_starts_at):null,endsAtDate:(D=e==null?void 0:e.context_event)!=null&&D.date_ends_at?pt((M=e==null?void 0:e.context_event)==null?void 0:M.date_ends_at):null,allDay:((o=e==null?void 0:e.context_event)==null?void 0:o.all_day)||!1}}fromJSON(e){return this.uuid=e.uuid,this.email=e.email,this.position=e.position,this}setStatus(e){this.contextEvent=this._formatContextEvent(e),this.timezone=(e==null?void 0:e.timezone)||null}};Zv=new WeakMap,Ja=new WeakMap,Qa=new WeakMap,qa=new WeakMap,eo=new WeakMap,to=new WeakMap,B(lg,Zv,[XS,JS,QS,qS,eA,YS]=SG(lg,[[re,1,"uuid"],[re,1,"email"],[re,1,"timezone"],[re,1,"position"],[re,1,"contextEvent"],[Y,2,"fromJSON"],[Y,2,"setStatus"]],[]).e);let ui=lg;var nA,OO,rA,IO,sA,MO,iA;function wG(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:aA(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||aA(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return NG(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:CG(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function CG(t){var e=TG(t,"string");return typeof e=="symbol"?e:e+""}function TG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aA(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function NG(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}OO=q("account_uuid",De("account"));IO=q();MO=q();var Yv,no,ro,so;const cg=class cg extends be{constructor({uuid:n,transactionQueue:s,objectPool:i}){super({entity:"group",uuid:n,transactionQueue:s,objectPool:i,persistFunctions:{}});B(this,no,(nA(this),rA(this)));B(this,ro,sA(this));B(this,so,iA(this))}get account(){return H(this,no)}set account(n){V(this,no,n)}get email(){return H(this,ro)}set email(n){V(this,ro,n)}get members(){return H(this,so)}set members(n){V(this,so,n)}};Yv=new WeakMap,no=new WeakMap,ro=new WeakMap,so=new WeakMap,B(cg,Yv,[rA,sA,iA,nA]=wG(cg,[[OO,1,"account"],[IO,1,"email"],[MO,1,"members"]],[],0,void 0,be).e);let hy=cg;var oA,RO,lA,PO,cA,LO,uA,BO,dA,FO,hA,HO,fA,VO,mA,WO,pA;function kG(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:gA(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||gA(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return IG(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:_G(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function _G(t){var e=OG(t,"string");return typeof e=="symbol"?e:e+""}function OG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gA(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function IG(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}RO=q("task_uuid",De("task"));PO=q("meeting_board_uuid",De("meeting_board"));LO=q("body_content");BO=q("type");FO=q("read_at",ft());HO=q("created_at",ft());VO=q("updated_at",ft());WO=q("change_time",ft());var Xv,io,ao,oo,lo,co,uo,ho,fo;const ug=class ug extends be{constructor({uuid:n,transactionQueue:s,objectPool:i}){super({entity:"inbox_notification",uuid:n,transactionQueue:s,objectPool:i,persistFunctions:{save:ue.inboxNotifications.save,delete:ue.inboxNotifications.delete,persistPartials:!0,ingestAfterSave:!0}});B(this,io,(oA(this),lA(this,null)));B(this,ao,cA(this,null));B(this,oo,uA(this,null));B(this,lo,dA(this,null));B(this,co,hA(this,null));B(this,uo,fA(this,null));B(this,ho,mA(this,null));B(this,fo,pA(this,null))}get task(){return H(this,io)}set task(n){V(this,io,n)}get meetingBoard(){return H(this,ao)}set meetingBoard(n){V(this,ao,n)}get bodyContent(){return H(this,oo)}set bodyContent(n){V(this,oo,n)}get type(){return H(this,lo)}set type(n){V(this,lo,n)}get readAt(){return H(this,co)}set readAt(n){V(this,co,n)}get createdAt(){return H(this,uo)}set createdAt(n){V(this,uo,n)}get updatedAt(){return H(this,ho)}set updatedAt(n){V(this,ho,n)}get changeTime(){return H(this,fo)}set changeTime(n){V(this,fo,n)}get actor(){if(!this.bodyContent)return null;const n=this.bodyContent[0];if(!n||n.type!=="p")return null;const s=n.children.find(a=>a.type==="actor");if(!s)return null;const i=this.objectPool.getObject("member",s.actor_uuid);return i?{type:"member",member:i}:null}get body(){if(!this.bodyContent)return null;const n=this.bodyContent[0];return!n||n.type!=="p"?null:n.children}markRead(){this.readAt||(this.readAt=new Date,this.save())}};Xv=new WeakMap,io=new WeakMap,ao=new WeakMap,oo=new WeakMap,lo=new WeakMap,co=new WeakMap,uo=new WeakMap,ho=new WeakMap,fo=new WeakMap,B(ug,Xv,[lA,cA,uA,dA,hA,fA,mA,pA,oA]=kG(ug,[[RO,1,"task"],[PO,1,"meetingBoard"],[LO,1,"bodyContent"],[BO,1,"type"],[FO,1,"readAt"],[HO,1,"createdAt"],[VO,1,"updatedAt"],[WO,1,"changeTime"],[ne,3,"actor"],[ne,3,"body"],[Y,2,"markRead"]],[],0,void 0,be).e);let fy=ug;var bA,$O,yA,UO,vA,GO,xA;function MG(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:jA(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||jA(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return LG(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:RG(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function RG(t){var e=PG(t,"string");return typeof e=="symbol"?e:e+""}function PG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jA(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function LG(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}$O=q("workspace_uuid",De("workspace"));UO=q();GO=q();var Jv,mo,po,go;const dg=class dg extends be{constructor({uuid:n,transactionQueue:s,objectPool:i}){super({entity:"label",uuid:n,transactionQueue:s,objectPool:i,persistFunctions:{save:ue.labels.save,delete:ue.labels.delete,persistPartials:!0}});B(this,mo,(bA(this),yA(this,null)));B(this,po,vA(this,null));B(this,go,xA(this,null))}get workspace(){return H(this,mo)}set workspace(n){V(this,mo,n)}get name(){return H(this,po)}set name(n){V(this,po,n)}get color(){return H(this,go)}set color(n){V(this,go,n)}valid(){return!!this.name&&!!this.color}delete(){return this.getLinkedObjects("task_label").forEach(n=>{n.setDeleted(!0)}),super.delete()}};Jv=new WeakMap,mo=new WeakMap,po=new WeakMap,go=new WeakMap,B(dg,Jv,[yA,vA,xA,bA]=MG(dg,[[$O,1,"workspace"],[UO,1,"name"],[GO,1,"color"],[Y,2,"delete"]],[],0,void 0,be).e);let my=dg;var SA,zO,AA,KO,EA;function BG(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:DA(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||DA(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return VG(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:FG(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function FG(t){var e=HG(t,"string");return typeof e=="symbol"?e:e+""}function HG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DA(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function VG(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}zO=q("project_uuid",De("project"));KO=q("event_uuid");var Qv,bo,yo;const hg=class hg extends be{constructor({uuid:n,transactionQueue:s,objectPool:i}){super({entity:"meeting_board",uuid:n,transactionQueue:s,objectPool:i});B(this,bo,(SA(this),AA(this,null)));B(this,yo,EA(this,null))}get project(){return H(this,bo)}set project(n){V(this,bo,n)}get eventUuid(){return H(this,yo)}set eventUuid(n){V(this,yo,n)}};Qv=new WeakMap,bo=new WeakMap,yo=new WeakMap,B(hg,Qv,[AA,EA,SA]=BG(hg,[[zO,1,"project"],[KO,1,"eventUuid"]],[],0,void 0,be).e);let py=hg;var wA,ZO,CA,YO,TA,XO,NA;function WG(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:kA(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||kA(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return GG(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:$G(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function $G(t){var e=UG(t,"string");return typeof e=="symbol"?e:e+""}function UG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kA(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function GG(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}ZO=q();YO=q("first_name");XO=q("last_name");var qv,vo,xo,jo;const fg=class fg extends be{constructor({uuid:n,transactionQueue:s,objectPool:i}){super({entity:"member",uuid:n,transactionQueue:s,objectPool:i,persistFunctions:{}});B(this,vo,(wA(this),CA(this,null)));B(this,xo,TA(this,null));B(this,jo,NA(this,null))}get email(){return H(this,vo)}set email(n){V(this,vo,n)}get firstName(){return H(this,xo)}set firstName(n){V(this,xo,n)}get lastName(){return H(this,jo)}set lastName(n){V(this,jo,n)}get displayName(){const n=[this.firstName,this.lastName].filter(Boolean).join(" ").trim();return n.length!==0?n:null}get displayNameSafe(){return this.displayName||this.email||"Unknown"}};qv=new WeakMap,vo=new WeakMap,xo=new WeakMap,jo=new WeakMap,B(fg,qv,[CA,TA,NA,wA]=WG(fg,[[ZO,1,"email"],[YO,1,"firstName"],[XO,1,"lastName"],[ne,3,"displayName"],[ne,3,"displayNameSafe"]],[],0,void 0,be).e);let gy=fg;var _A,OA,IA,MA,RA,PA,LA,BA,FA;function zG(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:HA(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||HA(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return YG(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:KG(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function KG(t){var e=ZG(t,"string");return typeof e=="symbol"?e:e+""}function ZG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HA(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function YG(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}var e1,So,Ao,Eo,Do,wo,Co,To,No;const mg=class mg{constructor(){B(this,So,(_A(this),OA(this,null)));B(this,Ao,IA(this,null));B(this,Eo,MA(this,null));B(this,Do,RA(this,!1));B(this,wo,PA(this,!1));B(this,Co,LA(this,!1));B(this,To,BA(this,!1));B(this,No,FA(this,null))}get email(){return H(this,So)}set email(e){V(this,So,e)}get name(){return H(this,Ao)}set name(e){V(this,Ao,e)}get status(){return H(this,Eo)}set status(e){V(this,Eo,e)}get isSelf(){return H(this,Do)}set isSelf(e){V(this,Do,e)}get isOrganizer(){return H(this,wo)}set isOrganizer(e){V(this,wo,e)}get isResource(){return H(this,Co)}set isResource(e){V(this,Co,e)}get isOptional(){return H(this,To)}set isOptional(e){V(this,To,e)}get comment(){return H(this,No)}set comment(e){V(this,No,e)}get asJson(){return{email:this.email,name:this.name,status:this.status,is_self:this.isSelf,is_organizer:this.isOrganizer,is_resource:this.isResource,is_optional:this.isOptional,comment:this.comment||void 0}}updateFromJson(e){this.email=e.email,this.name=e.name,this.status=e.status,this.isSelf=e.is_self,this.isOrganizer=e.is_organizer||!1,this.isResource=e.is_resource||!1,this.isOptional=e.is_optional||!1,this.comment=e.comment||null}get hasDeclined(){return this.status==="declined"}setEmail(e){this.email=e}setName(e){this.name=e}setStatus(e){this.status=e}setIsSelf(e){this.isSelf=e}setIsOrganizer(e){this.isOrganizer=e}setIsResource(e){this.isResource=e}setIsOptional(e){this.isOptional=e}};e1=new WeakMap,So=new WeakMap,Ao=new WeakMap,Eo=new WeakMap,Do=new WeakMap,wo=new WeakMap,Co=new WeakMap,To=new WeakMap,No=new WeakMap,B(mg,e1,[OA,IA,MA,RA,PA,LA,BA,FA,_A]=zG(mg,[[re,1,"email"],[re,1,"name"],[re,1,"status"],[re,1,"isSelf"],[re,1,"isOrganizer"],[re,1,"isResource"],[re,1,"isOptional"],[re,1,"comment"],[ne,3,"asJson"],[Y,2,"updateFromJson"],[ne,3,"hasDeclined"],[Y,2,"setEmail"],[Y,2,"setName"],[Y,2,"setStatus"],[Y,2,"setIsSelf"],[Y,2,"setIsOrganizer"],[Y,2,"setIsResource"],[Y,2,"setIsOptional"]],[]).e);let cr=mg;var VA,WA,$A,UA,GA,zA,KA,ZA,YA,XA,JA,QA,qA,e4,t4,n4,r4,s4,i4,a4,o4,l4,c4,u4,d4,h4,f4,m4;function XG(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:p4(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||p4(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return qG(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:JG(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function JG(t){var e=QG(t,"string");return typeof e=="symbol"?e:e+""}function QG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p4(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function qG(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}var t1,ko,_o,Oo,Io,Mo,Ro,Po,Lo,Bo,Fo,Ho,Vo,Wo,$o,Uo,Go,zo,Ko,Zo,Yo,Xo,Jo,Qo,qo,el,tl,nl;const pg=class pg{constructor(e,n,s){B(this,ko,(VA(this),WA(this)));B(this,_o,$A(this));B(this,Oo,UA(this));B(this,Io,GA(this));B(this,Mo,zA(this));B(this,Ro,KA(this));B(this,Po,ZA(this));B(this,Lo,YA(this));B(this,Bo,XA(this));B(this,Fo,JA(this));B(this,Ho,QA(this));B(this,Vo,qA(this));B(this,Wo,e4(this));B(this,$o,t4(this));B(this,Uo,n4(this));B(this,Go,r4(this,!1));B(this,zo,s4(this,!0));B(this,Ko,i4(this));B(this,Zo,a4(this,null));B(this,Yo,o4(this));B(this,Xo,l4(this));B(this,Jo,c4(this,!1));B(this,Qo,u4(this));B(this,qo,d4(this));B(this,el,h4(this));B(this,tl,f4(this,!1));B(this,nl,m4(this));var i;this.layer=e,this.type=n.type,this.uuid=n.uuid,this._title=n.freebusy?"Busy":n.title,this.description=n.description,this.influencesAvailability=n.influences_availability??null,n.all_day?(this.startsAt=null,this.endsAt=null,this.startsAtDate=pt(n.date_starts_at),this.endsAtDate=pt(n.date_ends_at)):(this.startsAt=yn(n.starts_at),this.endsAt=yn(n.ends_at),this.startsAtDate=null,this.endsAtDate=null),this.allDay=n.all_day,this.organizerEmail=n.organizer_email,this.location=n.location,this.freebusy=n.freebusy,this.attendees=((i=n.attendees)==null?void 0:i.map(a=>{const l=new cr;return l.setEmail(a.email),l.setName(a.name),l.setStatus(a.status),l.setIsSelf(a.is_self),l.setIsResource(a.is_resource),l.setIsOrganizer(a.is_organizer),l}))||[],this.calendar=s,this.fingerprint=n.fingerprint,n.conference_data?this.conferenceData={label:n.conference_data.label,link:n.conference_data.link,provider:n.conference_data.provider,requestStatus:n.conference_data.request_status}:this.conferenceData=null,this.workingLocation=n.working_location,this.extendedProperties=n.extended_properties}get layer(){return H(this,ko)}set layer(e){V(this,ko,e)}get type(){return H(this,_o)}set type(e){V(this,_o,e)}get uuid(){return H(this,Oo)}set uuid(e){V(this,Oo,e)}get _title(){return H(this,Io)}set _title(e){V(this,Io,e)}get description(){return H(this,Mo)}set description(e){V(this,Mo,e)}get startsAt(){return H(this,Ro)}set startsAt(e){V(this,Ro,e)}get endsAt(){return H(this,Po)}set endsAt(e){V(this,Po,e)}get startsAtDate(){return H(this,Lo)}set startsAtDate(e){V(this,Lo,e)}get endsAtDate(){return H(this,Bo)}set endsAtDate(e){V(this,Bo,e)}get allDay(){return H(this,Fo)}set allDay(e){V(this,Fo,e)}get organizerEmail(){return H(this,Ho)}set organizerEmail(e){V(this,Ho,e)}get location(){return H(this,Vo)}set location(e){V(this,Vo,e)}get freebusy(){return H(this,Wo)}set freebusy(e){V(this,Wo,e)}get attendees(){return H(this,$o)}set attendees(e){V(this,$o,e)}get calendar(){return H(this,Uo)}set calendar(e){V(this,Uo,e)}get isSelected(){return H(this,Go)}set isSelected(e){V(this,Go,e)}get readOnly(){return H(this,zo)}set readOnly(e){V(this,zo,e)}get fingerprint(){return H(this,Ko)}set fingerprint(e){V(this,Ko,e)}get conferenceData(){return H(this,Zo)}set conferenceData(e){V(this,Zo,e)}get isOrganizer(){return H(this,Yo)}set isOrganizer(e){V(this,Yo,e)}get isCreator(){return H(this,Xo)}set isCreator(e){V(this,Xo,e)}get canInviteOthers(){return H(this,Jo)}set canInviteOthers(e){V(this,Jo,e)}get influencesAvailability(){return H(this,Qo)}set influencesAvailability(e){V(this,Qo,e)}get workingLocation(){return H(this,qo)}set workingLocation(e){V(this,qo,e)}get outOfOfficeProperties(){return H(this,el)}set outOfOfficeProperties(e){V(this,el,e)}get isHovered(){return H(this,tl)}set isHovered(e){V(this,tl,e)}get extendedProperties(){return H(this,nl)}set extendedProperties(e){V(this,nl,e)}get duration(){return this.endsAt&&this.startsAt?Ge(this.endsAt,this.startsAt):null}setSelected(e){this.isSelected=e}get presentAsAllDay(){return this.allDay}get start(){return this.presentAsAllDay?this.startsAtDate:this.startsAt}get end(){return this.presentAsAllDay?this.endsAtDate:this.endsAt}get multiday(){return this.allDay?kn(this.endsAtDate,this.startsAtDate)>1:kn(this.endsAt,this.startsAt)>=1}get selfAttendee(){return this.attendees.find(e=>e.isSelf===!0)}get attendanceStatus(){if(!this.attendees)return"accepted";const e=this.selfAttendee;return e?e.status:"unknown"}get meetingRoomAttendee(){var e;return(e=this.attendees)==null?void 0:e.find(n=>n.isResource)}get haveAllAttendeesDeclined(){return E7(this.attendees)}get color(){return this.calendar.color}get canBeEdited(){return!1}get canChangeAllDayField(){return!1}get title(){return this.type==="non-working-days"?"Out of office":this._title||"[No title]"}setIsHovered(e){this.isHovered=e}};t1=new WeakMap,ko=new WeakMap,_o=new WeakMap,Oo=new WeakMap,Io=new WeakMap,Mo=new WeakMap,Ro=new WeakMap,Po=new WeakMap,Lo=new WeakMap,Bo=new WeakMap,Fo=new WeakMap,Ho=new WeakMap,Vo=new WeakMap,Wo=new WeakMap,$o=new WeakMap,Uo=new WeakMap,Go=new WeakMap,zo=new WeakMap,Ko=new WeakMap,Zo=new WeakMap,Yo=new WeakMap,Xo=new WeakMap,Jo=new WeakMap,Qo=new WeakMap,qo=new WeakMap,el=new WeakMap,tl=new WeakMap,nl=new WeakMap,B(pg,t1,[WA,$A,UA,GA,zA,KA,ZA,YA,XA,JA,QA,qA,e4,t4,n4,r4,s4,i4,a4,o4,l4,c4,u4,d4,h4,f4,m4,VA]=XG(pg,[[re,1,"layer"],[re,1,"type"],[re,1,"uuid"],[re,1,"_title"],[re,1,"description"],[re,1,"startsAt"],[re,1,"endsAt"],[re,1,"startsAtDate"],[re,1,"endsAtDate"],[re,1,"allDay"],[re,1,"organizerEmail"],[re,1,"location"],[re,1,"freebusy"],[re,1,"attendees"],[re,1,"calendar"],[re,1,"isSelected"],[re,1,"readOnly"],[re,1,"fingerprint"],[re,1,"conferenceData"],[re,1,"isOrganizer"],[re,1,"isCreator"],[re,1,"canInviteOthers"],[re,1,"influencesAvailability"],[re,1,"workingLocation"],[re,1,"outOfOfficeProperties"],[re,1,"isHovered"],[re,1,"extendedProperties"],[ne,3,"duration"],[Y,2,"setSelected"],[ne,3,"presentAsAllDay"],[ne,3,"start"],[ne,3,"end"],[ne,3,"multiday"],[ne,3,"selfAttendee"],[ne,3,"attendanceStatus"],[ne,3,"meetingRoomAttendee"],[ne,3,"haveAllAttendeesDeclined"],[ne,3,"color"],[ne,3,"title"],[Y,2,"setIsHovered"]],[]).e);let Le=pg;class Gt{constructor(e,n){ie(this,"layer","out-of-office");ie(this,"type","non-working-days");ie(this,"uuid",tn());ie(this,"title","Out of office");ie(this,"description",null);ie(this,"startsAt",null);ie(this,"endsAt",null);ie(this,"startsAtDate");ie(this,"endsAtDate");ie(this,"allDay",!0);ie(this,"location",null);ie(this,"attendees",[]);ie(this,"isSelected",!1);ie(this,"readOnly",!0);ie(this,"canInviteOthers",!1);ie(this,"remoteColorId",null);this.startsAtDate=e,this.endsAtDate=n}get start(){return this.startsAtDate}get end(){return this.endsAtDate}get presentAsAllDay(){return!0}get duration(){return null}setSelected(e){this.isSelected=e}get multiday(){return this.allDay?kn(this.endsAtDate,this.startsAtDate)>1:kn(this.endsAt,this.startsAt)>=1}get attendanceStatus(){return"accepted"}get haveAllAttendeesDeclined(){return!1}get canBeEdited(){return!1}get canChangeAllDayField(){return!1}}var g4,JO,b4,QO,y4,qO,v4,eI,x4,tI,j4,nI,S4,rI,A4,sI,E4;function ez(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:D4(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||D4(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return rz(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:tz(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function tz(t){var e=nz(t,"string");return typeof e=="symbol"?e:e+""}function nz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D4(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function rz(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}JO=q("project_uuid",De("project"));QO=q("box_uuid",De("box"));qO=q();eI=q("group_by");tI=q("order_by");nI=q();rI=q("show_completed");sI=q("show_empty");var n1,rl,sl,il,al,ol,ll,cl,ul;const gg=class gg extends be{constructor({uuid:n,transactionQueue:s,objectPool:i}){super({entity:"view",uuid:n,transactionQueue:s,objectPool:i,persistFunctions:{save:(a,l)=>(this.project&&(a.project_uuid=this.project.uuid),this.box&&(a.box_uuid=this.box.uuid),ue.views.save(a,l)),persistPartials:!0}});B(this,rl,(g4(this),b4(this,null)));B(this,sl,y4(this,null));B(this,il,v4(this,null));B(this,al,x4(this,"status"));B(this,ol,j4(this,"manual"));B(this,ll,S4(this,"board"));B(this,cl,A4(this,!0));B(this,ul,E4(this,!0))}get project(){return H(this,rl)}set project(n){V(this,rl,n)}get box(){return H(this,sl)}set box(n){V(this,sl,n)}get filter(){return H(this,il)}set filter(n){V(this,il,n)}get groupBy(){return H(this,al)}set groupBy(n){V(this,al,n)}get orderBy(){return H(this,ol)}set orderBy(n){V(this,ol,n)}get type(){return H(this,ll)}set type(n){V(this,ll,n)}get showCompleted(){return H(this,cl)}set showCompleted(n){V(this,cl,n)}get showEmpty(){return H(this,ul)}set showEmpty(n){V(this,ul,n)}static create(n){const s=n.createObject("view",null);return n==null||n.addObject(s),s}};n1=new WeakMap,rl=new WeakMap,sl=new WeakMap,il=new WeakMap,al=new WeakMap,ol=new WeakMap,ll=new WeakMap,cl=new WeakMap,ul=new WeakMap,B(gg,n1,[b4,y4,v4,x4,j4,S4,A4,E4,g4]=ez(gg,[[JO,1,"project"],[QO,1,"box"],[qO,1,"filter"],[eI,1,"groupBy"],[tI,1,"orderBy"],[nI,1,"type"],[rI,1,"showCompleted"],[sI,1,"showEmpty"]],[],0,void 0,be).e);let kp=gg;var w4,iI,C4,aI,T4,oI,N4,lI,k4,cI,_4,uI,O4;function sz(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:I4(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||I4(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return oz(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:iz(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function iz(t){var e=az(t,"string");return typeof e=="symbol"?e:e+""}function az(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I4(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function oz(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}const M4=["#14B8AF","#1B00FF","#3BB200","#5F4CFF","#850085","#FF002B","#FF33FF","#FF8833"];iI=q("workspace_uuid",De("workspace"));aI=q("team_uuid",De("team"));oI=q();lI=q();cI=q();uI=q();var r1,dl,hl,fl,ml,pl,gl;const bg=class bg extends be{constructor({uuid:n,transactionQueue:s,objectPool:i}){super({entity:"project",uuid:n,transactionQueue:s,objectPool:i,persistFunctions:{save:ue.projects.save,delete:ue.projects.delete,persistPartials:!0}});B(this,dl,(w4(this),C4(this,null)));B(this,hl,T4(this,null));B(this,fl,N4(this,null));B(this,ml,k4(this,null));B(this,pl,_4(this,null));B(this,gl,O4(this,null))}get workspace(){return H(this,dl)}set workspace(n){V(this,dl,n)}get team(){return H(this,hl)}set team(n){V(this,hl,n)}get name(){return H(this,fl)}set name(n){V(this,fl,n)}get description(){return H(this,ml)}set description(n){V(this,ml,n)}get color(){return H(this,pl)}set color(n){V(this,pl,n)}get icon(){return H(this,gl)}set icon(n){V(this,gl,n)}valid(){return!!this.name}loadFallback(n){var s,i,a,l;(s=this.objectPool)==null||s.getObjects("meeting_board").forEach(p=>{var f,v;((f=p.project)==null?void 0:f.uuid)===this.uuid&&((v=this.objectPool)==null||v.removeObject(p))}),(i=n.event_uuids)==null||i.forEach(p=>{var f;(f=this.objectPool)==null||f.loadObject("meeting_board",tn(),{project_uuid:this.uuid,event_uuid:p})}),(a=this.objectPool)==null||a.getObjects("project_membership").forEach(p=>{var f,v;((f=p.project)==null?void 0:f.uuid)===this.uuid&&((v=this.objectPool)==null||v.removeObject(p))}),(l=n.memberships)==null||l.forEach(p=>{var f;(f=this.objectPool)==null||f.loadObject("project_membership",p.uuid,p)})}get projectStates(){return this.getLinkedObjects("project_state").toSorted((n,s)=>n.ordering-s.ordering)}get memberships(){return this.getLinkedObjects("project_membership")}get tasks(){return this.getLinkedObjects("task")}get meetingBoard(){return this.getLinkedObjects("meeting_board")[0]||null}get progress(){const n=fn(this.tasks,[{option:"statusType",value:"completed"}]);return{completed:n.length,total:this.tasks.length,percentage:n.length*100/this.tasks.length}}get activeTasks(){return fn(this.tasks,[{option:"statusType",value:["unstarted","started"]}])}get view(){return this.getLinkedObjects("view")[0]||null}createDefaultView(){const n=kp.create(this.objectPool);return n.type="board",n.groupBy="status",n.orderBy="manual",n.showCompleted=!0,n.showEmpty=!0,n.project=this,n.setDraft(!0),n}get displayColor(){return this.color||lz(this.name||"")}};r1=new WeakMap,dl=new WeakMap,hl=new WeakMap,fl=new WeakMap,ml=new WeakMap,pl=new WeakMap,gl=new WeakMap,B(bg,r1,[C4,T4,N4,k4,_4,O4,w4]=sz(bg,[[iI,1,"workspace"],[aI,1,"team"],[oI,1,"name"],[lI,1,"description"],[cI,1,"color"],[uI,1,"icon"],[ne,3,"projectStates"],[ne,3,"memberships"],[ne,3,"tasks"],[ne,3,"meetingBoard"],[ne,3,"progress"],[ne,3,"activeTasks"],[ne,3,"view"],[ne,3,"displayColor"]],[],0,void 0,be).e);let by=bg;function lz(t){return M4[Math.abs(cz(t)%M4.length)]}function cz(t){return t.split("").reduce((e,n)=>(e<<5)-e+n.charCodeAt(0)|0,0)}var R4,dI,P4,hI,L4;function uz(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:B4(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||B4(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return fz(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:dz(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function dz(t){var e=hz(t,"string");return typeof e=="symbol"?e:e+""}function hz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B4(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function fz(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}dI=q("project_uuid",De("project"));hI=q("user_uuid",De("member"));var s1,bl,yl;const yg=class yg extends be{constructor({uuid:n,transactionQueue:s,objectPool:i}){super({entity:"project_membership",uuid:n,transactionQueue:s,objectPool:i,persistFunctions:{}});B(this,bl,(R4(this),P4(this,null)));B(this,yl,L4(this,null))}get project(){return H(this,bl)}set project(n){V(this,bl,n)}get member(){return H(this,yl)}set member(n){V(this,yl,n)}};s1=new WeakMap,bl=new WeakMap,yl=new WeakMap,B(yg,s1,[P4,L4,R4]=uz(yg,[[dI,1,"project"],[hI,1,"member"]],[],0,void 0,be).e);let yy=yg;var F4,fI,H4,mI,V4,pI,W4;function mz(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:$4(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||$4(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return bz(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:pz(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function pz(t){var e=gz(t,"string");return typeof e=="symbol"?e:e+""}function gz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $4(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function bz(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}fI=q("project_uuid",De("project"));mI=q();pI=q();var i1,vl,xl,jl;const vg=class vg extends be{constructor({uuid:n,transactionQueue:s,objectPool:i}){super({entity:"project_state",uuid:n,transactionQueue:s,objectPool:i,persistFunctions:{save:ue.projectStates.save,delete:ue.projectStates.delete,persistPartials:!0}});B(this,vl,(F4(this),H4(this,null)));B(this,xl,V4(this,null));B(this,jl,W4(this));this.isNew&&this.setInitialOrdering()}get project(){return H(this,vl)}set project(n){V(this,vl,n)}get label(){return H(this,xl)}set label(n){V(this,xl,n)}get ordering(){return H(this,jl)}set ordering(n){V(this,jl,n)}get labelSafe(){return this.label||"(State without label)"}delete(){return this.getLinkedObjects("task").forEach(n=>{n.projectState=null,n.markAsNotDirty("projectState")}),super.delete()}setInitialOrdering(){const n=this.objectPool.getObjects(this.entity).reduce((s,i)=>i.ordering>s?i.ordering:s,0);this.ordering=Dr(n)}setOrdering(n){this.ordering=n}};i1=new WeakMap,vl=new WeakMap,xl=new WeakMap,jl=new WeakMap,B(vg,i1,[H4,V4,W4,F4]=mz(vg,[[fI,1,"project"],[mI,1,"label"],[pI,1,"ordering"],[ne,3,"labelSafe"],[Y,2,"delete"],[Y,2,"setOrdering"]],[],0,void 0,be).e);let vy=vg;var U4,gI,G4,bI,z4,yI,K4,vI,Z4;function yz(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:Y4(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||Y4(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return jz(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:vz(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function vz(t){var e=xz(t,"string");return typeof e=="symbol"?e:e+""}function xz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Y4(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function jz(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}gI=q("workspace_uuid",De("workspace"));bI=q("calendar_uuid",De("calendar"));yI=q("expose_titles");vI=q("disable_task_event_sync");var a1,Sl,Al,El,Dl;const xg=class xg extends be{constructor({uuid:n,transactionQueue:s,objectPool:i}){super({entity:"projects_user_preferences",uuid:n,transactionQueue:s,objectPool:i,persistFunctions:{save:ue.projects.userPreferences.save,delete:ue.projects.userPreferences.delete,persistPartials:!0}});B(this,Sl,(U4(this),G4(this,null)));B(this,Al,z4(this,null));B(this,El,K4(this,!1));B(this,Dl,Z4(this,!1))}get workspace(){return H(this,Sl)}set workspace(n){V(this,Sl,n)}get calendar(){return H(this,Al)}set calendar(n){V(this,Al,n)}get exposeTitles(){return H(this,El)}set exposeTitles(n){V(this,El,n)}get disableTaskEventSync(){return H(this,Dl)}set disableTaskEventSync(n){V(this,Dl,n)}};a1=new WeakMap,Sl=new WeakMap,Al=new WeakMap,El=new WeakMap,Dl=new WeakMap,B(xg,a1,[G4,z4,K4,Z4,U4]=yz(xg,[[gI,1,"workspace"],[bI,1,"calendar"],[yI,1,"exposeTitles"],[vI,1,"disableTaskEventSync"]],[],0,void 0,be).e);let xy=xg;var X4,J4,Q4;function Sz(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:q4(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||q4(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return Dz(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:Az(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function Az(t){var e=Ez(t,"string");return typeof e=="symbol"?e:e+""}function Ez(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q4(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function Dz(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}var o1,wl,Cl;const jg=class jg{constructor(e,n){B(this,wl,(X4(this),J4(this)));B(this,Cl,Q4(this));this.startsAt=e,this.endsAt=n}get startsAt(){return H(this,wl)}set startsAt(e){V(this,wl,e)}get endsAt(){return H(this,Cl)}set endsAt(e){V(this,Cl,e)}};o1=new WeakMap,wl=new WeakMap,Cl=new WeakMap,B(jg,o1,[J4,Q4,X4]=Sz(jg,[[re,1,"startsAt"],[re,1,"endsAt"]],[]).e);let _i=jg;var e3,t3,n3,r3,s3,i3,a3,o3,l3,c3,u3,d3,h3;function wz(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:f3(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||f3(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return Nz(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:Cz(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function Cz(t){var e=Tz(t,"string");return typeof e=="symbol"?e:e+""}function Tz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f3(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function Nz(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}var l1,Tl,Nl,kl,_l,Ol,Il,Ml,Rl,Pl,Ll,Bl,Fl;const Sg=class Sg{constructor(e){B(this,Tl,(e3(this),t3(this)));B(this,Nl,n3(this));B(this,kl,r3(this));B(this,_l,s3(this));B(this,Ol,i3(this));B(this,Il,a3(this));B(this,Ml,o3(this));B(this,Rl,l3(this));B(this,Pl,c3(this));B(this,Ll,u3(this));B(this,Bl,d3(this));B(this,Fl,h3(this));this.objectPool=e}get objectPool(){return H(this,Tl)}set objectPool(e){V(this,Tl,e)}get uuid(){return H(this,Nl)}set uuid(e){V(this,Nl,e)}get description(){return H(this,kl)}set description(e){V(this,kl,e)}get name(){return H(this,_l)}set name(e){V(this,_l,e)}get remoteId(){return H(this,Ol)}set remoteId(e){V(this,Ol,e)}get capacity(){return H(this,Il)}set capacity(e){V(this,Il,e)}get descriptionFull(){return H(this,Ml)}set descriptionFull(e){V(this,Ml,e)}get remoteEmail(){return H(this,Rl)}set remoteEmail(e){V(this,Rl,e)}get type(){return H(this,Pl)}set type(e){V(this,Pl,e)}get building(){return H(this,Ll)}set building(e){V(this,Ll,e)}get floorName(){return H(this,Bl)}set floorName(e){V(this,Bl,e)}get floorSection(){return H(this,Fl)}set floorSection(e){V(this,Fl,e)}load(e){this.uuid=e.uuid,this.capacity=e.capacity,this.description=e.description,this.descriptionFull=e.description_full,this.name=e.name,this.building=e.building_uuid?this.objectPool.getObject("building",e.building_uuid):null,this.remoteEmail=e.remote_email,this.remoteId=e.remote_id,this.type=e.type,this.floorName=e.floor_name||null,this.floorSection=e.floor_section||null}get label(){return[this.name+" ("+this.capacity+")",this.buildingAndFloor].filter(Boolean).join("  ")}get labelSecondary(){return[this.capacity+" people",this.buildingAndFloor].filter(Boolean).join("  ")}get buildingAndFloor(){return this.building?[this.building.name,this.floorName].join(", "):null}};l1=new WeakMap,Tl=new WeakMap,Nl=new WeakMap,kl=new WeakMap,_l=new WeakMap,Ol=new WeakMap,Il=new WeakMap,Ml=new WeakMap,Rl=new WeakMap,Pl=new WeakMap,Ll=new WeakMap,Bl=new WeakMap,Fl=new WeakMap,B(Sg,l1,[t3,n3,r3,s3,i3,a3,o3,l3,c3,u3,d3,h3,e3]=wz(Sg,[[re,1,"objectPool"],[re,1,"uuid"],[re,1,"description"],[re,1,"name"],[re,1,"remoteId"],[re,1,"capacity"],[re,1,"descriptionFull"],[re,1,"remoteEmail"],[re,1,"type"],[re,1,"building"],[re,1,"floorName"],[re,1,"floorSection"],[Y,2,"load"],[ne,3,"label"],[ne,3,"labelSecondary"],[ne,3,"buildingAndFloor"]],[]).e);let jy=Sg;function kz(){return{in:(t,e)=>{const n=e.contacts;return n?n.map(s=>s.email):[]},out:(t,e)=>e[t]}}var m3,xI,p3,jI,g3,SI,b3,AI,y3,EI,v3,DI,x3,wI,j3,CI,S3,TI,A3,NI,E3,kI,D3,_I,w3,OI,C3,II,T3,MI,N3,RI,k3,PI,_3,LI,O3,BI,I3;function _z(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:M3(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||M3(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return Mz(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:Oz(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function Oz(t){var e=Iz(t,"string");return typeof e=="symbol"?e:e+""}function Iz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M3(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function Mz(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}const Rz="09:00",Pz="17:00";xI=q();jI=q("calendar_uuid",De("calendar"));SI=q("conference_solution_uuid",De("conference_solution"));AI=q();EI=q();DI=q();wI=q();CI=q("default_duration");TI=q("availability_type");NI=q();kI=q("times",{in:(t,e)=>e[t]?e[t].map(({day:n,starts_at:s,ends_at:i})=>({day:n,startsAt:s,endsAt:i})):[],out:(t,e)=>e[t]?e[t].map(({day:n,startsAt:s,endsAt:i})=>({day:n,starts_at:s,ends_at:i})):null});_I=q("single_use");OI=q("requires_approval");II=q("contact_emails",kz());MI=q();RI=q("options",{in:(t,e)=>e[t],out:(t,e)=>e[t]?e[t].map(({startsAt:n,endsAt:s})=>({starts_at:n,ends_at:s})):null});PI=q("minimum_distance");LI=q("created_at",ft());BI=q("updated_at",ft());var c1,Hl,Vl,Wl,$l,Ul,Gl,zl,Kl,Zl,Yl,Xl,Jl,Ql,ql,ec,tc,nc,rc,sc;const Ag=class Ag extends be{constructor({uuid:n,transactionQueue:s,objectPool:i}){super({entity:"scheduling_link",uuid:n,transactionQueue:s,objectPool:i,persistFunctions:{save:ue.schedulingLinks.save,delete:ue.schedulingLinks.delete,persistPartials:!0,ingestAfterSave:!0}});B(this,Hl,(m3(this),p3(this)));B(this,Vl,g3(this,null));B(this,Wl,b3(this,null));B(this,$l,y3(this,null));B(this,Ul,v3(this,null));B(this,Gl,x3(this,null));B(this,zl,j3(this,null));B(this,Kl,S3(this,null));B(this,Zl,A3(this,"standard"));B(this,Yl,E3(this,null));B(this,Xl,D3(this,null));B(this,Jl,w3(this,!1));B(this,Ql,C3(this,!1));B(this,ql,T3(this,[]));B(this,ec,N3(this,null));B(this,tc,k3(this,null));B(this,nc,_3(this,{period:"hours",value:4}));B(this,rc,O3(this,null));B(this,sc,I3(this,null))}get slug(){return H(this,Hl)}set slug(n){V(this,Hl,n)}get calendar(){return H(this,Vl)}set calendar(n){V(this,Vl,n)}get conferenceSolution(){return H(this,Wl)}set conferenceSolution(n){V(this,Wl,n)}get title(){return H(this,$l)}set title(n){V(this,$l,n)}get location(){return H(this,Ul)}set location(n){V(this,Ul,n)}get description(){return H(this,Gl)}set description(n){V(this,Gl,n)}get durations(){return H(this,zl)}set durations(n){V(this,zl,n)}get defaultDuration(){return H(this,Kl)}set defaultDuration(n){V(this,Kl,n)}get availabilityType(){return H(this,Zl)}set availabilityType(n){V(this,Zl,n)}get status(){return H(this,Yl)}set status(n){V(this,Yl,n)}get times(){return H(this,Xl)}set times(n){V(this,Xl,n)}get singleUse(){return H(this,Jl)}set singleUse(n){V(this,Jl,n)}get requiresApproval(){return H(this,Ql)}set requiresApproval(n){V(this,Ql,n)}get contactEmails(){return H(this,ql)}set contactEmails(n){V(this,ql,n)}get link(){return H(this,ec)}set link(n){V(this,ec,n)}get options(){return H(this,tc)}set options(n){V(this,tc,n)}get minimumDistance(){return H(this,nc)}set minimumDistance(n){V(this,nc,n)}get createdAt(){return H(this,rc)}set createdAt(n){V(this,rc,n)}get updatedAt(){return H(this,sc)}set updatedAt(n){V(this,sc,n)}setDuration(n){this.durations=[n],this.defaultDuration=n}addContactByEmail(n){this.contactEmails.includes(n)||(this.contactEmails=[...this.contactEmails,n])}removeContactByEmail(n){this.contactEmails=this.contactEmails.filter(s=>s!==n)}get workingTimesByDay(){return mm(this.times,"day")}setWorkingTimeStartsAt(n,s,i){this.workingTimesByDay[n][s].startsAt=i,this.times=this.times.slice()}setWorkingTimeEndsAt(n,s,i){this.workingTimesByDay[n][s].endsAt=i,this.times=this.times.slice()}removeWorkingTime(n,s){const i=this.workingTimesByDay[n][s];this.times=this.times.filter(a=>a!==i)}addWorkingTime(n){var s;if(this.workingTimesByDay[n]){const i=(s=this.workingTimesByDay[n][this.workingTimesByDay[n].length-1])==null?void 0:s.endsAt,a=Kr(new Date,i);this.times=this.times.concat([{day:n,startsAt:i,endsAt:nn(Ie(a,30),24)}]);return}this.times=this.times.concat([{day:n,startsAt:Rz,endsAt:Pz}])}toggleWorkingDayAvailability(n){this.workingTimesByDay[n]?this.times=this.times.filter(s=>s.day!==n):this.addWorkingTime(n)}};c1=new WeakMap,Hl=new WeakMap,Vl=new WeakMap,Wl=new WeakMap,$l=new WeakMap,Ul=new WeakMap,Gl=new WeakMap,zl=new WeakMap,Kl=new WeakMap,Zl=new WeakMap,Yl=new WeakMap,Xl=new WeakMap,Jl=new WeakMap,Ql=new WeakMap,ql=new WeakMap,ec=new WeakMap,tc=new WeakMap,nc=new WeakMap,rc=new WeakMap,sc=new WeakMap,B(Ag,c1,[p3,g3,b3,y3,v3,x3,j3,S3,A3,E3,D3,w3,C3,T3,N3,k3,_3,O3,I3,m3]=_z(Ag,[[xI,1,"slug"],[jI,1,"calendar"],[SI,1,"conferenceSolution"],[AI,1,"title"],[EI,1,"location"],[DI,1,"description"],[wI,1,"durations"],[CI,1,"defaultDuration"],[TI,1,"availabilityType"],[NI,1,"status"],[kI,1,"times"],[_I,1,"singleUse"],[OI,1,"requiresApproval"],[II,1,"contactEmails"],[MI,1,"link"],[RI,1,"options"],[PI,1,"minimumDistance"],[LI,1,"createdAt"],[BI,1,"updatedAt"],[ne,3,"workingTimesByDay"],[Y,2,"setWorkingTimeStartsAt"],[Y,2,"setWorkingTimeEndsAt"],[Y,2,"removeWorkingTime"],[Y,2,"addWorkingTime"],[Y,2,"toggleWorkingDayAvailability"]],[],0,void 0,be).e);let Sy=Ag;function Nm(){return{in:(t,e)=>e[t]&&new Date(`${e[t]} 00:00:00`),out:(t,e)=>{if(!e[t])return null;const n=e[t],s=n.getFullYear(),i=String(n.getMonth()+1).padStart(2,"0"),a=String(n.getDate()).padStart(2,"0");return`${s}-${i}-${a}`}}}var R3,FI,P3,HI,L3,VI,B3,WI,F3,$I,H3,UI,V3,GI,W3,zI,$3,KI,U3,ZI,G3,YI,z3,XI,K3,JI,Z3,QI,Y3,qI,X3,e2,J3,t2,Q3,n2,q3,r2,eE,s2,tE,i2,nE,rE,sE,iE,aE;function Lz(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:oE(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||oE(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return Hz(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:Bz(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function Bz(t){var e=Fz(t,"string");return typeof e=="symbol"?e:e+""}function Fz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oE(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function Hz(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}const Zn={1:"Urgent",2:"High",3:"Medium",4:"Low"},Ht={"no-due":{key:"no-due",label:"No due date",ordering:-1},overdue:{key:"overdue",label:"Overdue",ordering:0},today:{key:"today",label:"Today",ordering:1},tomorrow:{key:"tomorrow",label:"Tomorrow",ordering:2},"this-week":{key:"this-week",label:"This week",ordering:3},"next-week":{key:"next-week",label:"Next week",ordering:4},later:{key:"later",label:"Later",ordering:5}};FI=q("workspace_uuid",De("workspace"));HI=q("project_uuid",De("project"));VI=q("project_state_uuid",De("project_state"));WI=q("team_uuid",De("team"));$I=q();UI=q("description_json");GI=q();zI=q("duration_in_minutes");KI=q("due_date",Nm());ZI=q();YI=q();XI=q("status_uuid",De("workspace_task_status"));JI=q("creator_uuid",De("member","creator"));QI=q("assignee_uuid",De("member","assignee"));qI=q("created_at",ft());e2=q("updated_at",ft());t2=q("starts_at",ft());n2=q("ends_at",ft());r2=q("date_starts_at",Nm());s2=q("date_ends_at",Nm());i2=q("all_day");var u1,ic,ac,oc,lc,cc,uc,dc,hc,fc,mc,pc,gc,bc,yc,vc,xc,jc,Sc,Ac,Ec,Dc,wc,Cc,Tc,Nc;const Eg=class Eg extends be{constructor({uuid:n,transactionQueue:s,objectPool:i}){super({entity:"task",uuid:n,transactionQueue:s,objectPool:i,persistFunctions:{save:ue.tasks.save,delete:ue.tasks.delete,persistPartials:!0,ingestAfterSave:!0}});ie(this,"layer",(R3(this),"tasks"));ie(this,"type","task");B(this,ic,P3(this,null));B(this,ac,L3(this,null));B(this,oc,B3(this,null));B(this,lc,F3(this,null));B(this,cc,H3(this,null));B(this,uc,V3(this,null));B(this,dc,W3(this,null));B(this,hc,$3(this,null));B(this,fc,U3(this,null));B(this,mc,G3(this));B(this,pc,z3(this,null));B(this,gc,K3(this,null));B(this,bc,Z3(this,null));B(this,yc,Y3(this,null));B(this,vc,X3(this,null));B(this,xc,J3(this,null));B(this,jc,Q3(this,null));B(this,Sc,q3(this,null));B(this,Ac,eE(this,null));B(this,Ec,tE(this,null));B(this,Dc,nE(this,null));B(this,wc,rE(this,!1));B(this,Cc,sE(this,!1));B(this,Tc,iE(this,!1));B(this,Nc,aE(this,!1));this.isNew&&this.setInitialOrdering()}get workspace(){return H(this,ic)}set workspace(n){V(this,ic,n)}get project(){return H(this,ac)}set project(n){V(this,ac,n)}get projectState(){return H(this,oc)}set projectState(n){V(this,oc,n)}get team(){return H(this,lc)}set team(n){V(this,lc,n)}get title(){return H(this,cc)}set title(n){V(this,cc,n)}get description(){return H(this,uc)}set description(n){V(this,uc,n)}get priority(){return H(this,dc)}set priority(n){V(this,dc,n)}get durationInMinutes(){return H(this,hc)}set durationInMinutes(n){V(this,hc,n)}get dueDate(){return H(this,fc)}set dueDate(n){V(this,fc,n)}get ordering(){return H(this,mc)}set ordering(n){V(this,mc,n)}get recurrence(){return H(this,pc)}set recurrence(n){V(this,pc,n)}get status(){return H(this,gc)}set status(n){V(this,gc,n)}get creator(){return H(this,bc)}set creator(n){V(this,bc,n)}get assignee(){return H(this,yc)}set assignee(n){V(this,yc,n)}get createdAt(){return H(this,vc)}set createdAt(n){V(this,vc,n)}get updatedAt(){return H(this,xc)}set updatedAt(n){V(this,xc,n)}get startsAt(){return H(this,jc)}set startsAt(n){V(this,jc,n)}get endsAt(){return H(this,Sc)}set endsAt(n){V(this,Sc,n)}get startsAtDate(){return H(this,Ac)}set startsAtDate(n){V(this,Ac,n)}get endsAtDate(){return H(this,Ec)}set endsAtDate(n){V(this,Ec,n)}get allDay(){return H(this,Dc)}set allDay(n){V(this,Dc,n)}get isSelected(){return H(this,wc)}set isSelected(n){V(this,wc,n)}get isHovered(){return H(this,Cc)}set isHovered(n){V(this,Cc,n)}get isMoving(){return H(this,Tc)}set isMoving(n){V(this,Tc,n)}get isChangingDuration(){return H(this,Nc)}set isChangingDuration(n){V(this,Nc,n)}delete(){var n;return(n=this.parentRelation)==null||n.delete(),this.childRelations.forEach(s=>{var i;(i=s.child)==null||i.setDeleted(!0),s.setDeleted(!0)}),super.delete()}get exposedTitle(){return"Private task"}get displayTitle(){return this.title||"Untitled task"}get presentAsAllDay(){return this.allDay}get start(){return this.allDay?this.startsAtDate:this.startsAt}get end(){return this.allDay?this.endsAtDate:this.endsAt}async save(n){var i;const s=super.save(n);return(i=this.parentRelation)==null||i.save(),s}setSelected(n){this.isSelected=n}setIsHovered(n){this.isHovered=n}setIsChangingDuration(n){this.isChangingDuration=n}setIsMoving(n){this.isMoving=n}get dueGroup(){return this.overDue?Ht.overdue:this.today?Ht.today:this.tomorrow?Ht.tomorrow:this.thisWeek?Ht["this-week"]:this.nextWeek?Ht["next-week"]:this.later&&this.dueDate?Ht.later:Ht["no-due"]}get dueTime(){return!this.allDay&&this.startsAt?this.startsAt:this.dueDate}get overDue(){return!!(this.dueDate&&this.dueDate<ge.nowStartOfDay)}get today(){return!!(this.dueDate&&Ve(this.dueDate,ge.nowStartOfDay))}get tomorrow(){const n=fe(ge.nowStartOfDay,1);return!!(this.dueDate&&Ve(this.dueDate,n))}get thisWeek(){const n=ge.nowStartOfWeek,s=ge.nowStartOfNextWeek;return this.dueDate?this.dueDate>=n&&this.dueDate<s:!1}get nextWeek(){const n=ge.nowStartOfNextWeek,s=Re(ge.nowStartOfNextWeek,1);return this.dueDate?this.dueDate>=n&&this.dueDate<s:!1}get later(){return this.dueDate&&this.dueDate>ge.nowStartOfDay,!0}get isDone(){var s;const n=(s=this.status)==null?void 0:s.type;return n==="completed"||n==="canceled"}get isPersonal(){var n;return((n=this.workspace)==null?void 0:n.isPersonal)||!1}get isMyTask(){return this.assignee===this.objectPool.member}toggleDone(){var n,s,i;this.status=((n=this.status)==null?void 0:n.type)==="completed"?(s=this.workspace)==null?void 0:s.taskUnstartedStatus:(i=this.workspace)==null?void 0:i.taskCompletedStatus}get duration(){return this.durationInMinutes}get attachments(){return this.getLinkedObjects("attachment")}get rrule(){return Dx(this.recurrence)}get parentRelation(){return this.getLinkedObjects("child")[0]}get parent(){var n;return((n=this.parentRelation)==null?void 0:n.parent)||null}get childRelations(){return this.getLinkedObjects("parent")}get childReationsSorted(){return this.childRelations.slice().sort((n,s)=>n.ordering-s.ordering)}get children(){return this.childReationsSorted.map(n=>n.child)}get allChildrenCount(){let n=0;return this.childRelations.forEach(s=>{s.child&&(n+=1+s.child.allChildrenCount)}),n}setInitialOrdering(){const n=this.objectPool.getObjects(this.entity).reduce((s,i)=>i.ordering>s?i.ordering:s,0);this.ordering=Dr(n)}setStatus(n){var s;if((n==null?void 0:n.workspace)===this.workspace)this.status=n;else{const i=(s=this.workspace)==null?void 0:s.taskStatuses.find(a=>a.type===(n==null?void 0:n.type));i&&(this.status=i)}}setDueDate(n){this.updateScheduledTask(n),!(n&&this.dueDate&&Ve(n,this.dueDate))&&(this.dueDate=n)}updateScheduledTask(n){if(n===null)return this.resetScheduledTask();this.allDay===null&&(this.allDay=!0),this.allDay?(this.startsAtDate=n,this.endsAtDate=fe(n,1)):(this.durationInMinutes===null&&(this.durationInMinutes=this.objectPool.user.defaultEventDuration),this.startsAt=hn(n,{hours:this.startsAt.getHours()||0,minutes:this.startsAt.getMinutes()||0}),this.endsAt=Ie(this.startsAt,this.durationInMinutes))}resetScheduledTask(){this.allDay=null,this.startsAtDate=null,this.endsAtDate=null,this.startsAt=null,this.endsAt=null}setDuration(n){this.durationInMinutes=n,n!==null&&this.startsAt&&(this.endsAt=Ie(this.startsAt,n))}setPriority(n){this.priority=n}setAssignee(n){this.assignee=n}setProjectState(n){this.projectState=n}setProject(n){if(this.project===n||!n.workspace)return;const s=this.workspace!==n.workspace;this.project=n,this.workspace=n.workspace,this.projectState=null,this.status=n.workspace.findMostRelevantTaskStatus(this.status),s&&this.removeInvalidSubscriptions()}moveToPrivateWorkspace(){const n=this.objectPool.user.privateWorkspace;n!==null&&(this.project=null,this.projectState=null,this.workspace!==n&&(this.workspace=n,this.status=this.workspace.findMostRelevantTaskStatus(this.status),this.assignee=this.objectPool.member,this.removeInvalidSubscriptions()))}setOrdering(n){this.ordering=n}setRecurrence(n){if(!(n===null&&this.recurrence===null)){if(n){if(this.recurrence&&this.recurrence instanceof Array&&this.recurrence.join(`
`)===n)return;this.recurrence=JSON.stringify([n])}else this.recurrence=null;this.save()}}addComment(n){var i;const s=this.objectPool.createObject("comment",null);return(i=this.objectPool)==null||i.addObject(s),s.task=this,s.message=n,s.member=this.objectPool.member,s.save()}get comments(){return this.getLinkedObjects("comment").sort((n,s)=>Ar(n.createdAt,s.createdAt))}createChildTaskFromProperties(){var s;const n=this.objectPool.createInstance("task",null);return n.priority=this.priority,n.workspace=this.workspace,n.project=this.project,n.assignee=this.assignee,n.status=((s=this.workspace)==null?void 0:s.taskUnstartedStatus)||null,n.dueDate=this.dueDate,n.allDay=!0,n.updateScheduledTask(this.dueDate),n.isDraft=!0,n}attachChildTask(n){this.objectPool.addObject(n);const s=this.objectPool.createObject("subtask",null);return s.parent=this,s.child=n,this.objectPool.addObject(s),s}addChildTask(){const n=this.createChildTaskFromProperties();return this.attachChildTask(n),n}addLabel(n){var i;const s=this.objectPool.createObject("task_label",null);return(i=this.objectPool)==null||i.addObject(s),s.label=n,s.task=this,s.save()}removeLabel(n){this.taskLabels.filter(i=>{var a;return((a=i.label)==null?void 0:a.uuid)===n.uuid}).forEach(i=>i.delete())}get taskLabels(){return this.getLinkedObjects("task_label")}get labels(){return this.taskLabels.map(n=>n.label)||[]}addSubscriber(n){var i;const s=this.objectPool.createObject("task_subscription",null);return(i=this.objectPool)==null||i.addObject(s),s.member=n,s.task=this,s.save()}removeSubscriber(n){this.subscriptions.filter(i=>{var a;return((a=i.member)==null?void 0:a.uuid)===n.uuid}).forEach(i=>i.delete())}get subscriptions(){return this.getLinkedObjects("task_subscription")}get subscribers(){return this.subscriptions.map(n=>n.member).filter(ct)}get isSelfSubscribed(){return this.subscribers.some(n=>(n==null?void 0:n.uuid)===this.objectPool.user.uuid)}removeInvalidSubscriptions(){const n=new Set(this.workspace.workspaceMembers.map(i=>i.member));this.subscriptions.filter(i=>!n.has(i.member)).forEach(i=>i.delete())}updateFromConceptEvent(n){this.allDay=n.allDay,n.allDay?(this.startsAtDate=n.startsAtDate,this.endsAtDate=fe(n.startsAtDate,1),this.startsAt=null,this.endsAt=null,this.dueDate=this.startsAtDate):(this.startsAtDate=null,this.endsAtDate=null,this.startsAt=n.startsAt,this.endsAt=n.endsAt,this.dueDate=this.startsAt),this.save()}get calendar(){var n;return this.assignee!==this.objectPool.member?null:(n=this.objectPool.getObjects("projects_user_preferences").find(s=>{var i,a;return((i=s.workspace)==null?void 0:i.uuid)===((a=this.workspace)==null?void 0:a.uuid)}))==null?void 0:n.calendar}get color(){const{calendar:n}=this;return n?n.color:"#000000"}static create(n){const s=n.createObject("task",null);return n==null||n.addObject(s),s}reorderChildren(n,s){if(n===s)return;const i=n<s,{childReationsSorted:a}=this,l=a[n],[p,f]=i?[a[s],a[s+1]]:[a[s-1],a[s]],v=ux(p==null?void 0:p.ordering,f==null?void 0:f.ordering);!l||v===void 0||(l.ordering=v,l.save())}setAllDay(n){n!==this.allDay&&(this.allDay=n,n?(this.startsAtDate=Pe(Se(this.startsAt)),this.endsAtDate=fe(this.startsAtDate,1),this.startsAt=null,this.endsAt=null):(this.startsAt=Ei(this.startsAtDate,Xr(Cs(new Date)),0),this.endsAt=Ie(this.startsAt,this.durationInMinutes===null?this.objectPool.user.defaultEventDuration:this.durationInMinutes),this.startsAtDate=null,this.endsAtDate=null))}setStartsAt(n){if(this.startsAt&&wt(n,this.startsAt))return;const s=this.durationInMinutes===null?this.objectPool.user.defaultEventDuration:this.durationInMinutes;this.startsAt=n,this.setDuration(s)}setStartTime(n,s=null){const i=this.startsAt||this.startsAtDate;if(!i)return;if(!n){this.setAllDay(!0);return}this.allDay&&this.setAllDay(!1);const a=n.split(":"),l=hn(i,{hours:parseInt(a[0]),minutes:parseInt(a[1])});this.setStartsAt(s?we(l,s):l)}};u1=new WeakMap,ic=new WeakMap,ac=new WeakMap,oc=new WeakMap,lc=new WeakMap,cc=new WeakMap,uc=new WeakMap,dc=new WeakMap,hc=new WeakMap,fc=new WeakMap,mc=new WeakMap,pc=new WeakMap,gc=new WeakMap,bc=new WeakMap,yc=new WeakMap,vc=new WeakMap,xc=new WeakMap,jc=new WeakMap,Sc=new WeakMap,Ac=new WeakMap,Ec=new WeakMap,Dc=new WeakMap,wc=new WeakMap,Cc=new WeakMap,Tc=new WeakMap,Nc=new WeakMap,B(Eg,u1,[P3,L3,B3,F3,H3,V3,W3,$3,U3,G3,z3,K3,Z3,Y3,X3,J3,Q3,q3,eE,tE,nE,rE,sE,iE,aE,R3]=Lz(Eg,[[FI,1,"workspace"],[HI,1,"project"],[VI,1,"projectState"],[WI,1,"team"],[$I,1,"title"],[UI,1,"description"],[GI,1,"priority"],[zI,1,"durationInMinutes"],[KI,1,"dueDate"],[ZI,1,"ordering"],[YI,1,"recurrence"],[XI,1,"status"],[JI,1,"creator"],[QI,1,"assignee"],[qI,1,"createdAt"],[e2,1,"updatedAt"],[t2,1,"startsAt"],[n2,1,"endsAt"],[r2,1,"startsAtDate"],[s2,1,"endsAtDate"],[i2,1,"allDay"],[re,1,"isSelected"],[re,1,"isHovered"],[re,1,"isMoving"],[re,1,"isChangingDuration"],[Y,2,"delete"],[ne,3,"exposedTitle"],[ne,3,"displayTitle"],[ne,3,"presentAsAllDay"],[ne,3,"start"],[ne,3,"end"],[Y,2,"setSelected"],[Y,2,"setIsHovered"],[Y,2,"setIsChangingDuration"],[Y,2,"setIsMoving"],[ne,3,"dueGroup"],[ne,3,"dueTime"],[ne,3,"overDue"],[ne,3,"today"],[ne,3,"tomorrow"],[ne,3,"thisWeek"],[ne,3,"nextWeek"],[ne,3,"later"],[ne,3,"isDone"],[ne,3,"isPersonal"],[ne,3,"isMyTask"],[Y,2,"toggleDone"],[ne,3,"duration"],[ne,3,"attachments"],[ne,3,"rrule"],[ne,3,"parentRelation"],[ne,3,"parent"],[ne,3,"childRelations"],[ne,3,"childReationsSorted"],[ne,3,"children"],[ne,3,"allChildrenCount"],[Y,2,"setStatus"],[Y,2,"setDueDate"],[Y,2,"updateScheduledTask"],[Y,2,"resetScheduledTask"],[Y,2,"setDuration"],[Y,2,"setPriority"],[Y,2,"setAssignee"],[Y,2,"setProjectState"],[Y,2,"setProject"],[Y,2,"moveToPrivateWorkspace"],[Y,2,"setOrdering"],[Y,2,"setRecurrence"],[Y,2,"addComment"],[ne,3,"comments"],[Y,2,"createChildTaskFromProperties"],[Y,2,"attachChildTask"],[Y,2,"addChildTask"],[Y,2,"addLabel"],[Y,2,"removeLabel"],[ne,3,"taskLabels"],[ne,3,"labels"],[Y,2,"addSubscriber"],[Y,2,"removeSubscriber"],[ne,3,"subscriptions"],[ne,3,"subscribers"],[ne,3,"isSelfSubscribed"],[Y,2,"removeInvalidSubscriptions"],[Y,2,"updateFromConceptEvent"],[ne,3,"calendar"],[ne,3,"color"],[Y,2,"reorderChildren"],[Y,2,"setAllDay"],[Y,2,"setStartsAt"],[Y,2,"setStartTime"]],[],0,void 0,be).e);let Ce=Eg;var lE,a2,cE,o2,uE;function Vz(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:dE(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||dE(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return Uz(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:Wz(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function Wz(t){var e=$z(t,"string");return typeof e=="symbol"?e:e+""}function $z(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dE(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function Uz(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}a2=q("task_uuid",De("task"));o2=q("label_uuid",De("label"));var d1,kc,_c;const Dg=class Dg extends be{constructor({uuid:n,transactionQueue:s,objectPool:i}){super({entity:"task_label",uuid:n,transactionQueue:s,objectPool:i,persistFunctions:{save:ue.task_labels.save,delete:ue.task_labels.delete,persistPartials:!0}});B(this,kc,(lE(this),cE(this,null)));B(this,_c,uE(this,null))}get task(){return H(this,kc)}set task(n){V(this,kc,n)}get label(){return H(this,_c)}set label(n){V(this,_c,n)}async save(n){return this.task&&this.task.isNew&&await(await this.task.save()).done,super.save(n)}};d1=new WeakMap,kc=new WeakMap,_c=new WeakMap,B(Dg,d1,[cE,uE,lE]=Vz(Dg,[[a2,1,"task"],[o2,1,"label"]],[],0,void 0,be).e);let Ay=Dg;var hE,l2,fE,c2,mE;function Gz(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:pE(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||pE(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return Zz(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:zz(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function zz(t){var e=Kz(t,"string");return typeof e=="symbol"?e:e+""}function Kz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pE(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function Zz(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}l2=q("task_uuid",De("task"));c2=q("user_uuid",De("member"));var h1,Oc,Ic;const wg=class wg extends be{constructor({uuid:n,transactionQueue:s,objectPool:i}){super({entity:"task_subscription",uuid:n,transactionQueue:s,objectPool:i,persistFunctions:{save:ue.task_subscriptions.save,delete:ue.task_subscriptions.delete,persistPartials:!0}});B(this,Oc,(hE(this),fE(this,null)));B(this,Ic,mE(this,null))}get task(){return H(this,Oc)}set task(n){V(this,Oc,n)}get member(){return H(this,Ic)}set member(n){V(this,Ic,n)}async save(n){return this.task&&this.task.isNew&&await(await this.task.save()).done,super.save(n)}};h1=new WeakMap,Oc=new WeakMap,Ic=new WeakMap,B(wg,h1,[fE,mE,hE]=Gz(wg,[[l2,1,"task"],[c2,1,"member"]],[],0,void 0,be).e);let Ey=wg;var gE,u2,bE,d2,yE;function Yz(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:vE(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||vE(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return Qz(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:Xz(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function Xz(t){var e=Jz(t,"string");return typeof e=="symbol"?e:e+""}function Jz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vE(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function Qz(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}u2=q("workspace_uuid",De("workspace"));d2=q();var f1,Mc,Rc;const Cg=class Cg extends be{constructor({uuid:n,transactionQueue:s,objectPool:i}){super({entity:"team",uuid:n,transactionQueue:s,objectPool:i,persistFunctions:{save:ue.teams.save,delete:ue.teams.delete,persistPartials:!0}});B(this,Mc,(gE(this),bE(this,null)));B(this,Rc,yE(this,null))}get workspace(){return H(this,Mc)}set workspace(n){V(this,Mc,n)}get name(){return H(this,Rc)}set name(n){V(this,Rc,n)}valid(){return!!this.name}get members(){var n;return((n=this.objectPool)==null?void 0:n.getObjects("team_membership")).filter(s=>s.team.uuid===this.uuid)}};f1=new WeakMap,Mc=new WeakMap,Rc=new WeakMap,B(Cg,f1,[bE,yE,gE]=Yz(Cg,[[u2,1,"workspace"],[d2,1,"name"],[ne,3,"members"]],[],0,void 0,be).e);let Dy=Cg;var xE,h2,jE,f2,SE,m2,AE;function qz(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:EE(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||EE(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return nK(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:eK(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function eK(t){var e=tK(t,"string");return typeof e=="symbol"?e:e+""}function tK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EE(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function nK(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}h2=q("team_uuid",De("team"));f2=q("user_uuid",De("member"));m2=q("access_level");var m1,Pc,Lc,Bc;const Tg=class Tg extends be{constructor({uuid:n,transactionQueue:s,objectPool:i}){super({entity:"team_membership",uuid:n,transactionQueue:s,objectPool:i,persistFunctions:{save:ue.team_memberships.save,delete:ue.team_memberships.delete,persistPartials:!0}});B(this,Pc,(xE(this),jE(this,null)));B(this,Lc,SE(this,null));B(this,Bc,AE(this,null))}get team(){return H(this,Pc)}set team(n){V(this,Pc,n)}get member(){return H(this,Lc)}set member(n){V(this,Lc,n)}get role(){return H(this,Bc)}set role(n){V(this,Bc,n)}static create(n){const s=n.createObject("team_membership",null);return n==null||n.addObject(s),s}};m1=new WeakMap,Pc=new WeakMap,Lc=new WeakMap,Bc=new WeakMap,B(Tg,m1,[jE,SE,AE,xE]=qz(Tg,[[h2,1,"team"],[f2,1,"member"],[m2,1,"role"]],[],0,void 0,be).e);let _p=Tg;var DE,p2,wE,g2,CE,b2,TE;function rK(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:NE(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||NE(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return aK(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:sK(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function sK(t){var e=iK(t,"string");return typeof e=="symbol"?e:e+""}function iK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NE(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function aK(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}p2=q("workspace_uuid",De("workspace"));g2=q("member_uuid",De("member"));b2=q();var p1,Fc,Hc,Vc;const Ng=class Ng extends be{constructor({uuid:n,transactionQueue:s,objectPool:i}){super({entity:"workspace_membership",uuid:n,transactionQueue:s,objectPool:i,persistFunctions:{}});B(this,Fc,(DE(this),wE(this,null)));B(this,Hc,CE(this,null));B(this,Vc,TE(this,null))}get workspace(){return H(this,Fc)}set workspace(n){V(this,Fc,n)}get member(){return H(this,Hc)}set member(n){V(this,Hc,n)}get role(){return H(this,Vc)}set role(n){V(this,Vc,n)}};p1=new WeakMap,Fc=new WeakMap,Hc=new WeakMap,Vc=new WeakMap,B(Ng,p1,[wE,CE,TE,DE]=rK(Ng,[[p2,1,"workspace"],[g2,1,"member"],[b2,1,"role"]],[],0,void 0,be).e);let wy=Ng;var kE,y2,_E,v2,OE,x2,IE,j2,ME,S2,RE,A2,PE;function oK(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:LE(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||LE(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return uK(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:lK(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function lK(t){var e=cK(t,"string");return typeof e=="symbol"?e:e+""}function cK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LE(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function uK(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}const zm={unstarted:0,started:1,completed:2,canceled:3};y2=q("workspace_uuid",De("workspace"));v2=q();x2=q();j2=q();S2=q("is_default");A2=q();var g1,Wc,$c,Uc,Gc,zc,Kc;const kg=class kg extends be{constructor({uuid:n,transactionQueue:s,objectPool:i}){super({entity:"workspace_task_status",uuid:n,transactionQueue:s,objectPool:i,persistFunctions:{save:ue.workspace_task_status.save,delete:ue.workspace_task_status.delete,persistPartials:!0}});B(this,Wc,(kE(this),_E(this,null)));B(this,$c,OE(this,null));B(this,Uc,IE(this));B(this,Gc,ME(this,null));B(this,zc,RE(this,!1));B(this,Kc,PE(this,null));this.isNew&&this.setInitialOrdering()}get workspace(){return H(this,Wc)}set workspace(n){V(this,Wc,n)}get label(){return H(this,$c)}set label(n){V(this,$c,n)}get ordering(){return H(this,Uc)}set ordering(n){V(this,Uc,n)}get type(){return H(this,Gc)}set type(n){V(this,Gc,n)}get isDefault(){return H(this,zc)}set isDefault(n){V(this,zc,n)}get color(){return H(this,Kc)}set color(n){V(this,Kc,n)}get labelSafe(){return this.label||"(Status without label)"}setInitialOrdering(){const n=this.objectPool.getObjects(this.entity).filter(s=>{var i,a;return((i=s.workspace)==null?void 0:i.uuid)===((a=this.workspace)==null?void 0:a.uuid)&&s.type===this.type}).reduce((s,i)=>i.ordering>s?i.ordering:s,0);this.ordering=Dr(n)}async delete(){return this.canDelete?super.delete():!1}get canDelete(){return!this.isDefault&&this.tasks.length===0}get tasks(){return this.getLinkedObjects("task")}};g1=new WeakMap,Wc=new WeakMap,$c=new WeakMap,Uc=new WeakMap,Gc=new WeakMap,zc=new WeakMap,Kc=new WeakMap,B(kg,g1,[_E,OE,IE,ME,RE,PE,kE]=oK(kg,[[y2,1,"workspace"],[v2,1,"label"],[x2,1,"ordering"],[j2,1,"type"],[S2,1,"isDefault"],[A2,1,"color"],[ne,3,"labelSafe"],[Y,2,"delete"],[ne,3,"canDelete"]],[],0,void 0,be).e);let Cy=kg;var BE,E2,FE,D2,HE,w2,VE,C2,WE,T2,$E,N2,UE;function dK(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:GE(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||GE(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return mK(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:hK(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function hK(t){var e=fK(t,"string");return typeof e=="symbol"?e:e+""}function fK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GE(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function mK(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}E2=q("main_calendar_uuid");D2=q("follower_calendar_uuid");w2=q();C2=q();T2=q("remote_color_id");N2=q("only_within_working_hours");var b1,Zc,Yc,Xc,Jc,Qc,qc;const _g=class _g extends be{constructor({uuid:n,transactionQueue:s,objectPool:i}){super({entity:"cross_calendar_blocking",uuid:n,transactionQueue:s,objectPool:i,persistFunctions:{save:ue.crossCalendarBlocking.save,delete:ue.crossCalendarBlocking.delete,persistPartials:!1}});B(this,Zc,(BE(this),FE(this,null)));B(this,Yc,HE(this,null));B(this,Xc,VE(this,null));B(this,Jc,WE(this,null));B(this,Qc,$E(this,null));B(this,qc,UE(this,null))}get mainCalendar(){return H(this,Zc)}set mainCalendar(n){V(this,Zc,n)}get followerCalendar(){return H(this,Yc)}set followerCalendar(n){V(this,Yc,n)}get title(){return H(this,Xc)}set title(n){V(this,Xc,n)}get description(){return H(this,Jc)}set description(n){V(this,Jc,n)}get remoteColorId(){return H(this,Qc)}set remoteColorId(n){V(this,Qc,n)}get onlyWithinWorkingHours(){return H(this,qc)}set onlyWithinWorkingHours(n){V(this,qc,n)}toJSON(){return{uuid:this.uuid,main_calendar_uuid:this.mainCalendar,follower_calendar_uuid:this.followerCalendar,title:this.title,description:this.description,remote_color_id:this.remoteColorId,only_within_working_hours:this.onlyWithinWorkingHours}}};b1=new WeakMap,Zc=new WeakMap,Yc=new WeakMap,Xc=new WeakMap,Jc=new WeakMap,Qc=new WeakMap,qc=new WeakMap,B(_g,b1,[FE,HE,VE,WE,$E,UE,BE]=dK(_g,[[E2,1,"mainCalendar"],[D2,1,"followerCalendar"],[w2,1,"title"],[C2,1,"description"],[T2,1,"remoteColorId"],[N2,1,"onlyWithinWorkingHours"]],[],0,void 0,be).e);let Ty=_g;var zE,k2,KE,_2,ZE,O2,YE;function pK(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:XE(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||XE(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return yK(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:gK(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function gK(t){var e=bK(t,"string");return typeof e=="symbol"?e:e+""}function bK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XE(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function yK(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}k2=q("parent_uuid",De("task","parent"));_2=q("child_uuid",De("task","child"));O2=q();var y1,eu,tu,nu;const Og=class Og extends be{constructor({uuid:n,transactionQueue:s,objectPool:i}){super({entity:"subtask",uuid:n,transactionQueue:s,objectPool:i,persistFunctions:{save:ue.subtasks.save,delete:ue.subtasks.delete,persistPartials:!0}});B(this,eu,(zE(this),KE(this,null)));B(this,tu,ZE(this,null));B(this,nu,YE(this));this.isNew&&this.setInitialOrdering()}get parent(){return H(this,eu)}set parent(n){V(this,eu,n)}get child(){return H(this,tu)}set child(n){V(this,tu,n)}get ordering(){return H(this,nu)}set ordering(n){V(this,nu,n)}async save(n){return this.parent&&(this.parent.isNew&&this.parent.save(),await this.parent.persisted),this.child&&(this.child.isNew&&this.child.save(),await this.child.persisted),super.save(n)}setInitialOrdering(){const n=this.objectPool.getObjects(this.entity).reduce((s,i)=>i.ordering>s?i.ordering:s,0);this.ordering=Dr(n)}};y1=new WeakMap,eu=new WeakMap,tu=new WeakMap,nu=new WeakMap,B(Og,y1,[KE,ZE,YE,zE]=pK(Og,[[k2,1,"parent"],[_2,1,"child"],[O2,1,"ordering"]],[],0,void 0,be).e);let Ny=Og;var JE,I2,QE,M2,qE,R2,eD,P2,tD,L2,nD;function vK(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:rD(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||rD(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return SK(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:xK(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function xK(t){var e=jK(t,"string");return typeof e=="symbol"?e:e+""}function jK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rD(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function SK(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}I2=q();M2=q("current_period_end",ft());R2=q("cancel_at",ft());P2=q();L2=q("stripe_number_of_seats");var v1,ru,su,iu,au,ou;const Ig=class Ig extends be{constructor({uuid:n,transactionQueue:s,objectPool:i}){super({entity:"workspace_subscription",uuid:n,transactionQueue:s,objectPool:i,persistFunctions:{}});B(this,ru,(JE(this),QE(this,null)));B(this,su,qE(this,null));B(this,iu,eD(this,null));B(this,au,tD(this,null));B(this,ou,nD(this,null))}get status(){return H(this,ru)}set status(n){V(this,ru,n)}get currentPeriodEnd(){return H(this,su)}set currentPeriodEnd(n){V(this,su,n)}get cancelAt(){return H(this,iu)}set cancelAt(n){V(this,iu,n)}get plan(){return H(this,au)}set plan(n){V(this,au,n)}get stripeNumberOfSeats(){return H(this,ou)}set stripeNumberOfSeats(n){V(this,ou,n)}};v1=new WeakMap,ru=new WeakMap,su=new WeakMap,iu=new WeakMap,au=new WeakMap,ou=new WeakMap,B(Ig,v1,[QE,qE,eD,tD,nD,JE]=vK(Ig,[[I2,1,"status"],[M2,1,"currentPeriodEnd"],[R2,1,"cancelAt"],[P2,1,"plan"],[L2,1,"stripeNumberOfSeats"]],[],0,void 0,be).e);let ky=Ig;function km(t){const e=tn(),n=TK(t.timeWindow);if(!n)return Promise.reject(`Invalid time window (${JSON.stringify(t.timeWindow)})`);const s=Es(t),i=Tx(t),a=new Promise((l,p)=>{Br.set(e,{resolve:l,reject:f=>p(new F2("Find time request failed",f)),query:t,time:new Date})});return ue.findTimeAsync({query_uuid:e,session_uuid:tn(),source:t.mode,duration:t.duration,time_window:{starts_at:bn(n.startsAt),ends_at:bn(n.endsAt)},users:s,resources:i,type:t.type}).catch(({name:l,message:p})=>{const f=Br.get(e);f&&(f.reject("error"),Br.delete(e))}),a}function Es(t){var e;return t.users?t.users:t.items?((e=t.items)==null?void 0:e.filter(n=>n.type==="person")).map(n=>n.person.email):[]}function Tx(t){return t.resources?t.resources:t.items?t.items.filter(e=>e.type==="resource").map(e=>e.resource.remoteEmail):[]}const Br=new Map;function AK(t){const e=Br.get(t.uuid);if(e){if(t.status==="timeout"){e.reject(t.status),Br.delete(t.uuid);return}if(t.status==="error"){e.reject(t.status),Br.delete(t.uuid);return}e.resolve(EK(t.slot_suggestions)),Br.delete(t.uuid)}}function EK(t){var e,n;return{proposals:t.suggested_slots.map(s=>eb(s,t.query.duration,"normal")),alternativeProposals:t.alternative_slots.map(s=>eb(s,t.query.duration,"alternative")),alternativeQueries:(e=t.suboptimal_slots)==null?void 0:e.map(s=>({uuid:tn(),query:s.query,proposals:s.slots.map(i=>eb(i,s.query.duration,"suboptimal"))})),schedulingContextParticipants:t.contexts.filter(s=>s.access_level==="domain").map(s=>s.participant.label),participantAvailability:Nx(((n=t.requested_slot_score)==null?void 0:n.scores)??[]),query:t.query}}function eb(t,e,n){return{time:yn(t.time),duration:e,score:t.score,scores:t.scores,type:n,participantAvailability:Nx(t.scores)}}function N0(t){if(t.proposals&&t.proposals.length>0)return t.proposals[0];if(t.alternativeProposals&&t.alternativeProposals.length>0)return t.alternativeProposals[0];if(t.alternativeQueries&&t.alternativeQueries.length>0)return t.alternativeQueries[0].proposals[0]}function DK(t){return t.alternativeQueries?t.alternativeQueries.map(e=>e.proposals[0]):[]}function wK(t){return!t.findTimeResponse||!t.findTimeResponse.alternativeQueries?null:t.findTimeResponse.alternativeQueries.find(e=>e.proposals[0].time===t.startsAt&&e.proposals[0].duration===t.duration)??null}async function CK(t,e,n){var a;if(t.allDay)return{};if(Yt(t.startsAt,new Date))return{};const s={starts_at:bn(t.startsAt),ends_at:bn(t.endsAt)},i=await ue.findTime({duration:t.duration,time_window:s,requested_slot:s,users:t.attendees.filter(l=>!l.isResource&&Er(l.email,e)).flatMap(l=>{const p=n.findByEmail(l.email);return p?p.members.map(f=>f):l.email}),resources:t.attendees.filter(l=>l.isResource).map(l=>l.email),event_uuid:t.isNew?void 0:t.uuid});return Nx(((a=i.requested_slot_score)==null?void 0:a.scores)??[])}function Nx(t){const e={};return t.forEach(n=>{e[n.participant.label]=n.score.availability===1?"available":"busy"}),e}function TK(t){const e=typeof t=="string"?S_({timeWindowString:t}):t;return B2(e)}function B2(t){const e=new Date;return Yt(t.endsAt,e)?null:(Yt(t.startsAt,e)&&(t.startsAt=e0(Cs(e),1)),Yt(t.endsAt,t.startsAt)&&(t.endsAt=t.startsAt),t)}class F2 extends Error{constructor(n,s){super(n);ie(this,"status");this.status=s,this.name="FindTimeError"}}function NK(t){return t instanceof F2}var sD,iD;function kK(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:aD(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||aD(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return IK(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:_K(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function _K(t){var e=OK(t,"string");return typeof e=="symbol"?e:e+""}function OK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aD(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function IK(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}var x1,lu;const Mg=class Mg{constructor(){B(this,lu,(sD(this),iD(this,null)))}get toast(){return H(this,lu)}set toast(e){V(this,lu,e)}showToast(e){this.toast=e}resetToast(){this.toast=null}};x1=new WeakMap,lu=new WeakMap,B(Mg,x1,[iD,sD]=kK(Mg,[[re,1,"toast"],[Y,2,"showToast"],[Y,2,"resetToast"]],[]).e);let _y=Mg;const Hr=new _y;function Bs(t){Hr.showToast(t)}function jt(t){Hr.showToast({variant:"success",title:t})}function Mn(t){Hr.showToast({variant:"error",title:t})}function H2(t,e){Hr.showToast({variant:"sparkle",title:t,actions:e})}var oD,lD,cD,uD,dD;function MK(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:hD(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||hD(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return LK(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:RK(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function RK(t){var e=PK(t,"string");return typeof e=="symbol"?e:e+""}function PK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hD(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function LK(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}var _t=(t=>(t.GLOBAL="global",t.EVENT="event",t))(_t||{}),j1,cu,uu,du,hu;const Rg=class Rg{constructor({displayEventsStore:e,peopleStore:n,resourcesStore:s,accounts:i,userStore:a}){ie(this,"displayEventsStore",void oD(this));ie(this,"peopleStore");ie(this,"resourcesStore");ie(this,"accounts");ie(this,"userStore");B(this,cu,lD(this,null));B(this,uu,cD(this,[]));B(this,du,uD(this,!0));B(this,hu,dD(this,{}));ie(this,"debouncedFetchSuggestions",Q6(async()=>{var a,l;const e={startsAt:pt((a=this.calendarDateRange)==null?void 0:a.startDate),endsAt:pt((l=this.calendarDateRange)==null?void 0:l.endDate),label:""};if(!B2(e))return;const s={mode:"best-time-to-meet",duration:this.userStore.bestTimeToMeetDuration,timeWindow:e,items:this.alternativeCalendars.map(p=>p.resource?{type:"resource",resource:p.resource}:{type:"person",person:{email:p.email}})},i=await km(s);if(i.proposals.length===0){this.displayEventsStore.removeEventsByType(ir);return}this.forceHideBestTimesToMeet||this.processProposals(i.proposals,s)},400,{leading:!1,trailing:!0}));this.displayEventsStore=e,this.peopleStore=n,this.resourcesStore=s,this.accounts=i,this.userStore=a}get calendarDateRange(){return H(this,cu)}set calendarDateRange(e){V(this,cu,e)}get alternativeCalendars(){return H(this,uu)}set alternativeCalendars(e){V(this,uu,e)}get forceHideBestTimesToMeet(){return H(this,du)}set forceHideBestTimesToMeet(e){V(this,du,e)}get fetchedRange(){return H(this,hu)}set fetchedRange(e){V(this,hu,e)}get alternativeCalendarEmails(){return this.alternativeCalendars.map(e=>e.email)}get hasAlternativeCalendarsVisible(){return this.alternativeCalendars.length>0}get shouldShowBestTimesToMeet(){return this.hasAlternativeCalendarsVisible&&!this.forceHideBestTimesToMeet}get safeSecondaryCalendarColors(){const e=this.accounts.calendars.map(s=>s.color),n=S5.filter(s=>e.every(i=>hH(i,s)>=.15));return n.length<2?S5:n}getNextSecondaryCalendarColor(){const e=new Map;this.alternativeCalendars.forEach(i=>{const a=e.get(i.color)??0;e.set(i.color,a+1)});const{safeSecondaryCalendarColors:n}=this;let s={color:"",usedTimes:-1};for(let i=0;i<n.length;i+=1){const a=n[i],l=e.get(a)??0;if(l===0)return a;l<s.usedTimes&&(s={color:a,usedTimes:l})}return s.color}fetchCalendarForPerson(e,n){this.getAlternativeCalendarByEmail(e.email)||(this.alternativeCalendars.push({email:e.email,person:e,accessLevel:null,events:[],color:this.getNextSecondaryCalendarColor(),context:n,timezone:null}),n==="global"&&(this.forceHideBestTimesToMeet=!1),this.displayEventsStore.addVisibleMemberByEmail(e.email),this.fetchAlternativeCalendars())}fetchCalendarForResource(e,n){this.getAlternativeCalendarByEmail(e.remoteEmail)||(this.alternativeCalendars.push({email:e.remoteEmail,resource:e,accessLevel:null,events:[],color:this.getNextSecondaryCalendarColor(),context:n,timezone:null}),n==="global"&&(this.forceHideBestTimesToMeet=!1),this.fetchAlternativeCalendars())}closeCalendarsByContext(e){this.removeMany(this.alternativeCalendars.filter(n=>n.context===e).map(n=>n.email))}async fetchAlternativeCalendars(){if(this.calendarDateRange===null||!this.hasAlternativeCalendarsVisible)return;const e=v_(this.calendarDateRange);await this.fetchAlternativeCalendarsForRange(e.current),this.fetchSuggestions(),await this.fetchAlternativeCalendarsForRange(e.post),await this.fetchAlternativeCalendarsForRange(e.pre)}async fetchAlternativeCalendarsForRange(e){const n=this.alternativeCalendarEmails.filter(i=>this.maybeAddRangeToFetchedRange(i,e)).map(i=>ue.events.fetchForEmails(e.startDate,e.endDate,i)),s=await Promise.all(n);xe(()=>{s.flat().forEach(a=>{const l=a.participant.label;if(a.participant.error==="can_not_fetch_outlook")return;const p=this.getAlternativeCalendarByEmail(l);p&&(p.accessLevel=a.access_level,a.settings&&a.settings.timezone&&(p.timezone=this.userStore.addSecondaryTimezone(a.settings.timezone,a.participant.label,"colleague")),this.displayEventsStore.findByTypeInDateTimeRange(Le,e).filter(f=>f.layer===l).forEach(f=>{this.displayEventsStore.removeEvent(f)}),a.context_events.forEach(f=>{this.displayEventsStore.addEvent(new Le(l,f,p))}))});const i=s.flat().filter(a=>{if(a.participant.error==="can_not_fetch_outlook"){const l=this.getAlternativeCalendarByEmail(a.participant.label);return(l==null?void 0:l.context)==="global"}return!1});i.length>0&&Mn(`Showing calendar of teammate${i.length>1?"s":""} (${i.map(a=>a.participant.label).join(", ")}) is not yet supported for Outlook`)})}fetchSuggestions(){if(this.alternativeCalendarEmails.length===0||this.forceHideBestTimesToMeet){this.displayEventsStore.removeEventsByType(ir);return}this.debouncedFetchSuggestions()}processProposals(e,n){const s=this.displayEventsStore.findByType(ir);s.forEach(i=>{e.find(a=>wt(a.time,i.startsAt)&&a.duration===i.duration)||this.displayEventsStore.removeEvent(i)}),e.forEach(i=>{s.find(a=>wt(a.startsAt,i.time)&&a.duration===i.duration)||this.displayEventsStore.addEvent(new ir(i,n))}),s.forEach(i=>{i.query=n})}reset(){this.alternativeCalendars=[],this.fetchedRange={},this.displayEventsStore.removeEventsByType(Le),this.displayEventsStore.removeEventsByType(ir),this.displayEventsStore.clearVisibleMembers(),this.forceHideBestTimesToMeet=!0,this.userStore.removeSecondaryTimezoneForColleagues()}remove(e){this.removeMany([e])}removeMany(e){e.forEach(n=>{const s=this.getAlternativeCalendarByEmail(n);s&&(this.alternativeCalendars=this.alternativeCalendars.filter(i=>i.email!==n),delete this.fetchedRange[n],this.displayEventsStore.removeEventsByLayer(n),this.displayEventsStore.removeVisibleMemberByEmail(n),s.timezone&&this.userStore.removeSecondaryTimezone(s.timezone,"colleague"))}),this.fetchSuggestions(),this.hasAlternativeCalendarsVisible||this.reset()}toggleVisibility(e,n){var a;if(this.getAlternativeCalendarByEmail(e))return this.remove(e);const s=this.resourcesStore.resourcesByRemoteEmail[e];if(s)return this.fetchCalendarForResource(s,n);const i=(a=this.peopleStore.people)==null?void 0:a.find(l=>l.email===e);if(i)return this.fetchCalendarForPerson(i,n);this.fetchCalendarForPerson({email:e},n)}makeCalendarsVisible(e,n){this.alternativeCalendars=this.alternativeCalendars.filter(s=>e.includes(s.email)),e.filter(s=>this.accounts.ownEmails.indexOf(s)===-1).forEach(s=>{var l;const i=this.resourcesStore.resourcesByRemoteEmail[s],a=(l=this.peopleStore.people)==null?void 0:l.find(p=>p.email===s);this.alternativeCalendars.push({email:s,person:a,resource:i,accessLevel:null,events:[],color:this.getNextSecondaryCalendarColor(),context:n,timezone:null}),this.displayEventsStore.addVisibleMemberByEmail(s)}),n==="global"&&(this.forceHideBestTimesToMeet=!1),this.fetchAlternativeCalendars()}setCalendarDateRange(e){this.calendarDateRange=e,this.fetchAlternativeCalendars()}getAlternativeCalendarByEmail(e){return this.alternativeCalendars.find(n=>n.email===e)}setForceHideBestTimesToMeet(e){e!==this.forceHideBestTimesToMeet&&(this.forceHideBestTimesToMeet=e,e?this.displayEventsStore.removeEventsByType(ir):this.fetchSuggestions())}allCalendarsVisibleForEmails(e){return!(e.filter(s=>!!this.getAlternativeCalendarByEmail(s)).length<e.length)}maybeAddRangeToFetchedRange(e,n){if(!this.fetchedRange[e])return this.fetchedRange[e]=n,!0;let s=!1;const i=this.fetchedRange[e];return n.startDate<i.startDate&&(i.startDate=n.startDate,this.fetchedRange[e]=i,s=!0),n.endDate>i.endDate&&(i.endDate=n.endDate,this.fetchedRange[e]=i,s=!0),s}};j1=new WeakMap,cu=new WeakMap,uu=new WeakMap,du=new WeakMap,hu=new WeakMap,B(Rg,j1,[lD,cD,uD,dD,oD]=MK(Rg,[[re,1,"calendarDateRange"],[re,1,"alternativeCalendars"],[re,1,"forceHideBestTimesToMeet"],[re,1,"fetchedRange"],[ne,3,"alternativeCalendarEmails"],[ne,3,"hasAlternativeCalendarsVisible"],[ne,3,"shouldShowBestTimesToMeet"],[ne,3,"safeSecondaryCalendarColors"],[Y,2,"fetchCalendarForPerson"],[Y,2,"fetchCalendarForResource"],[Y,2,"processProposals"],[Y,2,"reset"],[Y,2,"remove"],[Y,2,"removeMany"],[Y,2,"toggleVisibility"],[Y,2,"makeCalendarsVisible"],[Y,2,"setCalendarDateRange"],[Y,2,"setForceHideBestTimesToMeet"],[Y,2,"maybeAddRangeToFetchedRange"]],[]).e);let Oy=Rg;var fD,mD;function BK(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:pD(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||pD(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return VK(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:FK(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function FK(t){var e=HK(t,"string");return typeof e=="symbol"?e:e+""}function HK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pD(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function VK(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}var S1,fu;const Pg=class Pg{constructor({peopleStore:e,favoritesStore:n,alternativeCalendarsStore:s}){ie(this,"peopleStore",void fD(this));ie(this,"favoritesStore");ie(this,"alternativeCalendarsStore");B(this,fu,mD(this,!1));this.peopleStore=e,this.favoritesStore=n,this.alternativeCalendarsStore=s}get searchFocused(){return H(this,fu)}set searchFocused(e){V(this,fu,e)}setSearchFocused(e){this.searchFocused=e}get visibleCalendars(){return this.alternativeCalendarsStore.alternativeCalendars.filter(({email:e})=>!this.favoritesStore.favorites.find(n=>n.email===e))}};S1=new WeakMap,fu=new WeakMap,B(Pg,S1,[mD,fD]=BK(Pg,[[re,1,"searchFocused"],[Y,2,"setSearchFocused"],[ne,3,"visibleCalendars"]],[]).e);let Iy=Pg;var gD,bD,yD,V2;function WK(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:vD(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||vD(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return GK(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:$K(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function $K(t){var e=UK(t,"string");return typeof e=="symbol"?e:e+""}function UK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vD(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function GK(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}V2=[Y,Y.bound];var A1,mu,pu;const Lg=class Lg{constructor(){B(this,mu,(gD(this),bD(this,this.getStartOfMinute())));B(this,pu,yD(this,this.getStartOfDay()));ie(this,"calibrationTickInterval");ie(this,"tickTimeout");this.calibratonTick=this.calibratonTick.bind(this),this.startTickInterval()}get nowStartOfMinute(){return H(this,mu)}set nowStartOfMinute(e){V(this,mu,e)}get nowStartOfDay(){return H(this,pu)}set nowStartOfDay(e){V(this,pu,e)}get nowStartOfWeek(){return ws(this.nowStartOfDay,{weekStartsOn:1})}get nowStartWeekWeekday(){return vs(this.nowStartOfWeek)}get nowStartOfNextWeek(){return Re(this.nowStartOfWeek,1)}get daySection(){const e=this.nowStartOfMinute.getHours();return e<6?"night":e<12?"morning":e<17?"afternoon":e<22?"evening":"night"}tick(){const e=new Date,n=hs(e);if(n.getTime()===this.nowStartOfMinute.getTime())return;this.nowStartOfMinute=n;const s=Pe(e);s.getTime()!==this.nowStartOfDay.getTime()&&(this.nowStartOfDay=s)}calibratonTick(){const e=new Date,n=e.getTime()-hs(e).getTime(),s=Ep-n;this.tickTimeout=window.setTimeout(this.tick,s)}startTickInterval(){this.calibrationTickInterval=window.setInterval(this.calibratonTick,Ep),this.calibratonTick(),window.addEventListener&&window.addEventListener("focus",this.tick,{passive:!0})}reset(){this.dispose(),this.nowStartOfMinute=this.getStartOfMinute(),this.nowStartOfDay=this.getStartOfDay(),this.startTickInterval(),this.tick()}dispose(){window.clearInterval(this.calibrationTickInterval),window.clearTimeout(this.tickTimeout),window.removeEventListener&&window.removeEventListener("focus",this.tick)}getStartOfMinute(){return hs(new Date)}getStartOfDay(){return Pe(new Date)}};A1=new WeakMap,mu=new WeakMap,pu=new WeakMap,B(Lg,A1,[bD,yD,gD]=WK(Lg,[[re,1,"nowStartOfMinute"],[re,1,"nowStartOfDay"],[ne,3,"nowStartOfWeek"],[ne,3,"nowStartWeekWeekday"],[ne,3,"nowStartOfNextWeek"],[ne,3,"daySection"],[V2,18,"tick"],[Y,2,"reset"]],[]).e);let My=Lg;const ge=new My;var xD,jD,SD,AD,ED;function zK(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:DD(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||DD(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return YK(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:KK(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function KK(t){var e=ZK(t,"string");return typeof e=="symbol"?e:e+""}function ZK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DD(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function YK(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}var E1,gu,bu,yu,vu;const Bg=class Bg{constructor({userStore:e,objectPool:n}){ie(this,"userStore",void xD(this));ie(this,"objectPool");ie(this,"appStore");B(this,gu,jD(this,[]));B(this,bu,SD(this,null));B(this,yu,AD(this,[]));B(this,vu,ED(this,new Set));this.userStore=e,this.objectPool=n}get displayEvents(){return H(this,gu)}set displayEvents(e){V(this,gu,e)}get visibleRange(){return H(this,bu)}set visibleRange(e){V(this,bu,e)}get visibleMembers(){return H(this,yu)}set visibleMembers(e){V(this,yu,e)}get visibleProjects(){return H(this,vu)}set visibleProjects(e){V(this,vu,e)}get allOwnDisplayEvents(){const e=this.objectPool.getObjects("task").filter(n=>n.assignee===this.objectPool.member||n.project&&this.visibleProjects.has(n.project)||n.assignee&&this.visibleMembers.includes(n.assignee));return[...this.objectPool.getObjects("event"),...e]}get allObjects(){return[...this.allOwnDisplayEvents,...this.displayEvents]}get visibleRangeWithOverScan(){const{visibleRange:e}=this;if(!e)return null;const{overScanAmount:n}=this.appStore;return{startDate:Oe(fe(pt(e.startDate),-n),"yyyy-MM-dd"),endDate:Oe(fe(pt(e.endDate),n),"yyyy-MM-dd")}}get visibleEventsWithOverScan(){let e=this.allObjects.filter(Dn({allDay:!1,showDeclined:this.userStore.declinedEventsVisible}));return this.visibleRangeWithOverScan&&(e=e.filter(Qs(this.visibleRangeWithOverScan))),e.sort((n,s)=>Ar(n.startsAt,s.startsAt))}get visibleAllDayEvents(){let e=this.allObjects.filter(Dn({allDay:!0,showDeclined:this.userStore.declinedEventsVisible}));return this.visibleRange&&(e=e.filter(Qs(this.visibleRange)).concat(this.buildOooEventsForRange(this.visibleRange))),e}get visibleAllDayEventsWithOverScan(){return this.visibleRangeWithOverScan?this.allObjects.filter(Dn({allDay:!0,showDeclined:this.userStore.declinedEventsVisible})).filter(Qs(this.visibleRangeWithOverScan,this.userStore.weekendVisible)).concat(this.buildOooEventsForRange(this.visibleRangeWithOverScan)):this.visibleAllDayEvents}buildOooEventsForRange(e){const n=pt(e.startDate),s=pt(e.endDate);let i=n,a=[];for(;i<=s;){const l=vs(Se(i));l>=1&&l<=5&&!this.userStore.isWorkingDay(l)&&a.push(new Gt(i,fe(i,1))),i=fe(i,1)}return a}setVisibleRange(e){this.visibleRange=e}addEvent(e){this.displayEvents.push(e)}removeEvent(e){this.displayEvents=this.displayEvents.filter(n=>n!==e)}removeEventsByLayer(e){this.displayEvents=this.displayEvents.filter(n=>n.layer!==e)}removeEventsByType(e){this.displayEvents=this.displayEvents.filter(n=>!(n instanceof e))}findByType(e){return this.allObjects.filter(n=>n instanceof e)}findByTypeInDateRange(e,n){return this.findByType(e).filter(Qs(n)).filter(Dn())}findByTypeInDateTimeRange(e,n,s,i){return this.findByType(e).filter(xr(n)).filter(Dn({allDay:s,showDeclined:i}))}filterOwnDisplayEvents(e,n,s){const i=xr(e),a=Dn({allDay:n,showDeclined:s});return this.allOwnDisplayEvents.filter(l=>i(l)&&a(l))}addVisibleMemberByEmail(e){const n=this.objectPool.getObjects("member").find(s=>s.email===e);n&&this.visibleMembers.push(n)}removeVisibleMemberByEmail(e){this.visibleMembers=this.visibleMembers.filter(n=>n.email!==e)}clearVisibleMembers(){this.visibleMembers=[]}addVisibleProject(e){this.visibleProjects.add(e)}removeVisibleProject(e){this.visibleProjects.delete(e)}hasVisibleProject(e){return this.visibleProjects.has(e)}clearVisibleProjects(){this.visibleProjects=new Set}};E1=new WeakMap,gu=new WeakMap,bu=new WeakMap,yu=new WeakMap,vu=new WeakMap,B(Bg,E1,[jD,SD,AD,ED,xD]=zK(Bg,[[re,1,"displayEvents"],[re,1,"visibleRange"],[re,1,"visibleMembers"],[re,1,"visibleProjects"],[ne,3,"allOwnDisplayEvents"],[ne,3,"allObjects"],[ne,3,"visibleRangeWithOverScan"],[ne,3,"visibleEventsWithOverScan"],[ne,3,"visibleAllDayEvents"],[ne,3,"visibleAllDayEventsWithOverScan"],[Y,2,"setVisibleRange"],[Y,2,"addEvent"],[Y,2,"removeEvent"],[Y,2,"removeEventsByLayer"],[Y,2,"removeEventsByType"],[Y,2,"addVisibleMemberByEmail"],[Y,2,"removeVisibleMemberByEmail"],[Y,2,"clearVisibleMembers"],[Y,2,"addVisibleProject"],[Y,2,"removeVisibleProject"],[Y,2,"clearVisibleProjects"]],[]).e);let Ry=Bg;var wD,CD;function XK(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:TD(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||TD(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return qK(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:JK(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function JK(t){var e=QK(t,"string");return typeof e=="symbol"?e:e+""}function QK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TD(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function qK(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}var D1,xu;const Fg=class Fg{constructor({userStore:e,resourcesStore:n,transactionQueue:s,objectPool:i,onProposalBooked:a}){ie(this,"userStore",void wD(this));ie(this,"resourcesStore");ie(this,"transactionQueue");ie(this,"objectPool");ie(this,"onProposalBooked");B(this,xu,CD(this,null));this.userStore=e,this.resourcesStore=n,this.transactionQueue=s,this.objectPool=i,this.onProposalBooked=a}get currentStartDate(){return H(this,xu)}set currentStartDate(e){V(this,xu,e)}eventByUUID(e){return this.objectPool.getObject("event",e)}addEvent(e){this.objectPool.addObject(e)}createEventAt(e,n=!1,s=null,i=null){const a=this.createEventStore(null);return a.calendar=i||this.userStore.calendarForNewEvents,a.setStartsAt(e),a.setDuration(this.userStore.defaultEventDuration),a.setAllDay(n),n&&a.setInfluencesAvailability(!1),a.resetDirtyProperties(),this.addEvent(a),a}bookProposal({proposal:e,query:n,response:s,source:i,targetEvent:a,title:l,eventsStoreManager:p}){var E;const f=e||s&&N0(s);if(!f)return;const v=a||this.createEventStore(null);return v.setStartsAt(f.time),v.setDuration(f.duration||this.userStore.defaultEventDuration),v.findTimeQuery=n,s&&(v.findTimeResponse=s),v.suggestedTimeByEngine=f.time,v.eventCreationSource=i,f.participantAvailability&&(v.participantAvailability=f.participantAvailability),a||(v.calendar=this.userStore.calendarForNewEvents,l&&(v.title=l)),v.calendar.visible||v.calendar.toggleVisibility(p),Es(n).forEach(w=>{v.addAttendee(w)}),Tx(n).forEach(w=>{v.addResourceAttendee(this.resourcesStore.resourcesByRemoteEmail[w])}),v.setDefaultConferenceSolution(),v.setSelected(!0),s&&(f.type==="alternative"||f.type==="suboptimal")&&(v.mode="suboptimal"),a||(v.setDraft(!0),this.addEvent(v)),(E=this.onProposalBooked)==null||E.call(this,v),v}createEventStore(e){return this.objectPool.createInstance("event",e)}get events(){return this.objectPool.getObjects("event")}findEventsInDateRange(e){return this.events.filter(Qs(e)).filter(Dn())}findEventsInDateTimeRange(e,n,s){return this.events.filter(xr(e)).filter(Dn({allDay:n,showDeclined:s}))}findCurrentOrNextEvent(){const e=we(ge.nowStartOfMinute),n=Ie(e,15),s=this.findEventsInDateTimeRange({startDate:e,endDate:n},!1,!1).filter(i=>i.conferenceData).sort((i,a)=>Ar(a.startsAt,i.startsAt));return s.length>0?s[0]:null}};D1=new WeakMap,xu=new WeakMap,B(Fg,D1,[CD,wD]=XK(Fg,[[re,1,"currentStartDate"],[Y,2,"createEventAt"],[Y,2,"bookProposal"],[ne,3,"events"]],[]).e);let Py=Fg;function W2(t,e){return(n,s)=>{const i=s.name;function a(p,f){p.properties[i]||(p.properties[i]=re.array(f,{deep:!1})),t&&(p.propertyFieldMap[i]=t),e&&(p.propertyLoaders[i]=e)}const l={init(p){return a(this,p),p},get(){return this.properties[i]},set(p){const f=this.properties[i].slice();Cp(f,p)&&(xe(()=>{this.properties[i].replace(p)}),this.markAsDirty(i))}};if(s.kind!=="accessor")throw new Error(`"Collection" is an accessor decorator, but was used as "${s.kind}"`);return l}}function eZ(){return{in:(t,e)=>{const n=e[t];return n?n.map(s=>({title:s.title,fileId:s.file_id,fileUrl:s.file_url,mimeType:s.mime_type,iconLink:s.icon_link})):[]},out:(t,e)=>e[t]&&e[t].map(n=>({title:n.title,file_id:n.fileId,file_url:n.fileUrl,mime_type:n.mimeType,icon_link:n.iconLink}))}}function tZ(){return{in:(t,e)=>{const n=e[t];return n?n.map(s=>{const i=new cr;return i.updateFromJson(s),i}):[]},out:(t,e)=>e[t]&&e[t].map(n=>n.asJson)}}function nZ(){return{in:(t,e)=>e[t]??"default",out:(t,e)=>e[t]}}var ND,kD,_D,OD,ID,MD,RD,PD,LD,$2,BD,U2,FD,G2,HD,z2,VD,K2,WD,Z2,$D,Y2,UD,X2,GD,J2,zD,Q2,KD,ZD,q2,YD,e8,XD,t8,JD,n8,QD,r8,qD,s8,ew,i8,tw,a8,nw,o8,rw,l8,sw,c8,iw,aw,u8,ow,d8,lw,h8,cw,f8,uw,dw,hw,fw,mw,pw,m8,gw,p8,bw,g8,yw,b8,vw,y8,xw,v8,jw,x8,Sw,j8,Aw,S8,Ew,A8,Dw;function rZ(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:ww(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||ww(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return aZ(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:sZ(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function sZ(t){var e=iZ(t,"string");return typeof e=="symbol"?e:e+""}function iZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ww(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function aZ(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}const Ly="Out of office";$2=q("event_type",nZ());U2=q();G2=q();z2=q("starts_at",ft());K2=q("ends_at",ft());Z2=q("date_starts_at",Nm());Y2=q("date_ends_at",Nm());X2=q();J2=q("all_day");Q2=q("conference_solution_uuid",De("conference_solution"));q2=W2("attendees",tZ());e8=q("organizer_email");t8=q("organizer_name");n8=q("calendar_uuid",De("calendar"));r8=q();s8=q("read_only");i8=q("can_invite_others");a8=q("is_organizer");o8=q("is_creator");l8=q("influences_availability");c8=q("created_at",ft());u8=q("is_focus_block");d8=q("is_follower");h8=q("followed_event_uuid");f8=q("fingerprint");m8=q("remote_color_id");p8=q("html_link");g8=q("visibility");b8=q("attachments",eZ());y8=q();v8=q("working_location");x8=q("out_of_office_properties");j8=q("timezone_start");S8=q("timezone_end");A8=q("extended_properties");var w1,ju,Su,Au,Eu,Du,wu,Cu,Tu,Nu,ku,_u,Ou,Iu,Mu,Ru,Pu,Lu,Bu,Fu,Hu,Vu,Wu,$u,Uu,Gu,zu,Ku,Zu,Yu,Xu,Ju,Qu,qu,ed,td,nd,rd,sd,id,ad,od,ld,cd,ud,dd,hd,fd,md,pd,gd;const bi=class bi extends be{constructor({transactionQueue:n,objectPool:s,uuid:i}){super({entity:"event",uuid:i,transactionQueue:n,objectPool:s,persistFunctions:{persistPartialsOnPatchOnly:!0,save:ue.events.saveEvent,delete:(a,l)=>{if(a.entity!=="event")throw new Error("Invalid entity when deleting event");const p=a;return ue.events.deleteEvent(p.uuid,l==null?void 0:l.recurringEventDecision,f=>f instanceof os&&f.response.status===404)}}});ie(this,"layer",(ND(this),"event"));ie(this,"delegate",null);B(this,ju,kD(this,!1));B(this,Su,_D(this,!1));B(this,Au,OD(this,!1));ie(this,"suggestionsHandler",null);ie(this,"autoConferenceHandler",null);ie(this,"autopilotHandler",null);ie(this,"eventCreationSource",null);ie(this,"suggestedTimeByEngine",null);B(this,Eu,ID(this,"normal"));B(this,Du,MD(this,null));B(this,wu,RD(this,null));B(this,Cu,PD(this,null));ie(this,"hasBeenHighlighted",!1);B(this,Tu,LD(this,!1));B(this,Nu,BD(this,"default"));B(this,ku,FD(this,null));B(this,_u,HD(this,null));B(this,Ou,VD(this,null));B(this,Iu,WD(this,null));B(this,Mu,$D(this,null));B(this,Ru,UD(this,null));B(this,Pu,GD(this,null));B(this,Lu,zD(this,!1));B(this,Bu,KD(this,null));B(this,Fu,ZD(this,null));B(this,Hu,YD(this,[]));B(this,Vu,XD(this,null));B(this,Wu,JD(this,null));B(this,$u,QD(this,null));B(this,Uu,qD(this,null));B(this,Gu,ew(this,!1));B(this,zu,tw(this,!0));B(this,Ku,nw(this,!0));B(this,Zu,rw(this,!0));B(this,Yu,sw(this,null));B(this,Xu,iw(this,null));B(this,Ju,aw(this,null));B(this,Qu,ow(this,!1));B(this,qu,lw(this,!1));B(this,ed,cw(this,null));B(this,td,uw(this,null));B(this,nd,dw(this,{meeting_board:!1}));B(this,rd,hw(this,{meeting_board:!1}));B(this,sd,fw(this,null));B(this,id,mw(this,null));B(this,ad,pw(this,null));B(this,od,gw(this,null));B(this,ld,bw(this,null));B(this,cd,yw(this,null));B(this,ud,vw(this,null));B(this,dd,xw(this,null));B(this,hd,jw(this,void 0));B(this,fd,Sw(this,void 0));B(this,md,Aw(this,null));B(this,pd,Ew(this,null));B(this,gd,Dw(this));this.uuid=i||tn(),i||(this.isNew=!0),this.setupAutoConferenceHandler()}get isChangingDuration(){return H(this,ju)}set isChangingDuration(n){V(this,ju,n)}get isSelected(){return H(this,Su)}set isSelected(n){V(this,Su,n)}get isMoving(){return H(this,Au)}set isMoving(n){V(this,Au,n)}get mode(){return H(this,Eu)}set mode(n){V(this,Eu,n)}get findTimeQuery(){return H(this,Du)}set findTimeQuery(n){V(this,Du,n)}get findTimeResponse(){return H(this,wu)}set findTimeResponse(n){V(this,wu,n)}get participantAvailability(){return H(this,Cu)}set participantAvailability(n){V(this,Cu,n)}get isHovered(){return H(this,Tu)}set isHovered(n){V(this,Tu,n)}get type(){return H(this,Nu)}set type(n){V(this,Nu,n)}get title(){return H(this,ku)}set title(n){V(this,ku,n)}get description(){return H(this,_u)}set description(n){V(this,_u,n)}get startsAt(){return H(this,Ou)}set startsAt(n){V(this,Ou,n)}get endsAt(){return H(this,Iu)}set endsAt(n){V(this,Iu,n)}get startsAtDate(){return H(this,Mu)}set startsAtDate(n){V(this,Mu,n)}get endsAtDate(){return H(this,Ru)}set endsAtDate(n){V(this,Ru,n)}get location(){return H(this,Pu)}set location(n){V(this,Pu,n)}get allDay(){return H(this,Lu)}set allDay(n){V(this,Lu,n)}get conferenceSolution(){return H(this,Bu)}set conferenceSolution(n){V(this,Bu,n)}get conferenceData(){return H(this,Fu)}set conferenceData(n){V(this,Fu,n)}get attendees(){return H(this,Hu)}set attendees(n){V(this,Hu,n)}get organizerEmail(){return H(this,Vu)}set organizerEmail(n){V(this,Vu,n)}get organizerName(){return H(this,Wu)}set organizerName(n){V(this,Wu,n)}get calendar(){return H(this,$u)}set calendar(n){V(this,$u,n)}get recurrence(){return H(this,Uu)}set recurrence(n){V(this,Uu,n)}get readOnly(){return H(this,Gu)}set readOnly(n){V(this,Gu,n)}get _canInviteOthers(){return H(this,zu)}set _canInviteOthers(n){V(this,zu,n)}get isOrganizer(){return H(this,Ku)}set isOrganizer(n){V(this,Ku,n)}get isCreator(){return H(this,Zu)}set isCreator(n){V(this,Zu,n)}get influencesAvailability(){return H(this,Yu)}set influencesAvailability(n){V(this,Yu,n)}get createdAt(){return H(this,Xu)}set createdAt(n){V(this,Xu,n)}get updatedAt(){return H(this,Ju)}set updatedAt(n){V(this,Ju,n)}get isFocusBlock(){return H(this,Qu)}set isFocusBlock(n){V(this,Qu,n)}get isFollower(){return H(this,qu)}set isFollower(n){V(this,qu,n)}get followedEvent(){return H(this,ed)}set followedEvent(n){V(this,ed,n)}get fingerprint(){return H(this,td)}set fingerprint(n){V(this,td,n)}get eligibilities(){return H(this,nd)}set eligibilities(n){V(this,nd,n)}get parentEligibilities(){return H(this,rd)}set parentEligibilities(n){V(this,rd,n)}get parentUuid(){return H(this,sd)}set parentUuid(n){V(this,sd,n)}get flexibleMoveInfo(){return H(this,id)}set flexibleMoveInfo(n){V(this,id,n)}get flexibleMoveIndicator(){return H(this,ad)}set flexibleMoveIndicator(n){V(this,ad,n)}get remoteColorId(){return H(this,od)}set remoteColorId(n){V(this,od,n)}get htmlLink(){return H(this,ld)}set htmlLink(n){V(this,ld,n)}get visibility(){return H(this,cd)}set visibility(n){V(this,cd,n)}get attachments(){return H(this,ud)}set attachments(n){V(this,ud,n)}get status(){return H(this,dd)}set status(n){V(this,dd,n)}get workingLocation(){return H(this,hd)}set workingLocation(n){V(this,hd,n)}get outOfOfficeProperties(){return H(this,fd)}set outOfOfficeProperties(n){V(this,fd,n)}get timezoneStart(){return H(this,md)}set timezoneStart(n){V(this,md,n)}get timezoneEnd(){return H(this,pd)}set timezoneEnd(n){V(this,pd,n)}get extendedProperties(){return H(this,gd)}set extendedProperties(n){V(this,gd,n)}setDefaultConferenceSolution(){this.objectPool.user.defaultConferenceSolution&&this.canBeEdited&&this.isDirty&&this.isMeeting&&!this.dirtyProperties.has("conferenceSolution")&&!this.conferenceSolution&&!this.conferenceData&&(this.conferenceSolution=this.objectPool.user.defaultConferenceSolution)}setupAutoConferenceHandler(){this.autoConferenceHandler=r0(()=>this.isDirty&&this.isMeeting&&!this.readOnly,n=>{n&&this.setDefaultConferenceSolution()},{fireImmediately:!1})}dispose(){this.autoConferenceHandler&&this.autoConferenceHandler()}loadFallback(n){n.updated_at&&(this.updatedAt=yn(n.updated_at)),n.recurring_event&&(this.parentUuid=n.recurring_event.uuid,n.recurring_event.recurrence&&(this.recurrence=n.recurring_event.recurrence,this.markAsNotDirty("recurrence")),n.recurring_event.eligibilities&&(this.parentEligibilities=n.recurring_event.eligibilities)),n.conference_data?this.conferenceData={label:n.conference_data.label,link:n.conference_data.link,provider:n.conference_data.provider,requestStatus:n.conference_data.request_status}:this.conferenceData=null,n.eligibilities&&(this.eligibilities=n.eligibilities)}toJSON(){return this.asJson}get dates(){return this.allDay?{starts_at:null,ends_at:null,date_starts_at:this.startsAtDate&&Wt(this.startsAtDate),date_ends_at:this.endsAtDate&&Wt(this.endsAtDate)}:{starts_at:this.startsAt&&bn(this.startsAt),ends_at:this.endsAt&&bn(this.endsAt),date_starts_at:null,date_ends_at:null}}get asJson(){return{...this.dates,uuid:this.uuid,event_type:this.type,title:this.title,description:this.description,location:this.location,all_day:this.allDay,influences_availability:this.influencesAvailability,attendees:this.attendees.map(n=>n.asJson),calendar_uuid:this.calendar?this.calendar.uuid:null,conference_solution_uuid:this.conferenceSolution?this.conferenceSolution.uuid:null,recurrence:this.recurrence,remote_color_id:this.remoteColorId,visibility:this.visibility,working_location:this.workingLocation,timezone_start:this.timezoneStart,timezone_end:this.timezoneEnd,out_of_office_properties:this.outOfOfficeProperties,organizer_email:this.organizerEmail}}get presentAsAllDay(){return this.objectPool.user.presentMultidayEventsAsAllDay?!this.allDay&&this.objectPool.user.presentMultidayEventsAsAllDay?Ge(this.endsAt,this.startsAt)>=oi:!0:this.allDay}get start(){return this.allDay||this.presentAsAllDay?this.allDay?this.startsAtDate:Pe(this.startsAt):this.startsAt}get end(){return this.allDay||this.presentAsAllDay?this.allDay?this.endsAtDate:!Ve(this.startsAt,this.endsAt)&&this.endsAt<=En(Pe(this.endsAt),5)?Pe(this.endsAt):Ge(this.endsAt,this.startsAt)===oi?ot(this.endsAt):fe(Pe(this.endsAt),1):this.endsAt}save(n){const s=super.save({...n});return s.then(()=>{this.eventCreationSource=null,this.suggestedTimeByEngine=null}),s}async shouldSave(n,s){return this.type==="workingLocation"&&s.type===kt.Update&&s.didChange("all_day")?(Mn("Sorry  Google does not allow us to change a working location event from all day to normal event or back"),"discard"):(this.type==="workingLocation"||this.type==="outOfOffice")&&!this.calendar.remotePrimary?(Mn("Sorry  Google does not allow us to change a working location or out of office event on a non-primary calendar"),"discard"):this.delegate&&this.delegate.shouldSave?this.delegate.shouldSave(this,n,s):super.shouldSave(n,s)}shouldDelete(n){return this.delegate&&this.delegate.shouldDelete?this.delegate.shouldDelete(this,n):super.shouldDelete(n)}afterSave(){this.updatedAt=new Date}get duration(){return this.allDay?Ge(this.endsAtDate,this.startsAtDate):this.startsAt&&this.endsAt?Ge(this.endsAt,this.startsAt):null}get isRecurring(){return this.recurrence!==null}get peopleAttendees(){return this.attendees.filter(n=>!n.isSelf&&!n.isResource)}get isMeeting(){return this.peopleAttendees.length!==0}get multiday(){return this.allDay?kn(this.endsAtDate,this.startsAtDate)>1:kn(this.endsAt,this.startsAt)>=1}get attendanceStatus(){const n=this.selfAttendee;return n?n.status:"unknown"}get selfAttendee(){return this.attendees.find(n=>n.isSelf===!0)}get haveAllAttendeesDeclined(){return E7(this.attendees)}get haveSomeAttendeesDeclined(){return I$(this.attendees)}get isFirstInvite(){if(this.lastSavedProperties.attendees===void 0)return!0;const n=this.loadLastSavedValueForProperty("attendees");return!n||!(n instanceof Array)||n.length===0}get isInfluencingAvailability(){var n;return this.influencesAvailability!==null&&this.influencesAvailability!==void 0?this.influencesAvailability:(n=this.calendar)==null?void 0:n.influencesAvailability}get timeWindow(){return{label:this.title||"event",startsAt:this.startsAt,endsAt:this.endsAt}}get rrule(){return Dx(this.recurrence)}get isDailyRecurring(){return this.rrule?this.rrule.options.freq===Ee.DAILY||this.rrule.options.freq===Ee.WEEKLY&&this.rrule.options.byweekday.length>1:!1}get shouldHighlightEvent(){return this.isDraft&&(this.eventCreationSource==="fat-modal"||this.eventCreationSource==="create-event")||this.eventCreationSource==="reschedule"||this.eventCreationSource==="create-event-from-task"}get saveLabel(){return this.isMeeting&&this.isFirstInvite?"Send invite":"Save"}get meetingRoomAttendee(){var n;return(n=this.attendees)==null?void 0:n.find(s=>s.isResource)}get meetingRoom(){return this.meetingRoomAttendee&&this.objectPool?this.objectPool.getObjects("resource").find(n=>n.remoteEmail===this.meetingRoomAttendee.email):null}get hasGroupAttendees(){return this.attendees.some(n=>{var s;return(s=this.calendar)==null?void 0:s.account.groupEmails.has(n.email)})}get formattedLocation(){var s;const n=(s=this.meetingRoom)==null?void 0:s.descriptionFull;return n===this.location?null:n&&this.location&&this.location.indexOf(`, ${n}`)>-1?this.location.replace(`, ${n}`,""):this.location}get internalMeeting(){return Z5(this,this.objectPool.user.domainsWithAliases)}get canRespond(){var n,s;return(n=this.calendar)!=null&&n.account.isOutlook&&this.isOrganizer||((s=this.calendar)==null?void 0:s.accessLevel)==="reader"?!1:!!this.selfAttendee}get canMakeOrganizerOptional(){var n;return!((n=this.calendar)!=null&&n.account.isOutlook)}get canBeEdited(){var n;return((n=this.calendar)==null?void 0:n.accessLevel)!=="reader"&&!this.readOnly&&(this.isOrganizer||this.isCreator)}get canSuggestToEditInGoogleCalendar(){return!this.readOnly&&!!this.htmlLink&&this.selfAttendee}get canEditPersonalFields(){var n;return((n=this.calendar)==null?void 0:n.accessLevel)!=="reader"}get canInviteOthers(){var n;return((n=this.calendar)==null?void 0:n.accessLevel)==="reader"?!1:this._canInviteOthers}canBeRescheduled(n){return this.canBeEdited&&this.type!=="workingLocation"&&(!this.isMeeting||Z5(this,this.objectPool.user.domainsWithAliases,n))}get canDeleteOrDecline(){return!this.isDeleted&&(!this.readOnly||this.isMeeting)}get canChangeAllDayField(){return this.canBeEdited&&(this.isNew||this.type!=="workingLocation")}get meetingBoard(){var n,s;return this.parentUuid&&((s=((n=this.objectPool)==null?void 0:n.getObjects("meeting_board")).find(i=>{var a;return i.eventUuid===this.parentUuid&&!((a=i.project)!=null&&a.isDeleted)}))==null?void 0:s.project)||null}get meetingBoardProgress(){return this.meetingBoard?this.meetingBoard.progress:null}setStartsAt(n){if(this.startsAt&&wt(n,this.startsAt))return;const s=this.duration;this.startsAt=n,s!==null&&this.setDuration(s),this.markAllOtherAttendeesAsNeedsAction()}setStartsAtDate(n){if(this.startsAtDate&&wt(n,this.startsAtDate))return;const s=this.duration;this.startsAtDate=n,s&&this.setDuration(s)}setDuration(n){n===this.duration||n<0||(this.allDay?this.startsAtDate&&(this.endsAtDate=Ie(this.startsAtDate,n)):this.startsAt&&(this.endsAt=Ie(this.startsAt,n)))}setStartDate(n){const s=new Date(n+"T00:00:00");this.allDay?this.setStartsAtDate(s):this.setStartsAt(hn(this.startsAt,{year:u5(s),month:xb(s),date:vi(s)}))}setEndDate(n){const s=pt(n);this.allDay?this.endsAtDate=fe(s,1):this.endsAt=hn(this.endsAt,{year:u5(s),month:xb(s),date:vi(s)}),this.normalizeStartAndEnd()}setStartTime(n,s=null){const i=n.split(":"),a=hn(this.startsAt,{hours:parseInt(i[0]),minutes:parseInt(i[1])});this.setStartsAt(s?we(a,s):a)}setEndTime(n,s=null){const i=n.split(":");let a=hn(this.endsAt,{hours:parseInt(i[0]),minutes:parseInt(i[1])});s&&(a=we(a,s));const l=this.duration;Yt(a,this.startsAt)&&l!==null&&(this.startsAt=Ie(a,-l)),this.endsAt=a}normalizeStartAndEnd(){if(this.allDay){if(!Ur(this.endsAtDate,this.startsAtDate)){const[n,s]=[this.endsAtDate,this.startsAtDate];this.startsAtDate=fe(Pe(Se(n)),-1),this.endsAtDate=fe(s,1)}}else if(Yt(this.endsAt,this.startsAt)){const[n,s]=[this.endsAt,this.startsAt];this.startsAt=n,this.endsAt=s}}setAllDay(n){n!==this.allDay&&(this.allDay=n,n?(this.startsAtDate=Pe(Se(this.startsAt)),this.endsAtDate=fe(this.startsAtDate,1),this.startsAt=null,this.endsAt=null):(this.startsAt=Ei(this.startsAtDate,Xr(Cs(new Date)),0),this.endsAt=Ie(this.startsAt,this.objectPool.user.defaultEventDuration),this.startsAtDate=null,this.endsAtDate=null))}setInfluencesAvailability(n){var s,i;if(n===((s=this.calendar)==null?void 0:s.influencesAvailability)&&this.influencesAvailability!==null){this.influencesAvailability=null;return}n===((i=this.calendar)==null?void 0:i.influencesAvailability)&&this.influencesAvailability===null||n!==this.influencesAvailability&&(this.influencesAvailability=n)}setRecurrence(n){if(!(n===null&&this.recurrence===null))if(n){if(this.recurrence&&JSON.parse(this.recurrence).join(`
`)===n)return;this.recurrence=JSON.stringify([n])}else this.recurrence=null}setAttendanceStatus(n,s=!1){var i;if(this.attendanceStatus!==n&&((i=this.selfAttendee)==null||i.setStatus(n),this.markAsDirty("attendees"),!s&&!this.isOrganizer))return this.save({force:!0})}setSelected(n){this.isSelected=n}setIsChangingDuration(n){this.isChangingDuration=n}setIsMoving(n){this.isMoving=n}setTaskCompletion(n){this.title=mW(this.title,n)}setCalendar(n){if(this.calendar===n)return;this.calendar=n;const s=this.organizerAttendee;s&&this.removeAttendee(s),this.isMeeting&&(xe(()=>this.organizerEmail=n.account.accountEmail),n.remotePrimary&&this.addOrganizerAttendee(s?s.status:"accepted"))}addAttendee(n){if(this.findAttendeeByEmail(n))return;const s=new cr;s.setEmail(n),s.setStatus("needsAction");const i=this.attendees.length===0;this.attendees.push(s),i&&!this.selfAttendee&&this.calendar.remotePrimary&&this.addOrganizerAttendee(),this.markAsDirty("attendees")}addOrganizerAttendee(n="accepted"){const s=new cr;s.setEmail(this.calendar.account.accountEmail),s.setStatus(n),s.setIsSelf(!0),s.setIsOrganizer(!0),this.attendees.push(s),this.organizerEmail=this.calendar.account.accountEmail}addResourceAttendee(n){if(this.findAttendeeByEmail(n.remoteEmail))return;const s=new cr;s.setEmail(n.remoteEmail),s.setName([n.name+" ("+n.capacity+")",n.building&&[n.building.name,n.floorName].join(", ")].filter(Boolean).join("  ")),s.setIsResource(!0),s.setStatus("needsAction"),this.attendees.push(s),this.markAsDirty("attendees")}removeAttendee(n){this.removeAttendeeByEmail(n.email)}findAttendeeByEmail(n){return this.attendees.find(s=>s.email===n)}markAllOtherAttendeesAsNeedsAction(){const n=this.attendees.filter(s=>!s.isSelf&&s.status!=="needsAction");n.length>0&&(n.forEach(s=>s.setStatus("needsAction")),this.markAsDirty("attendees"))}get organizerAttendee(){return this.attendees.find(n=>n.isOrganizer)}removeAttendeeByEmail(n){const s=this.findAttendeeByEmail(n);s&&(this.attendees=this.attendees.filter(i=>i!==s),this.markAsDirty("attendees"))}pasteEvent(n){var s;this.title=n.title,this.description=n.description,this.location=n.location,n.duration&&this.setDuration(n.duration),n instanceof bi&&(this.attendees=n.attendees.map(i=>{const a=new cr;return a.updateFromJson(i.asJson),i.isSelf||a.setStatus("needsAction"),a}),this.influencesAvailability=n.influencesAvailability,this.conferenceSolution=n.conferenceSolution,this.remoteColorId=n.remoteColorId,this.visibility=n.visibility,((s=n.calendar)==null?void 0:s.accessLevel)!=="reader"?this.calendar=n.calendar:this.calendar=this.objectPool.user.calendarForNewEvents,n.type==="workingLocation"&&(this.isNew||this.type===n.type)&&(this.type=n.type,this.workingLocation=n.workingLocation),n.type==="outOfOffice"&&(this.isNew||this.type===n.type)&&(this.type=n.type,this.outOfOfficeProperties=n.outOfOfficeProperties)),n instanceof Le&&(this.conferenceData=n.conferenceData)}applyProposal(n,s=null){this.setStartsAt(n.time),this.setDuration(n.duration),n.participantAvailability&&(this.participantAvailability=n.participantAvailability)}setHasBeenHighlighted(n){this.hasBeenHighlighted=n}setType(n){var s,i;if(this.isNew){const a=this.isDraft,l=this.type;n==="workingLocation"&&((s=this.calendar)!=null&&s.account.workingLocationsSupported)?(this.type="workingLocation",this.workingLocation={type:"homeOffice",label:null},this.title="Home",this.attendees=[],this.visibility="public",this.isInfluencingAvailability&&(this.influencesAvailability=!1),this.allDay&&this.multiday&&this.setDuration(oi)):n==="outOfOffice"&&((i=this.calendar)!=null&&i.account.outOfOfficeSupported)?(this.type="outOfOffice",this.outOfOfficeProperties={auto_decline_mode:"declineNone",decline_message:""},(!this.title||l!=="default"&&l!=="event")&&(this.title=Ly)):(this.type="default",this.workingLocation=void 0,this.outOfOfficeProperties=void 0,this.visibility=null,this.influencesAvailability=null,l!=="default"&&l!=="event"&&(l!=="outOfOffice"||this.title===Ly)&&(this.title=null)),(this.type==="outOfOffice"||this.type==="workingLocation")&&!this.calendar.remotePrimary&&(this.calendar=this.calendar.account.calendars.find(p=>p.remotePrimary)),this.setDraft(a)}}setWorkingLocationType(n){this.type==="workingLocation"&&this.workingLocation&&this.workingLocation.type!==n&&(this.workingLocation={type:n,label:null},n==="homeOffice"?this.title="Home":n==="officeLocation"&&(this.title="Office"))}setOutOfOfficeProperties(n,s){this.type==="outOfOffice"&&(this.outOfOfficeProperties={auto_decline_mode:n,decline_message:s})}setIsHovered(n){this.isHovered=n}};w1=new WeakMap,ju=new WeakMap,Su=new WeakMap,Au=new WeakMap,Eu=new WeakMap,Du=new WeakMap,wu=new WeakMap,Cu=new WeakMap,Tu=new WeakMap,Nu=new WeakMap,ku=new WeakMap,_u=new WeakMap,Ou=new WeakMap,Iu=new WeakMap,Mu=new WeakMap,Ru=new WeakMap,Pu=new WeakMap,Lu=new WeakMap,Bu=new WeakMap,Fu=new WeakMap,Hu=new WeakMap,Vu=new WeakMap,Wu=new WeakMap,$u=new WeakMap,Uu=new WeakMap,Gu=new WeakMap,zu=new WeakMap,Ku=new WeakMap,Zu=new WeakMap,Yu=new WeakMap,Xu=new WeakMap,Ju=new WeakMap,Qu=new WeakMap,qu=new WeakMap,ed=new WeakMap,td=new WeakMap,nd=new WeakMap,rd=new WeakMap,sd=new WeakMap,id=new WeakMap,ad=new WeakMap,od=new WeakMap,ld=new WeakMap,cd=new WeakMap,ud=new WeakMap,dd=new WeakMap,hd=new WeakMap,fd=new WeakMap,md=new WeakMap,pd=new WeakMap,gd=new WeakMap,B(bi,w1,[kD,_D,OD,ID,MD,RD,PD,LD,BD,FD,HD,VD,WD,$D,UD,GD,zD,KD,ZD,YD,XD,JD,QD,qD,ew,tw,nw,rw,sw,iw,aw,ow,lw,cw,uw,dw,hw,fw,mw,pw,gw,bw,yw,vw,xw,jw,Sw,Aw,Ew,Dw,ND]=rZ(bi,[[re,1,"isChangingDuration"],[re,1,"isSelected"],[re,1,"isMoving"],[re,1,"mode"],[re,1,"findTimeQuery"],[re,1,"findTimeResponse"],[re,1,"participantAvailability"],[re,1,"isHovered"],[$2,1,"type"],[U2,1,"title"],[G2,1,"description"],[z2,1,"startsAt"],[K2,1,"endsAt"],[Z2,1,"startsAtDate"],[Y2,1,"endsAtDate"],[X2,1,"location"],[J2,1,"allDay"],[Q2,1,"conferenceSolution"],[re,1,"conferenceData"],[q2,1,"attendees"],[e8,1,"organizerEmail"],[t8,1,"organizerName"],[n8,1,"calendar"],[r8,1,"recurrence"],[s8,1,"readOnly"],[i8,1,"_canInviteOthers"],[a8,1,"isOrganizer"],[o8,1,"isCreator"],[l8,1,"influencesAvailability"],[c8,1,"createdAt"],[re,1,"updatedAt"],[u8,1,"isFocusBlock"],[d8,1,"isFollower"],[h8,1,"followedEvent"],[f8,1,"fingerprint"],[re,1,"eligibilities"],[re,1,"parentEligibilities"],[re,1,"parentUuid"],[re,1,"flexibleMoveInfo"],[re,1,"flexibleMoveIndicator"],[m8,1,"remoteColorId"],[p8,1,"htmlLink"],[g8,1,"visibility"],[b8,1,"attachments"],[y8,1,"status"],[v8,1,"workingLocation"],[x8,1,"outOfOfficeProperties"],[j8,1,"timezoneStart"],[S8,1,"timezoneEnd"],[A8,1,"extendedProperties"],[Y,2,"setDefaultConferenceSolution"],[Y,2,"setupAutoConferenceHandler"],[Y,2,"loadFallback"],[ne,3,"dates"],[ne,3,"asJson"],[ne,3,"presentAsAllDay"],[ne,3,"start"],[ne,3,"end"],[Y,2,"save"],[Y,2,"afterSave"],[ne,3,"duration"],[ne,3,"isRecurring"],[ne,3,"peopleAttendees"],[ne,3,"isMeeting"],[ne,3,"multiday"],[ne,3,"attendanceStatus"],[ne,3,"selfAttendee"],[ne,3,"haveAllAttendeesDeclined"],[ne,3,"haveSomeAttendeesDeclined"],[ne,3,"isFirstInvite"],[ne,3,"isInfluencingAvailability"],[ne,3,"timeWindow"],[ne,3,"rrule"],[ne,3,"isDailyRecurring"],[ne,3,"shouldHighlightEvent"],[ne,3,"saveLabel"],[ne,3,"meetingRoomAttendee"],[ne,3,"meetingRoom"],[ne,3,"hasGroupAttendees"],[ne,3,"formattedLocation"],[ne,3,"internalMeeting"],[ne,3,"canRespond"],[ne,3,"canMakeOrganizerOptional"],[ne,3,"canBeEdited"],[ne,3,"canSuggestToEditInGoogleCalendar"],[ne,3,"canEditPersonalFields"],[ne,3,"canInviteOthers"],[ne,3,"canDeleteOrDecline"],[ne,3,"canChangeAllDayField"],[ne,3,"meetingBoard"],[ne,3,"meetingBoardProgress"],[Y,2,"setStartsAt"],[Y,2,"setStartsAtDate"],[Y,2,"setDuration"],[Y,2,"setStartDate"],[Y,2,"setEndDate"],[Y,2,"setStartTime"],[Y,2,"setEndTime"],[Y,2,"normalizeStartAndEnd"],[Y,2,"setAllDay"],[Y,2,"setInfluencesAvailability"],[Y,2,"setRecurrence"],[Y,2,"setAttendanceStatus"],[Y,2,"setSelected"],[Y,2,"setIsChangingDuration"],[Y,2,"setIsMoving"],[Y,2,"setTaskCompletion"],[Y,2,"setCalendar"],[Y,2,"addAttendee"],[Y,2,"addOrganizerAttendee"],[Y,2,"addResourceAttendee"],[Y,2,"markAllOtherAttendeesAsNeedsAction"],[ne,3,"organizerAttendee"],[Y,2,"removeAttendeeByEmail"],[Y,2,"pasteEvent"],[Y,2,"applyProposal"],[Y,2,"setHasBeenHighlighted"],[Y,2,"setType"],[Y,2,"setWorkingLocationType"],[Y,2,"setOutOfOfficeProperties"],[Y,2,"setIsHovered"]],[],0,void 0,be).e);let de=bi;var Cw,Tw;function oZ(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:Nw(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||Nw(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return uZ(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:lZ(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function lZ(t){var e=cZ(t,"string");return typeof e=="symbol"?e:e+""}function cZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nw(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function uZ(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}var C1,bd;const Hg=class Hg{constructor({peopleStore:e}){ie(this,"peopleStore",void Cw(this));B(this,bd,Tw(this,[]));ie(this,"refreshInterval",null);ie(this,"fetchFavorites",async()=>{const e=await ue.favorites.list();xe(()=>{this.favorites=e.map(s=>{const i=new ui;return i.fromJSON(s),i})});const n=await ue.favorites.getStatus();xe(()=>{this.favorites.forEach(s=>{const i=n.find(({uuid:a})=>a===s.uuid);s.setStatus(i)})})});ie(this,"fetchStatus",async()=>{if(pe.connectionStatus==="offline")return;const e=await ue.favorites.getStatus();xe(()=>{this.favorites=this.favorites.map(n=>{const s=e.find(({uuid:i})=>i===n.uuid);return n.setStatus(s),n})})});this.peopleStore=e,this.fetchFavorites(),this.refreshInterval=setInterval(()=>{this.fetchStatus()},6e4)}get favorites(){return H(this,bd)}set favorites(e){V(this,bd,e)}dispose(){clearInterval(this.refreshInterval)}toggleFavorite(e){const n=this.favorites.find(a=>a.email===e);if(n){this.favorites=this.favorites.filter(a=>a.uuid!==n.uuid),ue.favorites.delete(n.uuid);return}const s={uuid:tn(),email:e};ue.favorites.save({json:s}).then(()=>this.fetchStatus());const i=new ui;i.uuid=s.uuid,i.email=s.email,this.favorites.push(i)}updateFromJSON(e){const n=e.map(s=>new ui().fromJSON(s));this.favorites.push(...n),this.fetchStatus()}};C1=new WeakMap,bd=new WeakMap,B(Hg,C1,[Tw,Cw]=oZ(Hg,[[re,1,"favorites"],[Y,2,"toggleFavorite"],[Y,2,"updateFromJSON"]],[]).e);let By=Hg;var kw,_w,Ow;function dZ(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:Iw(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||Iw(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return mZ(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:hZ(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function hZ(t){var e=fZ(t,"string");return typeof e=="symbol"?e:e+""}function fZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Iw(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function mZ(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}var T1,yd,vd;const Vg=class Vg{constructor(e){ie(this,"eventsStoreManager",void kw(this));B(this,yd,_w(this,[]));B(this,vd,Ow(this,{topPeopleInDomains:{status:"idle",timeStamp:0},userStats:{status:"idle",timeStamp:0}}));this.eventsStoreManager=e}get topInDomains(){return H(this,yd)}set topInDomains(e){V(this,yd,e)}get loadingStates(){return H(this,vd)}set loadingStates(e){V(this,vd,e)}get isLoadingTopPeopleInDomainsOrIdle(){return Hy(this.loadingStates.topPeopleInDomains,["loading","idle"])}get hasNoTopPeopleInDomainsToInvite(){return Hy(this.loadingStates.topPeopleInDomains,["loaded","reloading","error"])?this.topInDomains.filter(e=>e.status==="external").length===0:!1}get topPeopleInDomainsToInvite(){return this.topInDomains.filter(e=>e.status==="external"||e.status==="invited")}prefetchTopPeopleInDomains(){return pZ({loadingState:this.loadingStates.topPeopleInDomains,cacheValidityMs:mH,fetch:ue.people.listTopInDomains,onSuccess:e=>{this.topInDomains=e}})}};T1=new WeakMap,yd=new WeakMap,vd=new WeakMap,B(Vg,T1,[_w,Ow,kw]=dZ(Vg,[[re,1,"topInDomains"],[re,1,"loadingStates"],[ne,3,"isLoadingTopPeopleInDomainsOrIdle"],[ne,3,"hasNoTopPeopleInDomainsToInvite"],[ne,3,"topPeopleInDomainsToInvite"]],[]).e);let Fy=Vg;function Hy(t,e){return e.includes(t.status)}function pZ({loadingState:t,cacheValidityMs:e,fetch:n,onSuccess:s}){if(!(Hy(t,["loading","reloading"])||Date.now()-t.timeStamp<e&&t.status!=="error"))return t.status==="loaded"?t.status="reloading":t.status="loading",n().then(i=>{xe(()=>{s(i),t.status="loaded",t.timeStamp=Date.now()})},()=>{xe(()=>{t.status="error"})})}var Mw,Rw;function gZ(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:Pw(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||Pw(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return vZ(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:bZ(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function bZ(t){var e=yZ(t,"string");return typeof e=="symbol"?e:e+""}function yZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pw(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function vZ(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}var N1,xd;const Wg=class Wg{constructor(e){ie(this,"accounts",void Mw(this));B(this,xd,Rw(this,null));ie(this,"fetchPeople",async()=>{const e=await ue.people.list();xe(()=>{this.people=e.map(n=>({name:n.name,firstName:n.first_name,lastName:n.last_name,email:n.email,profileImageUrl:n.profile_image_url,hasRise:n.has_rise}))})});this.accounts=e,setTimeout(()=>{this.fetchPeople()},2e3)}get people(){return H(this,xd)}set people(e){V(this,xd,e)}filterPeople(e,n,s,i){return this.excludeEmails(this.filterOnQuery(this.filterOnDomains(e,s,i),n),this.accounts.ownEmails)}excludeEmails(e,n){return n===null?e:e.filter(s=>n.indexOf(s.email)===-1)}filterOnDomains(e,n,s){return n!==null?e.filter(i=>Er(i.email,n)||s&&i.hasRise):e}filterOnQuery(e,n){return n===null?e:e.filter(s=>n&&s.email.toLowerCase().indexOf(n.toLowerCase())>-1||n&&s.name&&s.name.toLowerCase().indexOf(n.toLowerCase())>-1)}profileImageUrlForEmail(e){var n,s;return e===null?null:(s=(n=this.people)==null?void 0:n.find(i=>i.email===e))==null?void 0:s.profileImageUrl}nameForEmail({email:e,fallbackOnEmail:n,preferFirstName:s,preferLastName:i}){var l;if(e===null)return null;const a=(l=this.people)==null?void 0:l.find(p=>p.email===e);if(a){if(s&&a.firstName&&a.firstName!=="")return a.firstName;if(i&&a.lastName&&a.lastName!=="")return a.lastName;if(a.name&&a.name!=="")return a.name}return n?e:null}get contactsWithRise(){var n;const e=(n=this.people)==null?void 0:n.filter(s=>s.hasRise);return e&&e.length>0?new Set(e.map(s=>s.email)):new Set}};N1=new WeakMap,xd=new WeakMap,B(Wg,N1,[Rw,Mw]=gZ(Wg,[[re,1,"people"],[ne,3,"contactsWithRise"]],[]).e);let Vy=Wg;var Lw,Bw,Fw,Hw,Vw,Ww,$w,Uw,Gw,zw,Kw,Zw,Yw;function xZ(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:Xw(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||Xw(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return AZ(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:jZ(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function jZ(t){var e=SZ(t,"string");return typeof e=="symbol"?e:e+""}function SZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xw(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function AZ(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}const Jw=6;var $t=(t=>(t.Normal="normal",t.SelectProposals="select-proposals",t))($t||{}),k1,jd,Sd,Ad,Ed,Dd,wd,Cd,Td,Nd,kd,_d,Od;const $g=class $g{constructor({userStore:e,alternativeCalendarsStore:n,onCalendarDateRangeChanged:s}){ie(this,"alternativeCalendarsStore",void Lw(this));ie(this,"userStore");ie(this,"minimumOverScanAmount",3);ie(this,"onCalendarDateRangeChanged");ie(this,"calendarDateRangeReaction");B(this,jd,Bw(this));B(this,Sd,Fw(this));B(this,Ad,Hw(this,new Date));B(this,Ed,Vw(this,"normal"));B(this,Dd,Ww(this,null));B(this,wd,$w(this,null));B(this,Cd,Uw(this,null));B(this,Td,Gw(this,null));B(this,Nd,zw(this,null));B(this,kd,Kw(this,!1));B(this,_d,Zw(this,null));B(this,Od,Yw(this,"none"));this.userStore=e,this.alternativeCalendarsStore=n,this.onCalendarDateRangeChanged=s,this.calendarDateRangeReaction=r0(()=>this.calendarRange,i=>this.onCalendarDateRangeChanged(i))}get calendarDate(){return H(this,jd)}set calendarDate(e){V(this,jd,e)}get middleItemDate(){return H(this,Sd)}set middleItemDate(e){V(this,Sd,e)}get appLoadedAt(){return H(this,Ad)}set appLoadedAt(e){V(this,Ad,e)}get calendarMode(){return H(this,Ed)}set calendarMode(e){V(this,Ed,e)}get copiedEvent(){return H(this,Dd)}set copiedEvent(e){V(this,Dd,e)}get conceptEventPlaceholder(){return H(this,wd)}set conceptEventPlaceholder(e){V(this,wd,e)}get delegate(){return H(this,Cd)}set delegate(e){V(this,Cd,e)}get selectedObject(){return H(this,Td)}set selectedObject(e){V(this,Td,e)}get movingObject(){return H(this,Nd)}set movingObject(e){V(this,Nd,e)}get isScrolling(){return H(this,kd)}set isScrolling(e){V(this,kd,e)}get calendarTime(){return H(this,_d)}set calendarTime(e){V(this,_d,e)}get partiallyVisibleDirection(){return H(this,Od)}set partiallyVisibleDirection(e){V(this,Od,e)}setInitialCalendarDate(){const e=i7(ge.nowStartOfMinute,this.userStore.localTimeZoneString).toDate(GL());this.setCalendarDate(e),this.calendarTime=new Date(ge.nowStartOfMinute),this.middleItemDate=this.calendarDate}initialize(){this.onCalendarDateRangeChanged(this.calendarRange)}dispose(){this.calendarDateRangeReaction()}get calendarDays(){const e=Ei(this.calendarDate,0,0,this.userStore.localTimeZoneString);if(this.calendarView==="day")return[e];const n=this.userStore.weekendVisible||Un(e,this.userStore.localTimeZoneString)?fe:Gn;if(this.calendarView==="week"){const i=[e,n(e,1),n(e,2),n(e,3),n(e,4)];return this.userStore.weekendVisible&&i.push(n(e,5),n(e,6)),i}if(this.calendarView==="month"){const i=[],a=this.userStore.weekendVisible?7:5;for(let l=0;l<Jw;l++)for(let p=0;p<a;p++)i.push(n(e,l*a+p));return i}const s=[e];for(let i=1;i<this.calendarView;i++)s.push(n(e,i));return s}get firstCalendarDay(){return this.calendarDays[0]}get lastCalendarDay(){return this.calendarDays[this.calendarDays.length-1]}get calendarDaysStart(){return this.firstCalendarDay}get calendarDaysEnd(){return fe(this.lastCalendarDay,1)}get calendarRange(){return{startDate:Wt(this.calendarDays[0]),endDate:Wt(this.calendarDays[this.calendarDays.length-1])}}get partiallyVisibleCalendarDays(){const{partiallyVisibleDirection:e,calendarDays:n}=this;if(e==="none")return n;const s=this.userStore.weekendVisible||Un(this.calendarDate,this.userStore.localTimeZoneString)?fe:Gn,i=this.calendarView==="month"?this.userStore.weekendVisible?7:5:1,a=[...n];if(e==="forward")for(let l=0;l<i;l++)a.push(s(a[a.length-1],1));else for(let l=0;l<i;l++)a.unshift(s(a[0],-1));return a}get amountOfCalendarDays(){return this.calendarView==="week"?this.userStore.weekendVisible?7:5:this.calendarView==="month"?Jw*(this.userStore.weekendVisible?7:5):this.calendarView==="day"?1:this.calendarView}get overScanAmount(){return Math.max(this.amountOfCalendarDays,this.minimumOverScanAmount)}get calendarDaysWithOverScan(){const e=[...this.calendarDays],n=this.overScanAmount,s=this.userStore.weekendVisible?fe:Gn;for(let i=0;i<n;i++)e.unshift(s(e[0],-1)),e.push(s(e[e.length-1],1));return e}get isTodayVisible(){return this.isDayVisible(ge.nowStartOfDay)}get calendarMonthString(){if(this.calendarView==="month"){const s=ri(Xt(this.calendarDate,this.userStore.localTimeZoneString));return ep(s,this.userStore.startOfWeekLocale).add({weeks:2}).toString().slice(0,7)}const e=ri(Xt(this.firstCalendarDay,this.userStore.localTimeZoneString)),n=ri(Xt(this.lastCalendarDay,this.userStore.localTimeZoneString));return e.month===n.month||ep(e,this.userStore.startOfWeekLocale).month===n.month?n.toString().slice(0,7):e.toString().slice(0,7)}get calendarMonth(){return new Date(this.calendarMonthString+"-01T00:00")}isDayVisible(e){return this.calendarDays.some(n=>Ve(n,e))}setCalendarDate(e){if(e){!this.userStore.weekendVisible&&Un(e,this.userStore.localTimeZoneString)&&this.userStore.toggleWeekendWithoutChangingCalendarDate();const n=tp(`${Wt(e)}T00:00[${this.userStore.localTimeZoneString}]`);if(this.calendarView==="week"){const s=Ys(n,this.userStore.startOfWeekLocale);!this.userStore.weekendVisible&&jb(s,this.userStore.startOfWeekLocale)?this.calendarDate=s.add({days:Sb(s,"en-US")===6?2:1}).toDate():this.calendarDate=s.toDate()}else if(this.calendarView==="month"){const s=Ys(zL(ep(n,this.userStore.startOfWeekLocale)),this.userStore.startOfWeekLocale);!this.userStore.weekendVisible&&jb(s,this.userStore.startOfWeekLocale)?this.calendarDate=s.add({days:Sb(s,"en-US")===6?2:1}).toDate():this.calendarDate=s.toDate()}else this.calendarDate=n.toDate()}}setCalendarDateViaScrolling(e){this.calendarDate=e}resetMiddleItemDate(){this.middleItemDate=this.calendarDate}setCalendarDateTime(e){(!e||!this.isDayVisible(e))&&this.setCalendarDate(e),this.calendarTime=e?new Date(e):null}resetCalendarTime(){this.calendarTime=null}gotoToday(){this.setInitialCalendarDate()}gotoPrev(){const e=this.calendarDate;if(this.calendarView==="week")this.calendarDate=Re(e,-1);else if(this.calendarView==="month"){const n=tp(`${this.calendarMonthString}-01T00:00[${this.userStore.localTimeZoneString}]`).add({months:-1}),s=Ys(n,this.userStore.startOfWeekLocale);this.calendarDate=this.userStore.startOfWeek===0&&!this.userStore.weekendVisible?s.add({days:1}).toDate():s.toDate()}else{const n=this.userStore.weekendVisible||Un(e,this.userStore.localTimeZoneString)?fe:Gn;this.calendarDate=n(e,(this.calendarView==="day"?1:this.calendarView)*-1)}}gotoNext(){const e=this.calendarDate;if(this.calendarView==="week")this.calendarDate=Re(e,1);else if(this.calendarView==="month"){const n=tp(`${this.calendarMonthString}-01T00:00[${this.userStore.localTimeZoneString}]`).add({months:1}),s=Ys(n,this.userStore.startOfWeekLocale);this.calendarDate=this.userStore.startOfWeek===0&&!this.userStore.weekendVisible?s.add({days:1}).toDate():s.toDate()}else{const n=this.userStore.weekendVisible||Un(e,this.userStore.localTimeZoneString)?fe:Gn;this.calendarDate=n(e,this.calendarView==="day"?1:this.calendarView)}}async setSelectedObject(e){var n;if(!(this.selectedObject===null&&e===null)){if(this.selectedObject){if(this.selectedObject instanceof de){if(this.selectedObject.mode==="suboptimal"){if(!e)return;e instanceof Ce||(n=this.delegate)!=null&&n.userInSuboptimalSelectsAnotherEvent&&this.setSelectedObject(await this.delegate.userInSuboptimalSelectsAnotherEvent(this.selectedObject,e));return}if(this.selectedObject.isDirty&&!this.selectedObject.isDeleted&&!this.selectedObject.isDraft){this.selectedObject.save({opts:{confirmDecision:!0}}).then(({saveDecision:s})=>{(s==="save"||s==="discard")&&this.setSelectedObject(e)});return}this.selectedObject.isDraft&&this.selectedObject.delete(),e||this.alternativeCalendarsStore.closeCalendarsByContext(_t.EVENT)}this.selectedObject instanceof Ce&&(this.selectedObject.isDraft?this.selectedObject.delete():this.selectedObject.isDirty&&this.selectedObject.save()),this.selectedObject.setSelected(!1)}if(this.selectedObject=e,this.selectedObject===null){this.alternativeCalendarsStore.setForceHideBestTimesToMeet(!1);return}this.setCalendarMode("normal"),this.selectedObject.setSelected(!0)}}setMovingObject(e,n){this.conceptEventPlaceholder=n,this.movingObject=e}setCalendarMode(e){this.calendarMode=e,e==="select-proposals"&&(this.setSelectedObject(null),this.calendarView==="month"&&this.setCalendarView("week"))}setCalendarView(e){if(e===this.calendarView||e==="month"&&this.calendarMode==="select-proposals")return;const n=this.isTodayVisible;this.userStore.setCalendarViewWithoutChangingCalendarDate(e),n?this.gotoToday():this.setCalendarDate(this.calendarDate)}toggleWeekend(){this.userStore.toggleWeekendWithoutChangingCalendarDate(),this.userStore.weekendVisible&&this.userStore.startOfWeek===0&&this.calendarView==="month"&&(this.calendarDate=fe(this.calendarDate,-1)),!this.userStore.weekendVisible&&Un(this.calendarDate,this.userStore.localTimeZoneString)&&(this.calendarDate=n0(this.calendarDate))}setDisplayTimezone(e){this.userStore.setDisplayTimezone(e),this.setInitialCalendarDate()}};k1=new WeakMap,jd=new WeakMap,Sd=new WeakMap,Ad=new WeakMap,Ed=new WeakMap,Dd=new WeakMap,wd=new WeakMap,Cd=new WeakMap,Td=new WeakMap,Nd=new WeakMap,kd=new WeakMap,_d=new WeakMap,Od=new WeakMap,B($g,k1,[Bw,Fw,Hw,Vw,Ww,$w,Uw,Gw,zw,Kw,Zw,Yw,Lw]=xZ($g,[[re,1,"calendarDate"],[re,1,"middleItemDate"],[re,1,"appLoadedAt"],[re,1,"calendarMode"],[re,1,"copiedEvent"],[re,1,"conceptEventPlaceholder"],[re,1,"delegate"],[re,1,"selectedObject"],[re,1,"movingObject"],[re,1,"isScrolling"],[re,1,"calendarTime"],[re,1,"partiallyVisibleDirection"],[Y,2,"setInitialCalendarDate"],[ne,3,"calendarDays"],[ne,3,"firstCalendarDay"],[ne,3,"lastCalendarDay"],[ne,3,"calendarDaysStart"],[ne,3,"calendarDaysEnd"],[ne,3,"calendarRange"],[ne,3,"partiallyVisibleCalendarDays"],[ne,3,"amountOfCalendarDays"],[ne,3,"overScanAmount"],[ne,3,"calendarDaysWithOverScan"],[ne,3,"isTodayVisible"],[ne,3,"calendarMonthString"],[ne,3,"calendarMonth"],[Y,2,"setCalendarDate"],[Y,2,"setCalendarDateViaScrolling"],[Y,2,"resetMiddleItemDate"],[Y,2,"setCalendarDateTime"],[Y,2,"resetCalendarTime"],[Y,2,"gotoPrev"],[Y,2,"gotoNext"],[Y,2,"setSelectedObject"],[Y,2,"setMovingObject"],[Y,2,"setCalendarMode"],[Y,2,"setCalendarView"],[Y,2,"toggleWeekend"],[Y,2,"setDisplayTimezone"]],[]).e);let Op=$g;var Qw,qw,eC,tC,nC,rC,sC,iC,aC,oC,lC;function EZ(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:cC(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||cC(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return CZ(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:DZ(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function DZ(t){var e=wZ(t,"string");return typeof e=="symbol"?e:e+""}function wZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cC(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function CZ(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}var _1,Id,Md,Rd,Pd,Ld,Bd,Fd,Hd,Vd,Wd;const Ug=class Ug{constructor(e,n,s){ie(this,"appStore",void Qw(this));ie(this,"userStore");B(this,Id,qw(this));B(this,Md,eC(this,[]));B(this,Rd,tC(this,null));B(this,Pd,nC(this,"best-slots"));B(this,Ld,rC(this,null));B(this,Bd,sC(this,30));B(this,Fd,iC(this,[]));B(this,Hd,aC(this,!1));B(this,Vd,oC(this,null));B(this,Wd,lC(this,null));this.appStore=e,this.userStore=n,this.schedulingLinks=s,this.duration=this.userStore.defaultEventDuration}get schedulingLinks(){return H(this,Id)}set schedulingLinks(e){V(this,Id,e)}get proposals(){return H(this,Md)}set proposals(e){V(this,Md,e)}get timezone(){return H(this,Rd)}set timezone(e){V(this,Rd,e)}get mode(){return H(this,Pd)}set mode(e){V(this,Pd,e)}get calendarDate(){return H(this,Ld)}set calendarDate(e){V(this,Ld,e)}get duration(){return H(this,Bd)}set duration(e){V(this,Bd,e)}get users(){return H(this,Fd)}set users(e){V(this,Fd,e)}get schedulingLinkToggle(){return H(this,Hd)}set schedulingLinkToggle(e){V(this,Hd,e)}get schedulingLink(){return H(this,Vd)}set schedulingLink(e){V(this,Vd,e)}get locale(){return H(this,Wd)}set locale(e){V(this,Wd,e)}addProposal(e){this.proposals.push(e),this.mode="manual"}resetProposals(){this.proposals=[],this.schedulingLinkToggle=!1,this.schedulingLink=null,this.mode="best-slots"}removeProposal(e){this.proposals=this.proposals.filter(n=>n!==e),this.proposals.length===0&&(this.mode="best-slots")}setCalendarDate(e){this.calendarDate=pt(e),this.suggestionsForActiveMode()}setDuration(e){this.duration=e}setUsers(e){this.users=e}toggleSchedulingLink(){this.schedulingLinkToggle=!this.schedulingLinkToggle,this.schedulingLinkToggle?this.createSchedulingLink():this.removeSchedulingLink()}createSchedulingLink(){this.schedulingLink=this.schedulingLinks.new(),this.schedulingLink.title=`${this.duration}-min meeting`,this.schedulingLink.slug=TZ(),this.schedulingLink.calendar=this.userStore.calendarForNewEvents,this.schedulingLink.conferenceSolution=this.userStore.defaultConferenceSolution,this.schedulingLink.singleUse=!0,this.schedulingLink.minimumDistance={value:0,period:"minutes"},this.updateSchedulingLink()}updateSchedulingLink(){var n;if(!this.schedulingLink)return;this.schedulingLink.setDuration(this.duration),this.schedulingLink.options=this.proposals.map(s=>({startsAt:s.startsAt,endsAt:s.endsAt}));const e=(n=this.schedulingLink.calendar)==null?void 0:n.account.accountEmail;this.schedulingLink.contactEmails=(this.users.length>0?[e,...this.users]:[]).filter(ct),this.schedulingLink.save()}removeSchedulingLink(){this.schedulingLink&&(this.schedulingLinks.delete(this.schedulingLink),this.schedulingLink=null)}setTimezone(e){this.timezone=e}setLocale(e){this.locale=e}suggestionsForActiveMode(){if(this.mode==="best-slots")return this.findSuggestions()}findSuggestions(){if(this.appStore.calendarMode!==$t.SelectProposals)return;let e="this week";this.calendarDate&&(e=`week ${rt(this.calendarDate,"I")}`);const n=S_({timeWindowString:e||"this week"});ue.findTime({query_uuid:tn(),source:"select-proposals",duration:this.duration,time_window:{starts_at:bn(n.startsAt),ends_at:bn(n.endsAt)},users:this.users}).then(s=>{xe(()=>{this.proposals=s.suggested_slots.map(i=>{const a=yn(i.time);return new _i(a,Ie(a,this.duration))}),this.schedulingLink!==null&&(this.schedulingLink.setDuration(this.duration),this.schedulingLink.title=`${this.duration}-min meeting`,this.schedulingLink.options=this.proposals,this.schedulingLink.save())})})}get supportedLocales(){return["nl-NL"]}getProposalIntroByLocale(e,n){return e==="nl-NL"?`Zou ${lr(this.duration,!1,e)} op een van deze momenten (alle tijden in ${n.abbreviation}) uitkomen?`:`Would ${lr(this.duration)} during any of these times (all in ${n.abbreviation}) work for you?`}getFormatLocaleForLocale(e){if(e==="nl-NL")return KL.nl}getProposalTextAs(e){const n=e==="html"?"<br />":`
`,s=this.timezone||Kn(gr()),i=this.locale||this.userStore.locale;return`${this.getProposalIntroByLocale(i,s)}${n}${n}`.concat([...this.proposals].sort((l,p)=>Ar(l.startsAt,p.startsAt)).flatMap((l,p,f)=>{let v=[];const E=Se(l.startsAt,s.name);(p===0||!Ve(l.startsAt,f[p-1].startsAt))&&v.push(rt(E,"MMM do (EEEE)",{locale:this.getFormatLocaleForLocale(i)}));const w=Se(l.endsAt,s.name);return v.push(` ${Ye(E,this.userStore.timeNotation)} - ${Ye(w,this.userStore.timeNotation)}`),v}).join(n))}get proposalHTML(){var s;const e=`https://meet.risecalendar.com/${this.userStore.username}/${(s=this.schedulingLink)==null?void 0:s.slug}`;let n=this.getProposalTextAs("html");return this.schedulingLinkToggle&&(n=n.concat(`<br /><br /><a class="underline" target="_blank" href=${e}>${e}</a>`)),n}get proposalText(){var s;const e=`https://meet.risecalendar.com/${this.userStore.username}/${(s=this.schedulingLink)==null?void 0:s.slug}`;let n=this.getProposalTextAs("text");return this.schedulingLinkToggle&&(n=n.concat(`

${e}`)),n}};_1=new WeakMap,Id=new WeakMap,Md=new WeakMap,Rd=new WeakMap,Pd=new WeakMap,Ld=new WeakMap,Bd=new WeakMap,Fd=new WeakMap,Hd=new WeakMap,Vd=new WeakMap,Wd=new WeakMap,B(Ug,_1,[qw,eC,tC,nC,rC,sC,iC,aC,oC,lC,Qw]=EZ(Ug,[[re,1,"schedulingLinks"],[re,1,"proposals"],[re,1,"timezone"],[re,1,"mode"],[re,1,"calendarDate"],[re,1,"duration"],[re,1,"users"],[re,1,"schedulingLinkToggle"],[re,1,"schedulingLink"],[re,1,"locale"],[Y,2,"addProposal"],[Y,2,"resetProposals"],[Y,2,"removeProposal"],[Y,2,"setCalendarDate"],[Y,2,"setDuration"],[Y,2,"setUsers"],[Y,2,"toggleSchedulingLink"],[Y,2,"createSchedulingLink"],[Y,2,"updateSchedulingLink"],[Y,2,"removeSchedulingLink"],[Y,2,"setTimezone"],[Y,2,"setLocale"],[ne,3,"supportedLocales"],[ne,3,"proposalHTML"],[ne,3,"proposalText"]],[]).e);let Wy=Ug;const TZ=()=>Date.now().toString(36)+Math.random().toString(36).substring(2,2);var uC,dC;function NZ(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:hC(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||hC(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return OZ(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:kZ(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function kZ(t){var e=_Z(t,"string");return typeof e=="symbol"?e:e+""}function _Z(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hC(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function OZ(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}var O1,$d;const Gg=class Gg{constructor({objectPool:e}){ie(this,"objectPool",void uC(this));B(this,$d,dC(this,[]));ie(this,"fetchResources",async()=>{const e=await ue.resources.list();xe(()=>{this.accountResources=e.map(n=>({accountUuid:n.account_uuid,buildings:n.buildings.map(s=>this.objectPool.loadObject("building",s.uuid,s)),resources:n.resources.map(s=>this.objectPool.loadObject("resource",s.uuid,s))}))})});this.objectPool=e,this.fetchResources()}get accountResources(){return H(this,$d)}set accountResources(e){V(this,$d,e)}get hasResources(){return this.accountResources.some(e=>e.resources.length!==0)}get resourcesByAccountUuid(){return Object.fromEntries(this.accountResources.map(e=>[e.accountUuid,e.resources]))}get resourcesByRemoteEmail(){return Object.fromEntries(this.accountResources.flatMap(e=>e.resources).map(e=>[e.remoteEmail,e]))}fetchAvailability(e){return ue.resources.listAvailability(e)}};O1=new WeakMap,$d=new WeakMap,B(Gg,O1,[dC,uC]=NZ(Gg,[[re,1,"accountResources"],[ne,3,"hasResources"],[ne,3,"resourcesByAccountUuid"],[ne,3,"resourcesByRemoteEmail"]],[]).e);let $y=Gg;function IZ(t,e){const n=un.getItem(t);if(n==null)return e;try{return JSON.parse(n)}catch{return n??e}}function Qe(){return(t,e)=>{let n="";const s=e.name;function i(l,p){n=JSON.stringify(p);const f=IZ(s,p),v=re.box(f??void 0);return l.localProperties[s]=v,v.get()||p}const a={init(l){return i(this,l),l},get(){return this.localProperties[s].get()},set(l){this.localProperties[s].set(l);const p=JSON.stringify(l);p===n?un.removeItem(s):un.setItem(s,p)}};if(e.kind!=="accessor")throw new Error(`"Collection" is an accessor decorator, but was used as "${e.kind}"`);return a}}function MZ(){return{in:(t,e)=>e[t]===void 0||e[t]===null?{eventTitle:null,eventDescription:null,eventVisibility:null,eventRemoteColorId:null,autoDeclineMode:null}:{eventTitle:e[t].event_title||null,eventDescription:e[t].event_description||null,eventVisibility:e[t].event_visibility||null,eventRemoteColorId:e[t].event_remote_color_id||null,autoDeclineMode:e[t].auto_decline_mode},out:(t,e)=>e[t]===void 0||e[t]===null?null:{event_title:e[t].eventTitle,event_description:e[t].eventDescription,event_visibility:e[t].eventVisibility,event_remote_color_id:e[t].eventRemoteColorId,auto_decline_mode:e[t].autoDeclineMode}}}function RZ(){return{in:(t,e)=>e[t]===void 0?{}:{meetExplainer:e[t].meet_explainer,addFavoriteExplainer:e[t].add_favorite_explainer,settingsFocusGuard:e[t].settings_focus_guard,settingsSchedulingLinks:e[t].settings_scheduling_links},out:(t,e)=>({meet_explainer:e[t].meetExplainer,add_favorite_explainer:e[t].addFavoriteExplainer,settings_focus_guard:e[t].settingsFocusGuard,settings_scheduling_links:e[t].settingsSchedulingLinks})}}function PZ(){return{in:(t,e)=>({gettingStartedVisible:e[t].getting_started_visible,fgExplainerDone:e[t].fg_explainer_done,meetRescheduleExplainerDone:e[t].meet_reschedule_explainer_done,externalSchedulingExplainerDone:e[t].external_scheduling_explainer_done,crossCalendarBlockingExplainerDone:e[t].cross_calendar_blocking_explainer_done,contactsSetupDone:e[t].contacts_setup_done}),out:(t,e)=>({getting_started_visible:e[t].gettingStartedVisible,fg_explainer_done:e[t].fgExplainerDone,meet_reschedule_explainer_done:e[t].meetRescheduleExplainerDone,external_scheduling_explainer_done:e[t].externalSchedulingExplainerDone,cross_calendar_blocking_explainer_done:e[t].crossCalendarBlockingExplainerDone,contacts_setup_done:e[t].contactsSetupDone})}}function LZ(){return{in:(t,e)=>e[t]?JSON.parse(e[t]).map(({day:n,starts_at:s,ends_at:i})=>({day:n,startsAt:s,endsAt:i})):[],out:(t,e)=>e[t]?JSON.stringify(e[t].map(({day:n,startsAt:s,endsAt:i})=>({day:n,starts_at:s,ends_at:i}))):null}}var fC,E8,mC,D8,pC,w8,gC,C8,bC,T8,yC,N8,vC,k8,xC,_8,jC,O8,SC,I8,AC,M8,EC,R8,DC,P8,wC,L8,CC,B8,TC,F8,NC,H8,kC,V8,_C,W8,OC,$8,IC,U8,MC,G8,RC,z8,PC,K8,LC,Z8,BC,FC,Y8,HC,X8,VC,J8,WC,Q8,$C,q8,UC,eM,GC,tM,zC,nM,KC,rM,ZC,sM,YC,iM,XC,aM,JC,oM,QC,lM,qC,cM,eT,uM,tT,dM,nT,hM,rT,fM,sT,mM,iT,pM,aT,gM,oT,bM,lT,yM,cT,vM,uT,xM,dT,jM,hT,SM,fT,AM,mT,EM,pT,DM,gT,wM,bT,yT,CM,TM;function BZ(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:vT(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||vT(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return VZ(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:FZ(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function FZ(t){var e=HZ(t,"string");return typeof e=="symbol"?e:e+""}function HZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vT(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function VZ(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}const WZ="09:00",$Z="17:00";E8=q("email");D8=q("first_name");w8=q("last_name");C8=q("profile_image_url");T8=q("primary_calendar_uuid",De("calendar","primary_calendar"));N8=q("active_calendar_uuid",De("calendar","active_calendar"));k8=q("weekends_visible");_8=q("declined_events_visible");O8=q("experimental_features_enabled");I8=q("default_conference_solution_uuid",De("conference_solution"));M8=W2("working_times",LZ());R8=q("buffer_minutes");P8=q("domains_with_aliases");L8=q("timezone");B8=q("focus_guard_status");F8=q("focus_time_day_part_preference");H8=q("focus_time_threshold_minutes");V8=q("autopilot_default_setting");W8=q("email_notifications_focus_guard");$8=q("email_notifications_product_updates");U8=q("drip_campaign_unsubscribed_at");G8=q("autopilot_suggestions_email_enabled");z8=q("recent_locations");K8=q("did_onboarding");Z8=q("tags");Y8=q("username");X8=q("inbound_email_key");J8=q("uses_12_hour_clock");Q8=q("onboarding_state",PZ());q8=q("focus_guard_settings",MZ());eM=q("hint_dismissed",RZ());tM=q("locale");nM=q("start_of_week");rM=Qe();sM=Qe();iM=Qe();aM=Qe();oM=Qe();lM=Qe();cM=Qe();uM=Qe();dM=Qe();hM=Qe();fM=Qe();mM=Qe();pM=Qe();gM=Qe();bM=Qe();yM=Qe();vM=Qe();xM=Qe();jM=Qe();SM=Qe();AM=Qe();EM=Qe();DM=Qe();wM=q("default_event_duration");CM=[Y,Y.bound];TM=[Y,Y.bound];var I1,Ud,Gd,zd,Kd,Zd,Yd,Xd,Jd,Qd,qd,eh,th,nh,rh,sh,ih,ah,oh,lh,ch,uh,dh,hh,fh,mh,ph,gh,bh,yh,vh,xh,jh,Sh,Ah,Eh,Dh,wh,Ch,Th,Nh,kh,_h,Oh,Ih,Mh,Rh,Ph,Lh,Bh,Fh,Hh,Vh,Wh,$h,Uh,Gh,zh,Kh,Zh;const zg=class zg extends be{constructor({uuid:n,transactionQueue:s,objectPool:i}){super({entity:"user",uuid:n,transactionQueue:s,objectPool:i,persistFunctions:{persistPartials:!0,save:a=>ue.user.patchMe(a)}});B(this,Ud,(fC(this),mC(this,null)));B(this,Gd,pC(this,null));B(this,zd,gC(this,null));B(this,Kd,bC(this,null));B(this,Zd,yC(this,null));B(this,Yd,vC(this,null));B(this,Xd,xC(this,!1));B(this,Jd,jC(this,!1));B(this,Qd,SC(this,!1));B(this,qd,AC(this,null));B(this,eh,EC(this,[]));B(this,th,DC(this,null));B(this,nh,wC(this,null));B(this,rh,CC(this,null));B(this,sh,TC(this,"disabled"));B(this,ih,NC(this,null));B(this,ah,kC(this,null));B(this,oh,_C(this,null));B(this,lh,OC(this,!0));B(this,ch,IC(this,!0));B(this,uh,MC(this,null));B(this,dh,RC(this,!0));B(this,hh,PC(this,[]));B(this,fh,LC(this,!1));B(this,mh,BC(this,[]));B(this,ph,FC(this,new Set));B(this,gh,HC(this,null));B(this,bh,VC(this,null));B(this,yh,WC(this,!1));B(this,vh,$C(this,{gettingStartedVisible:!0,fgExplainerDone:!1,meetRescheduleExplainerDone:!1,externalSchedulingExplainerDone:!1,crossCalendarBlockingExplainerDone:!1,contactsSetupDone:!1}));B(this,xh,UC(this,{eventTitle:null,eventDescription:null,eventVisibility:null,eventRemoteColorId:null,autoDeclineMode:null}));B(this,jh,GC(this,{meetExplainer:!1,addFavoriteExplainer:!1}));B(this,Sh,zC(this,null));B(this,Ah,KC(this,null));B(this,Eh,ZC(this,!0));B(this,Dh,YC(this,30));B(this,wh,XC(this,12));B(this,Ch,JC(this,null));B(this,Th,QC(this,null));B(this,Nh,qC(this,"week"));B(this,kh,eT(this,"day"));B(this,_h,tT(this,!0));B(this,Oh,nT(this,!0));B(this,Ih,rT(this,"normal"));B(this,Mh,sT(this,1));B(this,Rh,iT(this,!0));B(this,Ph,aT(this,!0));B(this,Lh,oT(this,30));B(this,Bh,lT(this,30));B(this,Fh,cT(this,"user"));B(this,Hh,uT(this,"system"));B(this,Vh,dT(this,null));B(this,Wh,hT(this,null));B(this,$h,fT(this,!1));B(this,Uh,mT(this,!1));B(this,Gh,pT(this,"google_maps"));B(this,zh,gT(this,!0));B(this,Kh,bT(this,30));ie(this,"disposables",new Set);B(this,Zh,yT(this,[]));pe.client!=="ios"&&(this.disposables.add(Jn(()=>{document.documentElement.classList.toggle("dark",this.isDarkMode)})),this.disposables.add(Jn(()=>{document.documentElement.classList.toggle("no-pointer-cursor",this.noPointerCursor)}))),this.loadSecondaryTimezones()}get email(){return H(this,Ud)}set email(n){V(this,Ud,n)}get firstName(){return H(this,Gd)}set firstName(n){V(this,Gd,n)}get lastName(){return H(this,zd)}set lastName(n){V(this,zd,n)}get profileImageUrl(){return H(this,Kd)}set profileImageUrl(n){V(this,Kd,n)}get primaryCalendar(){return H(this,Zd)}set primaryCalendar(n){V(this,Zd,n)}get activeCalendar(){return H(this,Yd)}set activeCalendar(n){V(this,Yd,n)}get weekendVisible(){return H(this,Xd)}set weekendVisible(n){V(this,Xd,n)}get declinedEventsVisible(){return H(this,Jd)}set declinedEventsVisible(n){V(this,Jd,n)}get experimentalFeaturesEnabled(){return H(this,Qd)}set experimentalFeaturesEnabled(n){V(this,Qd,n)}get defaultConferenceSolution(){return H(this,qd)}set defaultConferenceSolution(n){V(this,qd,n)}get workingTimes(){return H(this,eh)}set workingTimes(n){V(this,eh,n)}get bufferMinutes(){return H(this,th)}set bufferMinutes(n){V(this,th,n)}get domainsWithAliases(){return H(this,nh)}set domainsWithAliases(n){V(this,nh,n)}get timezone(){return H(this,rh)}set timezone(n){V(this,rh,n)}get focusGuardStatus(){return H(this,sh)}set focusGuardStatus(n){V(this,sh,n)}get focusTimeDayPartPreference(){return H(this,ih)}set focusTimeDayPartPreference(n){V(this,ih,n)}get focusTimeThresholdMinutes(){return H(this,ah)}set focusTimeThresholdMinutes(n){V(this,ah,n)}get autoPilotDefaultSetting(){return H(this,oh)}set autoPilotDefaultSetting(n){V(this,oh,n)}get emailNotificationsFocusGuard(){return H(this,lh)}set emailNotificationsFocusGuard(n){V(this,lh,n)}get emailNotificationsProductUpdates(){return H(this,ch)}set emailNotificationsProductUpdates(n){V(this,ch,n)}get dripCampaignUnsubscribedAt(){return H(this,uh)}set dripCampaignUnsubscribedAt(n){V(this,uh,n)}get autoPilotSuggestionsEmailEnabled(){return H(this,dh)}set autoPilotSuggestionsEmailEnabled(n){V(this,dh,n)}get recentLocations(){return H(this,hh)}set recentLocations(n){V(this,hh,n)}get didOnboarding(){return H(this,fh)}set didOnboarding(n){V(this,fh,n)}get _tags(){return H(this,mh)}set _tags(n){V(this,mh,n)}get tagsLoose(){return H(this,ph)}set tagsLoose(n){V(this,ph,n)}get username(){return H(this,gh)}set username(n){V(this,gh,n)}get inboundEmailKey(){return H(this,bh)}set inboundEmailKey(n){V(this,bh,n)}get uses12HourClock(){return H(this,yh)}set uses12HourClock(n){V(this,yh,n)}get onboardingState(){return H(this,vh)}set onboardingState(n){V(this,vh,n)}get focusGuardSettings(){return H(this,xh)}set focusGuardSettings(n){V(this,xh,n)}get hintDismissed(){return H(this,jh)}set hintDismissed(n){V(this,jh,n)}get _locale(){return H(this,Sh)}set _locale(n){V(this,Sh,n)}get _startOfWeek(){return H(this,Ah)}set _startOfWeek(n){V(this,Ah,n)}get navigationSideBarVisible(){return H(this,Eh)}set navigationSideBarVisible(n){V(this,Eh,n)}get shareAvailabilityDuration(){return H(this,Dh)}set shareAvailabilityDuration(n){V(this,Dh,n)}get amountOfHoursInCalendar(){return H(this,wh)}set amountOfHoursInCalendar(n){V(this,wh,n)}get globalNextEventKeyboardShortcut(){return H(this,Ch)}set globalNextEventKeyboardShortcut(n){V(this,Ch,n)}get globalQuickTaskWindowKeyboardShortcut(){return H(this,Th)}set globalQuickTaskWindowKeyboardShortcut(n){V(this,Th,n)}get calendarView(){return H(this,Nh)}set calendarView(n){V(this,Nh,n)}get mobileCalendarView(){return H(this,kh)}set mobileCalendarView(n){V(this,kh,n)}get isAllDaySectionCollapsed(){return H(this,_h)}set isAllDaySectionCollapsed(n){V(this,_h,n)}get showMenuBarApp(){return H(this,Oh)}set showMenuBarApp(n){V(this,Oh,n)}get menuBarMode(){return H(this,Ih)}set menuBarMode(n){V(this,Ih,n)}get amountOfDaysInMenuBarApp(){return H(this,Mh)}set amountOfDaysInMenuBarApp(n){V(this,Mh,n)}get limitMenuBarTitleToToday(){return H(this,Rh)}set limitMenuBarTitleToToday(n){V(this,Rh,n)}get hideMenuBarWhenNoEvents(){return H(this,Ph)}set hideMenuBarWhenNoEvents(n){V(this,Ph,n)}get riseMeetDuration(){return H(this,Lh)}set riseMeetDuration(n){V(this,Lh,n)}get bestTimeToMeetDuration(){return H(this,Bh)}set bestTimeToMeetDuration(n){V(this,Bh,n)}get reducedMotion(){return H(this,Fh)}set reducedMotion(n){V(this,Fh,n)}get colorScheme(){return H(this,Hh)}set colorScheme(n){V(this,Hh,n)}get dismissedOverLimitBannerDate(){return H(this,Vh)}set dismissedOverLimitBannerDate(n){V(this,Vh,n)}get displayTimezone(){return H(this,Wh)}set displayTimezone(n){V(this,Wh,n)}get autoJoinAllMeetings(){return H(this,$h)}set autoJoinAllMeetings(n){V(this,$h,n)}get noPointerCursor(){return H(this,Uh)}set noPointerCursor(n){V(this,Uh,n)}get mapsProvider(){return H(this,Gh)}set mapsProvider(n){V(this,Gh,n)}get presentMultidayEventsAsAllDay(){return H(this,zh)}set presentMultidayEventsAsAllDay(n){V(this,zh,n)}get defaultEventDuration(){return H(this,Kh)}set defaultEventDuration(n){V(this,Kh,n)}get secondaryTimezones(){return H(this,Zh)}set secondaryTimezones(n){V(this,Zh,n)}dispose(){this.disposables.forEach(n=>n())}get workingTimesByDay(){return mm(this.workingTimes,"day")}get timeNotation(){return this.uses12HourClock?12:24}get inboundEmailAddress(){return this.inboundEmailKey!==null?`${this.inboundEmailKey}@inbox.risecalendar.com`:null}get inboundTaskEmailAddress(){return this.inboundEmailAddress?`task.${this.inboundEmailAddress}`:null}get locale(){return this._locale||"en-GB"}get startOfWeek(){return(Ys(new ZL(1993,12,9),this.startOfWeekLocale).day+2)%7}get startOfWeekLocale(){return this._startOfWeek==="sunday"?"en-US":this._startOfWeek==="monday"?"en-GB":this.locale}get twelveHourClockLocale(){return this.uses12HourClock?"en-US":"en-GB"}get privateWorkspace(){var n;return(n=this.objectPool.getObjects("workspace"))==null?void 0:n.find(s=>s.isPersonal)}hasTag(n){return this._tags.includes(n)}hasTagLoose(n){return this.hasTag(n)||this.tagsLoose.has(n)}getWorkspaceForNewTaskInCalendar(n){var i;const s=(i=this.objectPool)==null?void 0:i.getObjects("workspace").find(a=>a.domain===(n==null?void 0:n.account.domain));return s||this.privateWorkspace}async shouldSave(n,s){return C0(this.workingTimes)?"save":"continueEditing"}loadSecondaryTimezones(){if(window.localStorage===void 0)return;const n=window.localStorage.getItem("rise:secondaryTimezones");n&&JSON.parse(n).forEach(s=>{this.secondaryTimezones.push(new Tp(Kn(s.timezone),s.emails,"global"))})}saveSecondaryTimezones(){window.localStorage!==void 0&&window.localStorage.setItem("rise:secondaryTimezones",JSON.stringify(this.secondaryTimezones.map(n=>n.toJson)))}autoCorrectTimezone(){const n=gr();n!==this.timezone&&this.setTimezone(n)}isWorkingDay(n){const s=n===0?7:n;return this.workingTimesByDay[s]!==void 0}toggleWeekendWithoutChangingCalendarDate(){this.weekendVisible=!this.weekendVisible,this.save()}toggleDeclinedEventsVisible(){this.declinedEventsVisible=!this.declinedEventsVisible,this.save()}setStartOfWeek(n){this._startOfWeek=n===0?"sunday":"monday",this.save()}setLocale(n){this._locale=n,this.save()}setTimeNotation(n){this.uses12HourClock=n===12,this.save()}toggleNavigationSideBarVisible(){this.navigationSideBarVisible=!this.navigationSideBarVisible}showNavigationSideBar(){this.navigationSideBarVisible=!0}setDefaultConferenceSolution(n){this.defaultConferenceSolution=n,this.save()}toggleWorkingDayAvailability(n){this.workingTimesByDay[n]?this.workingTimes=this.workingTimes.filter(s=>s.day!==n):this.addWorkingTime(n)}removeWorkingTime(n,s){const i=this.workingTimesByDay[n][s];this.workingTimes=this.workingTimes.filter(a=>a!==i),this.save()}addWorkingTime(n){var s;if(this.workingTimesByDay[n]){const i=(s=this.workingTimesByDay[n][this.workingTimesByDay[n].length-1])==null?void 0:s.endsAt,a=Kr(new Date,i);this.workingTimes=this.workingTimes.concat([{day:n,startsAt:i,endsAt:nn(Ie(a,30),24)}]);return}this.workingTimes=this.workingTimes.concat([{day:n,startsAt:WZ,endsAt:$Z}])}setWorkingTimeStartsAt(n,s,i){this.workingTimesByDay[n][s].startsAt=i,this.workingTimes=this.workingTimes.slice()}setWorkingTimeEndsAt(n,s,i){this.workingTimesByDay[n][s].endsAt=i,this.workingTimes=this.workingTimes.slice()}setWorkingTimesForAllWorkingDays(n,s){this.workingTimes=Object.keys(this.workingTimesByDay).map(i=>({day:parseInt(i),startsAt:n,endsAt:s}))}setBufferMinutes(n){this.bufferMinutes=n,this.save()}toggleFocusGuardStatus(){this.focusGuardStatus==="disabled"?this.focusGuardStatus="enabled":this.focusGuardStatus="disabled",this.save()}setFocusGuardStatus(n){n!==this.focusGuardStatus&&(n==="waiting_for_analysis"&&(this.focusGuardStatus==="waiting_for_analysis"||this.focusGuardStatus==="analyzing")||(this.focusGuardStatus=n,this.focusTimeDayPartPreference===null&&(this.focusTimeDayPartPreference="anytime"),this.save()))}setFocusTimeDayPartPreference(n){this.focusTimeDayPartPreference=n,this.save()}setFocusTimeThresholdMinutes(n){this.focusTimeThresholdMinutes=n,this.save()}setActiveCalendar(n){this.activeCalendar=n,this.save()}setPrimaryCalendar(n){this.primaryCalendar=n,this.save()}get calendarForNewEvents(){return this.activeCalendar?this.activeCalendar:this.primaryCalendar}setAutoPilotDefaultSetting(n){this.autoPilotDefaultSetting=n,this.save()}toggleEmailNotificationsFocusGuard(){this.emailNotificationsFocusGuard=!this.emailNotificationsFocusGuard,this.save()}toggleEmailNotificationsProductUpdates(){this.emailNotificationsProductUpdates=!this.emailNotificationsProductUpdates,this.save()}toggleDripCampaign(){this.dripCampaignUnsubscribedAt=this.dripCampaignUnsubscribedAt?null:new Date().toISOString(),this.save()}setTimezone(n){this.timezone=n,this.save()}increaseAmountOfHoursInCalendar(){this.amountOfHoursInCalendar>=24||(this.amountOfHoursInCalendar+=1)}decreaseAmountOfHoursInCalendar(){this.amountOfHoursInCalendar<=1||(this.amountOfHoursInCalendar-=1)}setAmountOfHoursInCalendar(n){this.amountOfHoursInCalendar=fk(Math.round(n),1,24)}get calendarHourHeight(){return(pe.viewportHeight-UZ-GZ)/this.amountOfHoursInCalendar}get calendarHeight(){return this.calendarHourHeight*lx}get timeColumnWidth(){const a=this.uses12HourClock?48:42;return 32+(this.secondaryTimezones.length+1)*a}get mobileTimeColumnWidth(){const a=this.uses12HourClock?48:42;return 12+(this.secondaryTimezones.length+1)*a}addSecondaryTimezone(n,s=null,i="global"){var p;if(n==="UTC")return null;let a;typeof n=="string"?a=Kn(n):a=n;let l;return((p=this.localTimeZone)==null?void 0:p.abbreviation)!==a.abbreviation&&(l=this.secondaryTimezones.find(f=>f.timezone.abbreviation===a.abbreviation),l||(l=new Tp(a,s?[s]:null,i),this.secondaryTimezones.push(l)),this.saveSecondaryTimezones()),l}removeSecondaryTimezone(n,s=null){this.secondaryTimezones=this.secondaryTimezones.filter(i=>!((s===null||i.context===s)&&i===n)),this.saveSecondaryTimezones()}removeSecondaryTimezoneForColleagues(){this.secondaryTimezones.filter(n=>n.context==="colleague").length!==0&&(this.secondaryTimezones=this.secondaryTimezones.filter(n=>n.context==="global"),this.saveSecondaryTimezones())}get localTimeZoneString(){return this.displayTimezone?this.displayTimezone:gr()}get localTimeZone(){return Kn(this.localTimeZoneString)}setCalendarViewWithoutChangingCalendarDate(n,s){s?this.mobileCalendarView=n:this.calendarView=n}setReducedMotion(n){this.reducedMotion=n}get isDarkMode(){return this.resolvedColorScheme==="dark"}get resolvedColorScheme(){return this.colorScheme==="system"?pe.colorScheme:this.colorScheme}setColorScheme(n){this.colorScheme!==n&&(this.colorScheme=n)}toggleIsAllDaySectionCollapsed(){this.isAllDaySectionCollapsed=!this.isAllDaySectionCollapsed}setOnboardingCompleted(){return this.didOnboarding=!0,this.save()}toggleShowMenuBarApp(){this.showMenuBarApp=!this.showMenuBarApp}setAmountOfDaysInMenuBarApp(n){this.amountOfDaysInMenuBarApp=n}toggleLimitMenuBarTitleToToday(){this.limitMenuBarTitleToToday=!this.limitMenuBarTitleToToday}toggleMenuBarMode(){this.menuBarMode=this.menuBarMode==="normal"?"tiny":"normal"}toggleHideMenuBarWhenNoEvents(){this.hideMenuBarWhenNoEvents=!this.hideMenuBarWhenNoEvents}setRiseMeetDuration(n){this.riseMeetDuration=n}setBestTimeToMeetDuration(n){this.bestTimeToMeetDuration=n}setOnboardingState(n,s){this.onboardingState[n]!==s&&(this.onboardingState={...this.onboardingState,[n]:s},this.save())}toggleOnboardingState(n){this.setOnboardingState(n,!this.onboardingState[n])}toggleGettingStartedVisible(){this.toggleOnboardingState("gettingStartedVisible")}toggleFgExplainerDone(){this.toggleOnboardingState("fgExplainerDone")}toggleMeetRescheduleExplainerDone(){this.toggleOnboardingState("meetRescheduleExplainerDone")}toggleContactsSetupDone(){this.toggleOnboardingState("contactsSetupDone")}dismissHint(n){this.hintDismissed={...this.hintDismissed,[n]:!0},this.save()}setFocusGuardSetting(n,s){this.focusGuardSettings[n]!==s&&(this.focusGuardSettings={...this.focusGuardSettings,[n]:s})}setFocusGuardEventTitle(n){this.setFocusGuardSetting("eventTitle",n)}setFocusGuardEventDescription(n){this.setFocusGuardSetting("eventDescription",n)}setFocusGuardEventColor(n){this.setFocusGuardSetting("eventRemoteColorId",n),this.save()}setFocusGuardEventVisibility(n){this.setFocusGuardSetting("eventVisibility",n),this.save()}setFocusGuardEventAutoDeclineMode(n){this.setFocusGuardSetting("autoDeclineMode",n),this.save()}get hasDismissedOverLimitBannerLately(){return!!(this.dismissedOverLimitBannerDate&&mk(new Date,this.dismissedOverLimitBannerDate)<3)}dismissOverLimitBanner(){this.dismissedOverLimitBannerDate=Date.now()}setDisplayTimezone(n){let s=null;typeof n=="string"?s=n:n!==null&&(s=n.name),s===this.timezone&&(s=null),this.displayTimezone=s}setDefaultEventDuration(n){this.defaultEventDuration=n,this.save()}toggleAutoJoinAllMeetings(){this.autoJoinAllMeetings=!this.autoJoinAllMeetings}setPointerCursor(n){this.noPointerCursor=!n}setGlobalNextEventKeyboardShortcut(n){this.globalNextEventKeyboardShortcut=n}setGlobalQuickTaskWindowKeyboardShortcut(n){this.globalQuickTaskWindowKeyboardShortcut=n}togglePresentMultidayEventsAsAllDay(){this.presentMultidayEventsAsAllDay=!this.presentMultidayEventsAsAllDay}async uploadProfileImage(n){return new Promise(async(s,i)=>{const{upload_url:a}=await ue.user.getProfileImageUploadUrl(n.name,n.size,n.type);if(!a)throw new Error("No upload URL returned");const l=new XMLHttpRequest;l.open("PUT",a,!0),l.setRequestHeader("Access-Control-Allow-Origin","*"),l.setRequestHeader("x-goog-content-length-range","0,25000000"),l.setRequestHeader("Content-Type",n.type),l.onload=()=>{const p=l.status;if(p!==200)throw new Error(`Error while uploading file: ${p}`)},l.onerror=()=>{throw new Error("Error while uploading file")},l.send(n)})}};I1=new WeakMap,Ud=new WeakMap,Gd=new WeakMap,zd=new WeakMap,Kd=new WeakMap,Zd=new WeakMap,Yd=new WeakMap,Xd=new WeakMap,Jd=new WeakMap,Qd=new WeakMap,qd=new WeakMap,eh=new WeakMap,th=new WeakMap,nh=new WeakMap,rh=new WeakMap,sh=new WeakMap,ih=new WeakMap,ah=new WeakMap,oh=new WeakMap,lh=new WeakMap,ch=new WeakMap,uh=new WeakMap,dh=new WeakMap,hh=new WeakMap,fh=new WeakMap,mh=new WeakMap,ph=new WeakMap,gh=new WeakMap,bh=new WeakMap,yh=new WeakMap,vh=new WeakMap,xh=new WeakMap,jh=new WeakMap,Sh=new WeakMap,Ah=new WeakMap,Eh=new WeakMap,Dh=new WeakMap,wh=new WeakMap,Ch=new WeakMap,Th=new WeakMap,Nh=new WeakMap,kh=new WeakMap,_h=new WeakMap,Oh=new WeakMap,Ih=new WeakMap,Mh=new WeakMap,Rh=new WeakMap,Ph=new WeakMap,Lh=new WeakMap,Bh=new WeakMap,Fh=new WeakMap,Hh=new WeakMap,Vh=new WeakMap,Wh=new WeakMap,$h=new WeakMap,Uh=new WeakMap,Gh=new WeakMap,zh=new WeakMap,Kh=new WeakMap,Zh=new WeakMap,B(zg,I1,[mC,pC,gC,bC,yC,vC,xC,jC,SC,AC,EC,DC,wC,CC,TC,NC,kC,_C,OC,IC,MC,RC,PC,LC,BC,FC,HC,VC,WC,$C,UC,GC,zC,KC,ZC,YC,XC,JC,QC,qC,eT,tT,nT,rT,sT,iT,aT,oT,lT,cT,uT,dT,hT,fT,mT,pT,gT,bT,yT,fC]=BZ(zg,[[E8,1,"email"],[D8,1,"firstName"],[w8,1,"lastName"],[C8,1,"profileImageUrl"],[T8,1,"primaryCalendar"],[N8,1,"activeCalendar"],[k8,1,"weekendVisible"],[_8,1,"declinedEventsVisible"],[O8,1,"experimentalFeaturesEnabled"],[I8,1,"defaultConferenceSolution"],[M8,1,"workingTimes"],[R8,1,"bufferMinutes"],[P8,1,"domainsWithAliases"],[L8,1,"timezone"],[B8,1,"focusGuardStatus"],[F8,1,"focusTimeDayPartPreference"],[H8,1,"focusTimeThresholdMinutes"],[V8,1,"autoPilotDefaultSetting"],[W8,1,"emailNotificationsFocusGuard"],[$8,1,"emailNotificationsProductUpdates"],[U8,1,"dripCampaignUnsubscribedAt"],[G8,1,"autoPilotSuggestionsEmailEnabled"],[z8,1,"recentLocations"],[K8,1,"didOnboarding"],[Z8,1,"_tags"],[re,1,"tagsLoose"],[Y8,1,"username"],[X8,1,"inboundEmailKey"],[J8,1,"uses12HourClock"],[Q8,1,"onboardingState"],[q8,1,"focusGuardSettings"],[eM,1,"hintDismissed"],[tM,1,"_locale"],[nM,1,"_startOfWeek"],[rM,1,"navigationSideBarVisible"],[sM,1,"shareAvailabilityDuration"],[iM,1,"amountOfHoursInCalendar"],[aM,1,"globalNextEventKeyboardShortcut"],[oM,1,"globalQuickTaskWindowKeyboardShortcut"],[lM,1,"calendarView"],[cM,1,"mobileCalendarView"],[uM,1,"isAllDaySectionCollapsed"],[dM,1,"showMenuBarApp"],[hM,1,"menuBarMode"],[fM,1,"amountOfDaysInMenuBarApp"],[mM,1,"limitMenuBarTitleToToday"],[pM,1,"hideMenuBarWhenNoEvents"],[gM,1,"riseMeetDuration"],[bM,1,"bestTimeToMeetDuration"],[yM,1,"reducedMotion"],[vM,1,"colorScheme"],[xM,1,"dismissedOverLimitBannerDate"],[jM,1,"displayTimezone"],[SM,1,"autoJoinAllMeetings"],[AM,1,"noPointerCursor"],[EM,1,"mapsProvider"],[DM,1,"presentMultidayEventsAsAllDay"],[wM,1,"defaultEventDuration"],[re,1,"secondaryTimezones"],[ne,3,"workingTimesByDay"],[ne,3,"timeNotation"],[ne,3,"inboundEmailAddress"],[ne,3,"inboundTaskEmailAddress"],[ne,3,"locale"],[ne,3,"startOfWeek"],[ne,3,"startOfWeekLocale"],[ne,3,"twelveHourClockLocale"],[ne,3,"privateWorkspace"],[Y,2,"loadSecondaryTimezones"],[Y,2,"toggleWeekendWithoutChangingCalendarDate"],[Y,2,"toggleDeclinedEventsVisible"],[Y,2,"setStartOfWeek"],[Y,2,"setLocale"],[Y,2,"setTimeNotation"],[Y,2,"toggleNavigationSideBarVisible"],[Y,2,"showNavigationSideBar"],[Y,2,"setDefaultConferenceSolution"],[Y,2,"toggleWorkingDayAvailability"],[Y,2,"removeWorkingTime"],[Y,2,"addWorkingTime"],[Y,2,"setWorkingTimeStartsAt"],[Y,2,"setWorkingTimeEndsAt"],[Y,2,"setWorkingTimesForAllWorkingDays"],[Y,2,"setBufferMinutes"],[Y,2,"toggleFocusGuardStatus"],[Y,2,"setFocusGuardStatus"],[Y,2,"setFocusTimeDayPartPreference"],[Y,2,"setFocusTimeThresholdMinutes"],[Y,2,"setActiveCalendar"],[Y,2,"setPrimaryCalendar"],[ne,3,"calendarForNewEvents"],[Y,2,"setAutoPilotDefaultSetting"],[Y,2,"toggleEmailNotificationsFocusGuard"],[Y,2,"toggleEmailNotificationsProductUpdates"],[Y,2,"toggleDripCampaign"],[Y,2,"setTimezone"],[Y,2,"increaseAmountOfHoursInCalendar"],[Y,2,"decreaseAmountOfHoursInCalendar"],[Y,2,"setAmountOfHoursInCalendar"],[ne,3,"calendarHourHeight"],[ne,3,"calendarHeight"],[ne,3,"timeColumnWidth"],[ne,3,"mobileTimeColumnWidth"],[Y,2,"addSecondaryTimezone"],[Y,2,"removeSecondaryTimezone"],[Y,2,"removeSecondaryTimezoneForColleagues"],[ne,3,"localTimeZoneString"],[ne,3,"localTimeZone"],[Y,2,"setCalendarViewWithoutChangingCalendarDate"],[Y,2,"setReducedMotion"],[ne,3,"isDarkMode"],[ne,3,"resolvedColorScheme"],[Y,2,"setColorScheme"],[Y,2,"toggleIsAllDaySectionCollapsed"],[Y,2,"setOnboardingCompleted"],[Y,2,"toggleShowMenuBarApp"],[Y,2,"setAmountOfDaysInMenuBarApp"],[Y,2,"toggleLimitMenuBarTitleToToday"],[Y,2,"toggleMenuBarMode"],[Y,2,"toggleHideMenuBarWhenNoEvents"],[Y,2,"setRiseMeetDuration"],[Y,2,"setBestTimeToMeetDuration"],[Y,2,"setOnboardingState"],[Y,2,"toggleOnboardingState"],[Y,2,"dismissHint"],[Y,2,"setFocusGuardSetting"],[ne,3,"hasDismissedOverLimitBannerLately"],[Y,2,"dismissOverLimitBanner"],[Y,2,"setDisplayTimezone"],[Y,2,"setDefaultEventDuration"],[Y,2,"toggleAutoJoinAllMeetings"],[Y,2,"setPointerCursor"],[CM,18,"setGlobalNextEventKeyboardShortcut"],[TM,18,"setGlobalQuickTaskWindowKeyboardShortcut"],[Y,2,"togglePresentMultidayEventsAsAllDay"]],[],0,void 0,be).e);let Uy=zg;const UZ=114,GZ=24;var xT,jT,ST,AT,ET,DT,wT,CT;function zZ(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:TT(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||TT(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return YZ(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:KZ(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function KZ(t){var e=ZZ(t,"string");return typeof e=="symbol"?e:e+""}function ZZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TT(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function YZ(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}var M1,Yh,Xh,Jh,Qh,qh,ef,tf,nf;const Kg=class Kg{constructor(e,n,s){B(this,Yh,(xT(this),jT(this)));B(this,Xh,ST(this));B(this,Jh,AT(this));B(this,Qh);B(this,qh,ET(this,"unstarted"));B(this,ef,DT(this));ie(this,"ready");ie(this,"readyResolve",null);ie(this,"relationShipbuilderTimeout",null);B(this,tf,wT(this,new Map));B(this,nf,CT(this,new Map));var i;this.ready=new Promise(a=>{this.readyResolve=a}),this.objects=new Map,this.relationships=new Map,this.transactionQueue=e,this.objectStorage=n,this.onModelCreateCallback=s,this.objectStorage?(i=this.objectStorage)==null||i.load(this).then(()=>{this.readyResolve&&this.readyResolve()}):this.readyResolve&&this.readyResolve()}get objects(){return H(this,Yh)}set objects(e){V(this,Yh,e)}get relationships(){return H(this,Xh)}set relationships(e){V(this,Xh,e)}get transactionQueue(){return H(this,Jh)}set transactionQueue(e){V(this,Jh,e)}get objectStorage(){return H(this,Qh)}set objectStorage(e){V(this,Qh,e)}get hydrationStatus(){return H(this,qh)}set hydrationStatus(e){V(this,qh,e)}get onModelCreateCallback(){return H(this,ef)}set onModelCreateCallback(e){V(this,ef,e)}getObject(e,n){var s;return this.objects.has(e)||this.addEntity(e),((s=this.objects.get(e))==null?void 0:s.get(n))||null}getOrCreateObject(e,n){const s=this.getObject(e,n);return s||this.createObject(e,n)}createObject(e,n){const s=this.createInstance(e,n);if(s)return(s instanceof be||n!==null)&&this.setObject(e,s instanceof be?s.uuid:n,s),s}setObject(e,n,s){this.objects.has(e)||this.addEntity(e),this.objects.get(e).set(n,s),this.objectCount.set(s.entity,(this.objectCount.get(s.entity)||0)+1),this.triggerRelationshipsUpdate()}loadObject(e,n,s){const i=this.getOrCreateObject(e,n);if(!i)debugger;return i.load(s),i}addObject(e){this.hasObject(e)||this.setObject(e.entity,e.uuid,e)}removeObject(e){var s;(s=this.objects.get(e.entity))==null||s.delete(e.uuid);const n=this.objectCount.get(e.entity)||0;this.objectCount.set(e.entity,Math.max(0,n-1)),this.triggerRelationshipsUpdate()}hasObject(e){return this.hasObjectByUuid(e.entity,e.uuid)}hasObjectByUuid(e,n){var s;return(s=this.objects.get(e))==null?void 0:s.has(n)}getObjects(e){return this.objects.has(e)?Array.from(this.objects.get(e).values()).filter(n=>!n.isDeleted&&!n.isShell):[]}get user(){return this.getObjects("user")[0]}get member(){return this.getObjects("member").filter(e=>e.uuid===this.user.uuid)[0]}addEntity(e){this.objects.set(e,new Map)}createInstance(e,n){const s=this.modelForType(e,n);return this.onModelCreateCallback&&this.onModelCreateCallback(e,s),s}modelForType(e,n){const s={uuid:n,objectPool:this,transactionQueue:this.transactionQueue};switch(e){case"user":return new Uy(s);case"event":return new de(s);case"task":return new Ce(s);case"calendar":return new cy(s);case"account":return new oy(s);case"group":return new hy(s);case"building":return new tG;case"resource":return new jy(this);case"conference_solution":return new dy(s);case"scheduling_link":return new Sy(s);case"cross_calendar_blocking":return new Ty(s);case"workspace":return new iy(s);case"team":return new Dy(s);case"project":return new by(s);case"project_state":return new vy(s);case"member":return new gy(s);case"workspace_task_status":return new Cy(s);case"workspace_membership":return new wy(s);case"workspace_subscription":return new ky(s);case"comment":return new ms(s);case"attachment":return new ki(s);case"team_membership":return new _p(s);case"subtask":return new Ny(s);case"label":return new my(s);case"task_label":return new Ay(s);case"task_subscription":return new Ey(s);case"meeting_board":return new py(s);case"projects_user_preferences":return new xy(s);case"project_membership":return new yy(s);case"view":return new kp(s);case"box":return new ly(s);case"category":return new uy(s);case"project_category":return new Np(s);case"inbox_notification":return new fy(s);default:console.error(`Trying to instanciate model for unknown type ${e}`)}}getRelationships(e,n,s){var i;return this.relationships.has(e)?this.relationships.get(e).has(n)?((i=this.relationships.get(e).get(n).get(s))==null?void 0:i.slice())||[]:[]:[]}triggerRelationshipsUpdate(){this.hydrationStatus!=="started"&&(this.relationShipbuilderTimeout&&clearTimeout(this.relationShipbuilderTimeout),this.relationShipbuilderTimeout=setTimeout(()=>{this.buildRelationships()}))}get relationshipsProcessed(){return H(this,tf)}set relationshipsProcessed(e){V(this,tf,e)}get objectCount(){return H(this,nf)}set objectCount(e){V(this,nf,e)}get relationshipsReady(){let e=new Map;return this.relationshipsProcessed.forEach((n,s)=>{e.set(s,n===this.objectCount.get(s))}),e}buildRelationships(){this.relationships=new Map,this.objects.forEach((e,n)=>{let s=0;e.forEach(i=>{i instanceof be&&!i.isDeleted&&!i.isShell&&Object.keys(i.propertyLoaders).forEach(a=>{const l=i.propertyLoaders[a];if(l&&l.type==="relationship"){const p=i.getProperty(a);if(!p||i.isDeleted||i.isShell)return;this.addRelationship(i.entity,i.uuid,l.relation||p.entity,p),this.addRelationship(p.entity,p.uuid,l.relation||i.entity,i)}}),s++}),this.relationshipsProcessed.set(n,s)})}addRelationship(e,n,s,i){var f;this.relationships.has(e)||this.relationships.set(e,new Map);const a=this.relationships.get(e);a.has(n)||a.set(n,new Map);const l=a.get(n),p=((f=l.get(s))==null?void 0:f.slice())||[];p.push(i),l.set(s,p)}};M1=new WeakMap,Yh=new WeakMap,Xh=new WeakMap,Jh=new WeakMap,Qh=new WeakMap,qh=new WeakMap,ef=new WeakMap,tf=new WeakMap,nf=new WeakMap,B(Kg,M1,[jT,ST,AT,ET,DT,wT,CT,xT]=zZ(Kg,[[re,1,"objects"],[re,1,"relationships"],[re,1,"transactionQueue"],[re,1,"hydrationStatus"],[re,1,"onModelCreateCallback"],[Y,2,"createObject"],[Y,2,"setObject"],[Y,2,"addObject"],[Y,2,"removeObject"],[ne,3,"user"],[ne,3,"member"],[Y,2,"addEntity"],[Y,2,"createInstance"],[re,1,"relationshipsProcessed"],[re,1,"objectCount"],[ne,3,"relationshipsReady"],[Y,2,"buildRelationships"]],[]).e);let Gy=Kg;class XZ{}var NT,kT,_T,OT,IT;function JZ(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:MT(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||MT(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return eY(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:QZ(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function QZ(t){var e=qZ(t,"string");return typeof e=="symbol"?e:e+""}function qZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MT(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function eY(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}var R1,rf,sf,af,of;const Zg=class Zg{constructor(e){B(this,rf,(NT(this),kT(this)));B(this,sf,_T(this,null));B(this,af,OT(this));B(this,of,IT(this,!1));ie(this,"onTransactionFailed");this.queue=[],this.completedTransactions=[],this.onTransactionFailed=e,this.start(),Jn(()=>{pe.connectionStatus==="online"?this.resume():this.pause()})}get queue(){return H(this,rf)}set queue(e){V(this,rf,e)}get currentTransaction(){return H(this,sf)}set currentTransaction(e){V(this,sf,e)}get completedTransactions(){return H(this,af)}set completedTransactions(e){V(this,af,e)}get isPaused(){return H(this,of)}set isPaused(e){V(this,of,e)}addTransaction(e){e.commitOnModel(),this.queue.push(e)}pause(){this.isPaused=!0}resume(){this.isPaused=!1}async start(){for(;;)!this.isPaused&&this.queue.length>0?(this.currentTransaction=this.shiftQueue(),this.currentTransaction&&await this.currentTransaction.commit().catch(e=>{var n;this.currentTransaction&&(this.currentTransaction.rollback(),(n=this.onTransactionFailed)==null||n.call(this,this.currentTransaction,e))}).finally(()=>{this.currentTransaction&&(this.completedTransactions.push(this.currentTransaction),this.currentTransaction=null)})):await new Promise(e=>setTimeout(e,500))}shiftQueue(){return this.queue.shift()||null}getTransactionsByObjectUuid(e){const n=[];for(const s of this.queue)s.model.uuid===e&&n.push({type:"transaction",status:"queued",transaction:s});for(const s of this.completedTransactions)s.model.uuid===e&&n.push({type:"transaction",status:"done",transaction:s});return n}};R1=new WeakMap,rf=new WeakMap,sf=new WeakMap,af=new WeakMap,of=new WeakMap,B(Zg,R1,[kT,_T,OT,IT,NT]=JZ(Zg,[[re,1,"queue"],[re,1,"currentTransaction"],[re,1,"completedTransactions"],[re,1,"isPaused"],[Y,2,"addTransaction"],[Y,2,"pause"],[Y,2,"resume"],[Y,2,"shiftQueue"]],[]).e);let zy=Zg;class tY{constructor(e,n){ie(this,"socketService");ie(this,"log",[]);this.socketService=e,n.hasTag("log-transactions")&&this.setupListeners()}setupListeners(){this.socketService.addMessageListener("sync",e=>{this.log.push({time:new Date,data:e})}),this.socketService.addMessageListener("delete",e=>{this.log.push({time:new Date,data:e})})}getMessagesForObjectUuid(e){return this.log.filter(n=>n.data.object_uuid===e)}}class nY{constructor({socketService:e,eventsStoreManager:n,userStore:s,resourcesStore:i,conferenceSolutions:a,schedulingLinks:l,favoritesStore:p,crossCalendarBlocking:f,peopleStore:v,objectPool:E,tasks:w}){ie(this,"socketService");ie(this,"eventsStoreManager");ie(this,"userStore");ie(this,"resourcesStore");ie(this,"conferenceSolutions");ie(this,"schedulingLinks");ie(this,"favoritesStore");ie(this,"crossCalendarBlocking");ie(this,"peopleStore");ie(this,"objectPool");ie(this,"tasks");this.socketService=e,this.eventsStoreManager=n,this.userStore=s,this.resourcesStore=i,this.conferenceSolutions=a,this.schedulingLinks=l,this.favoritesStore=p,this.crossCalendarBlocking=f,this.peopleStore=v,this.objectPool=E,this.tasks=w,this.setupListeners()}setupListeners(){this.socketService.addMessageListener("sync",e=>{var n;e.type==="event"&&this.eventsStoreManager.processEvent(e.object),e.type==="user"&&this.userStore.load(e.object),e.type==="conferencesolution"&&this.conferenceSolutions.updateFromJSON(e.object),e.type==="cross_calendar_blocking"&&((n=this.crossCalendarBlocking)==null||n.updateFromJSON(e.object)),e.type==="find_time_response"&&AK(e.object),RT.has(e.type)&&this.objectPool.loadObject(e.type,e.object.uuid,e.object)}),this.socketService.addMessageListener("sync_list",e=>{var s;if(e.type==="event")for(const i of e.objects)this.eventsStoreManager.processEvent(i);if(e.type==="scheduling_link")for(var n of e.objects)this.schedulingLinks.updateFromJSON(n);e.type==="favorite"&&((s=this.favoritesStore)==null||s.updateFromJSON(e.objects))}),this.socketService.addMessageListener("delete",e=>{var n,s;if(e.type==="event"||e.type==="recurringeventinstance"){const i=this.eventsStoreManager.eventsStore.eventByUUID(e.object_uuid);i&&i.setDeleted(!0);return}if(e.type==="conferencesolution")return this.conferenceSolutions.removeByUuid(e.object_uuid);if(e.type==="cross_calendar_blocking")return(n=this.crossCalendarBlocking)==null?void 0:n.removeByUuid(e.object_uuid);if(e.type==="label"){const i=this.objectPool.getObject("label",e.object_uuid);i&&(((s=this.objectPool)==null?void 0:s.getObjects("task_label")).filter(a=>{var l;return((l=a.label)==null?void 0:l.uuid)===e.object_uuid}).forEach(a=>{a.setDeleted(!0)}),this.objectPool.removeObject(i));return}if(RT.has(e.type)){const i=this.objectPool.getObject(e.type,e.object_uuid);i&&this.objectPool.removeObject(i)}}),this.socketService.addMessageListener("delete_list",e=>{if(e.type==="event"){for(const n in e.object_uuids){const s=this.eventsStoreManager.eventsStore.eventByUUID(n);s&&s.setDeleted(!0)}return}}),this.socketService.addMessageListener("refresh",()=>{var e;this.eventsStoreManager.eventFetcher.clearFetchedRange(),this.eventsStoreManager.eventFetcher.fetchEventsWithCurrentRange(),this.resourcesStore.fetchResources(),this.peopleStore.fetchPeople(),(e=this.tasks)==null||e.fetch()}),this.socketService.addMessageListener("reconnect",()=>{var e;this.eventsStoreManager.eventFetcher.clearFetchedRange(),this.eventsStoreManager.eventFetcher.fetchEventsWithCurrentRange(),(e=this.tasks)==null||e.fetch()})}}const RT=new Set(["workspace","account","task","project","workspace_task_status","comment","project_state","team","attachment","subtask","label","task_label","task_subscription","team_membership","projects_user_preferences","scheduling_link","view","box","category","project_category","inbox_notification"]);var PT={},LT,BT,FT,HT,VT,WT;function rY(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:$T(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||$T(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return aY(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:sY(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function sY(t){var e=iY(t,"string");return typeof e=="symbol"?e:e+""}function iY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $T(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function aY(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}const UT=2,oY=PT.DEV_WEBSOCKET_URL?PT.DEV_WEBSOCKET_URL:"wss://beta.risecalendar.com/";var P1,lf,cf,uf,df,hf;const Yg=class Yg{constructor(e,n){ie(this,"webSocket",(LT(this),null));ie(this,"listeners",[]);ie(this,"pingId",1);ie(this,"pingTimeoutSeconds",20);ie(this,"reconnectAfterSeconds",UT);ie(this,"maxReconnectTimeoutSeconds",30);ie(this,"reconnectTimeout",null);ie(this,"userUuid");ie(this,"isImpersonated");ie(this,"skipRefreshOnReconnect",!1);B(this,lf,BT(this,"new"));B(this,cf,FT(this,null));B(this,uf,HT(this,null));B(this,df,VT(this,[]));B(this,hf,WT(this,null));this.userUuid=e,this.isImpersonated=n,this.connect(),this.schedulePing()}get connectionStatus(){return H(this,lf)}set connectionStatus(e){V(this,lf,e)}get connectionStatusLastDisconnectedAt(){return H(this,cf)}set connectionStatusLastDisconnectedAt(e){V(this,cf,e)}get connectionStatusLastConnectedAt(){return H(this,uf)}set connectionStatusLastConnectedAt(e){V(this,uf,e)}get log(){return H(this,df)}set log(e){V(this,df,e)}get timeDiffInMs(){return H(this,hf)}set timeDiffInMs(e){V(this,hf,e)}connect(e=!1){if(this.addLog("start_connecting"),this.connectionStatus==="connected"||this.connectionStatus==="connecting")return;const n=this.connectionStatus;this.setConnectionStatus("connecting"),ue.user.fetchJWT().then(s=>{let i=`${oY}ws`;this.webSocket=new WebSocket(i),this.webSocket.onopen=()=>{this.reconnectTimeout&&clearTimeout(this.reconnectTimeout),this.send({cmd:"hshk",token:s.token,user_uuid:this.userUuid}),this.potentiallyTriggerLocalRefresh(n,e),this.reconnectAfterSeconds=UT,this.setConnectionStatus("connected"),this.addLog("socket_connected")},this.webSocket.onmessage=a=>{const l=JSON.parse(a.data);if(l.cmd==="pong")return this.pong(l);if(l.cmd==="reconnect"){this.skipRefreshOnReconnect=!0;return}this.addLog("message_received",`${l.cmd} ${l.type}`),this.processMessage(l)},this.webSocket.onclose=a=>{this.addLog("socket_disconnected",`${a.code} ${a.reason}`),this.setConnectionStatus("closed"),this.scheduleReconnect()},this.webSocket.onerror=a=>{this.addLog("socket_error",JSON.stringify(a))}}).catch(s=>{this.addLog("jwt_endpoint_failed",JSON.stringify(s)),this.setConnectionStatus("closed"),this.scheduleReconnect()})}potentiallyTriggerLocalRefresh(e,n){if(e!=="closed")return;const s=this.connectionStatusLastDisconnectedAt?fr(new Date,this.connectionStatusLastDisconnectedAt):0,i=this.connectionStatusLastConnectedAt?fr(new Date,this.connectionStatusLastConnectedAt):0,a={secondsSinceLastConnect:i,secondsSinceLastDisconnect:s,forceRefresh:n,skipRefreshOnReconnect:this.skipRefreshOnReconnect};if(n)this.addLog("full_refresh_triggered","Forced full refresh after reconnecting"),this.processMessage({cmd:"reconnect"});else if(!this.skipRefreshOnReconnect&&i>4){const l=Math.floor(Math.random()*2e4);this.addLog("full_refresh_triggered",JSON.stringify({...a,randomMs:l})),setTimeout(()=>{this.processMessage({cmd:"reconnect"})},l)}else this.addLog("full_refresh_skipped",JSON.stringify(a)),this.skipRefreshOnReconnect=!1}processMessage(e){this.listeners.forEach(n=>{n.command===e.cmd&&n.callback(e)})}send(e){var n,s,i;if(((n=this.webSocket)==null?void 0:n.readyState)===1)return(s=this.webSocket)==null?void 0:s.send(JSON.stringify(e));this.addLog("websocket_invalid_state",`readyState: ${(i=this.webSocket)==null?void 0:i.readyState}`)}addMessageListener(e,n){const s={command:e,callback:n};return this.listeners.push(s),s}removeMessageListener(e){this.listeners=this.listeners.filter(n=>n!==e)}schedulePing(){setInterval(()=>{this.ping()},this.pingTimeoutSeconds*_n)}ping(){var n;if(((n=this.webSocket)==null?void 0:n.readyState)!==1)return;let e={cmd:"ping",id:this.pingId,ref:"e657c5f3f3e00f703c5e861cd13d04953cbe41dd"};this.isImpersonated&&(e.is_impersonated=this.isImpersonated),this.send(e)}pong(e){if(e.gitref!==null&&e.gitref!=="development"&&e.gitref!=="e657c5f3f3e00f703c5e861cd13d04953cbe41dd"&&(this.addLog("deployment_detected",`Current ref: e657c5f3f3e00f703c5e861cd13d04953cbe41dd, new ref: ${e.gitref}`),this.processMessage({cmd:"deploy",ref:e.gitref})),e.id===this.pingId){this.pingId++,this.timeDiffInMs=new Date().getTime()-e.server_time,this.timeDiffInMs>1e3&&this.addLog("time_difference_detected",`Difference in time server vs client: ${this.timeDiffInMs}ms`);return}}scheduleReconnect(){this.connectionStatus!=="connecting"&&(this.reconnectTimeout&&clearTimeout(this.reconnectTimeout),this.addLog("reconnect_attempt_scheduled",`Going to reconnect in ${this.reconnectAfterSeconds} seconds`),this.reconnectTimeout=setTimeout(()=>{this.connect()},this.reconnectAfterSeconds*_n),this.reconnectAfterSeconds=Math.min(this.reconnectAfterSeconds*1.5,this.maxReconnectTimeoutSeconds))}addLog(e,n){this.log.push({id:tn(),time:new Date,type:e,message:n})}setConnectionStatus(e){this.addLog("status_changed",`${this.connectionStatus} -> ${e}`),this.connectionStatus=e,e==="connected"&&(this.connectionStatusLastConnectedAt=new Date),e==="closed"&&(this.connectionStatusLastDisconnectedAt=new Date)}};P1=new WeakMap,lf=new WeakMap,cf=new WeakMap,uf=new WeakMap,df=new WeakMap,hf=new WeakMap,B(Yg,P1,[BT,FT,HT,VT,WT,LT]=rY(Yg,[[re,1,"connectionStatus"],[re,1,"connectionStatusLastDisconnectedAt"],[re,1,"connectionStatusLastConnectedAt"],[re,1,"log"],[re,1,"timeDiffInMs"]],[]).e);let Ky=Yg;const lY="risecal_db",cY=1,jn="objectpool";class uY extends XZ{constructor(){super();ie(this,"database",null);ie(this,"databaseReadyPromise");ie(this,"databaseReadyResolve",null);ie(this,"userUuid",null);this.loadUserUuidFromLocalStorage(),console.info("[DesktopObjectStorage] Initializing IndexedDB",{user:this.userUuid}),this.databaseReadyPromise=new Promise(s=>{this.databaseReadyResolve=s});const n=window.indexedDB.open(lY,cY);n.addEventListener("error",()=>console.error("Error opening DB")),n.addEventListener("success",()=>{var s;this.database=n.result,(s=this.databaseReadyResolve)==null||s.call(this)}),n.addEventListener("upgradeneeded",s=>{this.database=n.result,this.database.onerror=()=>{console.error("Error loading database")},s.oldVersion<1&&this.database.createObjectStore(jn,{keyPath:"id"})})}load(n){return new Promise(s=>{var i;(i=this.databaseReadyPromise)==null||i.then(()=>{if(!this.database||this.userUuid===null)return s(!1);n.hydrationStatus="started",this.database.transaction(jn).objectStore(jn).getAll().addEventListener("success",l=>{const p=l.target.result;if(!p||p.length===0)return n.hydrationStatus="unstarted",s(!1);let f=0;p.forEach(v=>{if(!v.obj){console.warn("Obj not found on persisted object. Deleting the object from the database.",v),this.deleteKey(v.id);return}if(this.userUuid&&v.user_uuid!==this.userUuid){console.warn("User UUID does not match, remove from storage",{obj:v.user_uuid,user_uuid:this.userUuid}),this.deleteKey(v.id);return}n.loadObject(v.entity,v.uuid,v.obj),f++}),f>0?(console.info("[DesktopObjectStorage] Hydration completed",{hydratedObjects:f}),n.hydrationStatus="completed",n.triggerRelationshipsUpdate()):n.hydrationStatus="unstarted",s(!0)})})})}persist(n){var s;if(n.entity!=="meeting_board"){if(this.userUuid===null){console.error("[DesktopObjectStorage] User UUID is not set, not persisting object",`entity: ${n.entity}`,`uuid: ${n.uuid}`);return}(s=this.databaseReadyPromise)==null||s.then(()=>{var a;const i={id:`${n.entity}_${n.uuid}`,uuid:n.uuid,entity:n.entity,user_uuid:this.userUuid,obj:n.lastSavedProperties};try{(a=this.database)==null||a.transaction(jn,"readwrite").objectStore(jn).put(i)}catch(l){throw ek(l),l}})}}delete(n){this.deleteKey(`${n.entity}_${n.uuid}`)}clear(){var n;(n=this.databaseReadyPromise)==null||n.then(()=>{var s;console.info("[DesktopObjectStorage] Start clearing IndexedDB",{table:jn}),(s=this.database)==null||s.transaction(jn,"readwrite").objectStore(jn).clear(),console.info("[DesktopObjectStorage] Clearing of database completed")}),this.clearUserUuidFromLocalStorage()}setUserUuid(n){this.userUuid!==n&&(this.userUuid!==null&&this.userUuid!==n?console.warn("[DesktopObjectStorage] User UUID changed!"):console.info("[DesktopObjectStorage] User UUID set",{userUuid:n}),this.userUuid=n,this.persistUserUuidToLocalStorage())}deleteKey(n){var s;(s=this.databaseReadyPromise)==null||s.then(()=>{var i;(i=this.database)==null||i.transaction(jn,"readwrite").objectStore(jn).delete(n)})}loadUserUuidFromLocalStorage(){const n=localStorage.getItem("rise:objectStorage:userUuid");n&&this.setUserUuid(n)}persistUserUuidToLocalStorage(){this.userUuid&&localStorage.setItem("rise:objectStorage:userUuid",this.userUuid)}clearUserUuidFromLocalStorage(){localStorage.removeItem("rise:objectStorage:userUuid")}}var GT,zT,NM;function dY(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:KT(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||KT(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return mY(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:hY(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function hY(t){var e=fY(t,"string");return typeof e=="symbol"?e:e+""}function fY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KT(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function mY(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}NM=[Y,Y.bound];var L1,ff;const yi=class yi{constructor(e,n=null){ie(this,"rootStore",void GT(this));B(this,ff,zT(this));this.rootStore=e,this.contextOverride=n}get contextOverride(){return H(this,ff)}set contextOverride(e){V(this,ff,e)}get event(){var e,n,s;return this.contextOverride?this.contextOverride.event||null:((e=this.rootStore.appStore)==null?void 0:e.selectedObject)instanceof de||((n=this.rootStore.appStore)==null?void 0:n.selectedObject)instanceof Le?(s=this.rootStore.appStore)==null?void 0:s.selectedObject:null}get workspace(){var e,n,s,i;return this.contextOverride?this.contextOverride.workspace||((e=this.contextOverride.task)==null?void 0:e.workspace)||((n=this.contextOverride.project)==null?void 0:n.workspace)||null:((s=this.rootStore.appStore)==null?void 0:s.selectedObject)instanceof Ce?(i=this.rootStore.appStore)==null?void 0:i.selectedObject.workspace:null}get team(){var e,n,s,i;return this.contextOverride?this.contextOverride.team||null:((e=this.rootStore.appStore)==null?void 0:e.selectedObject)instanceof Ce&&(((n=this.rootStore.appStore)==null?void 0:n.selectedObject.team)||((i=(s=this.rootStore.appStore)==null?void 0:s.selectedObject.project)==null?void 0:i.team))||null}get project(){var e,n,s;return this.contextOverride?this.contextOverride.project||((e=this.contextOverride.task)==null?void 0:e.project)||null:((n=this.rootStore.appStore)==null?void 0:n.selectedObject)instanceof Ce&&((s=this.rootStore.appStore)==null?void 0:s.selectedObject.project)||null}get task(){var e,n;return this.contextOverride&&this.contextOverride.task?this.contextOverride.task:((e=this.rootStore.appStore)==null?void 0:e.selectedObject)instanceof Ce?(n=this.rootStore.appStore)==null?void 0:n.selectedObject:null}get assignee(){var e,n;return this.contextOverride?this.contextOverride.assignee||null:((e=this.rootStore.appStore)==null?void 0:e.selectedObject)instanceof Ce&&((n=this.rootStore.appStore)==null?void 0:n.selectedObject.assignee)||null}get attachment(){return this.contextOverride&&this.contextOverride.attachment||null}get inboxNotification(){return this.contextOverride&&this.contextOverride.inboxNotification||null}get place(){var e;return(e=this.contextOverride)==null?void 0:e.place}actionToMenuOption(e){if(!(e.applicable&&!e.applicable(this)))return{icon:this.getIcon(e),label:typeof e.label=="function"?e.label(this):e.label,keyboardShortcut:e.keyboardShortcut,onSelect:()=>{this.rootStore.actionsStore.executeAction(e,this)}}}getIcon(e){var n;return((n=e.dynamicIcon)==null?void 0:n.call(e,this))||e.icon}setContextOverride(e){const n=this.contextOverride;return this.contextOverride=e,()=>{xe(()=>{this.contextOverride=n})}}withOverrides(e){const n=Object.fromEntries(Object.entries(e).filter(([,s])=>s!==void 0));return new yi(this.rootStore,{...this.contextOverride,...n})}};L1=new WeakMap,ff=new WeakMap,B(yi,L1,[zT,GT]=dY(yi,[[re,1,"contextOverride"],[ne,3,"event"],[ne,3,"workspace"],[ne,3,"team"],[ne,3,"project"],[ne,3,"task"],[ne,3,"assignee"],[ne,3,"attachment"],[ne,3,"inboxNotification"],[ne,3,"place"],[NM,18,"actionToMenuOption"],[Y,2,"setContextOverride"]],[]).e);let Oi=yi;const kx=K.createContext(null);function _x({children:t,overrides:e}){const n=Ln(e);return r.jsx(kx.Provider,{value:n,children:t})}function Ln(t){const e=se("loading"),n=K.useContext(kx);return K.useMemo(()=>n?n.withOverrides(t):new Oi(e,t),[e,n,...Object.values(t)])}function kM(){const t=se("loading"),e=K.useContext(kx);return e||t.actionsStore.actionContext}const pY={riseAppVersion:"e657c5f3f3e00f703c5e861cd13d04953cbe41dd"};var ke=(t=>(t.APP_LOAD="app.load",t.EVENT_CREATED="event.created",t.PROPOSAL_APPLIED="proposal.applied",t.SHARE_AVAILABILITY_PANEL_OPENED="share_availability.opened",t.FAT_MODAL_OPENED="fat_modal.opened",t.FAT_MODAL_SEARCH_STARTED="fat_modal.search_started",t.FAT_MODAL_DURATION_OPENED="fat_modal.duration.opened",t.FAT_MODAL_TIME_WINDOW_OPENED="fat_modal.time_window.opened",t.CALENDAR_SIDEBAR_FAT_SEARCH_STARTED="calendar_sidebar.fat_search_started",t.CALENDAR_SIDEBAR_FAT_DURATION_CHANGED="calendar_sidebar.fat_duration_changed",t.FAT_SUBOPTIMAL_PRESENTED="fat.suboptimal_presented",t.FAT_REQUEST_TIMEOUT="fat.request_timeout",t.FAT_REQUEST_ERROR="fat.request_error",t.FIND_TIME_REQUEST_COMPLETED="find_time_request.completed",t.EVENT_OPENED="event.opened",t.EVENT_SAVED="event.saved",t.TRANSACTION_FAILED="transaction.failed",t.EVENT_DELETED="event.deleted",t.EVENT_FLEXIBLE_SETTING_CHANGED="event.flexible_setting_changed",t.POST_SAVE_DIALOG_ENABLED_FLEXIBLE="post_save_dialog.enabled_flexible",t.EVENT_RESCHEDULE_BUTTON_CLICKED="event_reschedule.button_clicked",t.EVENT_RESCHEDULE_SEARCH_STARTED="event_reschedule.search_started",t.EVENT_RESCHEDULE_SEARCH_COMPLETED="event_reschedule.search_completed",t.FOCUS_GUARD_ENABLED="focus_guard.enabled",t.FOCUS_GUARD_DISABLED="focus_guard.disabled",t.ONBOARDING_WELCOME_WEB_OPENED="onboarding.welcome_web.opened",t.ONBOARDING_WELCOME_DESKTOP_APP_OPENED="onboarding.welcome_desktop.opened",t.ONBOARDING_WAITING_FOR_OUTLOOK_CLICKED="onboarding.waiting_for_outlook.clicked",t.ONBOARDING_WELCOME_CONTINUE_WITH_GOOGLE_CLICKED="onboarding.welcome_continue_with_google.clicked",t.ONBOARDING_PERMISSIONS_PAGE_OPENED="onboarding.permissions_page.opened",t.ONBOARDING_PERMISSIONS_SCOPE_TOGGLE_CHANGED="onboarding.permissions.scope_toggle_changed",t.ONBOARDING_PERMISSIONS_CONNECT_GOOGLE_ACCOUNT_LINK_CLICKED="onboarding.permissions_connect_google_account_link.clicked",t.ONBOARDING_PERMISSIONS_SUPPORT_LINK_CLICKED="onboarding.permissions_support_link.clicked",t.ONBOARDING_COMPANY_ACCOUNT_PAGE_OPENED="onboarding.company_account_page.opened",t.ONBOARDING_COMPANY_ACCOUNT_WILL_DO_LATER_CLICKED="onboarding.company_account_will_do_later.clicked",t.ONBOARDING_TIMES_PAGE_OPENED="onboarding.times_page.opened",t.ONBOARDING_LUNCH_PAGE_OPENED="onboarding.lunch_page.opened",t.ONBOARDING_FLEXIBLE_EXPLAINER_PAGE_OPENED="onboarding.flexible_explainer_page.opened",t.ONBOARDING_FLEXIBLE_SUGGESTIONS_PAGE_OPENED="onboarding.flexible_suggestions_page.opened",t.ONBOARDING_FLEXIBLE_SUGGESTION_SKIPPED="onboarding.flexible_suggestion.skipped",t.ONBOARDING_FLEXIBLE_DEFAULT_SETTING_PAGE_OPENED="onboarding.flexible_default_setting.opened",t.ONBOARDING_FOCUSGUARD_PAGE_OPENED="onboarding.focusguard_page.opened",t.ONBOARDING_INVITES_PAGE_OPENED="onboarding.invites.opened",t.ONBOARDING_COMPLETED="onboarding.completed",t.ONBOARDING_DOWNLOAD_PAGE_OPENED="onboarding.download_page.opened",t.ONBOARDING_DOWNLOAD_DESKTOP_APP_BUTTON_BLICKED="onboarding.download_desktop_app_button.clicked",t.ONBOARDING_CONTINUE_TO_DESKTOP="onboarding.continue_on_desktop.opened",t.ONBOARDING_VIDEO_STARTED="onboarding.video.started",t.ONBOARDING_VIDEO_ENDED="onboarding.video.ended",t.CALENDAR_PAGE_OPENED="calendar_page.opened",t.GETTING_STARTED_VIDEO_STARTED="getting_started.video.started",t.GETTING_STARTED_VIDEO_ENDED="getting_started.video.ended",t.GETTING_STARTED_SIDEBAR_SECTION_DISMISSED="getting_started.sidebar_section.dismissed",t.GETTING_STARTED_STEP_OPENED="getting_started.step.opened",t.GETTING_STARTED_STEP_COMPLETED="getting_started.step.completed",t.GETTING_STARTED_STEP_UNCOMPLETED="getting_started.step.uncompleted",t.GETTING_STARTED_ALL_STEPS_COMPLETED="getting_started.all_steps.completed",t.PERMISSIONS_AUTOCOMPLETE_PROMPT_CLICKED="permissions.autocomplete_prompt.clicked",t.PERMISSIONS_SCOPE_ACCESS_REQUESTED="permissions.scope_access.requested",t.PERMISSIONS_SUPPORT_LINK_CLICKED="permissions.support_link.clicked",t.PRIMARY_CALENDAR_PICKER_PAGE_OPENED="primary_calendar_picker_page.opened",t.SIGNUP_PAGE_OPENED="signup_page.opened",t.SIGNUP_CONTINUE_WITH_GOOGLE_CLICKED="signup.continue_with_google.clicked",t.SIGNUP_WAITING_FOR_OUTLOOK_CLICKED="signup.waiting_for_outlook.clicked",t.SIGNUP_SIGN_IN_BUTTON_CLICKED="signup.sign_in_button.clicked",t.LOGIN_PAGE_OPENED="login_page.opened",t))(ke||{});function gY(t,e){e?console.info(`[Analytics unrecorded] [production] ${t}`,e):console.info(`[Analytics unrecorded] [production] ${t}`)}function Me(t,e){const n=pe.isDesktopApp?{desktopAppVersion:{version:pe.appVersion,electronVersion:pe.electronVersion}}:void 0,s={client:pe.client,...n,...pY,window:{innerWidth:window.innerWidth,innerHeight:window.innerHeight},...e};gY(`Event: ${t}`,s)}function k0({event:t,properties:e}){return K.useEffect(()=>{Me(t,e)},[]),null}function bY(t,e){K.useEffect(()=>{Me(t,e)},[])}let di=[];const Zy=new Set;function _M(t,e){var n;switch(e.type){case"add-dialog":return t.find(s=>s.id===e.dialog.id)?_M(t,{...e,type:"update-dialog",dialogId:e.dialog.id}):t.concat(e.dialog);case"update-dialog":return t.map(s=>s.id===e.dialogId?{...s,...e.dialog}:s);case"close-dialog":return((n=t.find(s=>s.id===e.dialogId))==null?void 0:n.isOpen)===!1?t:t.map(s=>s.id===e.dialogId?{...s,isOpen:!1}:s);case"remove-dialog":return t.filter(s=>s.id!==e.dialogId);case"reset-dialogs":return t.length===0?t:t.map(s=>s.isOpen?{...s,isOpen:!1}:s)}}function ps(t){di=_M(di,t),Zy.forEach(e=>e(di))}function OM(t){return Zy.add(t),function(){Zy.delete(t)}}function yY(){return di}function hie(){const[t,e]=K.useState(di);return K.useEffect(()=>OM(e),[]),t}function Ke(t,e){const n=(e==null?void 0:e.id)||`dialog-internal-${vY++}`,s={isOpen:!0,...e,id:n,renderDialog:t},i=yY(),a=i[i.length-1];return a&&!a.isOpen?jY(s,a.id):(ps({type:"add-dialog",dialog:s}),{update:l=>ps({type:"update-dialog",dialogId:n,dialog:l}),close:()=>ps({type:"close-dialog",dialogId:n})})}let vY=0;const xY=1e3;function jY(t,e){let n=!1,s=t;const i=window.setTimeout(l,xY),a=OM(p);function l(){n||(n=!0,f(),ps({type:"add-dialog",dialog:s}))}function p(v){v.every(E=>E.id!==e)&&l()}function f(){window.clearTimeout(i),a()}return{update:v=>{if(!n){s={...s,...v};return}ps({type:"update-dialog",dialogId:s.id,dialog:v})},close:()=>{if(!n){f();return}ps({type:"close-dialog",dialogId:s.id})}}}function xt({title:t,description:e,primaryAction:n,secondaryAction:s}){let i;const a=s?Array.isArray(s)?s:[s]:[],{close:l}=Ke(({close:f,closeHandlerRef:v})=>(v.current=()=>(window.setTimeout(()=>i("closed")),!0),r.jsxs("div",{className:"w-full max-w-lg",children:[r.jsxs("div",{className:"grid gap-8 p-24",children:[r.jsx(YL,{className:ht,children:t}),e&&r.jsx(XL,{className:U(oe,"text-contrast-60"),children:e})]}),r.jsxs("div",{className:"flex justify-end gap-12 border-t border-contrast-5 bg-contrast-5 px-24 py-8",children:[a.map((E,w)=>{const D=r.jsx(ae,{destructive:E.negative,disabled:E.disabled,onClick:()=>{var M;f(),(M=E.onClick)==null||M.call(E),i(E.key)},children:E.label},w);return E.tooltip?r.jsx(ce,{label:E.tooltip,children:D},w):D}),n&&r.jsx(hx,{useHook:X_,children:E=>r.jsx(ae,{"data-no-prevent-focus-once":!0,ref:E,variant:"primary",destructive:n.negative,onClick:()=>{var w;f(),(w=n.onClick)==null||w.call(n),i(n.key)},children:n.label})})]})]}))),p=new Promise(f=>{i=f});return p.cancel=l,p}const SY="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJCSURBVHgB7ZVNaBNBGIbf2d1ssikksUSzij+lEUVPpXgIQi8FwYOgIvZioR56kZ4UBI+9iD1UT4oHIR6qkIqgB0EQfypStVooCGIDVqxIUA/aptHdzW4z7iQYYpu0k2m76aEPJMzuzM6z8+183wANgrC/w5eMFrvg3KMgbVhFbMfBx8yXRfcpxZTCGvl5+zGIFIdHEIK4VGp5J/2HhAaxIfYMZbkBV7oD0MMEIlBzGubYEQiJY640FhYMjF+C05Sp2rV+Q13J+GcbqTcGchZF5z4VXQe0//qzRgFDrwwcb9ewLSKtjvj1pzx6kjNQZWCvruBsKovn6TyunQqXXmraRt/QLL7OzKN9l88Vq0vOxx3qOZMi0api9EIUd880o7cjiPsTJgyb4skHC8eu/mSlkBvuFR/a7y/+Kl+EofkIOvaoGDgRQutmGSev/+Kar65vzBh4mMOj9xbS3xxc7goV76kyQXdCw8upPPc8de/qrW5qtURlBNyVPpvkF61Y3HMwiOTpCG71RvDgnYmRSQsicItvvPiDc3ey5etNwdKjLLVE4P7GbMMOuzlMC8BON9TDYwZCAYK2HT6IwC1m6SO5dlZARtIW4ltkJI9GsL1ZLo9hUWA7PKQtH8hi5nVezNWM1+0+zT0kBCure0g4o7urdjW2Vtv0e80Bmd9NKChixyKMH4jO+qt2FWfU+xM1Q63HdSg+GSLE5hzcTK2jY5FS2l93yVy5FOdjT8cHPV1xSfp2kLU9E1dKy2JCyATWkIVSxl8JMq+FfYKMLAAAAABJRU5ErkJggg==",gs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANESURBVHgB7VfNTxNBFP/NTAsIkiJUvuRTCEExJBzACAdvHkng4EnFRC9qvBg1ejIagweNJl69+IEc0IsJ/4CihEQNYjBASJC0BEFQpJXSdjs7zi4t1O1uuwiNF37J68zsm5n3mzfz3kyBHfxnECuFx+NplsU9IUQFtgczmZmZ54qLi0fjPzosOhPPUqCPEVqF7UOVQPCFLA9KEeuGjL1yr/a3C5bxBJTmIQ0gAtMq1I6V7mOftLbRAwQZOdcJIWkxHkUVVfktWbZrDQojgUjoF9INzimi3jcSUCHU70g3VGUC0XNgJCDtK5PYBOoKMlErZTMgnM/E6glRQEDnYAOUEPR0VKKlNEtvPx5Zwu2BeTtDEeGB8fV5EpSBn19gA531LjSXZEFIR2rS1bgHrWU5sAUiFiwJiKWFWdhAmcuZ8K0wxwE7CPTeGbMkEOy9PCeX5E8xB956AnIlG2lkOaTi47dVpITK5zH/ORxrmlGOEMEXBXHkJpvnw+wKul55cKYpH35p/NHwD3h9YaQmEJmSvzwZASE4HwN1VCMFBr0rumwKQt9/kYyAyg81OYQSkjUV245w6HcqAoQwZxGc8oQHlk1J1ORSdO5jOFpIUJFNweRRGPepeL8k8HyawxtIQtzhPIC1LKiTMLuO2a4+v0/eB9macSOJK/VOXKhl0pPCdH45Dg8nOe5PKKZ6CO5dPbu/ClrWhUkU7L77rkA3rmspSLZLLzUcL2c4X0MtjevzS93FWumhMouQJKzcda3fFWsmEEBpXcNf7TgShwso7OKI27qvyHe7rQkokb0J32IkGNNdbEes31rSRF5+Y6ye4Cc1I6vBdJQkcfNrNh5M+GxFh0+x3iaopNKSgPSJ5RvQHyHwIxciuLylECUU1RvmjErQmqSjDQfzXyAEKbUiQBEJps6nWyTBeKgQ0VPCDDqRUVgz73CXtBDmKCAypIhQzUXmEaodynAQROXW/YziXxxWB19eiowOeAGLRCSlqOfZ0xHGmDvVatYuRAI7UJTw1MlTp9tkVbsP9AvJLFtoirnXbwZOtLW2dsMsVOMJyG2wsxEK5/6hoaEbsqo9m6z/F8RB80RetLS3xOTQzpaM4Y2reAca/gB/WTZdK/6ZowAAAABJRU5ErkJggg==",Cn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEwSURBVHgB7ZUxUsNADEW/HJzBQwM3yA3gCLijYCY+Cm0q1lVauMlmhoIOjuAbkCOkcxJPVsiegSJMssouVOwrvSvpS15JQCKR+O8QArift7dMPGVGJQ4mw0dGA+ImR1bbWbHU+jpJQGX4sjtvHyXYg8frU74uamtohd8SMAQft29icaMykIrk26L0icigZMhcG7xH7g423msKqnk76cAfCIBA5cuseD90rqpAR86bySEcdtWxc5UAKZO+9D9ssyliBTBTsAB8tWmMgL9EJ4CwRCgynBArgNgtEApn8QKAkUUgO6BGrIC+jwnuGSfCYvPq2QvqR3i26Yzvf+5Fb8abC+O7phZgzdUqX29LTSX6zDV7oCdoHd/JaB7BGSJcf88I6RRZz4sMZI+N3kQikdjnE55BZijiNYSvAAAAAElFTkSuQmCC",IM="/app/assets/preview-2-focusguard-CdJ1kVLx.jpeg",AY="/app/assets/preview-3-schedule-DCzK5v3j.jpeg",EY="/app/assets/preview-4-external-CIIrTCln.jpeg",DY="/app/assets/user-badge-CNaWkciC.png",wY="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20fill='none'%20viewBox='0%200%2032%2032'%3e%3cg%20clip-path='url(%23a)'%3e%3cpath%20fill='url(%23b)'%20d='M0%200h32v32H0z'/%3e%3cg%20filter='url(%23c)'%3e%3cpath%20fill='url(%23d)'%20fill-rule='evenodd'%20d='M13.52%207.97a2.81%202.81%200%200%201%204.96%200l6.88%2012.89c1%201.87-.36%204.14-2.48%204.14H9.12a2.81%202.81%200%200%201-2.48-4.14l6.88-12.9Zm3.42%204.84a.94.94%200%200%200-1.88%200v5a.94.94%200%201%200%201.88%200v-5ZM16%2019.97c.52%200%20.94.42.94.94v.02a.94.94%200%200%201-1.88%200v-.02c0-.52.42-.94.94-.94Z'%20clip-rule='evenodd'/%3e%3c/g%3e%3c/g%3e%3cdefs%3e%3clinearGradient%20id='b'%20x1='27'%20x2='7.5'%20y1='0'%20y2='32'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23FF92AA'/%3e%3cstop%20offset='1'%20stop-color='%23FF2F5E'/%3e%3c/linearGradient%3e%3clinearGradient%20id='d'%20x1='16'%20x2='16'%20y1='6.48'%20y2='25'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23fff'/%3e%3cstop%20offset='1'%20stop-color='%23FED8D8'/%3e%3c/linearGradient%3e%3cclipPath%20id='a'%3e%3cpath%20fill='%23fff'%20d='M0%200h32v32H0z'/%3e%3c/clipPath%3e%3cfilter%20id='c'%20width='37.5'%20height='37.5'%20x='-2.75'%20y='-1.5'%20color-interpolation-filters='sRGB'%20filterUnits='userSpaceOnUse'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20result='hardAlpha'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'/%3e%3cfeMorphology%20in='SourceAlpha'%20operator='dilate'%20radius='.63'%20result='effect1_dropShadow_7662_95855'/%3e%3cfeOffset%20dy='1.25'/%3e%3cfeGaussianBlur%20stdDeviation='.31'/%3e%3cfeColorMatrix%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.1%200'/%3e%3cfeBlend%20in2='BackgroundImageFix'%20result='effect1_dropShadow_7662_95855'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20result='hardAlpha'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'/%3e%3cfeMorphology%20in='SourceAlpha'%20operator='dilate'%20radius='1.25'%20result='effect2_dropShadow_7662_95855'/%3e%3cfeOffset%20dy='1.25'/%3e%3cfeGaussianBlur%20stdDeviation='3.75'/%3e%3cfeColorMatrix%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.1%200'/%3e%3cfeBlend%20in2='effect1_dropShadow_7662_95855'%20result='effect2_dropShadow_7662_95855'/%3e%3cfeBlend%20in='SourceGraphic'%20in2='effect2_dropShadow_7662_95855'%20result='shape'/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e",CY="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%2032%2032'%3e%3cg%20clip-path='url(%23a)'%3e%3cpath%20fill='url(%23b)'%20d='M0%200h32v32H0z'/%3e%3cg%20filter='url(%23c)'%3e%3cpath%20fill='url(%23d)'%20fill-rule='evenodd'%20d='M13.52%208.66a2.81%202.81%200%200%201%204.96%200l6.88%2012.9c1%201.86-.36%204.13-2.48%204.13H9.12a2.81%202.81%200%200%201-2.48-4.14l6.88-12.89Zm3.42%204.84a.94.94%200%200%200-1.88%200v5a.94.94%200%201%200%201.88%200v-5ZM16%2020.66c.52%200%20.94.42.94.94v.02a.94.94%200%200%201-1.88%200v-.02c0-.52.42-.94.94-.94Z'%20clip-rule='evenodd'/%3e%3c/g%3e%3c/g%3e%3cdefs%3e%3clinearGradient%20id='b'%20x1='27'%20x2='7.5'%20y1='0'%20y2='32'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23EA435E'/%3e%3cstop%20offset='1'%20stop-color='%23972335'/%3e%3c/linearGradient%3e%3clinearGradient%20id='d'%20x1='16'%20x2='16'%20y1='7.17'%20y2='25.69'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23fff'/%3e%3cstop%20offset='1'%20stop-color='%23FED8D8'/%3e%3c/linearGradient%3e%3cclipPath%20id='a'%3e%3cpath%20fill='%23fff'%20d='M0%200h32v32H0z'/%3e%3c/clipPath%3e%3cfilter%20id='c'%20width='34'%20height='34'%20x='-1'%20y='0'%20color-interpolation-filters='sRGB'%20filterUnits='userSpaceOnUse'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20result='hardAlpha'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'/%3e%3cfeMorphology%20in='SourceAlpha'%20operator='dilate'%20radius='.5'%20result='effect1_dropShadow_8542_5471'/%3e%3cfeOffset%20dy='1'/%3e%3cfeGaussianBlur%20stdDeviation='.25'/%3e%3cfeColorMatrix%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.1%200'/%3e%3cfeBlend%20in2='BackgroundImageFix'%20result='effect1_dropShadow_8542_5471'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20result='hardAlpha'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'/%3e%3cfeMorphology%20in='SourceAlpha'%20operator='dilate'%20radius='1'%20result='effect2_dropShadow_8542_5471'/%3e%3cfeOffset%20dy='1'/%3e%3cfeGaussianBlur%20stdDeviation='3'/%3e%3cfeColorMatrix%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.1%200'/%3e%3cfeBlend%20in2='effect1_dropShadow_8542_5471'%20result='effect2_dropShadow_8542_5471'/%3e%3cfeBlend%20in='SourceGraphic'%20in2='effect2_dropShadow_8542_5471'%20result='shape'/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e";function TY({className:t,...e}){return r.jsx(UW,{steps:4,...e,className:Ae("w-[19rem] py-8",t)})}function _0({children:t,showBackButton:e,progress:n,stepProgress:s,hasVideo:i,skipLink:a}){const l=it();return r.jsxs("div",{className:"grid min-h-full w-full grid-rows-[auto,1fr] gap-32 [-webkit-app-region:drag] lg:gap-96",children:[r.jsxs("div",{className:"grid grid-cols-[1fr,auto] content-center items-center justify-center sm:grid-cols-[1fr,28rem,1fr]",children:[e?r.jsx(ae,{onClick:()=>l(-1),icon:c0,variant:"tertiary",className:"m-8 hidden sm:flex","aria-label":"Back"}):r.jsx("div",{}),n?r.jsx(TY,{progress:n,stepProgress:s,className:"w-full justify-self-center px-16 lg:px-0"}):r.jsx("div",{}),a&&r.jsx("div",{className:"m-8 justify-self-end",children:a})]}),r.jsx("div",{className:"flex min-h-full items-start justify-center p-32",children:r.jsx("div",{className:U("grid w-full gap-32 [-webkit-app-region:no-drag]",i?"justify-stretch sm:max-w-[55rem]":"justify-start sm:max-w-md"),children:t})})]})}const fie=X(function(){return wm("bg-base-bg-elevated dark:bg-base-bg"),r.jsxs(_0,{showBackButton:!0,skipLink:r.jsx(qt,{to:ye.setupTimes.path,variant:"tertiary",onClick:()=>{Me(ke.ONBOARDING_COMPANY_ACCOUNT_WILL_DO_LATER_CLICKED)},children:"Skip"}),children:[r.jsx(k0,{event:ke.ONBOARDING_COMPANY_ACCOUNT_PAGE_OPENED}),r.jsxs("div",{className:"grid max-w-sm [-webkit-app-region:no-drag]",children:[r.jsx("img",{src:DY,alt:"Company badge",className:"-ml-8 mb-24 h-[88px] w-[88px]"}),r.jsx("p",{className:"mb-12 text-3xl font-bold",children:"Connect your company account to continue"}),r.jsx("p",{className:"mb-48 text-[0.9375rem] text-contrast-50",children:"It seems like youve connected a personal account. Optimize your workdays by connecting your company calendar account."}),r.jsxs("div",{className:"flex w-full max-w-sm flex-col",children:[r.jsxs(qt,{to:ye.setupPermissions.path,size:"large",variant:"primary",className:"mb-8 w-full sm:w-auto",children:[r.jsx(eH,{className:"mr-8"})," Connect Google"]}),r.jsxs(qt,{to:ye.setupPermissionsOutlook.path,size:"large",variant:"primary",className:"mb-8 w-full sm:w-auto",children:[r.jsx(nH,{className:"mr-8"})," Connect Outlook"]})]})]})]})}),mie=X(function(){const{userStore:e,onboardingStore:n}=se();wm("bg-base-bg-elevated dark:bg-base-bg");const s=it();return K.useEffect(()=>{n.prefetchTopPeopleInDomains()},[n]),r.jsxs(_0,{showBackButton:!0,progress:3,children:[r.jsx(k0,{event:ke.ONBOARDING_INVITES_PAGE_OPENED}),r.jsx("div",{className:"grow items-stretch",children:r.jsx("div",{className:"flex h-full flex-col sm:justify-center",children:r.jsx("div",{className:"flex content-center justify-center",children:r.jsxs("div",{className:"grid max-w-sm justify-items-start [-webkit-app-region:no-drag]",children:[r.jsx("h1",{className:U(Di,"mb-12"),children:"Invite your teammates"}),r.jsx("p",{className:U(ls,"mb-48 text-[15px] text-contrast-50"),children:"The more teammates are using Rise, the better your schedule will be."}),n.isLoadingTopPeopleInDomainsOrIdle?r.jsx("p",{className:U(zn,"mb-24 animate-pulse text-contrast-50"),children:"Fetching teammates"}):n.topInDomains.length===0?r.jsx("p",{className:U(zn,"mb-24 text-contrast-50"),children:"No teammates to invite."}):r.jsx("ol",{className:"mb-32 max-h-288 w-full list-none overflow-auto rounded-md border border-contrast-10 empty:hidden",children:n.topPeopleInDomainsToInvite.map(i=>r.jsxs("li",{className:"flex w-full flex-row items-center gap-8 border-b border-b-contrast-10 p-8 first:rounded-t-sm last:rounded-b-sm last:border-b-0",children:[r.jsx("div",{className:"flex-none",children:r.jsx(bt,{className:"size-28",label:i.name||i.email,profileImageUrl:i.profile_image_url})}),r.jsxs("div",{className:"grow",children:[r.jsx("div",{className:zn,children:i.name||i.email}),i.name&&r.jsx("div",{className:U(oe,"text-contrast-50"),children:i.email})]}),i.status==="invited"?r.jsxs("div",{className:U(oe,"flex flex-none flex-row gap-4 py-6 align-middle text-primary"),children:[r.jsx(yt,{className:"inline-block"})," Invited"]}):r.jsx(ae,{className:"flex-none",onClick:()=>{ue.people.inviteByEmail(i.email),xe(()=>{i.status="invited"})},children:"Invite"})]},i.email))}),r.jsx(ae,{size:"large",onClick:()=>MM(s,e),variant:"primary",className:"w-full sm:w-auto",children:"Continue"})]})})})})]})});async function MM(t,e){await e.setOnboardingCompleted(),Me(ke.ONBOARDING_COMPLETED),pe.isMobileWeb?t("/setup/desktop"):pe.isDesktopApp?t("/"):t("/setup/download")}const tb="id4tCoc3Ymg",NY=3e4,pie=X(function(){const{userStore:e,onboardingStore:n}=se();K.useEffect(()=>{n.prefetchTopPeopleInDomains()},[n]),wm("bg-base-bg-elevated dark:bg-base-bg");const s=it();function i(){n.hasNoTopPeopleInDomainsToInvite?MM(s,e):s("/setup/invite")}const a=K.useRef(null);function l(){a.current&&clearTimeout(a.current)}return K.useEffect(()=>{if(!a.current)return a.current=setTimeout(()=>{Me(ke.GETTING_STARTED_STEP_COMPLETED,{step:"fgExplainerDone",reason:"onboarding-timer"}),e.setOnboardingState("fgExplainerDone",!0)},NY),()=>{a.current&&clearTimeout(a.current)};window.addEventListener("beforeunload",()=>{l()})},[e,a]),r.jsxs(_0,{progress:2,showBackButton:!0,hasVideo:!0,skipLink:r.jsx(ae,{variant:"tertiary",onClick:()=>{l(),e.setFocusGuardStatus("disabled"),e.setOnboardingState("fgExplainerDone",!1),Me(ke.GETTING_STARTED_STEP_UNCOMPLETED,{step:"fgExplainerDone",reason:"onboarding-skip"}),i()},children:"Skip"}),children:[r.jsx(k0,{event:ke.ONBOARDING_FOCUSGUARD_PAGE_OPENED}),r.jsx("div",{className:"mb-48 aspect-video w-full flex-none overflow-hidden rounded-lg",children:r.jsx(JL,{url:`https://www.youtube-nocookie.com/watch?v=${tb}`,width:"100%",height:"100%",controls:!0,playing:!0,light:r.jsx("img",{src:IM,alt:""}),onStart:()=>Me(ke.ONBOARDING_VIDEO_STARTED,{step:"fgExplainerDone",video:tb}),onEnded:()=>Me(ke.ONBOARDING_VIDEO_ENDED,{step:"fgExplainerDone",video:tb})})}),r.jsxs("div",{className:"w-full max-w-[34.5rem] justify-self-center text-center",children:[r.jsx("h1",{className:U(Di,"mb-12"),children:"Would you like to automatically block time as your calendar fills up?"}),r.jsx("p",{className:Ae(ls,"mb-32 text-[0.9375rem] text-contrast-50"),children:"You can change this later and we will only block time when its really necessary"}),r.jsxs("div",{className:"flex flex-col justify-center gap-8 sm:flex-row sm:gap-16",children:[r.jsx(ae,{variant:"primary",size:"large",onClick:()=>{e.focusGuardStatus!=="enabled"&&e.setFocusGuardStatus("waiting_for_analysis"),i()},children:"Yes, protect my time"}),r.jsx(ae,{size:"large",onClick:()=>{l(),e.setFocusGuardStatus("disabled"),e.setOnboardingState("fgExplainerDone",!1),Me(ke.GETTING_STARTED_STEP_UNCOMPLETED,{step:"fgExplainerDone",reason:"onboarding-skip"}),i()},children:"Maybe later"})]})]})]})});function RM({type:t}){return t==="google_calendar"?r.jsx(ax,{}):r.jsx(g0,{})}const gie=X(function(){const e=Hr.toast;K.useEffect(()=>{if(e&&!e.actions){const s=window.setTimeout(()=>{Hr.resetToast()},8e3);return()=>{window.clearTimeout(s)}}},[e]);function n(s){if(s==="success")return r.jsx(o0,{className:"text-green-300"});if(s==="error")return r.jsx(p0,{className:"text-red-300"});if(s==="sparkle")return r.jsx(jm,{className:"text-yellow-300"});if(s==="copy")return r.jsx(xn,{})}return r.jsx("div",{className:"pointer-events-none fixed inset-x-0 bottom-0 h-112 overflow-hidden",children:r.jsx("div",{className:"absolute bottom-0 flex w-full justify-center",children:r.jsx(Sr,{children:e&&r.jsx(on.div,{initial:{opacity:0,y:0},animate:{opacity:1,y:-28},exit:{opacity:0,y:"0"},transition:{type:"spring",duration:.45},className:"pointer-events-auto flex items-center justify-center gap-10",children:r.jsx(QW,{icon:n(e.variant),title:e.title,actions:e.actions,onActionClick:()=>{Hr.resetToast()}})})})})})});function kY(){const t=new Intl.DateTimeFormat(void 0,{hour:"numeric"}).format();return!Number.isInteger(Number(t))}const ZT=window.navigator.languages[0]||window.navigator.language||"en",PM=ZT==="en-US"||ZT==="en";function Ox(t,e,n){const s=n.findByEmail(t.email);if(s){const a=e.nameForEmail({email:t.email})||t.email;return{value:s.email,label:a,secondaryLabel:`${s.members.length} colleagues`,icon:r.jsx("div",{className:"relative flex size-24 items-center justify-center text-contrast-50",children:r.jsx(d0,{})}),person:t}}const i=!!e.contactsWithRise.has(t.email);return{value:t.email,label:t.name||t.email,secondaryLabel:i?r.jsxs("div",{className:"flex flex-row items-center gap-2",children:[r.jsx(WF,{className:"size-10 flex-none"}),t.name?t.email:"Using Rise"]}):t.name?t.email:void 0,icon:r.jsx(bt,{label:t.name||t.email,profileImageUrl:t.profileImageUrl}),person:t}}const $n=({label:t,description:e,icon:n=null,access:s,indented:i,tooltip:a})=>r.jsxs("li",{className:U("flex gap-8 border-t border-t-contrast-10 p-8 first:border-t-0",i&&"ml-24"),children:[n,r.jsxs("div",{className:U(oe,"flex-grow"),children:[t&&r.jsx("div",{children:t}),e&&r.jsxs("div",{className:U(Ne,"text-contrast-50"),children:[e,a&&r.jsxs(r.Fragment,{children:[" ",r.jsx(ce,{label:a,className:"w-256",children:r.jsx("span",{className:"text-contrast-30",children:r.jsx(wn,{className:"inline"})})})]})]})]}),s!==void 0&&r.jsx("div",{className:U(oe,"w-[4.25rem] flex-none text-right",s?"text-green-500":"text-contrast-50"),children:s!==void 0&&s?"Access":"No access"})]}),LM=({account:t,analyticsSource:e})=>{const{accountEmail:n,domain:s,uuid:i,scopes:a,missingGoogleScopes:l,missingOutlookScopes:p}=t;return r.jsxs("ul",{className:"mb-24 w-full list-none overflow-auto rounded-md border border-contrast-10 last:mb-0 empty:hidden",children:[r.jsx($n,{label:n,icon:r.jsx(RM,{type:t.type}),access:!0}),t.type==="google_calendar"&&r.jsxs(r.Fragment,{children:[r.jsx($n,{label:"Contacts",icon:r.jsx("img",{src:gs,alt:"Google Contacts Access",className:"size-16"})}),r.jsx($n,{description:"See and download contact info automatically saved in your Other contacts",access:a.otherContacts,indented:!0,tooltip:"Google automatically creates a list of people you interact with over email in a group named Other contacts. With this scope we get access to that list and this allows us to automatically complete names and email addresses as youre inviting people to events.",icon:r.jsx("img",{src:gs,alt:"Google Contacts Access",className:"size-16"})}),r.jsx($n,{description:"See and download your contacts",indented:!0,access:a.contacts,tooltip:"With this scope we get access to your regularly created contacts in Google. This allows us to automatically complete names and email addresses as youre inviting people to events.",icon:r.jsx("img",{src:gs,alt:"Google Contacts Access",className:"size-16"})}),r.jsx($n,{description:"See and download your organisations G Suite directory",indented:!0,access:a.directoryContacts,tooltip:"With this scope we get access to the list of colleagues as they are made public in your G Suite directory. This allows us to automatically complete names and email addresses as youre inviting people to events.",icon:r.jsx("img",{src:Cn,alt:"Google Contacts Access",className:"size-16 justify-self-end"})}),s&&r.jsx($n,{label:"Meeting rooms",description:"View calendar resources on your domain",icon:r.jsx("img",{src:Cn,alt:"Google Contacts Access",className:"size-16 justify-self-end"}),access:a.resources,tooltip:"With this scope you can view the availability of meeting rooms, and include them when creating and updating events."}),l.length>0&&r.jsx("li",{className:"border-t border-t-contrast-10 px-16 py-6",children:r.jsx(ae,{variant:"primary",onClick:async()=>{!(a.contacts&&a.directoryContacts&&a.otherContacts)&&await xt({title:"The more permissions youll give the more contacts youll be able to find.",description:r.jsxs(r.Fragment,{children:["Your data will be stored encrypted and will never be shared with anyone else. ",r.jsx("a",{href:"https://support.risecalendar.com/c8d90455821f467b925405d2bdbe9fe9",target:"_blank",rel:"noreferrer",className:"text-purple-500 outline-none transition-shadow hover:underline focus-visible:ring",onClick:()=>Me(ke.PERMISSIONS_SUPPORT_LINK_CLICKED,{source:e,alert:!0}),children:"Learn more"})]}),secondaryAction:{key:"cancel",label:"Cancel"},primaryAction:{key:"confirm",label:"Give access"}})!=="confirm"||(Me(ke.PERMISSIONS_SCOPE_ACCESS_REQUESTED,{source:e}),x0("app",l))},children:"Give access"})})]}),t.type==="outlook"&&r.jsxs(r.Fragment,{children:[r.jsx($n,{label:"User info",access:a.user_properties,icon:r.jsx("img",{src:Cn,alt:"Microsoft Outlook User Info Access",className:"size-16"})}),r.jsx($n,{label:"Contacts",access:a.contacts,icon:r.jsx("img",{src:Cn,alt:"Microsoft Outlook Contacts Access",className:"size-16"})}),r.jsx($n,{label:"Other contacts",access:a.other_contacts,icon:r.jsx("img",{src:Cn,alt:"Microsoft Outlook Other Contact Access",className:"size-16"})}),p.length>0&&r.jsx("li",{className:"border-t border-t-contrast-10 px-16 py-6",children:r.jsx(ae,{variant:"primary",onClick:()=>{Me(ke.PERMISSIONS_SCOPE_ACCESS_REQUESTED,{source:e}),H_("app",p)},children:"Give access"})})]})]},i)};function _Y(t){return t.reduce((e,n)=>{const{domain:s,scopes:i}=n;return{missingContactsAccess:e.missingContactsAccess||!i.contacts||!i.directoryContacts||!i.otherContacts,missingMeetingRoomsAccess:e.missingMeetingRoomsAccess||!i.resources&&!!s}},{missingContactsAccess:!1,missingMeetingRoomsAccess:!1})}function O0(t,e,n,s){const{missingContactsAccess:i,missingMeetingRoomsAccess:a}=_Y(t);if(!i&&!a)return[];const l={value:"missing-scopes",iconRight:s?void 0:r.jsx(J1,{className:"size-24 p-4"}),action:()=>{Me(ke.PERMISSIONS_AUTOCOMPLETE_PROMPT_CLICKED,{source:e}),n(ye.settings.children.roomsAndContacts.path)}};return i?a?[{options:[{label:s?"Cant find contacts or rooms?":"Cant find contacts or meeting rooms?",secondaryLabel:s?"Give access to contacts and rooms":"Give access to contacts and resources",...l}]}]:[{options:[{label:"Cant find a contact?",secondaryLabel:"Give access to contacts",...l}]}]:[{options:[{label:"Cant find a meeting room?",secondaryLabel:"Give access to resources",...l}]}]}const _m=X(function({children:e,title:n,video:s,previewImage:i,stepKey:a,allowManualCompletion:l,completionTimeout:p}){const{userStore:f}=se(),v=f.onboardingState[a],E=K.useRef(v),[w,D]=K.useState(!1);return K.useEffect(()=>{if(p&&!E.current&&!v)return E.current=setTimeout(()=>{Me(ke.GETTING_STARTED_STEP_COMPLETED,{step:a,reason:"timer"}),f.setOnboardingState(a,!0)},p),()=>{typeof E.current!="boolean"&&clearTimeout(E.current)}},[v,p,a,f,E]),r.jsxs("div",{className:"flex size-full flex-col",children:[r.jsxs("div",{className:"flex-1 overflow-auto",children:[s&&r.jsx("div",{className:"relative aspect-video w-full flex-none",children:r.jsx(QL,{url:`https://www.youtube-nocookie.com/watch?v=${s}`,width:"100%",height:"100%",controls:!0,playing:w,light:i?r.jsx("img",{src:i,alt:""}):void 0,onClickPreview:()=>D(!0),onStart:()=>Me(ke.GETTING_STARTED_VIDEO_STARTED,{step:a,video:s}),onEnded:()=>Me(ke.GETTING_STARTED_VIDEO_ENDED,{step:a,video:s})})}),r.jsxs("div",{className:"flex flex-grow flex-col gap-24 p-24",children:[r.jsx("h2",{className:Jr,children:n}),e]})]}),l&&r.jsx("div",{className:"flex flex-none justify-end border-t border-contrast-10 py-8 pr-24",children:r.jsx(ae,{variant:v?"tertiary":"primary",icon:yt,onClick:()=>{v?Me(ke.GETTING_STARTED_STEP_UNCOMPLETED,{step:a,reason:"manual"}):Me(ke.GETTING_STARTED_STEP_COMPLETED,{step:a,reason:"manual"}),f.setOnboardingState(a,!v)},children:v?"Completed":"Mark complete"})})]})}),OY=X(function({isStandalone:e}){const{accounts:n}=se();return r.jsxs(_m,{title:"Find meeting rooms, see more contacts and show more full names and photos",stepKey:"contactsSetupDone",allowManualCompletion:!e,children:[r.jsxs("div",{children:[r.jsx("p",{className:U(Ne,"mb-8 text-contrast-50"),children:"Improve your experience, optimize more meetings, find meeting rooms and find more contacts by giving more permissions."}),r.jsxs("p",{className:U(Ne,"text-contrast-50"),children:["Your data is stored encrypted and will never be shared with anyone else."," ",r.jsx("a",{href:"https://support.risecalendar.com/c8d90455821f467b925405d2bdbe9fe9",target:"_blank",rel:"noreferrer",className:"text-purple-500 outline-none transition-shadow hover:underline focus-visible:ring",onClick:()=>Me(ke.PERMISSIONS_SUPPORT_LINK_CLICKED,{source:"getting_started",alert:!1}),children:"Learn more"})]})]}),n.connected.map(s=>r.jsx(LM,{account:s,analyticsSource:"getting_started"},s.uuid))]})});function I0({title:t,right:e,children:n}){return r.jsxs("div",{className:"pb-24",children:[r.jsxs("div",{className:"mb-10 flex min-h-20 items-center",children:[r.jsx("h2",{className:U(Te,"min-w-0 flex-1 pl-8 text-contrast-50"),children:t}),e]}),n]})}X(function(){const{userStore:e}=se();return r.jsx(I0,{title:"Get started using Rise",right:r.jsx(ce,{label:"Dismiss Getting Started section",side:"right",children:r.jsx(ae,{variant:"tertiary",size:"tiny",icon:o_,onClick:()=>{Me(ke.GETTING_STARTED_SIDEBAR_SECTION_DISMISSED,qL(e.onboardingState,["gettingStartedVisible"])),e.toggleGettingStartedVisible(),jt("You can revisit the Getting Started section via the menu at any time")}})}),children:r.jsx("div",{className:"px-8",children:r.jsx("ol",{className:"w-full list-none overflow-auto rounded-md border border-contrast-10 empty:hidden",children:hi.map(({title:n,description:s,icon:i,stepKey:a})=>r.jsx("li",{role:"button",onClick:()=>{Me(ke.GETTING_STARTED_STEP_OPENED,{step:a,source:"sidebar"}),Hm(a)},className:"border-b border-b-contrast-10 last:border-b-0",children:r.jsxs("div",{className:"flex gap-8 px-8 py-6 hover:bg-contrast-5",role:"button",children:[e.onboardingState[a]?r.jsx(o0,{className:"mt-[0.4125rem] flex-none text-contrast-50"}):r.jsx(i,{className:"mt-[0.4125rem] flex-none text-primary-500"}),r.jsxs("div",{className:"flex-col",children:[r.jsx("div",{className:U(oe),children:n}),r.jsx("div",{className:U(Te,"text-contrast-50"),children:s})]})]})},a))})})})});const IY=X(function(){const{userStore:e,workspaces:n}=se(),s=Mt();return r.jsx(Sr,{children:!e.hasDismissedOverLimitBannerLately&&n.loaded&&n.workspaceMostOverLimit&&r.jsx(on.div,{initial:{height:0},animate:{height:"auto",transition:{type:"spring",duration:s?0:.3,delay:1}},exit:{height:0},transition:{type:"spring",duration:s?0:.3},className:"overflow-hidden",children:r.jsxs("div",{className:U(oe,"relative flex flex-col gap-4 border-t border-contrast-10 px-16 pb-8 pt-12 text-center"),children:[r.jsxs("h2",{children:[n.workspaceMostOverLimit.numberOfTasks," of ",T0," tasks used"]}),r.jsx("p",{className:"text-contrast-50",children:"Your workspace crossed the maximum number of tasks on the free plan."}),r.jsx(qt,{to:ye.settings.children.plans.path,variant:"tertiary",className:"self-center text-primary",children:"Learn more"}),r.jsx(ce,{label:"Close",side:"top",children:r.jsx(ae,{icon:Rn,variant:"tertiary",size:"small",className:"absolute right-8 top-8",onClick:()=>e.dismissOverLimitBanner()})})]})})})}),MY=X(function(){const{groups:e,accounts:n,peopleStore:s,calendarDetailsBarStore:i,alternativeCalendarsStore:a,resourcesStore:l,userStore:p}=se(),{searchFocused:f}=i,v=K.useRef(null);K.useEffect(()=>{f&&(window.setTimeout(()=>{var D;return(D=v.current)==null?void 0:D.focus()}),i.setSearchFocused(!1))},[f,i]);const E=(()=>{var o;const D=(o=s.people)!=null&&o.length?s.filterPeople(s.people,null,p.domainsWithAliases,!1).map(d=>Ox(d,s,e)):[];if(!l.hasResources)return[{options:D}];const M=l.accountResources.flatMap(d=>d.resources.map(m=>({value:m.remoteEmail,label:m.name,secondaryLabel:m.labelSecondary,icon:r.jsx("div",{className:"relative flex size-24 items-center justify-center rounded-full bg-contrast-5 px-6 text-contrast-50",children:r.jsx(vm,{})}),resource:m})));return[{options:D,noSort:!0,matchThreshold:"ACRONYM"},{options:M}]})(),w=it();return r.jsx(Rs,{placeholder:"Find calendar or room",getOptions:D=>D?[...Ps(D,E),...O0(n.connected,"calendar-search",w,!0)]:[],onSubmit:async D=>{if(D.action&&D.action(),D.person){const M=e.findByEmail(D.person.email);M?(M.members.length<10||await xt({title:`Are you sure you want to open ${M.members.length} calendars?`,description:"You are about to open all calendars in this group. That may take a while. Are you sure?",secondaryAction:{key:"no",label:"No"},primaryAction:{key:"yes",label:"Yes"}})==="yes")&&a.makeCalendarsVisible(M.members,_t.GLOBAL):a.fetchCalendarForPerson(D.person,_t.GLOBAL)}D.resource&&a.fetchCalendarForResource(D.resource,_t.GLOBAL)},inputProps:{iconLeft:r.jsx(js,{className:"text-contrast-50"}),keyboardShortcut:{key:"C"},ref:v,variant:"border",outerClassName:"mb-8 mx-6"},shouldResetOnSubmit:!0})});var ut=(t=>(t.All="all",t.Instance="instance",t.FromInstance="from_instance",t))(ut||{}),ei=(t=>(t.event="event",t.focusBlock="focus-block",t.nonWorkingHours="non-working-hours",t.nonWorkingDays="non-working-days",t))(ei||{}),Yy=(t=>(t.none="none",t.slotsOnly="slots_only",t.domain="domain",t.all="all",t))(Yy||{});const RY=X(function({timezone:e}){var s;const{userStore:n}=se();return r.jsx("span",{children:r.jsxs(r.Fragment,{children:[nn(ge.nowStartOfMinute,n.timeNotation,e),"  ",(s=Kn(e))==null?void 0:s.alternativeName]})})}),nb=X(function({email:e,name:n,profileImageUrl:s,isResource:i,contextEvent:a,color:l,favorited:p,isVisible:f,initial:v=!0,timezone:E=null,hasAddFavoriteHint:w}){const{alternativeCalendarsStore:D,favoritesStore:M,userStore:o}=se(),d=()=>{var P,R;const u=U(Te,"mt-2 truncate text-contrast-50");switch(a==null?void 0:a.type){case ei.event:const _=a!=null&&a.freebusy?"Busy":a==null?void 0:a.title,F=sn(_||"");return r.jsxs("p",{className:u,children:[F.isTask?r.jsx(GF,{className:U("mr-2 inline align-top",(!v||f)&&"text-purple-400")}):r.jsx(iF,{className:U("mr-2 inline align-top",(!v||f)&&"text-orange-400")}),_]});case ei.focusBlock:return r.jsxs("p",{className:u,children:[r.jsx(qF,{className:U("mr-2 inline align-top",(!v||f)&&"text-purple-400")}),"Focus time"]});case ei.nonWorkingDays:return r.jsxs("p",{className:u,children:[r.jsx(fF,{className:U("mr-2 inline align-top",(!v||f)&&"text-red-300")}),"Out of office"]});case ei.nonWorkingHours:return E!==null&&((P=o.localTimeZone)==null?void 0:P.rawOffsetInMinutes)!==((R=Kn(E))==null?void 0:R.rawOffsetInMinutes)?r.jsxs("p",{className:u,children:[r.jsx(yF,{className:U("mr-2 inline align-top",(!v||f)&&"text-purple-600")}),r.jsx(RY,{timezone:E})]}):r.jsxs("p",{className:u,children:[r.jsx(VF,{className:U("mr-2 inline align-top",(!v||f)&&"text-purple-600")}),"Out of hours"]});default:return r.jsxs("p",{className:u,children:[r.jsx(oF,{className:U("mr-2 inline align-top",(!v||f)&&"text-green-400")}),"Available"]})}},m=(a==null?void 0:a.accessLevel)===Yy.domain||(a==null?void 0:a.accessLevel)===Yy.all,h=r.jsx("div",{className:"sr-only group-focus-within:not-sr-only group-hover:not-sr-only",children:r.jsx(ce,{label:p?"Remove favorite":"Mark as favorite",children:r.jsx(ae,{variant:"tertiary",size:"small",icon:p?r.jsx(j5,{className:"text-yellow-200 group-hover/button:text-yellow-200"}):r.jsx(Ob,{className:"transition-colors group-hover/button:text-yellow-200"}),isBlock:!0,className:"ml-4",onClick:u=>{u.stopPropagation(),M.toggleFavorite(e)}})})});return r.jsx("div",{role:"button",tabIndex:0,className:U("group relative flex h-[2.3125rem] items-center justify-between rounded-md px-8 outline-none transition-shadow hover:bg-contrast-5 focus-visible:ring"),onClick:()=>D.toggleVisibility(e,_t.GLOBAL),children:r.jsxs("div",{className:"flex w-full items-center",children:[i?r.jsx("div",{className:"flex size-24 items-center justify-center rounded-full bg-contrast-5 text-contrast-50",children:r.jsx(vm,{})}):r.jsx(bt,{label:n||e,profileImageUrl:s}),r.jsxs("div",{className:"ml-8 grow overflow-hidden",children:[r.jsx("p",{className:U(oe,"h-16 overflow-hidden overflow-ellipsis whitespace-nowrap",v&&!f&&"text-contrast-50"),children:n||e}),m&&d()]}),r.jsxs("div",{className:"flex items-center",children:[w?r.jsx(b7,{shouldOpen:!o.hintDismissed.addFavoriteExplainer,title:"Favorite your teammate to never search for them again",primaryAction:{label:"I understand",onClick:()=>o.dismissHint("addFavoriteExplainer")},align:"start",alignOffset:-12,onClick:vt,children:(u,P)=>P==="closed"?h:r.jsx(ae,{variant:"tertiary",size:"small",icon:p?r.jsx(j5,{className:"text-yellow-200 group-hover/button:text-yellow-200"}):r.jsx(Ob,{className:"transition-colors group-hover/button:text-yellow-200"}),forceHover:!0,className:U("ml-4",P==="closing"&&"opacity-0"),onClick:R=>{R.stopPropagation(),M.toggleFavorite(e)}})}):h,r.jsx(ce,{label:f&&"Calendar is visible",children:r.jsx("div",{className:"ml-4",children:r.jsx(ji,{className:f?void 0:"invisible hidden group-focus-within:block group-hover:block",style:{color:l}})})})]})]})})}),PY=X(function(){var E;const{alternativeCalendarsStore:e,calendarDetailsBarStore:n,favoritesStore:s,peopleStore:i,resourcesStore:a,userStore:l}=se(),{visibleCalendars:p}=n;Rt(()=>e.reset(),{isEnabled:e.hasAlternativeCalendarsVisible});const[f,v]=K.useState();return K.useEffect(()=>{l.hintDismissed.addFavoriteExplainer||v(w=>{if(!w||!w.email&&!d5(w.date)){const D=p.find(M=>M.context===_t.GLOBAL);return D?{email:D.email,date:new Date}:void 0}return!w.email&&d5(w.date)||p.find(D=>D.email===w.email)?w:{email:void 0,date:w.date}})},[l.hintDismissed.addFavoriteExplainer,p]),r.jsxs(I0,{title:"Contacts",children:[r.jsx(MY,{}),r.jsxs(BH,{newToTop:!0,children:[p.map(w=>w.resource?r.jsx(nb,{email:w.email,name:w.resource.name,isResource:!0,color:w.color,isVisible:!0,hasAddFavoriteHint:w.email===(f==null?void 0:f.email)},w.email):w.person?r.jsx(nb,{email:w.email,name:w.person.name,profileImageUrl:w.person.profileImageUrl,color:w.color,isVisible:!0,hasAddFavoriteHint:w.email===(f==null?void 0:f.email)},w.email):null),(E=s.favorites)==null?void 0:E.map(w=>{var m;const D=e.getAlternativeCalendarByEmail(w.email),M=i.profileImageUrlForEmail(w.email),o=i.nameForEmail({email:w.email})||((m=a.resourcesByRemoteEmail[w.email])==null?void 0:m.name)||w.email,d=!!a.resourcesByRemoteEmail[w.email];return r.jsx(nb,{email:w.email,name:o,contextEvent:w.contextEvent,profileImageUrl:M,color:D==null?void 0:D.color,isVisible:!!D,initial:e.alternativeCalendars.length>=1,favorited:!0,isResource:d,timezone:w.timezone},w.email)})]})]})}),zs={inbox:{title:"Inbox",icon:"inbox",link:ye.inbox.path},projects:{title:"Projects",icon:"folders",link:ye.projects.path},myFocus:{title:"My Focus",icon:"circles",link:ye.myFocus.path},tasks:{title:"Tasks",icon:"checkbox",link:ye.tasks.path},updates:{title:"Updates",icon:"bell",link:ye.updates.path}},BM=()=>{var l;const{projects:t,tasks:e}=se(),[,n,s]=e9(),i=z1();let a=[];if(n)switch(n.pathname){case ye.inbox.path:a.push(zs.inbox);break;case ye.myFocus.path:a.push(zs.myFocus);break;case ye.projects.path:a.push(zs.projects);break;case ye.tasks.path:a.push(zs.tasks);break;case ye.updates.path:a.push(zs.updates);break}if(s&&((l=s.params)!=null&&l.projectUuid)){const p=t.findByUuid(s.params.projectUuid);p&&a.push({type:"project",uuid:p.uuid,title:p.name||"",link:ye.projects.children.project.getPath({projectUuid:s.params.projectUuid})})}if(i.taskUuid){const p=e.findByUuid(i.taskUuid);p&&a.push({type:"task",uuid:p.uuid,title:p.displayTitle,link:ye.task.getPath({taskUuid:i.taskUuid})})}return a},LY=()=>{const{state:t}=pm();return(t==null?void 0:t.breadcrumbs)||[]},Ix=()=>{const t=BM();return[...LY(),...t]},BY=()=>{var n;const t=Ix(),e=(n=t[t.length-2])==null?void 0:n.link;return e||null},Xy=X(function({customBreadcrumbs:e}){const n=Ix(),s=e||n;return r.jsx("div",{className:"grid min-w-0 shrink grid-flow-col grid-cols-[repeat(min(1fr))] items-center gap-12",children:s.map((i,a)=>r.jsx(FY,{isActive:a===s.length-1,...i},a))})}),YT="flex min-w-0 items-center gap-4 [-webkit-app-region:no-drag]",XT="m-6 flex-none",JT="shrink truncate",FY=X(function({title:e,icon:n,link:s,isActive:i=!1}){const a=i?null:r.jsx(l0,{className:"size-12 shrink-0 text-contrast-60"}),l=HY(n);return r.jsxs(r.Fragment,{children:[s&&!i?r.jsxs(ak,{to:s,className:U(oe,YT,"text-contrast-60 hover:text-black"),children:[l&&ze(l,XT),r.jsx("span",{className:JT,children:e})]}):r.jsxs("div",{className:U(oe,YT,!i&&"text-contrast-50"),children:[l&&ze(l,XT),r.jsx("span",{className:JT,children:e})]}),a]})}),HY=t=>{switch(t){case"circles":return Vk;case"folders":return Ut;case"inbox":return ex;case"checkbox":return Zk;case"bell":return nx;default:return null}},VY={small:{unstarted:BF,started:RF,completed:OF,canceled:NF},normal:{unstarted:FF,started:PF,completed:IF,canceled:kF},large:{unstarted:HF,started:LF,completed:MF,canceled:_F}},WY={unstarted:"text-contrast-50",started:"text-yellow-200",completed:"text-primary",canceled:"text-contrast-30"},$Y={unstarted:"rgb(0 5 55 / 0.5)",started:"rgb(255 198 66)",completed:"rgb(113 97 236)",canceled:"rgb(0 5 55 / 0.3)"};function Ii({type:t,sizeVariant:e="normal",className:n,colorHex:s,noClassNameOverride:i}){const a=VY[e][t];return a?r.jsx(a,{className:Ae("transition-colors",WY[t],!i&&n),style:{color:s}}):(console.warn(`Invalid status icon type: ${t}`),null)}const Pt=X(function({task:e,sizeVariant:n="normal",className:s,colorHex:i,iconClassName:a}){var p,f,v,E;const l=r.jsx(Ii,{type:e.status.type,className:U("hover:brightness-75",a),sizeVariant:n,colorHex:i===null?void 0:i||((p=e.status)==null?void 0:p.color)||void 0});return((f=e.workspace)==null?void 0:f.taskStatuses.length)===2?r.jsx("div",{role:"button",tabIndex:0,onClick:w=>{vt(w),e.toggleDone(),e.save()},className:Ae("-m-px box-content rounded-md p-px outline-none focus-visible:ring",s),children:l}):r.jsx(je,{inputPlaceholder:"Set status",initialOptionValue:((v=e.status)==null?void 0:v.uuid)||null,options:((E=e.workspace)==null?void 0:E.taskStatuses.map(w=>({value:w.uuid,taskStatus:w,label:w.labelSafe,icon:r.jsx(Ii,{type:w.type,colorHex:w.color||void 0,noClassNameOverride:!0})})))||[],onSubmit:({taskStatus:w})=>{e.status=w,e.save()},onClick:vt,children:r.jsx("div",{role:"button",tabIndex:0,onClick:vt,className:Ae("-m-px box-content rounded-md p-px outline-none focus-visible:ring",s),children:l})})}),tr=X(function({event:e,sizeVariant:n="normal",className:s,colorHex:i,iconClassName:a}){const{appStore:l}=se(),p=sn(e.title);return!p||!p.isTask?null:r.jsx("div",{role:"button",tabIndex:0,onClick:f=>{vt(f),e instanceof de&&(e.setTaskCompletion(!p.isCompleted),e.save({opts:{confirmDecision:!e.isSelected}}).then(({saveDecision:v})=>{v==="continueEditing"&&l.setSelectedObject(e)}))},className:Ae("-m-px box-content rounded-md p-px outline-none focus-visible:ring",s),children:r.jsx(Ii,{type:p.isCompleted?"completed":"unstarted",className:U("hover:brightness-75",a),sizeVariant:n,colorHex:i===null?void 0:i||void 0})})});function Om({workspace:t,project:e,onProjectCreated:n}={}){Ke(({close:s})=>r.jsx(UY,{close:s,workspace:t,project:e,onProjectCreated:n}),{id:"create-project-modal",hasVariableHeight:!0})}const UY=X(function({workspace:e,project:n,close:s,onProjectCreated:i}){const{workspaces:a,actionsStore:l,projects:p,userStore:f,teams:v,objectPool:E}=se(),w=!!n,D=n||p.new(),M=K.useRef(null),o=e?[e]:a.items.filter(_=>!_.isPersonal),[d,m]=K.useState(e||(o.length>0?o[0]:f.privateWorkspace)),[h,u]=K.useState(l.actionContext.team),P=v.getTeamsByWorkspace(d).filter(_=>_.members.some(F=>F.member.uuid===E.member.uuid)),R=()=>{var _;D.name=((_=M.current)==null?void 0:_.value)||null,D.workspace=d,D.team=h,D.valid()&&(p.add(D),D.save(),s(),i==null||i(D))};return $e({key:"Enter",commandKey:!0,isActiveWhenInputFocused:!0},R),K.useEffect(()=>{n&&(m(n.workspace),u(n.team),M.current&&(M.current.value=n.name))},[n]),r.jsx("div",{className:"w-[42rem]",children:r.jsxs("div",{className:"flex h-full flex-col",children:[r.jsx("input",{ref:M,type:"text",className:"w-full bg-transparent px-16 py-8 text-lg leading-36 outline-none placeholder:text-contrast-50",placeholder:w?"Edit project":"New project"}),r.jsxs("div",{className:"flex items-center justify-between gap-8 border-t border-contrast-5 bg-contrast-5 p-8",children:[r.jsxs("div",{className:"flex min-w-0 flex-shrink items-center gap-8",children:[r.jsx(er,{value:d.uuid,options:[...e===void 0?[{icon:h0,value:f.privateWorkspace.uuid,label:"Private project"}]:[],...o.map(_=>({value:_.uuid,label:_.name||_.domain}))],onChange:_=>{const F=a.findByUuid(_);F&&m(F)},disabled:w}),P.length>0&&r.jsx(je,{inputPlaceholder:"Select assignee",options:[{value:null,team:null,label:"No team"},...P.map(_=>({team:_,value:_.uuid,label:_.name}))],initialOptionValue:(h==null?void 0:h.uuid)||null,onSubmit:({team:_})=>u(_),children:r.jsx(ae,{variant:"secondary-semi-transparent",className:"flex-none",children:h?h.name:r.jsx("div",{className:"text-contrast-50",children:"No team"})})})]}),r.jsx(ae,{variant:"primary",onClick:R,keyboardShortcut:{commandKey:!0,key:"Enter"},className:"flex-none",children:"Save"})]})]})})});function Vt({priority:t,zeroIcon:e}){switch(t){case 1:return r.jsx(x5,{className:"text-yellow-200"});case 2:return r.jsx(x5,{className:"text-contrast-50"});case 3:return r.jsx(YB,{className:"text-contrast-50"});case 4:return r.jsx(XB,{className:"text-contrast-50"});default:return e?r.jsx(JB,{className:"text-contrast-50"}):null}}const M0=X(function({task:e,align:n}){return r.jsx(Ue,{align:n,options:()=>{var s;return[{value:((s=e.priority)==null?void 0:s.toString())??"no-priority",onValueChange(i){e.priority=i==="no-priority"?null:Number(i),e.save()},options:[{value:"no-priority",label:"No priority",icon2:r.jsx(Vt,{priority:null,zeroIcon:!0})},...Object.entries(Zn).map(([i,a])=>({value:i.toString(),label:a,icon2:r.jsx(Vt,{priority:parseInt(i)})}))]}]},onClick:vt,children:r.jsx(We,{children:r.jsx(ce,{label:"Change priority",children:r.jsx(ae,{size:"small",icon:r.jsx(Vt,{priority:e.priority,zeroIcon:!0}),className:"ring-gray-200 focus-visible:!ring-primary dark:ring-gray-400"})})})})}),R0=X(function({task:e,align:n,disabled:s}){const{userStore:i}=se(),a=e.overDue&&!e.isDone;return r.jsx(Gx,{align:n,selection:e.dueDate||void 0,onSubmit:l=>{e.setDueDate(l||null),e.save()},closeOnSubmit:!0,startOfWeek:i.startOfWeek,onClick:vt,children:r.jsx(We,{children:r.jsx(ce,{label:"Change due date",children:r.jsx(ae,{size:"small",icon:ln,destructive:a,disabled:s,className:U("ring-gray-200 focus-visible:!ring-primary dark:ring-gray-400",!a&&"text-contrast-50"),onClick:vt,children:e.dueDate&&Oe(e.dueDate,"MMM do")})})})})}),P0=X(function({task:e,align:n,isExploded:s}){const{labels:i,taskLabels:a}=se(),l=i.getLabelsByWorkspace(e.workspace);if(l.length===0)return null;function p(){const f=new Set(a.getLabelsForTask(e));return l.map(v=>({icon2:r.jsx("div",{className:"size-10 rounded-full",style:{backgroundColor:v.color}}),label:v.name,checked:f.has(v),onCheckedChange(E){E?e.addLabel(v):e.removeLabel(v)},onSelect:Qn}))}return s?e.labels.map(f=>r.jsx(Ue,{align:n,options:p,onClick:vt,children:r.jsx(We,{children:r.jsx(ce,{label:"Change labels",children:r.jsx(ae,{size:"small",iconRight:e.labels.length===0?xp:r.jsx(Jy,{labels:[f]}),className:"h-24 min-w-24 ring-gray-200 focus-visible:!ring-primary dark:ring-gray-400",children:f.name})})})},f.uuid)):r.jsx(Ue,{align:n,options:p,onClick:vt,children:r.jsx(We,{children:r.jsx(ce,{label:"Change labels",children:r.jsx(ae,{size:"small",iconRight:e.labels.length===0?xp:r.jsx(Jy,{labels:e.labels}),className:"h-24 min-w-24 ring-gray-200 focus-visible:!ring-primary dark:ring-gray-400"})})})})}),FM=X(function({task:e,actionContext:n}){var s;return(s=e.workspace)!=null&&s.isPersonal?null:r.jsx(Ue,{align:"end",options:()=>{var a;const i=L0(n);return[{value:((a=e.assignee)==null?void 0:a.uuid)??"no-assignee",onValueChange(l){e.assignee=l==="no-assignee"?null:i.find(p=>p.value===l).member,e.save()},options:[{value:"no-assignee",label:"No assignee"},...i]}]},onClick:vt,children:r.jsx(We,{children:r.jsx(ce,{label:"Change assignee",children:r.jsx("button",{className:"rounded-full outline-none transition-shadow focus-visible:ring",children:r.jsx(Yn,{member:e.assignee,size:"small",className:U("transition",e.assignee?"hover:brightness-90 data-[state=open]:brightness-90 hover:dark:brightness-110 data-[state=open]:dark:brightness-110":"bg-base-bg-elevated before:absolute before:inset-0 before:rounded-full hover:before:bg-contrast-5 data-[state=open]:before:bg-contrast-5")})})})})})}),GY=X(function({task:e,align:n}){const{userStore:s,workspaces:i}=se();return e.project?r.jsx(Ue,{align:n,options:()=>[s.privateWorkspace&&[{icon2:h0,label:"Private to me",checked:e.workspace===s.privateWorkspace&&e.project===null,onCheckedChange:Y(()=>{e.moveToPrivateWorkspace(),e.save()})}],...i.items.map(a=>({label:a.domain||a.name,options:a.projects.map(l=>({icon2:Ut,label:l.name,checked:e.project===l,onCheckedChange:Y(()=>{e.setProject(l),e.save()})}))})),[{icon:Xe,label:"Create new project",onSelect:()=>{Om({workspace:e.workspace,onProjectCreated:a=>{a&&(e.setProject(a),e.save())}})}}]],onClick:vt,children:r.jsx(We,{children:r.jsx(ce,{label:"Change project",children:r.jsx(ae,{size:"small",icon:Ut,className:"text-contrast-50 ring-gray-200 focus-visible:!ring-primary dark:ring-gray-400",children:HM(e.project.name)})})})}):null}),zY=X(function({task:e,align:n}){var s,i;return(s=e.project)!=null&&s.projectStates?r.jsx(Ue,{align:n,options:()=>e.project.projectStates.map(a=>({icon2:kb,label:a.label,checked:e.projectState===a,onCheckedChange:Y(()=>{e.projectState=a,e.save()})})),onClick:vt,children:r.jsx(We,{children:r.jsx(ce,{label:"Change group",children:r.jsx(ae,{size:"small",icon:kb,className:"text-contrast-50 ring-gray-200 focus-visible:!ring-primary dark:ring-gray-400",children:HM((i=e.projectState)==null?void 0:i.label)})})})}):null});function HM(t){return t?t.length>QT?t.substring(0,QT)+"":t:""}const QT=18,VM=350;function Mx({isOpen:t,marginTop:e=0,...n}){const s=Mt();return r.jsx(Sr,{initial:!1,children:t&&r.jsxs(on.div,{transition:{type:"spring",duration:s?0:VM/1e3},initial:{height:0},animate:{height:"auto"},exit:{height:0,transition:{type:"spring",duration:s?0:.5}},className:"overflow-hidden",style:e<0?{marginTop:e/16+"rem"}:void 0,children:[e!==0&&r.jsx("div",{style:{height:Math.abs(e)/16+"rem"}}),r.jsx(KY,{...n})]})})}const KY=X(function({imperativeHandle:e,isDueButtonDisabled:n,createConceptTask:s,saveConceptTask:i,close:a}){const[l,p]=K.useReducer(s,void 0,s),f=K.useRef(null),v=K.useRef(null);function E(){var D;i(l),p(),(D=f.current)==null||D.focus()}function w(D){D.preventDefault(),E()}return Rt(a),K.useImperativeHandle(e,()=>({focus(){var D;(D=f.current)==null||D.focus(),qT(v)}}),[]),K.useEffect(()=>{const D=window.setTimeout(()=>qT(v),VM);return()=>window.clearTimeout(D)},[]),r.jsxs("div",{ref:v,className:"flex scroll-m-16 items-start gap-8 rounded-lg border border-contrast-10 bg-contrast-5 p-8",children:[r.jsx(Pt,{task:l}),r.jsxs("div",{className:"flex flex-1 flex-col gap-12",children:[r.jsx("input",{ref:f,autoFocus:!0,placeholder:"Task title",value:l.title||"",onChange:D=>{l.title=D.target.value},className:U(oe,"w-full bg-transparent outline-none placeholder:text-contrast-50"),onKeyDown:_s({key:"Enter",isActiveWhenInputFocused:!0,execute:w},{key:"Enter",shiftKey:!0,isActiveWhenInputFocused:!0,execute:w},{key:"Enter",commandKey:!0,isActiveWhenInputFocused:!0,execute:w})}),r.jsxs("div",{className:"flex justify-between gap-8",children:[r.jsxs("div",{className:"flex gap-8",children:[r.jsx(M0,{task:l,align:"start"}),r.jsx(R0,{task:l,align:"start",disabled:n}),r.jsx(P0,{task:l,align:"start"})]}),r.jsxs("div",{className:"flex gap-8",children:[r.jsx(ae,{size:"small",onClick:a,children:"Cancel"}),r.jsx(ae,{variant:"primary",size:"small",onClick:E,children:"Add"})]})]})]})]})});function qT(t){const e=t.current;if(!e)return;const n=e.parentElement.style.overflow;e.parentElement.style.overflow="visible",e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"}),e.parentElement.style.overflow=n}function Rx(){const[t,e]=K.useState(!1),n=K.useRef(null);function s(){var a;t?(a=n.current)==null||a.focus():e(!0)}function i(){e(!1)}return{handle:n,isOpen:t,open:s,close:i}}function WM(t){return t.project?Cx(t.project):L7(t.workspace)}function L0(t){return WM(t).map(e=>({value:e.uuid,member:e,label:e.displayName||e.email,icon:r.jsx(Yn,{member:e})}))}function ZY(t){return WM(t).map(e=>({key:e.uuid,text:e.displayName||e.email}))}const Jy=K.forwardRef(function({labels:e,className:n,...s},i){const a=U("-ml-4 size-10 rounded-full first:ml-0",e.length>1&&"ring-[1.5px] ring-base-bg-elevated");return r.jsx("div",{ref:i,className:Ae("flex",n),...s,children:e.map(l=>r.jsx("div",{className:a,style:{background:l.color}},l.uuid))})}),Yn=X(K.forwardRef(function({member:e,size:n="tiny",...s},i){const{peopleStore:a}=se();return e?r.jsx(bt,{ref:i,...s,profileImageUrl:a==null?void 0:a.profileImageUrlForEmail(e.email),label:e.displayName||e.email,size:n}):r.jsxs(bt,{ref:i,...s,size:n,className:U("relative overflow-visible",s.className),children:[r.jsx("div",{className:"pointer-events-none absolute -inset-px rounded-full border border-dashed border-contrast-10"}),r.jsx(Jt,{className:U("text-contrast-50",n==="tiny"&&"size-12")})]})}));function $M(t){var e;return t.task===null?[]:[...(e=t.rootStore.userStore)!=null&&e.privateWorkspace?[{options:[{value:"private",label:"Private to me",icon:h0,project:null}]}]:[],...t.rootStore.workspaces.items.map(n=>({label:n.domain||n.name,options:w7(n.projects).map(s=>({icon:Ut,project:s,value:s.uuid,label:s.name}))})),{options:[{project:null,value:"new",label:"New project..."}]}]}function UM(t){var e,n,s;return((e=t.task)==null?void 0:e.project)===null||((s=(n=t.task)==null?void 0:n.project)==null?void 0:s.projectStates)===void 0?[]:t.task.project.projectStates.map(i=>({projectState:i,value:i.uuid,label:i.label}))}function Qy({date:t,format:e="MMM d, yyyy, HH:mm",sizeVariant:n="long"}){const s=new Date,i=fr(t,s),a=Ge(t,s),l=pk(t,s),p=en(t,s),f=()=>{const v=new Intl.RelativeTimeFormat("en-us",{style:n==="short"?"narrow":"long"});return i>-30?"Now":i>-60?v.format(i,"seconds"):a>-60?v.format(a,"minutes"):l>-24?v.format(l,"hours"):p>-7?v.format(p,"days"):Oe(t,e)};return r.jsx(ce,{label:Oe(t,"MMM d, yyyy, HH:mm"),children:r.jsx("span",{className:"cursor-default",children:f()})})}function eN(t,e){return{task:t,reorderableListId:e}}function sp(t,e){return t.task instanceof Ce&&t.reorderableListId===e}const Px=X(function({task:e,widthVariant:n="large",hideProjectLabel:s,hideParentLabel:i,isNotInteractive:a,className:l,reorderableListId:p,openTask:f}){var C;const{appStore:v}=se(),E=Ln({task:e}),w=!a,D=n==="small",M=w&&!D,o=!((C=e.workspace)!=null&&C.isPersonal)&&(M||e.assignee),d=!D,m=K.useRef(null),[h,u]=K.useState(!1),[P,R]=K.useState(null);K.useEffect(()=>{if(!p)return;const A=m.current;if(!A)throw Error("Element ref is not set");return t9(s9({element:A,getInitialData:()=>eN(e,p),onDragStart:()=>u(!0),onDrop:()=>u(!1)}),n9({element:A,canDrop({source:j}){return j.element===A?!1:sp(j.data,p)},getData({input:j}){return r9(eN(e,p),{element:A,input:j,allowedEdges:["top","bottom"]})},onDragEnter({self:j}){R(Ab(j.data))},onDrag({self:j}){R(Ab(j.data))},onDragLeave(){R(null)},onDrop(){R(null)}}))},[e,p]);const _=r.jsxs("div",{ref:m,tabIndex:0,className:Ae(oe,"flex h-36 cursor-pointer items-center gap-8 px-8 outline-none transition-[box-shadow,opacity] hover:bg-contrast-5 focus-visible:ring focus-visible:ring-inset data-[state=open]:bg-contrast-5",v.selectedObject===e&&"bg-contrast-5",h&&"opacity-40",l),onClick:()=>f(e),children:[r.jsx(Pt,{task:e}),r.jsxs("div",{className:"flex-auto truncate",children:[e.displayTitle,e.parent&&!i&&r.jsxs("span",{className:"ml-4 text-contrast-50",children:[" ",e.parent.title]})]}),(d||o)&&r.jsxs("div",{className:"flex flex-shrink-[0.75] items-center gap-8 transition-[flex-shrink] hover:flex-shrink-[0.3] has-[[data-state=open]]:flex-shrink-[0.3]",children:[d&&r.jsxs(r.Fragment,{children:[e.rrule&&r.jsx(YY,{icon:u0,label:e.rrule.toText()}),!s&&e.project&&r.jsx(Pr,{children:r.jsx(GY,{task:e,align:"end"})}),e.projectState&&r.jsx(Pr,{children:r.jsx(zY,{task:e,align:"end"})}),(M||e.priority)&&r.jsx(Pr,{children:r.jsx(M0,{task:e,align:"end"})}),(M||e.dueDate)&&r.jsx(Pr,{children:r.jsx(R0,{task:e,align:"end"})}),(M||e.labels.length!==0)&&r.jsx(Pr,{children:r.jsx(P0,{task:e,align:"end"})})]}),o&&r.jsx(Pr,{children:r.jsx(FM,{task:e,actionContext:E})})]})]}),F=r.jsx(K.Fragment,{children:w?r.jsx(Vs,{task:e,children:_}):_},"content");if(P){const A=r.jsx("div",{className:"pointer-events-none relative z-10 before:absolute before:inset-x-0 before:-mt-px before:h-2 before:bg-primary"},"drop-indicator");return P==="top"?[A,F]:[F,A]}return[F]});function Pr({children:t}){return r.jsx("div",{className:"flex min-w-0 last:min-w-max",children:r.jsx("div",{className:"flex flex-none",children:t})})}function YY({icon:t,label:e}){const s=e&&e.length>18;return r.jsx(Pr,{children:r.jsxs("div",{className:"flex items-center gap-6 text-contrast-50",children:[r.jsx(t,{}),s?e.substring(0,18)+"":e]})})}const XY=X(function({tasks:e,taskClassName:n,reorder:s,...i}){const a=K.useId(),l=Em(()=>({tasks:e,reorder:s}));return K.useEffect(()=>i9({canMonitor({source:p}){return sp(p.data,a)},onDrop({location:p,source:f}){const v=p.current.dropTargets[0];if(!v)return;const E=f.data,w=v.data;if(!sp(E,a)||!sp(w,a))return;const D=E.task,M=w.task,{tasks:o,reorder:d}=l(),m=o.indexOf(D),h=o.indexOf(M),u=a9({startIndex:m,indexOfTarget:h,closestEdgeOfTarget:Ab(w),axis:"vertical"});u!==m&&d({sourceIndex:m,destinationIndex:u})}}),[a,l]),r.jsx("div",{className:"flex flex-col",children:e.map(p=>r.jsx(Px,{...i,task:p,className:n,reorderableListId:a},p.uuid))})});function JY({children:t}){return r.jsx("div",{className:U(ht,"align-center flex flex-row items-center gap-4 border-b border-contrast-10 bg-gray-50 py-8 pl-40 pr-16 text-contrast-50 dark:bg-base-bg-elevated"),children:t})}function Lx(t,e){Ke(({close:n})=>r.jsx(QY,{close:n,project:t,projectState:e}),{id:"create-project-state-modal",hasVariableHeight:!0})}const QY=X(function({project:e,projectState:n,close:s}){const{projectStates:i}=se(),a=!!n,l=n||i.new(),p=K.useRef(null),f=()=>{var v;l.project=e,l.label=((v=p.current)==null?void 0:v.value)||null,i.add(l),l.save(),s()};return $e({key:"Enter",commandKey:!0,isActiveWhenInputFocused:!0},f),K.useEffect(()=>{n&&p.current&&(p.current.value=n.label)},[n]),r.jsx("div",{className:"w-[38rem]",children:r.jsxs("div",{className:"flex h-full flex-col gap-10 p-12",children:[r.jsx("div",{children:r.jsx(vr,{placeholder:a?"Edit project group":"New project group",ref:p})}),r.jsx("div",{className:"h-px bg-contrast-10"}),r.jsx("div",{className:"flex justify-end",children:r.jsx(ae,{variant:"primary",onClick:f,keyboardShortcut:{commandKey:!0,key:"Enter"},children:"Save"})})]})})}),qY=X(function({event:e,displayType:n}){return!(e instanceof de)||!e.attachments||e.attachments.length===0?null:r.jsx(st,{label:"Attachments",icon:f0,displayType:n,children:r.jsx("ul",{className:"flex flex-col",children:e.attachments.map(s=>r.jsxs("li",{className:U(oe,"flex items-center gap-8 px-8 py-6"),children:[r.jsx("img",{src:s.iconLink,alt:"",className:"size-12 flex-none"}),r.jsx("a",{href:s.fileUrl,className:"pointer-events-auto cursor-pointer outline-none hover:underline focus-visible:ring",download:!0,target:"_blank",rel:"noopener noreferrer",children:s.title})]},s.fileId))})})}),eX=t=>{const n=t instanceof de&&t.hasGroupAttendees&&!t.isDirtyProperty("attendees"),[s,i]=K.useState(null),a=t instanceof de&&t.isNew;return K.useEffect(()=>{!a&&n&&ue.groupResponseStatus.list(t.uuid).then(l=>{i(l)})},[a,t.uuid,n]),s},tX=(t,e,n=!1)=>{var f;const i=t instanceof de&&((f=t.calendar)==null?void 0:f.account.scopes.resources),[a,l]=K.useState(),p=K.useRef();return K.useEffect(()=>{if(n||!(t instanceof de)||t.allDay||!i)return;const v=p.current,E=t.startsAt,w=t.endsAt,D=t.calendar.account.uuid;if(E>w||en(w,E)>7){l(void 0),p.current=void 0;return}if(v&&v.accountUuid===D&&wt(v.eventStart,E)&&wt(v.eventEnd,w)&&Date.now()-v.fetchDate.getTime()<=10*Ep){l(v.availabilities);return}l(void 0);const M=e.fetchAvailability({startsAt:E,endsAt:w,accountUuid:D});return M.then(o=>{const d=new Map(o.map(m=>[m.uuid,m]));p.current={fetchDate:new Date,eventStart:E,eventEnd:w,accountUuid:D,availabilities:d},l(d)}),M.cancel},[n,t,e,i]),a};function nX(t,e,n,s){const i=n instanceof de,[a,l]=K.useState({});K.useEffect(()=>{i&&n.eventCreationSource!==null&&n.participantAvailability&&l(n.participantAvailability)},[i,n]);const p=Os(async()=>{s||!i||n.attendees.length===0||!n.isFirstInvite||!n.isMoving&&!n.isChangingDuration&&l(await CK(n,t.domainsWithAliases||[],e))},100);return K.useEffect(()=>{if(!(s||!i))return r0(()=>{var f;return{allDay:n.allDay,startsAt:n.startsAt,duration:n.duration,attendees:(f=n.attendees)==null?void 0:f.map(v=>v.email),isChangingDuration:n.isChangingDuration,isMoving:n.isMoving}},p,{fireImmediately:!0})},[n,p,i,s]),i?a:{}}const rX=(t,e,n,s)=>{const i=t instanceof de,a=()=>{let f="Availability unknown",v="questionmark";return s&&(s==="busy"?(v="xmark",f="Unavailable"):s==="available"&&(v="checkmark",f="Available")),n.isOrganizer&&(f+=" & organizer"),{icon:v,statusLabel:f}};if(i&&t.isFirstInvite)return a();let{icon:l,statusLabel:p}=sH(n);if(n.isResource&&i){const f=e.resourcesByAccountUuid[t.calendar.account.uuid],v=f==null?void 0:f.find(E=>E.remoteEmail===n.email);if(v)return{icon:l,statusLabel:v.labelSecondary}}return{icon:l,statusLabel:p}};function GM(t,e){var i;const n=a=>{switch(a){case"accepted":return 1;case"tentative":return 2;case"declined":return 3;default:return 4}},s=a=>a.name||e.nameForEmail({email:a.email,fallbackOnEmail:!0,preferLastName:!0});return(i=t==null?void 0:t.attendees)==null?void 0:i.slice().sort((a,l)=>a.isResource!==l.isResource?a.isResource?-1:1:!a.isOrganizer&&!l.isOrganizer?a.status===l.status?s(a)>s(l)?1:-1:n(a.status)>n(l.status)?1:-1:a.isOrganizer&&!l.isOrganizer?-1:1)}function st({icon:t,label:e,displayType:n,children:s,childrenContainerClassName:i}){const a=n==="hovercard";return r.jsxs("div",{className:"flex gap-8",children:[r.jsx("div",{className:U(oe,"flex flex-none items-start py-6 text-contrast-50",a?"w-16":"w-20"),children:a?ze(t):r.jsx(ce,{label:e,children:r.jsx("span",{children:ze(t)})})}),r.jsx("div",{className:Ae("min-w-0 flex-1",i),children:s})]})}function ip({icon:t,iconTooltip:e,label:n}){return r.jsxs("div",{className:"flex items-center gap-2",children:[e?r.jsx(ce,{label:e,children:r.jsx("span",{className:"inline-flex size-12 flex-none",children:r.jsx(tN,{icon:t})})}):r.jsx(tN,{icon:t}),r.jsx("p",{className:U(Te,"truncate text-contrast-50"),children:n})]})}function tN({icon:t}){switch(t){case"questionmark":return r.jsx(n_,{className:"inline flex-none text-contrast-50"});case"xmark":return r.jsx(ix,{className:"inline flex-none text-red-400"});case"waves":return r.jsx(QF,{className:"inline flex-none text-yellow-200"});case"checkmark":return r.jsx(Rk,{className:"inline flex-none text-green-400"})}}const sX=X(function({event:e,attendee:n,attendeeAvailability:s,isNonInteractive:i}){var R,_;const{peopleStore:a,resourcesStore:l,userStore:p,alternativeCalendarsStore:f,accounts:v}=se(),E=e instanceof de,{icon:w,statusLabel:D}=rX(e,l,n,s),M=a.profileImageUrlForEmail(n.email),o=a.nameForEmail({email:n.email})||((R=l.resourcesByRemoteEmail[n.email])==null?void 0:R.name)||n.name||n.email,d=n.isResource||Er(n.email,p.domainsWithAliases)&&!n.isSelf,m=f.getAlternativeCalendarByEmail(n.email),h=(m==null?void 0:m.color)||((_=v.visibleCalendarsByRemoteId[n.email])==null?void 0:_.color),u=E||!n.isResource,P=u?()=>[E&&n.isSelf&&e.canRespond&&{value:e.attendanceStatus,onValueChange:F=>e.setAttendanceStatus(F),options:[{label:"Accept",value:"accepted"},{label:"Decline",value:"declined"},{label:"Maybe",value:"tentative"}]},!n.isResource&&{label:n.email,options:[{label:"Email",icon:Tn,onSelect:()=>Fe(`mailto:${n.email}`)},{label:"Copy email",icon:xn,onSelect:()=>{navigator.clipboard.writeText(n.email),jt(`${n.email} copied to clipboard`)}}]},E&&e.canBeEdited&&(!n.isOrganizer||e.canMakeOrganizerOptional)&&!n.isResource&&[{label:`Mark ${n.isOptional?"required":"optional"}`,icon:Jt,onSelect:()=>{n.setIsOptional(!n.isOptional),e.markAsDirty("attendees")}}],E&&e.canBeEdited&&[{label:"Remove",icon:lt,onSelect:()=>e.removeAttendeeByEmail(n.email)}]]:[];return r.jsx(Cr,{options:P,children:r.jsxs("li",{className:U("group flex items-center rounded-md py-4",i?"pl-8":"px-8 hover:bg-contrast-5 data-[state=open]:bg-contrast-5"),children:[n.isResource?r.jsx("div",{className:"flex size-24 flex-none items-center justify-center text-contrast-50",children:r.jsx(vm,{})}):r.jsx(bt,{label:o,profileImageUrl:M}),r.jsxs("div",{className:"ml-8 min-w-0 flex-1",children:[r.jsxs("p",{className:U(oe,"flex gap-4"),children:[i?r.jsx("span",{className:"truncate",children:o}):r.jsx(ce,{label:n.isResource?o:n.email,children:r.jsx("span",{className:"truncate",children:o})}),n.isOptional&&r.jsx("span",{className:"flex-none text-contrast-50",children:"(Optional)"})]}),r.jsx(ip,{icon:w,label:D})]}),i&&h&&r.jsx(ji,{className:"ml-2",style:{color:h}}),!i&&d&&r.jsx("div",{className:U("flex flex-none",!m&&"sr-only group-focus-within:not-sr-only group-hover:not-sr-only"),children:r.jsx(ce,{label:m?"Hide calendar":"Show calendar",children:r.jsx(ae,{size:"small",variant:"tertiary",icon:m?r.jsx(ji,{style:{color:m.color}}):xm,className:"ml-2",onClick:()=>{f.toggleVisibility(n.email,_t.EVENT)}})})}),!i&&r.jsx(Ue,{align:"end",options:P,children:(F,C)=>r.jsx(We,{depth:2,children:r.jsx("div",{className:U("flex flex-none items-center",C==="closing"&&"opacity-0 transition-opacity group-focus-within:opacity-100 group-hover:opacity-100",C==="closed"&&(m?"opacity-0 group-focus-within:opacity-100 group-hover:opacity-100":"sr-only group-focus-within:not-sr-only group-hover:not-sr-only")),children:r.jsx(ce,{label:"Open options",children:r.jsx(ae,{variant:"tertiary",size:"small",icon:Ot,disabled:!u,className:"ml-2"})})})})})]},n.email)})}),iX=X(function({event:e,attendee:n,group:s,groupResponseStatus:i,attendeeAvailability:a,isNonInteractive:l}){var h;const{peopleStore:p,resourcesStore:f,alternativeCalendarsStore:v,userStore:E}=se(),w=e instanceof de,[D,M]=K.useState(!1),o=p.nameForEmail({email:n.email})||((h=f.resourcesByRemoteEmail[n.email])==null?void 0:h.name)||n.name||n.email,d=w||!n.isResource,m=d?()=>[!n.isResource&&{label:n.email,options:[{label:"Email",icon:Tn,onSelect:()=>Fe(`mailto:${n.email}`)},{label:"Copy email",icon:xn,onSelect:()=>{navigator.clipboard.writeText(n.email),jt(`${n.email} copied to clipboard`)}}]},w&&e.canBeEdited&&[{label:"Invite group members separately",icon:ZB,onSelect:()=>{s.members.forEach(u=>{e.addAttendee(u),Er(u,E.domainsWithAliases)&&v.fetchCalendarForPerson({email:u},_t.EVENT)}),v.setForceHideBestTimesToMeet(!1),e.removeAttendeeByEmail(n.email)}}],w&&e.canBeEdited&&[{label:"Remove",icon:lt,onSelect:()=>e.removeAttendeeByEmail(n.email)}]]:[];return r.jsxs(r.Fragment,{children:[r.jsx(Cr,{options:m,children:r.jsxs("li",{className:U("group flex items-center rounded-md py-4",l?"pl-8":"px-8",!l&&"hover:bg-contrast-5 data-[state=open]:bg-contrast-5"),children:[r.jsx("div",{className:"flex size-24 flex-none items-center justify-center text-contrast-50",children:r.jsx(d0,{})}),r.jsxs("div",{className:"ml-8 min-w-0 flex-1",children:[r.jsx("div",{className:U(oe,"max-w-[228px] truncate"),children:l?o:r.jsx(ce,{label:n.isResource?o:n.email,children:r.jsx("span",{children:o})})}),r.jsxs("div",{className:U(Te,"truncate text-contrast-50"),children:[s.members.length," colleagues"]})]}),!l&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:U("flex flex-none",!D&&"sr-only group-focus-within:not-sr-only group-hover:not-sr-only"),children:r.jsx(ce,{label:D?"Collapse group":"Expand group",children:r.jsx(ae,{variant:"tertiary",size:"small",icon:D?Q1:ym,className:"ml-2",onClick:()=>M(!D)})})}),r.jsx(Ue,{align:"end",options:m,children:(u,P)=>r.jsx(We,{depth:2,children:r.jsx("div",{className:U("flex flex-none items-center",P==="closing"&&"opacity-0 transition-opacity group-focus-within:opacity-100 group-hover:opacity-100",P==="closed"&&(D?"opacity-0 group-focus-within:opacity-100 group-hover:opacity-100":"sr-only group-focus-within:not-sr-only group-hover:not-sr-only")),children:r.jsx(ce,{label:"Open options",children:r.jsx(ae,{variant:"tertiary",size:"small",icon:Ot,disabled:!d,className:"ml-2"})})})})})]})]})}),D&&s.members.map(u=>r.jsx(oX,{event:e,member:u,groupResponseStatus:i,attendeeAvailability:a==null?void 0:a[u]},u))]})});function aX(t){let e="questionmark",n="Unknown";switch(t){case"accepted":e="checkmark",n="Accepted";break;case"declined":e="xmark",n="Declined";break;case"tentative":e="waves",n="Tentative";break;case"needsAction":n="Waiting for response";break}return[n,e]}function oX({event:t,member:e,groupResponseStatus:n,attendeeAvailability:s}){const{peopleStore:i}=se(),a=i.nameForEmail({email:e,fallbackOnEmail:!0}),l=i.profileImageUrlForEmail(e),p=()=>{var v,E;let f=((v=t.attendees)==null?void 0:v.find(w=>w.email===e))||((E=n==null?void 0:n.attendees)==null?void 0:E.map(({email:w,response_status:D})=>({email:w,status:D})).find(w=>w.email===e));if(t instanceof de&&t.isFirstInvite){let w="Availability unknown",D="questionmark";return s&&(s==="busy"?(D="xmark",w="Unavailable"):s==="available"&&(D="checkmark",w="Available")),f&&"isOrganizer"in f&&f.isOrganizer&&(w+=" & organizer"),r.jsx(ip,{icon:D,label:w})}if(f){let[w,D]=aX(f.status);return"isOrganizer"in f&&f.isOrganizer&&(w+=" & organizer"),r.jsx(ip,{icon:D,label:w})}return r.jsx(ip,{icon:"questionmark",label:"Unknown",iconTooltip:"Unknown status for group member"})};return r.jsxs("li",{className:U("group flex items-center rounded-md py-4 pl-16 hover:bg-contrast-5"),children:[r.jsx(bt,{label:a,profileImageUrl:l}),r.jsxs("div",{className:"ml-8 min-w-0 flex-1",children:[r.jsx("p",{className:U(oe,"max-w-[228px] truncate"),children:r.jsx(ce,{label:e,children:r.jsx("span",{children:a})})}),p()]})]})}const lX=X(function({event:e}){const{peopleStore:n,actionsStore:s,alternativeCalendarsStore:i,userStore:a,groups:l}=se(),p=GM(e,n);if(!e.attendees||e.attendees.length===0)return null;const f=e.attendees.filter(o=>o.isResource||!o.isSelf&&Er(o.email,a.domainsWithAliases)&&!l.findByEmail(o.email)).map(o=>o.email),v=i.allCalendarsVisibleForEmails(f),E=e.organizerEmail&&!(p!=null&&p.find(o=>o.email===e.organizerEmail)),w=n.nameForEmail({email:e.organizerEmail})||e.organizerName||e.organizerEmail,{participantsCount:D=0,resourcesCount:M=0}=o9(p,o=>o.isResource?"resourcesCount":"participantsCount");return r.jsxs("div",{className:"flex items-center",children:[r.jsxs("div",{className:"grow",children:[r.jsxs("div",{className:U(oe,"ml-8 mt-6 text-contrast-50",!E&&"mb-4"),children:[D," participant",D!==1&&"s",M!==0&&`, ${M} room${M!==1?"s":""}`]}),E&&r.jsxs("div",{className:U(Te,"mb-4 ml-8 text-contrast-50"),children:["Organized by ",w]})]}),e instanceof de&&r.jsxs("div",{className:"flex gap-2 pr-8 text-black/50",children:[f.length!==0&&r.jsx(ce,{keyboardShortcut:uv.keyboardShortcut,label:`${v?"Hide":"Show"} all participant calendars`,children:r.jsx(ae,{size:"small",variant:"tertiary",icon:v?ji:xm,onClick:()=>{s.executeAction(uv)}})}),E?r.jsx(Ue,{align:"end",options:[{label:`Email ${w}`,icon:Tn,onSelect:()=>s.executeAction(KR)},{label:"Email participants",icon:Tn,onSelect:()=>s.executeAction(fi)}],children:r.jsx(ae,{size:"small",variant:"tertiary",icon:Ot})}):r.jsx(ce,{keyboardShortcut:fi.keyboardShortcut,label:"Email all participants",children:r.jsx(ae,{size:"small",variant:"tertiary",icon:Tn,onClick:()=>{s.executeAction(fi)}})})]})]})}),cX=X(function({event:e,displayType:n}){var x;const s=e instanceof de,i=n==="hovercard",{groups:a,accounts:l,peopleStore:p,userStore:f,alternativeCalendarsStore:v,resourcesStore:E}=se(),{displayAttendees:w,shouldShowExpandButton:D,areAttendeesExpanded:M,addJustAddedAttendeeEmail:o,toggleAreAttendeesExpanded:d}=uX(e),m=w.length===0,h=s?E.resourcesByAccountUuid[e.calendar.account.uuid]:void 0,[u,P]=K.useState(!1),R=tX(e,E,!u),_=s&&((x=e.calendar)==null?void 0:x.account.scopes.resources),F=eX(e),C=nX(f,a,e,i);let A=i?[]:(()=>{var L;const b={options:(L=p.people)!=null&&L.length?p.filterPeople(p.people,null,null,!1).map(c=>Ox(c,p,a)):[],noSort:!0,matchThreshold:"ACRONYM"};if(!h)return[b];const O=R?c=>{const k=R.get(c.uuid);return k?k.available?"Available":"Occupied":"Unknown"}:()=>{},T=h.filter(c=>c.type!=="other").map(c=>({label:c.label,secondaryLabel:O(c),value:c.remoteEmail,icon:r.jsx("div",{className:"relative flex size-24 items-center justify-center text-contrast-50",children:r.jsx(vm,{})}),resource:c}));return T.length===0?[b]:[b,{options:T}]})();const j=it();return r.jsxs(st,{label:"Participants",icon:Jt,displayType:n,children:[!i&&r.jsx(lX,{event:e}),r.jsx("ul",{children:w.map(N=>r.jsx(K.Fragment,{children:a.findByEmail(N.email)?r.jsx(iX,{event:e,attendee:N,group:a.findByEmail(N.email),groupResponseStatus:F==null?void 0:F.find(b=>b.email===N.email),attendeeAvailability:C,isNonInteractive:i}):r.jsx(sX,{event:e,attendee:N,attendeeAvailability:C[N.email]??null,isNonInteractive:i})},N.email))}),D&&(i?r.jsxs("div",{className:U(oe,"px-8 pt-4 text-contrast-50"),children:[e.attendees.length-w.length," more"]}):r.jsx(ae,{variant:"tertiary",icon:M?Yk:Xk,className:"mt-4 text-contrast-50",onClick:d,children:M?"Collapse":"Expand"})),e.canInviteOthers&&!i&&r.jsx("div",{className:m?void 0:"mt-4",children:r.jsx(Rs,{onOpenChange:P,placeholder:m&&e.canBeEdited?"Participants and rooms":"Add participant or room",renderLabel:N=>N.resource?r.jsx(e7,{label:N.resource.name,secondaryLabel:r.jsxs(r.Fragment,{children:[!R&&_?r.jsx(Gr,{className:"-mt-2 inline size-10"}):(()=>{const b=R==null?void 0:R.get(N.resource.uuid);return b?b.available?r.jsx(ce,{label:"Available",children:r.jsx("span",{children:r.jsx(Rk,{className:"-mt-2 inline size-10 text-green-400"})})}):r.jsx(ce,{label:"Occupied",children:r.jsx("span",{children:r.jsx(ix,{className:"-mt-2 inline size-10 text-red-400"})})}):r.jsx(ce,{label:"Availability unknown",children:r.jsx("span",{children:r.jsx(n_,{className:"-mt-2 inline size-10 text-yellow-400"})})})})(),r.jsx("span",{className:"ml-2",children:N.resource.labelSecondary})]})}):void 0,getOptions:N=>{if(!N)return A.map(T=>({...T,options:T.options.filter(L=>{var c;return!L.resource||((c=R==null?void 0:R.get(L.resource.uuid))==null?void 0:c.available)}).slice(0,5)}));const b=Ps(N,A),O=TH(N);return O?[...b,{options:[{value:"query-value",label:O,icon:r.jsx(Xe,{className:"w-24"})}]}]:[...b,...O0(l.connected,"event-details",j,!0)]},onSubmit:N=>{var O;if(!s)return;if(N.action){N.action();return}if(N.resource){o(N.resource.remoteEmail),e.addResourceAttendee(N.resource),v.fetchCalendarForResource(N.resource,_t.EVENT);return}const b=((O=N.person)==null?void 0:O.email)||N.label;o(b),e.addAttendee(b),Er(b,f.domainsWithAliases)&&!a.findByEmail(b)&&(v.fetchCalendarForPerson(N.person||{email:b},_t.EVENT),v.setForceHideBestTimesToMeet(!1))},shouldStayOpenOnSubmit:!0,side:"bottom",align:"end",inputProps:{variant:"ghost"}})})]})});function uX(t){const{peopleStore:e}=se(),n=GM(t,e)||[],[s,i]=K.useState(!1),[a,l]=K.useState([]);K.useEffect(()=>{l(f=>f.length===0?f:[])},[t.uuid]);const p=s?n:dX(n,a);return{allAttendeesEmails:new Set(n.map(f=>f.email)),displayAttendees:p,shouldShowExpandButton:n.length>qy,areAttendeesExpanded:s,addJustAddedAttendeeEmail(f){n.length===qy&&i(!0),l(v=>[...v,f])},toggleAreAttendeesExpanded(){i(f=>!f),l(f=>f.length===0?f:[])}}}const qy=8;function dX(t,e){const n=t.slice(0,qy);if(e.length===0)return n;const s=new Set(e),i=t.filter(a=>s.has(a.email));return gk(n.concat(i),a=>a.email)}const hX=X(function({event:e,displayType:n}){const s=e instanceof de;if(!s&&!(e instanceof Le))return null;const i=n==="hovercard";return r.jsx(st,{label:"Calendar",icon:ln,displayType:n,children:s&&e.canEditPersonalFields&&!i?r.jsxs("div",{className:"grid gap-8",children:[r.jsx(fX,{event:e}),e.type!=="workingLocation"&&e.type!=="outOfOffice"&&r.jsxs("div",{className:U("grid gap-8",n==="fullpage"?"grid-cols-[1fr,1fr]":"grid-cols-[2fr,3fr]"),children:[r.jsx(mX,{event:e}),r.jsx(nN,{event:e})]}),e.type==="outOfOffice"&&r.jsx("div",{children:r.jsx(nN,{event:e})})]}):r.jsx("div",{className:"px-8 py-6",children:r.jsx(q_,{option:{label:s?e.calendar.name:e.calendar.email,icon:s?(()=>{var p,f,v,E;const a=(v=(f=(p=e.calendar)==null?void 0:p.account)==null?void 0:f.colors)==null?void 0:v.event,l=e.remoteColorId&&((E=a==null?void 0:a[e.remoteColorId])==null?void 0:E.background);return l?r.jsxs("div",{className:"flex",children:[r.jsx(He,{color:e.calendar.color}),r.jsx(He,{color:l,className:"-ml-6 ring ring-white"})]}):r.jsx(He,{color:e.calendar.color})})():r.jsx(He,{color:e.calendar.color})}})})})}),fX=X(function({event:e}){var f,v,E;const{accounts:n,eventsStoreManager:s}=se(),i=it(),a=n.calendarGroupsForEvent(e).map(w=>({label:w.label,options:w.options.map(D=>({...D,icon:r.jsx(He,{color:D.color})}))})),l=(v=(f=e.calendar)==null?void 0:f.account.colors)==null?void 0:v.event,p=e.remoteColorId&&((E=l==null?void 0:l[e.remoteColorId])==null?void 0:E.background);return r.jsx(je,{inputPlaceholder:`Set ${[a.length!==0&&"calendar",l&&"event color"].filter(Boolean).join(" or ")}`,initialOptionValue:e.calendar.uuid,options:l?[...a,{label:a.length===0?void 0:"Event color",options:[{type:"color",value:null,label:"No color",icon:r.jsx(He,{color:e.calendar.color,isSelected:e.remoteColorId===null})},...Object.entries(l).map(([w,D])=>({type:"color",value:w,label:D.name||"Calendar Color",icon:r.jsx(He,{color:D.background,isSelected:e.remoteColorId===w})})),{type:"link",value:ye.settings.children.smartColorCoding.path,label:"Smart color-coding",icon:TF}],renderOptions({inputValue:w,optionsToRender:D,scrolledIntoViewRef:M,selectedOptionIndex:o,setSelectedOptionIndex:d,onSubmit:m}){if(w)return;const h=[...D],u=h.pop(),[P,...R]=h.map((F,C)=>{const A=C===o,j=()=>d(C),x=()=>m(F);return r.jsx(ce,{label:F.label,children:r.jsx("button",{ref:A?M:void 0,className:U("flex-none scroll-m-4 rounded-md px-6 py-6 outline-none ring-inset focus-visible:ring",A&&"bg-contrast-5"),onMouseMove:j,onFocus:j,onClick:x,children:ze(F.icon)})},F.value)}),_=h.length===o;return r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("div",{className:"flex items-center",children:[P,r.jsx("div",{className:"mx-2 h-16 border-r border-contrast-10"}),R]}),r.jsx(Q_,{ref:_?M:void 0,option:u,isSelected:_,onMouseMove:()=>d(h.length),onClick:()=>m(u)})]})}}]:a,onSubmit:w=>{if(w.type==="calendar"){if(w.value===null)return;e.setCalendar(w.calendar),w.calendar.visible||w.calendar.toggleVisibility(s)}w.type==="color"&&xe(()=>{e.remoteColorId=w.value}),w.type==="link"&&i(w.value)},selectButtonProps:{className:"w-full",variant:"tertiary",icon:p?r.jsxs("div",{className:"flex",children:[r.jsx(He,{color:e.calendar.color}),r.jsx(He,{color:p,className:"-ml-6 ring ring-base-bg-elevated"})]}):r.jsx(He,{color:e.calendar.color}),children:e.canBeEdited?void 0:e.calendar.name,isMuted:e.canBeEdited?void 0:!1},side:"bottom",align:"end"})}),mX=X(function({event:e}){return r.jsx(je,{inputPlaceholder:"Set availability",options:[{value:"busy",label:"Busy",keyboardShortcut:{key:"B",altKey:!0}},{value:"available",label:"Available",keyboardShortcut:{key:"A",altKey:!0}}],initialOptionValue:e.isInfluencingAvailability?"busy":"available",onSubmit:n=>{e.setInfluencesAvailability(n.value==="busy"),e.readOnly&&e.save({force:!0})},selectButtonProps:{variant:"tertiary",className:"w-full"},side:"bottom",align:"start",bottomHint:e.isRecurring?"Changing availability only affects this instance of the recurring event.":r.jsxs(r.Fragment,{children:["Hold ",r.jsx(Pn,{shortcut:{key:"Shift"}})," to create events that do not influence your availability."]})})}),nN=X(function({event:e}){return r.jsx(je,{inputPlaceholder:"Set visibility",initialOptionValue:e.visibility,options:[{value:null,label:"Default visibility"},{value:"public",label:"Public"},{value:"private",label:"Private"}],onSubmit:n=>{e.visibility=n.value},selectButtonProps:{variant:"tertiary",className:"w-full"},side:"bottom",align:"end"})});function zM({elements:t,className:e}){return r.jsx("ul",{className:Ae("divide-y divide-contrast-10 rounded-md border border-contrast-10 empty:hidden",e),children:t.map((n,s)=>r.jsx(KM,{element:n,nestingLevel:0},s))})}function KM({element:t,nestingLevel:e}){const n=r.jsxs("li",{className:"flex items-center gap-12 px-12 py-8",children:[Array(e).fill(0).map((s,i)=>r.jsx("div",{className:"w-16"},i)),t.icon&&ze(t.icon,"size-16"),t.label||t.description?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex-1",children:[t.label&&r.jsx("div",{className:oe,children:t.label}),t.description&&r.jsx("div",{className:U(Ne,"text-contrast-50"),children:t.description})]}),t.content]}):r.jsx("div",{className:"flex-1",children:t.content})]});return t.children?r.jsxs(r.Fragment,{children:[n,t.children.map((s,i)=>r.jsx(KM,{element:s,nestingLevel:e+1},i))]}):n}function pX({permissions:t,changePermission:e,className:n}){return r.jsx(zM,{className:n,elements:[{icon:r.jsx("img",{src:SY,alt:"Google Calendar Access"}),label:r.jsxs(r.Fragment,{children:["Calendar ",r.jsx("span",{className:"text-primary",children:"(required)"})]}),description:r.jsxs(r.Fragment,{children:["See, edit, share and permanently delete all the calendars that you can access using Google Calendar ",r.jsx(ce,{label:"We need this access to be able to use Rise as a calendar and allow you to create, update and delete your events through Rise.",className:"w-256",children:r.jsx("span",{children:r.jsx(wn,{className:"inline text-contrast-30"})})})]}),content:r.jsx(et,{disabled:!0,checked:!0})},{icon:r.jsx("img",{src:gs,alt:"Google Contacts Access"}),label:"Contacts",children:[{icon:r.jsx("img",{src:gs,alt:"Google Contacts Access"}),description:r.jsxs(r.Fragment,{children:["See and download contact info automatically saved in your Other contacts",r.jsx(ce,{label:"Google automatically creates a list of people you interact with over email in a group named Other contacts. With this scope we get access to that list and this allows us to automatically complete names and email addresses as youre inviting people to events.",className:"w-256",children:r.jsx("span",{children:r.jsx(wn,{className:"inline text-contrast-30"})})})]}),content:r.jsx(et,{checked:t.otherContacts,onChange:()=>e("otherContacts")})},{icon:r.jsx("img",{src:gs,alt:"Google Contacts Access"}),description:r.jsxs(r.Fragment,{children:["See and download your contacts ",r.jsx(ce,{label:"With this scope we get access to your regularly created contacts in Google. This allows us to automatically complete names and email addresses as youre inviting people to events.",className:"w-256",children:r.jsx("span",{children:r.jsx(wn,{className:"inline text-contrast-30"})})})]}),content:r.jsx(et,{checked:t.contacts,onChange:()=>e("contacts")})},{icon:r.jsx("img",{src:Cn,alt:"Google Contacts Access"}),description:r.jsxs(r.Fragment,{children:["See and download your organisations G Suite directory ",r.jsx(ce,{label:"With this scope we get access to the list of colleagues as they are made public in your G Suite directory. This allows us to automatically complete names and email addresses as youre inviting people to events.",className:"w-256",children:r.jsx("span",{children:r.jsx(wn,{className:"inline text-contrast-30"})})})]}),content:r.jsx(et,{checked:t.directoryContacts,onChange:()=>e("directoryContacts")})}]},{icon:r.jsx("img",{src:Cn,alt:"Google Contacts Access"}),label:"Meeting rooms",description:r.jsxs(r.Fragment,{children:["View calendar resources on your domain ",r.jsx(ce,{label:"With this scope you can view the availability of meeting rooms, and include them when creating and updating events.",className:"w-256",children:r.jsx("span",{children:r.jsx(wn,{className:"inline text-contrast-30"})})})]}),content:r.jsx(et,{checked:t.meetingRooms,onChange:()=>e("meetingRooms")})}]})}function ZM(t){return Ke(({close:e})=>r.jsx(gX,{close:e,origin:t}),{id:"connect-google-modal"})}function gX({close:t,origin:e}){const[n,s]=K.useState({otherContacts:!1,contacts:!1,directoryContacts:!1,meetingRooms:!1});function i(a){s(l=>({...l,[a]:!l[a]}))}return r.jsxs("div",{className:"w-[30rem]",children:[r.jsxs("div",{className:"flex flex-col gap-24 p-24",children:[r.jsxs("div",{className:"flex flex-col gap-12",children:[r.jsx("h1",{className:Jr,children:"Give permissions to contacts and rooms for the best experience"}),r.jsxs("p",{className:U(Ne,"text-contrast-50"),children:["Your data will be stored encrypted and never be shared with anyone else. ",r.jsx("a",{href:"https://support.risecalendar.com/c8d90455821f467b925405d2bdbe9fe9",target:"_blank",rel:"noreferrer",className:U(oe,"text-primary outline-none transition-shadow hover:underline focus-visible:ring"),onClick:()=>{Me(ke.PERMISSIONS_SUPPORT_LINK_CLICKED,{source:e,alert:!1})},children:"Learn more"})]})]}),r.jsx(pX,{permissions:n,changePermission:i})]}),r.jsxs("div",{className:"broder-t flex justify-between border-contrast-10 bg-contrast-5 px-24 py-8",children:[r.jsx(ae,{variant:"secondary",onClick:t,children:"Cancel"}),r.jsx(ae,{variant:"primary",onClick:()=>{const a=[];n.otherContacts&&a.push("other_contacts"),n.contacts&&a.push("contacts"),n.directoryContacts&&a.push("directory_contacts"),n.meetingRooms&&a.push("resources"),x0(e,a),t()},children:"Connect Google"})]})]})}function bX({permissions:t,changePermission:e,className:n}){return r.jsx(zM,{className:n,elements:[{icon:g0,label:r.jsxs(r.Fragment,{children:["Calendar ",r.jsx("span",{className:"text-primary",children:"(required)"})]}),description:"Allows Rise to create, read, update, and delete events of all calendars.",content:r.jsx(et,{disabled:!0,checked:!0})},{icon:r.jsx("img",{src:Cn,alt:"Microsoft Outlook User Info Access"}),label:"User info",description:"Allows Rise to read a basic set of profile properties of other users in your organization on behalf of the signed-in user. This includes display name, first and last name, email address and photo.",content:r.jsx(et,{checked:t.userProperties,onChange:()=>e("userProperties")})},{icon:r.jsx("img",{src:Cn,alt:"Microsoft Outlook Contacts Access"}),label:"Contacts",description:"Allows Rise to access your contacts.",content:r.jsx(et,{checked:t.contacts,onChange:()=>e("contacts")})},{icon:r.jsx("img",{src:Cn,alt:"Microsoft Outlook Other Contact Access"}),label:"Other contacts",description:"Allows Rise to access info about people you chat or email with.",content:r.jsx(et,{checked:t.otherContacts,onChange:()=>e("otherContacts")})}]})}function YM(t){return Ke(({close:e})=>r.jsx(yX,{close:e,origin:t}),{id:"connect-outlook-modal"})}function yX({close:t,origin:e}){const[n,s]=K.useState({userProperties:!1,contacts:!1,otherContacts:!1});function i(a){s(l=>({...l,[a]:!l[a]}))}return r.jsxs("div",{className:"w-[30rem]",children:[r.jsxs("div",{className:"flex flex-col gap-24 p-24",children:[r.jsxs("div",{className:"flex flex-col gap-12",children:[r.jsx("h1",{className:Jr,children:"Give permissions to contacts and rooms for the best experience"}),r.jsxs("p",{className:U(Ne,"text-contrast-50"),children:["Your data will be stored encrypted and never be shared with anyone else. ",r.jsx("a",{href:"https://support.risecalendar.com/c8d90455821f467b925405d2bdbe9fe9",target:"_blank",rel:"noreferrer",className:U(oe,"text-primary outline-none transition-shadow hover:underline focus-visible:ring"),onClick:()=>{Me(ke.PERMISSIONS_SUPPORT_LINK_CLICKED,{source:e,alert:!1})},children:"Learn more"})]})]}),r.jsx(bX,{permissions:n,changePermission:i})]}),r.jsxs("div",{className:"broder-t flex justify-between border-contrast-10 bg-contrast-5 px-24 py-8",children:[r.jsx(ae,{variant:"secondary",onClick:t,children:"Cancel"}),r.jsx(ae,{variant:"primary",onClick:()=>{const a=[];n.userProperties&&a.push("User.ReadBasic.All"),n.contacts&&a.push("Contacts.Read"),n.otherContacts&&a.push("People.Read"),H_("setup",a),t()},children:"Connect Outlook"})]})]})}function XM(t){return ue.waitingForIntegrations.register(t,"icloud").then(()=>Ke(({close:e})=>r.jsxs("div",{className:"w-[28rem]",children:[r.jsx(fW,{title:"iCloud",close:e}),r.jsxs("div",{className:"flex flex-col gap-24 p-24",children:[r.jsxs("div",{className:"flex flex-col gap-12",children:[r.jsx("h1",{className:Jr,children:"Well notify you when we have support for iCloud"}),r.jsx("p",{className:U(Ne,"text-contrast-50"),children:"Well send you an email when we have support for iCloud."})]}),r.jsxs("div",{className:"flex flex-col gap-16",children:[r.jsx("div",{className:"my-8 h-px bg-contrast-10"}),r.jsx("h2",{className:ht,children:"Solutions you can use now"}),r.jsxs("div",{className:"flex items-center gap-12",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:oe,children:"Subscribe to your iCloud calendar"}),r.jsx("p",{className:U(Ne,"text-contrast-50"),children:"You can view but cannot edit your events"})]}),r.jsx(qt,{to:"https://support.risecalendar.com/subscribing-to-your-icloud",target:"_blank",children:"Learn more"})]}),r.jsxs("div",{className:"flex items-center gap-12",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:oe,children:"Migrate from iCloud to Google"}),r.jsx("p",{className:U(Ne,"text-contrast-50"),children:"Youll be able to do everything"})]}),r.jsx(qt,{to:"https://support.risecalendar.com/39bd379ab73a465094c12ea5f2e13b1f",target:"_blank",children:"Learn more"})]})]})]})]})),()=>Mn("Something went wrong. Please try again."))}function JM(t,e){const n=t.account.isOutlook?R$:Ci,s=!n.some(a=>a.value===t.actualColor),i=t.accessLevel!=="reader"&&t.visible;return[{options:[],value:t.actualColor,onValueChange(a){t.setColor(a)},renderOptions({components:a}){return r.jsxs("div",{className:"flex items-center",children:[n.map(l=>r.jsx(rN,{color:l.value,label:l.label,components:a,isSelected:l.value===t.actualColor},l.value)),s&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mx-2 h-16 border-r border-contrast-10"}),r.jsx(rN,{color:t.actualColor,label:"Custom color",components:a,isSelected:!0})]})]})}},[{label:"Set as active calendar",checked:e.calendarForNewEvents===t,disabled:!i,onCheckedChange(a){e.setActiveCalendar(a?t:null)}}]]}function rN({color:t,label:e,components:n,isSelected:s}){return r.jsx(ce,{label:e,children:r.jsx(n.MenuRadioItem,{value:t,asChild:!0,children:r.jsx("button",{"data-no-prevent-focus":!0,className:"flex-none rounded-md px-6 py-6 outline-none hover:bg-contrast-5 data-[highlighted]:bg-contrast-5",children:r.jsx(He,{color:t,isSelected:s})})})},t)}const QM=X(function(){const{accounts:e,eventsStoreManager:n,userStore:s}=se(),i=e.connected.flatMap(l=>l.calendars.filter(p=>p.visible)),a=i.length!==0&&i.length<=7;return r.jsx(Ue,{align:"end",options:()=>qM(e,n,s),children:r.jsx(We,{children:r.jsx(ce,{label:"Open calendar menu",children:r.jsx(ae,{variant:"tertiary",size:"small",children:a?r.jsx("div",{className:"ml-2 flex h-16 items-center",children:i.map(l=>r.jsx("div",{style:{backgroundColor:l.color},className:"-ml-2 size-10 rounded ring ring-base-bg"},l.uuid))}):`${i.length} ${i.length===1?"calendar":"calendars"}`})})})})});function qM(t,e,n){const s=t.connected.length>1;return[...t.connected.map(i=>({label:s?i.accountEmail:"My calendars",options:i.calendars.map(a=>({label:a.name,icon:r.jsx(JV,{checked:a.visible,style:{color:a.color},readOnly:!0}),checked:a.visible,onCheckedChange(){a.toggleVisibility(e),!a.visible&&n.activeCalendar===a&&n.setActiveCalendar(null)},onSelect(l){l.preventDefault()},iconRight:r.jsx("div",{onClick:vt,children:r.jsx(Ue,{options:()=>JM(a,n),side:"top",align:"end",children:r.jsx(We,{children:r.jsx(ce,{label:"Open options",side:"right",children:r.jsx(KV,{icon:Ot,size:"tiny",variant:"tertiary",isBlock:!0,className:"invisible -my-2 -mr-4 data-[state=open]:visible group-data-[highlighted]:visible",onClick:vt})})})})}),className:"group"}))})),[{label:"Add calendar account",icon:Xe,subOptions:[[{label:"Connect Google account",icon:ax,onSelect:()=>void ZM("app")},{label:"Connect Outlook account",icon:g0,onSelect:()=>void YM("app")}],[{label:"Request iCloud support",icon:l_,onSelect:()=>void XM(t.ownEmails[0])}]]}]]}function eR(t){return{options:[],label:"Scheduling links",value:"scheduling_links",onValueChange(e){const n=t.findByUuid(e);n&&(navigator.clipboard.writeText(n.link),jt("Link copied to clipboard!"))},renderOptions({components:e,close:n}){const s=t.visibleSchedulingLinks(),i=s.filter(l=>l.conferenceSolution&&l.conferenceSolution.provider==="zoom"&&l.conferenceSolution.status==="connected").length>1;function a(l){return l.provider==="zoom"&&i?r.jsxs(r.Fragment,{children:[" Zoom (",r.jsx("span",{className:"inline-flex max-w-[80px] overflow-hidden text-ellipsis whitespace-nowrap",children:l.email}),")"]}):r.jsxs(r.Fragment,{children:[" ",l.label]})}return r.jsx("div",{className:"flex flex-col",children:s.map(l=>{var p;return r.jsx(e.MenuRadioItem,{value:l.uuid,asChild:!0,children:r.jsx("button",{"data-no-prevent-focus":!0,className:"rounded-md text-left outline-none hover:bg-contrast-5 data-[highlighted]:bg-contrast-5",children:r.jsxs("div",{className:"group flex min-w-[230px] cursor-pointer flex-row gap-6 p-8 ",children:[r.jsx("div",{children:r.jsx("div",{className:"h-full w-4 justify-self-stretch rounded-md",style:{backgroundColor:(p=l.calendar)==null?void 0:p.color}})}),r.jsxs("div",{className:"grow",children:[r.jsx("div",{className:U(oe,"max-w-[200px] truncate"),children:l.title}),r.jsxs("div",{className:U(Te,"flex flex-row gap-2 text-contrast-50"),children:[r.jsx(hF,{className:"hidden group-hover:inline"}),r.jsxs("span",{className:"hidden group-hover:inline",children:["Copy link  ",l.defaultDuration," mins"]}),r.jsxs("span",{className:"inline group-hover:hidden",children:[l.defaultDuration," mins",l.conferenceSolution&&a(l.conferenceSolution)]})]})]}),r.jsx(qt,{variant:"tertiary",size:"small",className:"invisible self-center text-contrast-50 hover:text-black group-hover:visible",to:ye.settings.children.schedulingLinks.path,onClick:f=>{f.stopPropagation(),n()},children:r.jsx(pr,{})})]})})},l.uuid)})})}}}const Bx=X(function(){const{schedulingLinks:e,actionsStore:n}=se(),s=it();return r.jsx(Ue,{options:()=>[eR(e),[{label:"Add scheduling link",icon:Xe,onSelect:()=>s(ye.settings.children.schedulingLinks.path)},{label:"Share specific times",icon:Wk,keyboardShortcut:Fi.keyboardShortcut,onSelect:()=>n.executeAction(Fi)}],[{label:"Meet teammates",icon:jm,keyboardShortcut:Yr.keyboardShortcut,onSelect:()=>n.executeAction(Yr)}]],align:"end",children:r.jsx(ae,{variant:"secondary",size:"small",className:"shrink-0",children:"Schedule"})})});function tR(t,e){const n=t.startsAt?Pe(t.startsAt):t.startsAtDate,s=t.endsAt?Pe(t.endsAt):fe(t.endsAtDate,-1),i=ws(n,{weekStartsOn:1}),a=l9(n);return[[t.haveSomeAttendeesDeclined?{label:"Resolve conflict",icon:r.jsx(rx,{className:"text-yellow-400"}),range:[Gn(n,-2),Gn(n,3)],secondaryLabel:`Sometime around ${Ub(n)}`}:void 0,{label:"Postpone",icon:r.jsx(tF,{className:"text-turquoise-400"}),range:[fe(n,1),fe(n,8)],secondaryLabel:`Next available time after ${Ub(n)}`,type:"asap"},{label:a?"Next week":"One week later",icon:r.jsx(nF,{className:"text-pink-400"}),range:[Re(i,1),Re(i,2)],secondaryLabel:jX([Re(i,1),Re(i,2)])}].filter(ct).map(p=>({label:p.label,icon:p.icon,secondaryLabel:p.secondaryLabel,onSelect(){return sN(t,p,e)}})),xX.map(p=>({label:p.label,subOptions:[{options:[],renderOptions({close:f}){return r.jsx(vX,{selection:[n,s],onSubmit:async v=>{await sN(t,{label:p.label,range:p.getRange(v)},e),f()}})}}]}))]}const vX=X(function({selection:e,onSubmit:n}){const{userStore:s}=se(),i=Wx();return r.jsx(A0,{today:ge.nowStartOfDay,isInteractive:!0,isSelectionInPastPrevented:!0,selection:e,onSubmit:n,className:"p-12",startOfWeek:s.startOfWeek,...i})}),xX=[{label:"Before",getRange(t){return[fe(t,-6),t]}},{label:"After",getRange(t){return[fe(t,1),fe(t,7)]}},{label:"On",getRange(t){return[t,fe(t,1)]}}];function sN(t,e,{eventsStore:n,peopleStore:s,userStore:i,alternativeCalendarsStore:a,eventsStoreManager:l}){const p={mode:"reschedule",type:e.type,duration:t.duration,users:t.attendees.filter(f=>!f.isResource).map(f=>f.email),resources:t.attendees.filter(f=>f.isResource).map(f=>f.email),timeWindow:A_({timeWindow:{label:e.label,startsAt:e.range[0],endsAt:e.range[1]}})};return km(p).then(f=>{N0(f)&&(f.schedulingContextParticipants.forEach(E=>{a.fetchCalendarForPerson({email:E},_t.EVENT)}),a.setForceHideBestTimesToMeet(!0),n.bookProposal({query:p,response:f,source:"reschedule",targetEvent:t,title:Ex({users:Es(p),peopleStore:s,userStore:i}),eventsStoreManager:l}))}).catch(()=>{Mn("Sorry, something went wrong when trying to reschedule. We have been notified.")})}function jX(t){const[e,n]=t;return[e,fe(n,-1)].map(s=>Ub(s)).join("  ")}const SX=t=>r.jsxs("div",{className:"element-person flex",children:[r.jsx(bt,{label:t.person.name||t.person.email,profileImageUrl:t.person.profileImageUrl}),r.jsxs("div",{className:t.person.name?"person-labels":"person-labels email-only",children:[t.person.name&&r.jsx("p",{className:"name",children:t.person.name}),r.jsx("p",{className:"email",children:t.person.email})]})]}),B0=K.forwardRef(function({command:e,onMouseMove:n,onClick:s,selected:i},a){const l=e.icon;return r.jsx("div",{ref:a,tabIndex:0,role:"button",className:U("flex cursor-pointer scroll-my-[0.3125rem] flex-row items-center rounded-md p-10 outline-none focus-visible:ring",oe,e.type==="person"&&"command-person",i&&"bg-contrast-5"),onMouseMove:n,onClick:s,children:e.type==="person"&&e.person?r.jsx(SX,{person:e.person}):r.jsxs(r.Fragment,{children:[l&&r.jsx(l,{className:"mr-10 text-contrast-50"}),r.jsx("span",{className:"grow",children:e.label}),e.keyboardShortcut&&r.jsx(Pn,{size:"small",shortcut:e.keyboardShortcut})]})},e.label)});function Fx(){Ke(({close:t})=>r.jsx(AX,{close:t}),{id:"command-box-modal",hasVariableHeight:!0})}const AX=X(function({close:e}){const{actionsStore:n}=se(),[s,i]=K.useState(""),[a,l]=K.useState();$e({key:"K",commandKey:!0,isActiveWhenInputFocused:!0},e),Rt(()=>l(void 0),{isEnabled:!!a});const p=K.useMemo(()=>{const o=a?[{id:"sub-actions",actions:a.subActions.options.map(d=>({...d,execute:()=>d.execute(n.actionContext)}))}]:n.applicableActionGroups;return s?o.map(d=>({...d,actions:or(d.actions,s,{keys:["label","keywords"]})})).filter(d=>d.actions.length!==0):o},[s,n.applicableActionGroups,a,n.actionContext]),f=K.useMemo(()=>p.flatMap(o=>o.actions),[p]),{scrollIntoViewKey:v,selectedOptionIndex:E,setSelectedOptionIndex:w}=Is({optionsLength:f.length,resetKey:s,submit:o=>{M(f[o])}}),D=Ms(v);function M(o){if(o.subActions){l(o),i("");return}o.execute(),e()}return r.jsxs("div",{className:"flex max-h-384 w-[40rem] max-w-full flex-col",children:[r.jsx("input",{autoFocus:!0,type:"text",className:"w-full bg-transparent px-16 py-8 text-lg leading-36 outline-none placeholder:text-contrast-50",placeholder:"Search or type command",value:s,onChange:o=>i(o.target.value)}),r.jsx("div",{className:"relative grow overflow-y-auto border-t border-contrast-5 p-[0.3125rem] [scrollbar-width:none] empty:hidden [&::-webkit-scrollbar]:hidden",children:p.map((o,d)=>{if(o.actions.length===0)return null;const m=p.slice(0,d).reduce((h,u)=>h+u.actions.length,0);return r.jsxs(K.Fragment,{children:[o.label&&r.jsx("div",{className:U(Te,"px-10 py-4 text-contrast-50"),children:o.label}),o.actions.map((h,u)=>{const P=m+u,R=P===E;return r.jsx(B0,{ref:R?D:void 0,command:{label:h.label,icon:n.actionContext.getIcon(h),keyboardShortcut:h.keyboardShortcut},onMouseMove:()=>w(P),onClick:()=>{M(h)},selected:R},h.id)})]},o.id)})})]})}),EX=X(function(){var P,R;const{proposalStore:e,alternativeCalendarsStore:n,appStore:s,peopleStore:i,userStore:a,conferenceSolutions:l,objectPool:p,accounts:f,actionsStore:v}=se();K.useEffect(()=>{n.setForceHideBestTimesToMeet(!0),e.setUsers(n.alternativeCalendarEmails),e.setDuration(a.shareAvailabilityDuration),e.suggestionsForActiveMode(),a.displayTimezone?e.setTimezone(Kn(a.displayTimezone)):e.setTimezone(null)},[e,n,n.alternativeCalendarEmails,a.shareAvailabilityDuration,a.displayTimezone]);const E=()=>{e.resetProposals(),s.setCalendarMode($t.Normal)},w=Os(()=>{e.updateSchedulingLink()},1e3);r0(()=>e.proposals.map(_=>({starts_at:_.startsAt,ends_at:_.endsAt})),()=>w()),Rt(E);const D=()=>{const _=e.users.map(A=>i.nameForEmail({email:A,preferFirstName:!0})).filter(A=>A!==null);if(_.length===0)return"";const F=["you"].concat(_);return` for ${new Intl.ListFormat("en",{type:"conjunction"}).format(F)}`},M=_=>({value:_.name,label:`${_.name.replace("_"," ").replace("/","  ")} (${_.abbreviation})`}),o=[Kn(a.timezone),...a.secondaryTimezones.map(_=>_.timezone)].map(M),d=fm.map(M),m=(()=>{const _=[{value:null,label:"No video call"}];return l.items.forEach(F=>{var C,A;F.provider==="google_meet"&&!((A=(C=e.schedulingLink)==null?void 0:C.calendar.conferenceSolutions)!=null&&A.includes("google_meet"))||_.push({value:F.uuid,label:F.label})}),_})(),h=f.connected.map(_=>({key:_.accountEmail,label:_.accountEmail,options:_.calendars.filter(F=>F.accessLevel==="owner"||F.accessLevel==="writer").map(F=>({value:F.uuid,label:F.name,calendar:F,icon:r.jsx(He,{color:F.color})}))})).filter(_=>_.options.length!==0),u=As({nullDuration:!1});return r.jsxs("div",{className:"flex h-full flex-col",children:[r.jsxs("div",{className:"mt-16 px-16",children:[r.jsxs("h1",{className:U(Jr,"mb-8"),children:["Share availability",D()]}),r.jsx("p",{className:U(oe,"text-contrast-50"),children:"Mark available times in the calendar"})]}),r.jsx("div",{className:"mt-4 flex-grow",children:r.jsxs("div",{className:"p-16",children:[r.jsx("div",{className:"border-b border-contrast-10"}),r.jsxs("div",{className:"mt-12 flex flex-row items-center",children:[r.jsx("div",{className:U(oe,"mr-24 text-contrast-50"),children:r.jsx(ce,{label:"Duration",children:r.jsx("span",{children:r.jsx(mr,{})})})}),r.jsx(je,{inputPlaceholder:"Set duration",options:[...u,...u.find(_=>_.value===a.shareAvailabilityDuration)?[]:[{value:a.shareAvailabilityDuration,label:`${a.shareAvailabilityDuration} min`}]],getOptions:_=>{const F=parseInt(_.trim(),10);return isNaN(F)||F<=0?u:[{value:F,label:`${F} min`},...u.filter(C=>C.value!==F)]},initialOptionValue:a.shareAvailabilityDuration,onSubmit:_=>{xe(()=>{e.setDuration(_.value),a.shareAvailabilityDuration=_.value,a.save()})},selectButtonProps:{variant:"tertiary",className:"w-full"},side:"bottom",align:"end"})]}),r.jsxs("div",{className:"mt-4 flex flex-row items-center",children:[r.jsx("div",{className:U(oe,"mr-24 text-contrast-50"),children:r.jsx(ce,{label:"Timezone",children:r.jsx("span",{children:r.jsx(sx,{})})})}),r.jsx(je,{inputPlaceholder:"Set timezone",options:[{label:"My timezones",options:o},{label:"All timezones",options:d}],initialOptionValue:((P=e.timezone)==null?void 0:P.name)||a.timezone,onSubmit:_=>{e.setTimezone(_.value!==void 0?Kn(_.value):null)},selectButtonProps:{variant:"tertiary",className:"w-full"},side:"bottom",align:"end"})]}),r.jsxs("div",{className:"mt-4 flex flex-row items-center",children:[r.jsx("div",{className:U(oe,"mr-24 text-contrast-50"),children:r.jsx(ce,{label:"Include a single use scheduling link",children:r.jsx("span",{children:r.jsx(tx,{})})})}),r.jsxs("div",{className:"ml-8 flex py-6",children:[r.jsx(et,{onChange:()=>e.toggleSchedulingLink(),checked:e.schedulingLinkToggle}),r.jsx("div",{className:U(oe,"ml-8"),children:"Single use scheduling link"})]})]}),e.schedulingLinkToggle&&e.schedulingLink&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mt-4 flex flex-row items-center",children:[r.jsx("div",{className:U(oe,"mr-24 w-16 text-contrast-50")}),r.jsx("div",{className:"grow",children:r.jsx(vr,{variant:"ghost",value:e.schedulingLink.title||"",placeholder:"Meeting title",onChange:_=>{xe(()=>{e.schedulingLink&&(e.schedulingLink.title=_.target.value||`${e.duration}-min meeting`)})},onBlur:()=>{var _;return(_=e.schedulingLink)==null?void 0:_.save()}})})]}),r.jsxs("div",{className:"mt-4 flex flex-row items-center",children:[r.jsx("div",{className:U(oe,"mr-24 w-16 text-contrast-50"),children:r.jsx(ce,{label:"Video conferencing link",children:r.jsx("span",{children:r.jsx(Ns,{})})})}),r.jsx("div",{className:"grow",children:r.jsx(je,{inputPlaceholder:"Select video conferencing",align:"end",options:m,initialOptionValue:((R=e.schedulingLink.conferenceSolution)==null?void 0:R.uuid)||null,onSubmit:({value:_})=>{e.schedulingLink&&(_?e.schedulingLink.conferenceSolution=p.getObject("conference_solution",_):e.schedulingLink.conferenceSolution=null,e.schedulingLink.save())},selectButtonProps:{variant:"tertiary",className:"w-full"}})})]}),r.jsxs("div",{className:"mt-4 flex flex-row items-center",children:[r.jsx("div",{className:U(oe,"mr-24 w-16 text-contrast-50"),children:r.jsx(ce,{label:"Calendar where events will be added",children:r.jsx("span",{children:r.jsx(ln,{})})})}),r.jsx("div",{className:"grow",children:r.jsx(je,{inputPlaceholder:"Pick calendar",align:"end",initialOptionValue:e.schedulingLink.calendar.uuid,options:h,className:"max-w-sm",onSubmit:({value:_})=>{e.schedulingLink&&_&&(e.schedulingLink.calendar=p.getObject("calendar",_),e.schedulingLink.save())},selectButtonProps:{variant:"tertiary",className:"w-full",icon:r.jsx(He,{color:e.schedulingLink.calendar.color})}})})]}),r.jsxs("div",{className:"mt-4 flex flex-row items-center",children:[r.jsx("div",{className:U(oe,"mr-24 text-contrast-50"),children:r.jsx(ce,{label:"Allow booking over FocusGuard blocks",children:r.jsx("span",{children:r.jsx(s_,{})})})}),r.jsxs("div",{className:"ml-8 flex py-6",children:[r.jsx(et,{onChange:()=>{e.schedulingLink&&(e.schedulingLink.availabilityType==="maximum_availability"?e.schedulingLink.availabilityType="standard":e.schedulingLink.availabilityType="maximum_availability",e.schedulingLink.save())},checked:e.schedulingLink.availabilityType==="maximum_availability"}),r.jsx("div",{className:U(oe,"ml-8"),children:"Ignore FocusGuard blocks"})]})]})]}),r.jsx("div",{className:"mt-12 border-b border-contrast-10"}),e.proposals.length>0&&r.jsxs(r.Fragment,{children:[a.locale!=="en-GB"&&a.locale!=="en-US"&&e.supportedLocales.includes(a.locale)&&r.jsx("div",{className:"mt-16",children:r.jsx(er,{options:[{value:"en-US",label:"English"},{value:a.locale,label:bk.getByTag(a.locale).name}],value:e.locale||a.locale,onChange:_=>{e.setLocale(_)}})}),r.jsx("div",{className:"mt-16 text-sm",children:r.jsx(yk,{html:e.proposalHTML,onChange:()=>{},disabled:!0,onClick:L_})})]}),r.jsxs("div",{className:"mt-12 flex justify-between",children:[r.jsx(ae,{onClick:E,keyboardShortcut:{key:"Escape"},children:"Close"}),e.proposals.length>0&&r.jsx(ae,{onClick:()=>v.executeAction(bv),variant:"primary",keyboardShortcut:bv.keyboardShortcut,children:"Copy availability"})]})]})})]})}),Mi=50,DX=6,Fs=DX*Mi,Vr=Fs/2,ev=100/Fs;function F0(t){return t*Mi}const wX=X(function(){const{userStore:e}=se(),{draggingCursor:n}=Je(),s=e.weekendVisible?e.startOfWeek:1,i=Array(e.weekendVisible?7:5).fill(0).map((l,p)=>(s+p)%7),a=Sb(Xt(ge.nowStartOfDay,e.localTimeZoneString),"en-US");return r.jsxs("div",{className:U(oe,"relative grid select-none auto-cols-fr grid-flow-col border-b border-contrast-10 py-12"),children:[i.map(l=>r.jsx("div",{className:U("pr-8 text-right",l!==a&&"text-contrast-50"),children:CX[l]},l)),n&&r.jsx("div",{className:U("absolute inset-0 -bottom-px",n)})]})}),CX=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Hx=K.memo(function({amount:e}){return Array(e).fill(null).map((n,s)=>r.jsx("div",{},s))}),TX=K.memo(function(){return r.jsx("div",{className:"absolute inset-0 grid auto-rows-fr [&_>_*]:snap-start",children:r.jsx(Hx,{amount:Fs})})}),NX=X(function(){const{appStore:e,userStore:n}=se(),s=ri(Xt(e.middleItemDate,n.localTimeZoneString)),i=ep(s,n.startOfWeekLocale),a=[];let l=i;for(let p=Vr;p>0;p--){const f=l.add({weeks:-1});Eb(l,f)||a.push(p),l=f}a.reverse(),l=i;for(let p=Vr+1;p<Fs;p++){const f=l.add({weeks:1});Eb(l,f)||a.push(p),l=f}return r.jsx("div",{className:"absolute inset-0 grid auto-cols-fr grid-flow-col [&_>_*]:snap-start [&_>_*]:snap-always",children:a.map((p,f)=>r.jsx("div",{className:"absolute inset-x-0",style:{top:p*ev+"%"}},f))})});function nR(t,e){const n=mk(t,e),s=Vr+n;return{height:ev+"%",top:s*ev+"%"}}const kX=X(function(){const{appStore:e,userStore:n}=se();if(!e.conceptEventPlaceholder||!e.movingObject)return;const{calendarDaysWithOverScan:s}=e,i=n.weekendVisible?7:5,a=s.length/i,l=e.conceptEventPlaceholder,p=Pe(l.start),f=l.end,v=f.getHours()===0&&f.getMinutes()===0?f:fe(Pe(f),1),E=[];for(let M=0;M<a;M++){const o=(M+1)*i,d=fe(s[o-1],1);if(p>=d)continue;const m=M*i,h=s[m];if(v<=h)break;const u=p>h?p:h,P=v<d?v:d;E.push({weekStartDate:h,placeholderStart:en(u,h),placeholderLength:en(P,u),hasOverflowStart:p<h,hasOverflowEnd:v>d})}const w=e.movingObject,D=w instanceof de?w.calendar.color:n.calendarForNewEvents.color;return E.map(({weekStartDate:M,placeholderStart:o,placeholderLength:d,hasOverflowStart:m,hasOverflowEnd:h})=>r.jsx("div",{className:U("absolute pb-2 pt-28",!m&&"pl-4",!h&&"pr-4"),style:{...nR(M,e.middleItemDate),left:o/i*100+"%",width:`calc(${d/i*100}% - ${h?0:1}px)`},children:r.jsx("div",{className:U("size-full border-y-2 before:block before:h-full before:w-full before:bg-current before:opacity-10",!m&&"rounded-l-[0.625rem] border-l-2",!h&&"rounded-r-[0.625rem] border-r-2"),style:{color:D,borderColor:D}})},M.getTime()))});function _X(){const{appStore:t,userStore:e,displayEventsStore:n}=se(),{calendarDaysWithOverScan:s}=t,i=e.weekendVisible?7:5,a=s.length/i,l=Array(a).fill(null).map((f,v)=>{const E=s.slice(v*i,(v+1)*i),w=E[0],D=fe(E[E.length-1],1);return{startDate:w,endDate:D,dates:E,events:[]}});return Qr([...n.visibleAllDayEventsWithOverScan,...n.visibleEventsWithOverScan.filter(f=>f.type!=="non-working-hours")]).forEach(f=>{const v=f.event.end,E=f.event.start;for(let w=0;w<l.length;w++){const D=l[w];if(E<D.endDate&&(v<=D.startDate||(D.events.push(f),v<=D.endDate)))break}}),l}function OX(t){const e=t.startDate,n=ox(t.events,p=>Wt(wr(p.event.start,e)));let s=[];const i=t.dates.map(p=>{let f=-1;const v=new Map;s.forEach(M=>{M.event.event.end>p&&(v.set(M.index,M),f=M.index)});const E=Wt(p);s=[];const w=(n.get(E)||[]).sort(IX),D=[];for(let M=0;M<=f||w.length!==0;M++){const o=v.get(M);if(o){s.push(o),o.amountOfDays+=1;continue}const d=w.pop();if(d){const m={event:d,index:M,amountOfDays:1};s.push(m),D.push(m),f<M&&(f=M)}}return{date:p,positions:s,newPositions:D,maxOccupiedIndex:f}}),a=i[0],l=i[i.length-1];return a.positions.forEach(p=>{p.event.event.start<t.startDate&&(p.hasWeekStartOverflow=!0)}),l.positions.forEach(p=>{p.event.event.end>t.endDate&&(p.hasWeekEndOverflow=!0)}),i}function IX(t,e){const n=iN(e)-iN(t);if(n!==0)return n;const s=t.event.title||"";return(e.event.title||"").localeCompare(s)}const rb=10**13;function iN(t){return t.event.allDay?1*rb+t.event.startsAtDate.getTime():MX(t.event)?2*rb+t.event.startsAt.getTime():3*rb+t.event.startsAt.getTime()}function MX(t){const e=t.endsAt.getTime()-t.startsAt.getTime();return e<=4*A5?!1:e>30*A5?!0:t.endsAt>En(fe(Pe(t.startsAt),1),5)}const RX=250,PX=X(function(){const{draggingCursor:e,scrollContainerRef:n}=Je(),{appStore:s}=se(),{middleItemDate:i}=s,a=K.useRef({roundedIndex:Vr,partiallyVisibleDirection:"none",lastSetCalendarDate:null});K.useLayoutEffect(()=>{LX(n)},[n,i]);const l=Os(()=>{a.current.partiallyVisibleDirection==="none"&&xe(()=>{s.setIsScrolling(!1),a.current.roundedIndex!==Vr&&s.resetMiddleItemDate()})},RX);K.useEffect(()=>(a.current.lastSetCalendarDate=s.calendarDate,Jn(()=>{const f=a.current;s.calendarDate.getTime()!==f.lastSetCalendarDate.getTime()&&xe(()=>{const v=n.current,E=v.style.overflow;v.style.overflow="hidden",f.lastSetCalendarDate=s.calendarDate,s.resetMiddleItemDate(),window.setTimeout(()=>{v.style.overflow=E})})})),[s,n]);function p(f){const v=a.current,E=f.currentTarget,w=E.scrollTop/E.scrollHeight*Fs,D=w%1,M=dr(D,0,3)||dr(D,1,3)?"none":D>.5?"backward":"forward",o=Math.round(w);if(dr(w,v.roundedIndex,3)||s.setIsScrolling(!0),M!==v.partiallyVisibleDirection&&(v.partiallyVisibleDirection=M,s.setPartiallyVisibleDirection(M)),o!==v.roundedIndex){v.roundedIndex=o;const d=o-Vr,m=Re(i,d);v.lastSetCalendarDate=m,s.setCalendarDateViaScrolling(m)}l()}return r.jsxs(r.Fragment,{children:[r.jsx(wX,{}),r.jsx("div",{ref:n,className:"flex-grow select-none snap-y snap-mandatory overflow-y-auto overflow-x-hidden [scrollbar-width:none] [&::-webkit-scrollbar]:hidden",onScroll:p,children:r.jsxs("div",{className:"relative",style:{height:Mi*100+"%"},children:[e&&r.jsx("div",{className:U("absolute inset-0 z-10",e)}),r.jsx(TX,{}),r.jsx(NX,{}),r.jsx(BX,{}),r.jsx(kX,{})]})})]})});function LX(t){const e=t.current,n=e.scrollHeight/2;e.scrollTop!==n&&e.scrollTo({top:n,behavior:"instant"})}const aN=32,oN=21,BX=X(function(){const{appStore:e,userStore:n}=se();return _X().map(i=>r.jsx("div",{className:U("absolute left-0 isolate grid w-full border-b border-contrast-10",n.weekendVisible?"grid-cols-7":"grid-cols-5"),style:nR(i.startDate,e.middleItemDate),children:r.jsx(FX,{week:i,localTimeZoneString:n.localTimeZoneString})},i.startDate.getTime()))}),FX=K.memo(function(e){return r.jsx(HX,{...e})},(t,e)=>t.week.events.length===e.week.events.length&&t.week.startDate.getTime()===e.week.startDate.getTime()&&t.week.endDate.getTime()===e.week.endDate.getTime()&&t.localTimeZoneString===e.localTimeZoneString),HX=X(function({week:e}){const{appStore:n,userStore:s}=se(),{bindCreateAllDayEvent:i}=Je(),{maxPositionInMonthView:a}=n,l=Xt(ge.nowStartOfDay,s.localTimeZoneString),p=OX(e);return p.map(({date:f,positions:v,newPositions:E,maxOccupiedIndex:w},D)=>{const M=D===0,o=Xt(f,s.localTimeZoneString),d=w>a,m=d?a-1:w,h=jb(o,s.startOfWeekLocale);return r.jsxs("div",{className:U("relative border-r border-contrast-10 bg-clip-padding",h&&"bg-gray-200/40"),children:[M&&r.jsx("div",{className:U(Te,"absolute left-8 top-8 grid size-20 place-items-center text-contrast-50"),children:gx(new Date(o.year,o.month-1,o.day),s.startOfWeek)}),r.jsx(VX,{zonedDate:o,zonedStartOfToday:l}),r.jsx("div",{className:"absolute inset-0",onClick:n.selectedObject?()=>n.setSelectedObject(null):void 0,...!n.selectedObject&&i("month-view")}),E.map(({event:u,index:P,amountOfDays:R,hasWeekStartOverflow:_,hasWeekEndOverflow:F})=>{const{event:C,deduplicatedEvents:A}=u;if(P>m||!(C instanceof de||C instanceof Le||C instanceof Gt||C instanceof Ce))return;const j=R*100,x=(_?0:.5)+(F?0:.5),N=R-(F?0:1);return r.jsx("div",{className:U("absolute z-10 focus-within:z-20",!_&&"left-8"),style:{top:aN+P*oN,width:`calc(${j}% - ${x}rem + ${N}px)`},children:r.jsx(Pi,{event:C,deduplicatedEvents:A==null?void 0:A.filter(b=>b instanceof de||b instanceof Le||b instanceof Gt),hasNarrowTime:!0,spansMultipleDays:R>1,isHoverCardVertical:R>=p.length-1,allowDragging:!0,hasOverflowStart:_,hasOverflowEnd:F})},C.uuid)}),d&&r.jsx(cn,{modal:!0,animationVariant:"side-direction",className:"w-[calc(var(--radix-popper-anchor-width)+theme(spacing.16))]",alignOffset:-8,content:u=>r.jsx(WX,{positions:v,maxPosition:m,close:u}),children:r.jsx(We,{children:r.jsx(ce,{label:"Show hidden events",children:r.jsx("button",{className:U(oe,"absolute inset-x-8 h-20 truncate rounded-md pl-10 pr-6 text-left outline-none transition hover:bg-contrast-5 focus-visible:ring data-[state=open]:bg-contrast-5"),style:{top:aN+(m+1)*oN},children:v.reduce((u,P)=>P.index<a?u:u+1,0)+" more"})})})})]},f.getTime())})}),VX=X(function({zonedDate:e,zonedStartOfToday:n}){const{appStore:s}=se(),i=xs(e,n),a=e.day===1,l=c9(s.calendarMonthString+"-01"),p=Eb(e,l);return r.jsxs("div",{className:U(oe,"absolute right-8 top-8 grid size-20 min-w-max place-items-center rounded-md",s.isScrolling&&"transition-colors",a||i?["px-4 text-white-static",i?"bg-primary":"bg-contrast-50 dark:bg-contrast-30"]:!p&&"text-contrast-50"),children:[a&&rt(e.toDate(),"MMM")+" ",e.day]})}),WX=X(function({positions:e,maxPosition:n,close:s}){const{appStore:i}=se();return WH([i.selectedObject,i.movingObject],s),r.jsx("div",{className:"flex flex-col gap-px p-8",children:e.map(({event:a,index:l,amountOfDays:p,hasWeekStartOverflow:f,hasWeekEndOverflow:v})=>{var E;if(!(l<=n||!(a.event instanceof de||a.event instanceof Le||a.event instanceof Gt||a.event instanceof Ce)))return r.jsx(Pi,{event:a.event,deduplicatedEvents:(E=a.deduplicatedEvents)==null?void 0:E.filter(w=>w instanceof de||w instanceof Le||w instanceof Gt),hasNarrowTime:!0,spansMultipleDays:p>1,allowDragging:!0,hasOverflowStart:f,hasOverflowEnd:v,isInPopover:!0},a.event.uuid)})})});function Hs({date:t,middleItemDate:e,amountOfDaysTotal:n,isWeekendVisible:s}){const i=100/n,l=(s?kn:U1)(t,e),f=n/2+l;return{width:i+"%",left:f*i+"%"}}function $X(t,e,n,s){const i=e[0],a=ox(t,v=>{const E=!n&&Un(v.event.start)?n0(v.event.start):v.event.start;return Wt(wr(E,i))});let l=[];const p=new Map,f=e.map(v=>{let E=-1;const w=new Map;l.forEach(d=>{d.eventHolder.event.end>v&&(w.set(d.index,d),E=d.index)});const D=Oe(v,"yyyy-MM-dd",s);l=[];const M=(a.get(D)||[]).reverse().sort((d,m)=>d.event.end.getTime()-m.event.end.getTime()),o=[];for(let d=0;d<=E||M.length!==0;d++){const m=w.get(d);if(m){l.push(m);continue}const h=M.pop();if(h){const u={eventHolder:h,index:d};l.push(u),o.push(u),E<d&&(E=d)}}return p.set(D,E),l.length>1&&l.forEach(d=>{d.isCollapsible=!0}),{date:v,newPositions:o,positions:l}});return{maxPositionsByDay:p,dayEventPositions:f}}function UX(t,e){zX(t).filter(n=>{const s=e.filter(i=>lN(i,n));return s.length===0?!1:n.eventPositionsAffectingOffset.some(i=>s.some(a=>lN(i.event,a)))}).forEach(n=>{n.eventPositions.forEach(s=>{s.hasOffset=!0})})}const GX=1;function zX(t){const e=[];let n;return KX(t).forEach(s=>{!n||s.event.startDate>=n.endDate?(n={startDate:s.event.startDate,endDate:s.event.endDate,eventPositions:[s],eventPositionsAffectingOffset:[]},e.push(n)):(n.eventPositions.push(s),s.event.endDate>n.endDate&&(n.endDate=s.event.endDate)),s.edgeLeftPercent===0&&s.nesting.level<=GX&&n.eventPositionsAffectingOffset.push(s)}),e}function KX(t){return t.slice().sort((e,n)=>e.event.startDate.getTime()-n.event.startDate.getTime())}function lN(t,e){return t.startDate<e.endDate&&t.endDate>e.startDate}function ZX(t,e,n){const{slots:s,nextSlotsChange:i}=rR(e,t.startDate,n);return YX(t.events.length,s),QX(t,s,i,e,n),s}function rR(t,e,n){var l,p,f;const s=u9(e,n);let i;const a=t.filter((v,E,w)=>{const D=w[E-1];return!D||v.edgeLeftPercent!==D.edgeLeftPercent}).flatMap((v,E,w)=>{var o;i||(i=v.event.endDate);const D=v.event.startDate>s;if(D){const d=Ie(v.event.startDate,n);d<i&&(i=d)}else v.event.endDate<i&&(i=v.event.endDate);const M=((o=w[E+1])==null?void 0:o.edgeLeftPercent)??1;return D&&M!==v.edgeRightPercent?[{edgeLeftPercent:v.edgeLeftPercent,edgeLeftExpandedPercent:v.edgeLeftPercent,edgeRightPercent:v.edgeRightPercent,edgeRightExpandedPercent:v.edgeRightPercent,nesting:{level:v.nesting.level+1,offset:v.nesting.offset+1},parentPosition:v,isBlockedByParent:D,amountOfNewEvents:0},{edgeLeftPercent:v.edgeRightPercent,edgeLeftExpandedPercent:v.edgeRightPercent,edgeRightPercent:M,edgeRightExpandedPercent:M,nesting:{level:v.nesting.level,offset:v.nesting.offset/2},isBlockedByParent:!1,amountOfNewEvents:0}]:{edgeLeftPercent:v.edgeLeftPercent,edgeLeftExpandedPercent:v.edgeLeftPercent,edgeRightPercent:M,edgeRightExpandedPercent:M,nesting:{level:v.nesting.level+1,offset:v.nesting.offset+1},parentPosition:v,isBlockedByParent:D,amountOfNewEvents:0}});return((l=a[0])==null?void 0:l.edgeLeftPercent)!==0&&a.unshift({edgeLeftPercent:0,edgeLeftExpandedPercent:0,edgeRightPercent:((p=a[0])==null?void 0:p.edgeLeftPercent)??1,edgeRightExpandedPercent:((f=a[0])==null?void 0:f.edgeLeftPercent)??1,nesting:{level:0,offset:0},isBlockedByParent:!1,amountOfNewEvents:0}),a.forEach((v,E)=>{const w=a[E-1];w&&(w.right=v,v.left=w)}),{slots:a,nextSlotsChange:i}}function YX(t,e){let n=t;for(;n>0;){let s,i=0;e.forEach(a=>{const l=JX(a);(!s||l>i&&!dr(l,i)||s.amountOfNewEvents>0&&dr(l,i))&&(s=a,i=l)}),s.amountOfNewEvents+=1,n-=1}}const XX=.7;function JX(t){if(t.isBlockedByParent)return 0;const e=(t.edgeRightPercent-t.edgeLeftPercent)*XX**t.nesting.level;return zr(e/(t.amountOfNewEvents+1))}function QX(t,e,n,s,i){const a={remainingEvents:t.events.slice(),nextSlot:e[0]};for(;a.remainingEvents.length!==0;){const{nextEventsBatch:l,slot:p}=eJ(a);if(p.eventsBatch=l,!n||l.startDate<n)continue;const f=qX(s,l.startDate,i,p.edgeLeftPercent);if(f.edgeLeftPercent<p.edgeLeftPercent)for(let v=p.left;v&&v.amountOfNewEvents===0&&!v.expansionSide&&v.edgeLeftPercent>=f.edgeLeftPercent;v=v.left)v.expansionSide="left",p.edgeLeftExpandedPercent=v.edgeLeftPercent,v.edgeLeftPercent===f.edgeLeftPercent&&(p.parentPosition=f.parentPosition,p.nesting=f.nesting);if(f.edgeRightPercent>p.edgeRightPercent)for(let v=p.right;v&&v.amountOfNewEvents===0&&!v.expansionSide&&v.edgeRightPercent<=f.edgeRightPercent;v=v.right)v.expansionSide="right",p.edgeRightExpandedPercent=v.edgeRightPercent;p.parentPosition&&p.parentPosition.event.endDate<=p.eventsBatch.startDate&&(p.parentPosition=void 0,p.nesting={level:0,offset:0})}}function qX(t,e,n,s){const{slots:i}=rR(t.filter(l=>l.event.endDate>e),e,n);let a=i[0];for(;a.edgeRightPercent<=s;)a=a.right;return a}function eJ(t){let e=t.nextSlot;for(;e.amountOfNewEvents===0;)e=e.right;const n=t.remainingEvents.splice(0,e.amountOfNewEvents);return t.nextSlot=e.right,{nextEventsBatch:{events:n,startDate:n.reduce((s,i)=>s.startDate<=i.startDate?s:i).startDate},slot:e}}const cN=6,uN=2,dN=10;function tJ(t,e){return t.map(n=>{const s=n.hasOffset?(1-n.edgeLeftPercent)*dN:0;return{event:n.event,offsetLeft:{percent:n.edgeLeftPercent,px:n.nesting.offset*cN+s},offsetRight:n.nextRightPosition?(()=>{const i=n.nextRightPosition,a=i.hasOffset?(1-i.edgeLeftPercent)*dN:0;return{percent:1-i.edgeLeftPercent,px:uN-i.nesting.offset*cN-a}})():{percent:0,px:uN},availableHeightPx:n.availableHeightMinutes===void 0?void 0:zr(n.availableHeightMinutes/e)}})}const nJ=24;function hN({dayEvents:t,minutesPerPx:e,baseSorter:n=()=>0,dayStart:s,offsets:i}){const a=aJ(t),l=e*nJ,p=[];let f=[];for(;a.length!==0;){const v=rJ(a,l,n,s);f=sJ(f,v.startDate);const E=ZX(v,f,l),w=iJ(E);p.push(...w),f.push(...w)}return i&&i.length!==0&&UX(p,i),tJ(p,e)}function rJ(t,e,n,s){const i=[t.shift()],a=wr(i[0].startDate,s);let l=i[0].endDate;for(;t[0]&&t[0].startDate<l&&Ge(t[0].startDate,a)<e;){const p=t.shift();i.push(p),p.endDate<l&&(l=p.endDate)}return oJ(i,n),{events:i,startDate:a}}function sJ(t,e){return t.filter(n=>n.event.endDate>e).sort((n,s)=>{const i=zr(n.edgeLeftPercent-s.edgeLeftPercent);return i!==0?i:s.nesting.level-n.nesting.level})}function iJ(t){return t.filter(e=>e.eventsBatch).flatMap(e=>{e.parentPosition&&e.parentPosition.availableHeightMinutes===void 0&&(e.parentPosition.availableHeightMinutes=Ge(e.eventsBatch.startDate,e.parentPosition.event.startDate));const n=(e.edgeRightExpandedPercent-e.edgeLeftExpandedPercent)/e.eventsBatch.events.length,s=e.eventsBatch.events.map((i,a)=>({event:i,edgeLeftPercent:zr(e.edgeLeftExpandedPercent+a*n),edgeRightPercent:zr(e.edgeLeftExpandedPercent+(a+1)*n),nesting:{level:e.nesting.level,offset:e.nesting.offset*(1-a/e.eventsBatch.events.length)},childPositions:[],parentPosition:e.parentPosition,nextRightPosition:void 0}));return s.forEach((i,a,l)=>{const p=l[a+1]||(()=>{let v=e.right;for(;v&&v.expansionSide==="right";)v=v.right;return v==null?void 0:v.parentPosition})();if(!p)return;let f=p;for(;f.parentPosition&&f.parentPosition.edgeLeftPercent===p.edgeLeftPercent&&f.parentPosition.event.endDate>i.event.startDate;)f=f.parentPosition;i.nextRightPosition=f}),s})}function aJ(t){return t.slice().sort((e,n)=>e.startDate.getTime()-n.startDate.getTime())}function oJ(t,e){t.sort((n,s)=>{const i=Ge(n.endDate,s.endDate);if(i!==0)return-i;const a=Ge(n.startDate,s.startDate);return a!==0?a:e(n,s)})}function Nr({startsAtLocal:t,endsAtLocal:e,renderDateLocal:n,calendarHourHeight:s,minEventHeight:i}){return K.useMemo(()=>o7({startsAtLocal:t,endsAtLocal:e,renderDateLocal:n,calendarHourHeight:s,minEventHeight:i||16}),[t,e,n,s,i])}const sR=X(function({amountOfDaysTotal:e,isInMyFocusView:n}){const{appStore:s,userStore:i}=se();if(!s.conceptEventPlaceholder||s.conceptEventPlaceholder.layer!=="concept"||!s.conceptEventPlaceholder.allDay||!s.movingObject)return;const a=s.movingObject,l=s.conceptEventPlaceholder,p=a instanceof de?a.calendar.color:i.calendarForNewEvents.color,f=n?1:bx(l,l.startsAtDate,l.endsAtDate,i.weekendVisible),v=n?{width:"100%",top:0,left:0}:Hs({date:l.startsAtDate,middleItemDate:s.middleItemDate,amountOfDaysTotal:e,isWeekendVisible:i.weekendVisible});return r.jsx("div",{className:"absolute h-full py-2",style:v,children:r.jsx("div",{className:"h-full rounded-md border-2 before:block before:h-full before:w-full before:bg-current before:opacity-10",style:{color:p,borderColor:p,width:`calc(${f*100}% - 0.375rem)`}})})}),Ri=X(function({event:e,children:n}){const s=e instanceof de,{actionToMenuOption:i,rootStore:a}=Ln({event:e,place:"context-menu"});return r.jsx(Cr,{options:()=>[s&&a.appStore&&lJ(e,a.appStore),s&&cJ(e),[s&&e.type!=="workingLocation"&&uJ(e,a),i(fi),i(JR)],[i(QR),i(tP)],[i(pi)]],children:n})});function lJ(t,e){var i;const n=(i=t.calendar.account.colors)==null?void 0:i.event;if(!n||t.readOnly)return;const s=[{label:"No color",value:"",icon:r.jsx(He,{color:t.calendar.color,isSelected:t.remoteColorId===null})},...Object.entries(n).map(([a,l])=>({label:l.name,value:a,icon:r.jsx(He,{color:l.background,isSelected:t.remoteColorId===a})}))];return{options:[],value:t.remoteColorId||"",onValueChange(a){xe(()=>{t.remoteColorId=a||null,e.selectedObject!==t&&t.save({force:!0})})},renderOptions({components:a}){const[l,...p]=s.map(f=>r.jsx(ce,{label:f.label,side:"top",children:r.jsx(a.MenuRadioItem,{value:f.value,asChild:!0,children:r.jsx("button",{"data-no-prevent-focus":!0,className:U("flex-none rounded-md px-6 py-6 outline-none hover:bg-contrast-5 data-[highlighted]:bg-contrast-5"),children:f.icon})})},f.value));return r.jsxs("div",{className:"flex items-center",children:[l,r.jsx("div",{className:"mx-2 h-16 border-r border-contrast-10"}),p]})}}}function cJ(t){if(!(!t.selfAttendee||!t.canRespond))return{value:t.attendanceStatus,onValueChange(n){t.setAttendanceStatus(n),t.save({force:!0})},options:[{label:"Accept",value:"accepted",keyboardShortcut:ZR.keyboardShortcut},{label:"Decline",value:"declined",keyboardShortcut:YR.keyboardShortcut},{label:"Maybe",value:"tentative",keyboardShortcut:XR.keyboardShortcut}]}}function uJ(t,e){if(!(!nie(e)||!t.canBeRescheduled(e.peopleStore.contactsWithRise)))return{label:"Reschedule",icon:$k,subOptions:tR(t,e)}}const Wr=X(function({event:e,noTimes:n,isHoverCardVertical:s,...i}){const{userStore:a,appStore:l}=se(),p=K.useContext(iR),f=s||a.calendarView==="day"?!0:a.calendarView!=="month"?e.allDay&&e.startsAtDate<=l.calendarDaysStart&&e.endsAtDate>=l.calendarDaysEnd:s;return r.jsx(ce,{side:f?"top":"left",align:f?"end":"start",className:"max-h-[var(--radix-popper-available-height)] w-240 max-w-[var(--radix-popper-available-width)] overflow-y-auto rounded-md p-0 shadow-400",collisionBoundary:p.current,sideOffset:6,...i,content:r.jsx(dJ,{event:e,noTimes:n})})});function dJ({event:t,noTimes:e}){return r.jsx("div",{className:"grid grid-cols-1 gap-4 p-16",children:r.jsx($x,{object:t,displayType:"hovercard",noTimes:e})})}const iR=K.createContext({current:null});iR.Provider;const hJ=X(function({event:e,deduplicatedEvents:n,isInMyFocusView:s}){var m,h,u,P,R;const{appStore:i,userStore:a,alternativeCalendarsStore:l}=se(),p=Je(),f=n==null?void 0:n.map(_=>{const F=_.attendanceStatus==="tentative";return _ instanceof de?{color:_.calendar.color,isDashed:F}:_ instanceof Le?{color:_.color,isDashed:F}:{color:a.primaryCalendar.color,isDashed:F}});function v(){i.setSelectedObject(e)}const E=D0(e,ge),w=s?1:bx(e,e.start,e.end,a.weekendVisible),D=s?void 0:M$(e,i,a),M=D&&D>0,o=e.allDay||!e.presentAsAllDay?void 0:w<=1?{type:"time-narrow",date:M?e.endsAt:e.startsAt,timeNotation:a.timeNotation}:{type:"time-extended",startDate:e.startsAt,endDate:e.endsAt,timeNotation:a.timeNotation},d=it();return e instanceof de?r.jsx(Ri,{event:e,children:r.jsx(We,{children:r.jsx(Wr,{event:e,children:r.jsx(cs,{title:an(e),stripeVariant:pn(e),colorVariant:gt(e),secondaryHighlightLines:f,isMuted:E,icon:e.meetingBoard?r.jsx(Tr,{progress:(m=e.meetingBoardProgress)==null?void 0:m.percentage,className:"mr-4 inline-block h-16 align-bottom"}):r.jsx(tr,{event:e,sizeVariant:"small",colorHex:null}),titleDetailVariant:gn(e),baseColorHex:e.calendar.color,overrideColorHex:rr(e),isTitleStrikeThrough:e.attendanceStatus==="declined",isTransparent:e.isMoving&&!!i.conceptEventPlaceholder,amountOfDays:w,textDay:D,onClick:v,resizeDragHandleProps:p&&!e.isMoving&&e.type!=="workingLocation"&&(e.canBeEdited||e.canSuggestToEditInGoogleCalendar)?{left:p.bindResizeAllDayEvent({event:e,position:"left"}),right:p.bindResizeAllDayEvent({event:e,position:"right"})}:void 0,secondaryContentType:o,...p&&(e.canBeEdited||e.canSuggestToEditInGoogleCalendar)&&p.bindMoveEvent({event:e})})})})}):e instanceof Le?r.jsx(Ri,{event:e,children:r.jsx(We,{children:r.jsx(Wr,{event:e,children:r.jsx(cs,{title:an(e),stripeVariant:pn(e),colorVariant:gt(e),secondaryHighlightLines:f,icon:r.jsx(tr,{event:e,sizeVariant:"small",colorHex:null}),isMuted:E,titleDetailVariant:gn(e),baseColorHex:e.color,isTitleStrikeThrough:e.attendanceStatus==="declined",amountOfDays:w,textDay:D,onClick:v})})})}):e instanceof Gt?r.jsx(cs,{title:e.title||"Out of office",stripeVariant:pn(e),colorVariant:gt(e),secondaryHighlightLines:f,isMuted:E,titleDetailVariant:gn(e),baseColorHex:(h=a.primaryCalendar)==null?void 0:h.color,overrideColorHex:(R=(P=(u=a.primaryCalendar)==null?void 0:u.account)==null?void 0:P.eventColors)==null?void 0:R[e.remoteColorId],isTitleStrikeThrough:e.attendanceStatus==="declined",amountOfDays:w,textDay:D,onClick:()=>d(ye.settings.children.workingHours.path)}):e instanceof Ce?r.jsx(Vs,{task:e,children:r.jsx(We,{children:r.jsx(Wr,{event:e,children:r.jsx(cs,{title:e.displayTitle,stripeVariant:"no-stripes",colorVariant:gt(e),isMuted:E,baseColorHex:Ls(e,l),icon:r.jsx(Pt,{task:e,sizeVariant:"small",colorHex:null}),isTransparent:e.isMoving&&!!i.conceptEventPlaceholder,amountOfDays:w,textDay:D,onClick:v,secondaryHighlightLines:f,resizeDragHandleProps:p&&!e.isMoving?{left:p.bindResizeAllDayTask({task:e,position:"left"}),right:p.bindResizeAllDayTask({task:e,position:"right"})}:void 0,...p&&p.bindMoveTask({task:e})})})})}):null});function aR({displayBlock:t,deduplicatedBlocks:e,isInMyFocusView:n}){if(t instanceof de||t instanceof Le||t instanceof Gt||t instanceof Ce)return r.jsx(hJ,{event:t,deduplicatedEvents:e==null?void 0:e.filter(s=>s instanceof de||s instanceof Le||s instanceof Gt),isInMyFocusView:n})}function Ip(t){Ke(({close:e})=>r.jsx(fJ,{close:e,mode:t}),{id:"timezone-select-modal",hasVariableHeight:!0})}const fJ=X(function({mode:e,close:n}){const{userStore:s,appStore:i}=se(),[a,l]=K.useState(""),p=o=>{e==="secondary"?s.addSecondaryTimezone(o):i.setDisplayTimezone(o)},f=K.useMemo(()=>{function o(d){return{label:d.name.startsWith("Etc")?`${d.abbreviation}`:`${d.name.replace("_"," ")} (${d.abbreviation})  ${d.mainCities.join(", ")}`,name:d.name,abbreviation:d.abbreviation,cities:d.mainCities,timeZone:d}}return[...fm.map(o),...Sm.map(o),{label:"Coordinated Universal Time (UTC)  Earth",name:"Coordinated Universal Time",abbreviation:"UTC",cities:[],timeZone:g_}]},[]),v=K.useMemo(()=>a?or(f,a,{keys:[{threshold:or.rankings.CONTAINS,key:"name"},{threshold:or.rankings.STARTS_WITH,key:"abbreviation"},{threshold:or.rankings.STARTS_WITH,key:"cities.*"}]}):f,[a,f]),{scrollIntoViewKey:E,selectedOptionIndex:w,setSelectedOptionIndex:D}=Is({optionsLength:v.length,resetKey:a,submit:o=>{p(v[o].timeZone),n()}}),M=Ms(E);return r.jsxs("div",{className:"flex max-h-384 w-[40rem] flex-col",children:[r.jsx("input",{type:"text",className:"w-full border-b border-contrast-5 bg-transparent px-16 py-8 text-lg leading-36 outline-none placeholder:text-contrast-50",placeholder:e==="secondary"?"Show additional timezone":"Change display timezone",value:a,onChange:o=>l(o.target.value)}),r.jsx("div",{className:"relative grow overflow-y-auto p-[0.3125rem] [scrollbar-width:none] [&::-webkit-scrollbar]:hidden",children:v.map(({label:o,timeZone:d},m)=>{const h=m===w;return r.jsx(B0,{ref:h?M:void 0,command:{label:o},onClick:()=>{p(d),n()},onMouseMove:()=>D(m),selected:h},d.name)})})]})}),mJ=44,pJ=X(function({amountOfDaysTotal:e}){const{userStore:n,appStore:s}=se();return r.jsxs(r.Fragment,{children:[r.jsx(gJ,{}),r.jsx("div",{className:"relative h-44 overflow-hidden",children:s.calendarDaysWithOverScan.map(i=>r.jsx(bJ,{date:i,middleItemDate:s.middleItemDate,amountOfDaysTotal:e,isWeekendVisible:n.weekendVisible},i.getTime()))})]})}),gJ=X(function(){var l,p;const{userStore:e,peopleStore:n,appStore:s}=se(),i=Mt(),a=e.timeColumnWidth/16+"rem";return r.jsx("div",{className:"sticky left-0 z-10 size-0",children:r.jsx("div",{className:U("h-44 overflow-hidden bg-base-bg",!i&&"transition-[width]"),style:{width:a},children:r.jsxs("div",{className:"flex h-full items-center pl-4 pr-8",style:{width:a},children:[r.jsx(ce,{label:"Add timezone",keyboardShortcut:{key:"A"},children:r.jsx("button",{onClick:()=>Ip("secondary"),className:"flex size-20 flex-none items-center justify-center rounded-md text-contrast-50 outline-none transition hover:bg-contrast-5 focus-visible:ring",children:r.jsx(e_,{})})}),e.secondaryTimezones.map(f=>{const v=f.emails&&f.emails.length===1&&n.nameForEmail({email:f.emails[0],preferFirstName:!0,fallbackOnEmail:!1})||f.timezone.abbreviation;return r.jsx(ce,{label:`${f.timezone.abbreviation}  Remove timezone`,children:r.jsxs("button",{className:U("group justify-end overflow-hidden rounded-md text-right text-[0.625rem] font-medium leading-12 tracking-[0.01em] text-contrast-50 hover:justify-center hover:bg-contrast-5",e.uses12HourClock?"ml-8 w-40":"ml-6 w-36"),onClick:()=>e.removeSecondaryTimezone(f),children:[r.jsx("div",{className:"truncate group-hover:hidden",children:v}),r.jsx("div",{className:"hidden justify-center text-center group-hover:flex",children:r.jsx(o_,{})})]})},f.timezone.abbreviation)}),r.jsx(ce,{label:`${(l=e.localTimeZone)==null?void 0:l.abbreviation}  Change timezone`,children:r.jsxs("button",{className:U("group justify-end overflow-hidden rounded-md text-right text-[0.625rem] font-medium leading-12 tracking-[0.01em] text-contrast-50 hover:justify-center hover:bg-contrast-5",e.uses12HourClock?"ml-8 w-40":"ml-6 w-36"),onClick:()=>{e.displayTimezone?s.setDisplayTimezone(null):Ip("display")},children:[r.jsx("div",{className:"truncate group-hover:hidden",children:((p=e.localTimeZone)==null?void 0:p.abbreviation)||"Unknown"}),r.jsx("div",{className:"hidden justify-center text-center group-hover:flex",children:r.jsx(KB,{})})]})})]})})})}),bJ=K.memo(function(e){return r.jsx("div",{className:"absolute top-0 h-full bg-base-bg",style:Hs(e),children:r.jsx(yJ,{date:e.date})})}),yJ=X(function({date:e}){const{appStore:n,userStore:s}=se(),{bindCreateAllDayEvent:i}=Je(),a=xs(Xt(e,s.localTimeZoneString),Xt(ge.nowStartOfMinute,s.localTimeZoneString))?r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"flex-none text-black",children:Oe(e,"E",s.localTimeZoneString)}),r.jsx("div",{className:"ml-4 w-20 min-w-max rounded-md bg-primary px-4 py-2 text-white-static",children:Oe(e,"d",s.localTimeZoneString)})]}):r.jsx("div",{className:"py-2 text-contrast-60",children:Oe(e,"E d",s.localTimeZoneString)});return r.jsx("div",{className:U(oe,"relative flex h-44 flex-1 touch-none select-none justify-center py-12 text-center"),onClick:n.selectedObject?()=>n.setSelectedObject(null):void 0,...!n.selectedObject&&i("day_header"),children:a})});function vJ({children:t,...e}){return r.jsx(ce,{className:"grid w-[calc(var(--radix-popper-anchor-width)+theme(spacing.8))] grid-cols-1 gap-2 rounded-lg p-6",content:r.jsx(xJ,{...e}),children:t})}const xJ=X(function({positions:e}){return e.map(n=>{const{event:s,deduplicatedEvents:i}=n.eventHolder;if(s instanceof de||s instanceof Ce||s instanceof Le||s instanceof Gt)return r.jsx(Pi,{event:s,deduplicatedEvents:i==null?void 0:i.filter(a=>a instanceof de||a instanceof Le||a instanceof Gt)},s.uuid)})}),oR=22,jJ=X(function({amountOfDaysTotal:e}){const{appStore:n,userStore:s,displayEventsStore:i}=se(),{isAllDaySectionCollapsed:a}=s,{allDaySectionRef:l,bindCreateAllDayEvent:p}=Je(),f=Qr(i.visibleAllDayEventsWithOverScan),{dayEventPositions:v,maxPositionsByDay:E}=$X(f,n.calendarDaysWithOverScan,s.weekendVisible,s.localTimeZoneString),w=n.partiallyVisibleCalendarDays.reduce((P,R)=>{const _=E.get(Wt(R));return Math.max(P,_)},0),D=((a?0:w)+1)*oR+4,M=D/16+"rem",o=Fb(D,n.isScrolling),d=o/16+"rem",h=Fb(w!==0,n.isScrolling);SJ(d),AJ(o);const u=Mt();return r.jsxs("div",{style:{height:d},children:[r.jsx("div",{className:"sticky left-0 size-0",children:r.jsx("div",{className:U("w-screen border-y border-contrast-10 bg-base-bg",!u&&"transition-[height]"),style:{height:M}})}),r.jsx(EJ,{height:M,shouldShowCollapseButton:h}),r.jsxs("div",{ref:l,className:U("relative overflow-hidden",!u&&"transition-[height]"),style:{height:M},children:[r.jsx("div",{className:"absolute inset-0",onClick:n.selectedObject?()=>n.setSelectedObject(null):void 0,...!n.selectedObject&&p("all-day")}),v.map((P,R)=>{if(a&&(P.positions.length>1||P.positions.some(F=>F.isCollapsible)))return r.jsx(fN,{verticalIndex:0,date:P.date,middleItemDate:n.middleItemDate,amountOfDaysTotal:e,isWeekendVisible:s.weekendVisible,children:r.jsx(lR,{positions:P.positions})},P.date.getTime());const _=R===0;return P.newPositions.map(F=>{const{event:C,deduplicatedEvents:A}=F.eventHolder;return r.jsx(fN,{verticalIndex:F.index,date:_?s.weekendVisible?C.startsAtDate:$1(C.startsAtDate)?n0(C.startsAtDate):C.startsAtDate:P.date,middleItemDate:n.middleItemDate,amountOfDaysTotal:e,isWeekendVisible:s.weekendVisible,children:r.jsx(aR,{displayBlock:C,deduplicatedBlocks:A})},C.uuid)})}),r.jsx(sR,{amountOfDaysTotal:e})]})]})});function SJ(t){const{scrollContainerRef:e}=Je();K.useEffect(()=>{const n=`calc(${t} + ${mJ/16}rem)`;e.current.style.scrollPaddingTop=n},[t,e])}function AJ(t){const{scrollContainerRef:e}=Je(),n=K.useRef();K.useLayoutEffect(()=>{if(!n.current){n.current=t;return}e.current.scrollBy({top:t-n.current,behavior:"instant"}),n.current=t},[t,e])}function fN(t){return r.jsx("div",{className:"absolute top-0 pt-2",style:{top:(t.verticalIndex*oR+1)/16+"rem",...Hs(t)},children:t.children})}const EJ=X(function({height:e,shouldShowCollapseButton:n}){const{userStore:s}=se(),i=Mt(),a=s.timeColumnWidth/16+"rem";return r.jsx("div",{className:"sticky left-0 z-20 size-0",children:r.jsx("div",{className:U(Te,"flex size-full justify-end border-y border-r border-contrast-10 bg-base-bg px-8 py-2 text-contrast-50",!i&&"transition-[width,height]"),style:{width:a,height:e},children:n?r.jsx(cR,{}):r.jsx("div",{className:"flex h-20 items-center",children:"all-day"})})})}),lR=X(function({positions:e}){const{userStore:n}=se();return r.jsx(vJ,{positions:e,children:r.jsx("button",{className:U(oe,"relative grid h-20 w-[calc(100%-theme(spacing.10))] items-center rounded-md pl-12 pr-8 text-left outline-none transition hover:bg-contrast-5 focus-visible:ring"),onClick:()=>n.toggleIsAllDaySectionCollapsed(),children:r.jsx("span",{className:"truncate",children:`${e.length} ${e.length===1?"event":"events"}`})})})}),cR=X(function(){const{userStore:e}=se(),{isAllDaySectionCollapsed:n}=e,s=n?Xk:Yk;return r.jsx(ce,{label:n?"Expand all-day section":"Collapse all-day section",children:r.jsx("button",{className:"flex size-20 items-center justify-center rounded-md outline-none transition hover:bg-contrast-5 focus-visible:ring",onClick:()=>e.toggleIsAllDaySectionCollapsed(),children:r.jsx(s,{className:"size-14"})})})}),DJ=X(function(){const{alternativeCalendarsStore:e,userStore:n}=se();return r.jsx(Sr,{children:e.shouldShowBestTimesToMeet&&r.jsxs(on.div,{initial:{opacity:0,y:"100%"},animate:{opacity:1,y:0},exit:{opacity:0,y:"100%"},transition:{type:"spring",duration:.35},className:"sticky inset-x-0 bottom-0 flex items-center justify-center gap-10 border-t border-t-contrast-10 bg-base-bg/75 bg-clip-padding p-12 backdrop-blur-md backdrop-saturate-[1.75]",children:[r.jsx("div",{className:U(oe,"text-contrast-50"),children:"Suggestions"}),r.jsx("div",{children:r.jsx(er,{options:d9(h9([n.defaultEventDuration,30,45,60])).map(s=>({value:s.toString(),label:`${s} mins`})),value:n.bestTimeToMeetDuration.toString()||"30",onChange:s=>{n.bestTimeToMeetDuration!==parseInt(s)&&(n.setBestTimeToMeetDuration(parseInt(s)),e.fetchSuggestions())}})})]})})}),wJ=X(function({event:e,renderDate:n,position:s}){const{userStore:i,alternativeCalendarsStore:a,eventsStore:l,peopleStore:p,appStore:f,eventsStoreManager:v,resourcesStore:E}=se(),{top:w,height:D}=Nr({startsAtLocal:Se(e.startsAt,i.localTimeZoneString),endsAtLocal:Se(e.endsAt,i.localTimeZoneString),renderDateLocal:Se(n,i.localTimeZoneString),calendarHourHeight:i.calendarHourHeight});return r.jsx(jx,{appear:!0,title:"Best time to meet",startDate:e.startsAt,timeNotation:i.timeNotation,displayTimezone:i.displayTimezone,position:{heightPx:D,offsetTopPx:w,offsetLeft:s==null?void 0:s.offsetLeft,offsetRight:s==null?void 0:s.offsetRight,availableHeightPx:s==null?void 0:s.availableHeightPx},className:"text-primary",style:{backgroundImage:`url("data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='transparent' rx='6' ry='6' stroke='%237161ec' stroke-width='3' stroke-dasharray='4%2c 10' stroke-dashoffset='1' stroke-linecap='square'/%3e%3c/svg%3e")`},onClick:()=>{f.selectedObject instanceof de&&f.selectedObject.canBeEdited?(f.selectedObject.setStartsAt(e.startsAt),Es(e.query).forEach(M=>{f.selectedObject.addAttendee(M)}),Tx(e.query).forEach(M=>{f.selectedObject.addResourceAttendee(E.resourcesByRemoteEmail[M])})):l.bookProposal({query:e.query,proposal:e.proposal,source:"best-time-to-meet",title:Ex({users:Es(e.query),peopleStore:p,userStore:i}),eventsStoreManager:v}),a.setForceHideBestTimesToMeet(!0)}})}),CJ=X(function({displayBlock:e,renderDate:n}){const{userStore:s}=se(),{top:i,height:a}=Nr({startsAtLocal:Se(e.startsAt,s.timezone),endsAtLocal:Se(e.endsAt,s.timezone),renderDateLocal:Se(n),calendarHourHeight:s.calendarHourHeight}),l={top:i,height:a,marginLeft:8,width:"calc(100% - 8px)"};return r.jsx("div",{className:"absolute ml-8 w-full overflow-hidden rounded-md bg-white shadow-100",style:l,children:r.jsxs("div",{className:"p-4",children:[r.jsxs("p",{className:"text-sm",children:["Layer: ",e.layer]}),r.jsxs("p",{className:"text-sm",children:["Type: ",e.type]})]})})}),TJ=X(function({event:e,deduplicatedEvents:n,renderDate:s,position:i}){var R;const a=e instanceof de,{appStore:l,userStore:p,proposalStore:f}=se(),v=n==null?void 0:n.map(_=>{const F=_ instanceof de?_.calendar.color:_.color,C=_.attendanceStatus==="tentative";return{color:F,isDashed:C}}),E=Je(),w=Se(e.startsAt,p.localTimeZoneString),D=Se(e.endsAt,p.localTimeZoneString),{top:M,height:o}=Nr({startsAtLocal:w,endsAtLocal:D,renderDateLocal:Se(s,p.localTimeZoneString),calendarHourHeight:p.calendarHourHeight});function d(){if(l.calendarMode===$t.SelectProposals){f.addProposal(new _i(e.startsAt,e.endsAt));return}l.setSelectedObject(e)}const m=an(e),h=D0(e,ge),u=a?r.jsx(dn,{title:m,stripeVariant:e.isFocusBlock?"striped-highlight-line":pn(e),colorVariant:gt(e),isMuted:h,isLine:e.isFocusBlock,titleDetailVariant:gn(e),startDate:p.displayTimezone?Se(e.startsAt,p.displayTimezone):e.startsAt,icon:e.meetingBoard?r.jsx(Tr,{progress:(R=e.meetingBoardProgress)==null?void 0:R.percentage,className:"mr-4 inline-block h-16 align-bottom"}):r.jsx(tr,{event:e,sizeVariant:"small",colorHex:null}),timeNotation:p.timeNotation,location:e.location,baseColorHex:e.calendar.color,overrideColorHex:rr(e),shouldAppear:e.shouldHighlightEvent&&!e.hasBeenHighlighted,didAppear:()=>e.setHasBeenHighlighted(!0),shouldDelayHighlight:e.eventCreationSource==="fat-modal"||e.eventCreationSource==="reschedule",shouldShimmer:e.shouldHighlightEvent,isTitleStrikeThrough:e.attendanceStatus==="declined",isTransparent:e.isMoving&&!!l.conceptEventPlaceholder,position:{heightPx:o,offsetTopPx:M,offsetLeft:i==null?void 0:i.offsetLeft,offsetRight:i==null?void 0:i.offsetRight,availableHeightPx:i==null?void 0:i.availableHeightPx},secondaryHighlightLines:v,onClick:d,resizeDragHandleProps:E&&!e.isMoving&&(e.canBeEdited||e.canSuggestToEditInGoogleCalendar)?{top:E.bindResizeTimeEvent({event:e,position:"top"}),bottom:E.bindResizeTimeEvent({event:e,position:"bottom"})}:void 0,...!Ve(w,D)&&{forceHover:e.isHovered,onMouseEnter:()=>e.setIsHovered(!0),onMouseLeave:()=>e.setIsHovered(!1)},...(e.canBeEdited||e.canSuggestToEditInGoogleCalendar)&&(E==null?void 0:E.bindMoveEvent({event:e}))}):r.jsx(dn,{title:m,stripeVariant:pn(e),colorVariant:gt(e),isMuted:h,titleDetailVariant:gn(e),startDate:p.displayTimezone?Se(e.startsAt,p.displayTimezone):e.startsAt,icon:r.jsx(tr,{event:e,sizeVariant:"small",colorHex:null}),timeNotation:p.timeNotation,location:e.location,baseColorHex:e.color,isTitleStrikeThrough:e.attendanceStatus==="declined",position:{heightPx:o,offsetTopPx:M,offsetLeft:i==null?void 0:i.offsetLeft,offsetRight:i==null?void 0:i.offsetRight,availableHeightPx:i==null?void 0:i.availableHeightPx},secondaryHighlightLines:v,onClick:d,...!Ve(w,D)&&{forceHover:e.isHovered,onMouseEnter:()=>e.setIsHovered(!0),onMouseLeave:()=>e.setIsHovered(!1)}}),P=l.selectedObject instanceof de&&l.selectedObject.mode==="suboptimal";return r.jsx(Ri,{event:e,children:r.jsx(We,{children:r.jsx(Wr,{event:e,noDelay:P,children:u})})})}),NJ=X(function({task:e,deduplicatedEvents:n,renderDate:s,position:i}){const{appStore:a,userStore:l,alternativeCalendarsStore:p}=se(),f=n==null?void 0:n.map(d=>{const m=d instanceof de?d.calendar.color:d.color,h=d.attendanceStatus==="tentative";return{color:m,isDashed:h}}),v=Je(),E=Se(e.startsAt,l.localTimeZoneString),w=Se(e.endsAt,l.localTimeZoneString),{top:D,height:M}=Nr({startsAtLocal:E,endsAtLocal:w,renderDateLocal:Se(s,l.localTimeZoneString),calendarHourHeight:l.calendarHourHeight});function o(){a.setSelectedObject(e)}return r.jsx(Vs,{task:e,children:r.jsx(We,{children:r.jsx(Wr,{event:e,children:r.jsx(dn,{title:e.displayTitle,stripeVariant:"no-stripes",colorVariant:gt(e),isMuted:D0(e,ge),baseColorHex:Ls(e,p),overrideColorHex:rr(e),icon:r.jsx(Pt,{task:e,sizeVariant:"small",colorHex:null}),isTransparent:e.isMoving&&!!a.conceptEventPlaceholder,startDate:l.displayTimezone?Se(e.startsAt,l.displayTimezone):e.startsAt,timeNotation:l.timeNotation,position:{heightPx:M,offsetTopPx:D,offsetLeft:i==null?void 0:i.offsetLeft,offsetRight:i==null?void 0:i.offsetRight,availableHeightPx:i==null?void 0:i.availableHeightPx},secondaryHighlightLines:f,onClick:o,resizeDragHandleProps:v&&!e.isMoving?{top:v.bindResizeTask({task:e,position:"top"}),bottom:v.bindResizeTask({task:e,position:"bottom"})}:void 0,...!Ve(E,w)&&{forceHover:e.isHovered,onMouseEnter:()=>e.setIsHovered(!0),onMouseLeave:()=>e.setIsHovered(!1)},...v==null?void 0:v.bindMoveTask({task:e})})})})})});function mN({displayBlock:t,deduplicatedBlocks:e,renderDate:n,position:s}){return t instanceof de||t instanceof Le?r.jsx(TJ,{event:t,deduplicatedEvents:e==null?void 0:e.filter(i=>i instanceof de||i instanceof Le),renderDate:n,position:s}):t instanceof Ce?r.jsx(NJ,{task:t,deduplicatedEvents:e==null?void 0:e.filter(i=>i instanceof de||i instanceof Le),renderDate:n,position:s}):t instanceof ir?r.jsx(wJ,{event:t,renderDate:n,position:s}):r.jsx(CJ,{displayBlock:t,renderDate:n})}const kJ=X(function({startsAt:e,endsAt:n,renderDate:s}){const{userStore:i}=se(),a=Nr({startsAtLocal:Se(e,i.localTimeZoneString),endsAtLocal:Se(n,i.localTimeZoneString),renderDateLocal:Se(s,i.localTimeZoneString),calendarHourHeight:i.calendarHourHeight}),l=a.top===2;return r.jsx("div",{className:"absolute w-full bg-gray-200 opacity-40",style:l?{top:a.top-2,height:a.height+2}:a})}),_J=X(function({event:e,proposal:n,renderDate:s}){const{appStore:i,userStore:a}=se(),l=Se(n.time,a.localTimeZoneString),p=Ie(Se(n.time,a.localTimeZoneString),n.duration),f=Nr({startsAtLocal:l,endsAtLocal:p,renderDateLocal:Se(s,a.localTimeZoneString),calendarHourHeight:a.calendarHourHeight});return r.jsx(jx,{title:"Alternative",startDate:l,endDate:p,timeNotation:a.timeNotation,displayTimezone:a.displayTimezone,position:{...f,heightPx:f.height,offsetTopPx:f.top},className:"text-primary",style:{backgroundImage:`url("data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='transparent' rx='6' ry='6' stroke='%237161ec' stroke-width='3' stroke-dasharray='4%2c 10' stroke-dashoffset='1' stroke-linecap='square'/%3e%3c/svg%3e")`},onClick:()=>{e&&(e.applyProposal(n,"proposal_click"),i.setCalendarDate(n.time))}})}),OJ=X(function({proposal:e,position:n,renderDate:s}){const{proposalStore:i,userStore:a}=se(),l=Se(e.startsAt,a.localTimeZoneString),p=Se(e.endsAt,a.localTimeZoneString),{height:f,top:v}=Nr({startsAtLocal:l,endsAtLocal:p,renderDateLocal:Se(s,a.localTimeZoneString),calendarHourHeight:a.calendarHourHeight}),E=Je(),w=()=>{xe(()=>i.mode="manual")};return r.jsx(jx,{title:"Option",startDate:e.startsAt,endDate:e.endsAt,timeNotation:a.timeNotation,displayTimezone:a.displayTimezone,position:{...n,heightPx:f,offsetTopPx:v},className:"bg-primary text-white ring ring-base-bg/70",onClick:()=>i.removeProposal(e),resizeDragHandleProps:E?{top:E.bindResizeProposal({proposal:e,position:"top",onDrag:w}),bottom:E.bindResizeProposal({proposal:e,position:"bottom",onDrag:w})}:void 0,...E==null?void 0:E.bindMoveProposal({proposal:e,onDrag:w})})}),uR=X(function({date:e,isInMyFocusView:n}){const{displayEventsStore:s,userStore:i}=se(),a=K.useMemo(()=>new Date(e),[e]),l=K.useMemo(()=>({startDate:a,endDate:Zs(e0(a,24),1)}),[a]),p=n?s.filterOwnDisplayEvents(l,!1,i.declinedEventsVisible):s.visibleEventsWithOverScan.filter(xr(l));return r.jsx(IJ,{date:a,range:l,dayEvents:p,localTimeZoneString:i.localTimeZoneString,isInMyFocusView:n})}),IJ=K.memo(function(e){return r.jsx(MJ,{...e})},(t,e)=>t.dayEvents.length===e.dayEvents.length&&t.date.getTime()===e.date.getTime()&&t.localTimeZoneString===e.localTimeZoneString&&pN(t.dayEvents)===pN(e.dayEvents));function pN(t){let e=0,n=0,s=0,i=0;for(const a of t)a instanceof de?e++:a instanceof Le?n++:a instanceof ir?s++:i++;return[e,n,s,i].reduce((a,l)=>a*1e3+l)}const MJ=X(function({date:e,range:n,dayEvents:s,isInMyFocusView:i}){const{appStore:a,proposalStore:l,userStore:p}=se(),{nonWorkingHoursEvents:f,offsets:v,dayEventsFiltered:E=[]}=mm(s,m=>m.type==="non-working-hours"?"nonWorkingHoursEvents":m.isFocusBlock?"offsets":"dayEventsFiltered"),w=hN({dayEvents:Qr(E).map(({event:m,deduplicatedEvents:h})=>({startDate:m.start,endDate:m.end,originalEvent:m,deduplicatedEvents:h})),dayStart:e,minutesPerPx:60/p.calendarHourHeight,offsets:v==null?void 0:v.map(m=>({startDate:m.start,endDate:m.end}))}),D=(()=>{if(i||a.calendarMode!==$t.SelectProposals)return[];const m=Pe(e);return hN({dayEvents:l.proposals.filter(h=>Gb({eventStartsAt:h.startsAt,eventEndsAt:h.endsAt,timeWindowStartsAt:n.startDate,timeWindowEndsAt:n.endDate})).map(h=>({startDate:h.startsAt,endDate:h.endsAt,proposal:h})),dayStart:m,minutesPerPx:60/p.calendarHourHeight})})(),M=Je();let o;if(M){const{bindCreateTimeEvent:m,bindCreateTask:h,bindCreateProposal:u,bindMoveSuboptimal:P}=M;a.selectedObject?a.selectedObject instanceof de&&a.selectedObject.mode==="suboptimal"&&(o=P):o=a.calendarMode===$t.SelectProposals?u:i?h:m}const d=Un(e,p.localTimeZoneString);return r.jsxs("div",{className:"relative flex h-full flex-1 pr-8 before:absolute before:inset-y-0 before:-left-px before:z-10 before:w-px before:bg-gray-200",children:[f&&O$(f).map((m,h)=>r.jsx(kJ,{...m,renderDate:e},h)),d&&r.jsx("div",{className:"pointer-events-none absolute inset-0 bg-gray-200 opacity-40"}),r.jsxs("div",{className:"relative size-full",children:[r.jsx("div",{className:"box-content size-full touch-none pr-8",onClick:a.selectedObject?()=>a.setSelectedObject(null):void 0,...o==null?void 0:o()}),w.map(m=>r.jsx(mN,{displayBlock:m.event.originalEvent,deduplicatedBlocks:m.event.deduplicatedEvents,renderDate:e,position:m},m.event.originalEvent.uuid)),v==null?void 0:v.map(m=>r.jsx(mN,{displayBlock:m,renderDate:e},m.uuid)),a.selectedObject&&a.selectedObject instanceof de&&a.selectedObject.mode==="suboptimal"&&a.selectedObject.findTimeResponse&&DK(a.selectedObject.findTimeResponse).filter(m=>Gb({eventStartsAt:m.time,eventEndsAt:Ie(m.time,m.duration),timeWindowStartsAt:n.startDate,timeWindowEndsAt:n.endDate})).filter(m=>{var h;return a.selectedObject instanceof de&&m.time!==((h=a.selectedObject)==null?void 0:h.startsAt)}).sort((m,h)=>Ar(m.time,h.time)).map(m=>r.jsx(_J,{event:a.selectedObject,proposal:m,renderDate:e},bn(m.time))),D.map((m,h)=>r.jsx(OJ,{proposal:m.event.proposal,position:m,renderDate:e},h))]})]})}),dR=X(function({amountOfDaysTotal:e,isInMyFocusView:n}){const{appStore:s,userStore:i}=se();if(!s.conceptEventPlaceholder||s.conceptEventPlaceholder.layer!=="concept"||s.conceptEventPlaceholder.allDay||!s.movingObject)return;const a=s.conceptEventPlaceholder,l=s.calendarDaysWithOverScan.filter(f=>xr({startDate:f,endDate:Ie(fe(f,1),-1)})(a)),p=s.movingObject instanceof de?s.movingObject.calendar.color:i.calendarForNewEvents.color;return l.map(f=>{const v=n?{width:"100%",left:0}:Hs({date:f,middleItemDate:s.middleItemDate,amountOfDaysTotal:e,isWeekendVisible:i.weekendVisible});return r.jsx("div",{className:"absolute pr-6",style:{...v,...o7({startsAtLocal:Se(a.startsAt,i.localTimeZoneString),endsAtLocal:Se(a.endsAt,i.localTimeZoneString),renderDateLocal:Se(f,i.localTimeZoneString),calendarHourHeight:i.calendarHourHeight})},children:r.jsx("div",{className:"size-full rounded-md border-2 before:block before:h-full before:w-full before:bg-current before:opacity-10",style:{color:p,borderColor:p}})},f.getTime())})}),RJ=X(function(){const{userStore:e,appStore:n}=se();if(!e.weekendVisible&&Un(ge.nowStartOfDay,e.localTimeZoneString))return null;const s=window.devicePixelRatio%2===0;return r.jsxs("div",{className:U("pointer-events-none absolute z-10 flex w-full items-center transition-[top]",s?"h-[2px] translate-y-[-0.5px]":"h-[3px] -translate-y-1/2"),style:{top:ks(ge.nowStartOfMinute,e.localTimeZoneString)+"%",...Hs({amountOfDaysTotal:F0(n.amountOfCalendarDays),middleItemDate:n.middleItemDate,date:i7(ge.nowStartOfMinute,e.localTimeZoneString).toDate(e.localTimeZoneString),isWeekendVisible:e.weekendVisible})},children:[r.jsxs("div",{className:"opacity-75",children:[r.jsx("div",{className:"absolute size-10 -translate-y-1/2 overflow-hidden",children:r.jsx("div",{className:"absolute -left-px size-10 rounded-full bg-white"})}),r.jsx("div",{className:"absolute -inset-y-px inset-x-0 rounded-full bg-white"})]}),r.jsx("div",{className:"absolute inset-x-px inset-y-0 rounded-full bg-red-400"}),r.jsx("div",{className:"absolute left-0 size-8 rounded-full bg-red-400"})]})}),PJ=X(function({amountOfDaysTotal:e}){const{appStore:n}=se();return r.jsx("div",{className:U("absolute inset-0 grid auto-cols-fr grid-flow-col",n.isScrolling&&"[&_>_*]:snap-start"),children:r.jsx(Hx,{amount:e})})}),LJ=X(function({middleItemDate:e,amountOfDaysTotal:n,isWeekendVisible:s}){const{appStore:i}=se(),a=s?7:5,l=oH(vs(e)-n/2,a),p=n%a,f=(l+a-1)%a,v=(a-f)%a,E=100/n,w=Math.floor(n/a)-(v!==0?1:0);return r.jsx("div",{className:U("absolute inset-y-0 grid auto-cols-fr grid-flow-col",i.isScrolling&&"[&_>_*]:snap-start [&_>_*]:snap-always"),style:{left:E*v+"%",right:E*(f+p)+"%"},children:r.jsx(Hx,{amount:w})})}),BJ=X(function(){const{appStore:e,userStore:n}=se(),{calendarTime:s}=e,i=K.useRef(null),a=K.useRef(!0);K.useEffect(()=>{const p=i.current;if(a.current){a.current=!1;const f=Xr(s||Se(ge.nowStartOfMinute,n.localTimeZoneString));p.scrollIntoView({behavior:"instant",block:f<12?"start":f<18?"center":"end"});return}s&&p.scrollIntoView({behavior:"instant",block:"nearest"})},[s,n.localTimeZoneString]);const l=s?ks(s,n.localTimeZoneString):0;return r.jsx("div",{className:"pointer-events-none sticky left-full size-0",children:r.jsx("div",{className:"relative -ml-px",style:{height:n.calendarHeight},children:r.jsx("div",{ref:i,className:"absolute scroll-mb-192 scroll-mt-96",style:{top:l+"%"}})})})}),FJ=X(function(){const{userStore:e,appStore:n}=se(),s=Mt(),i=vk(n.calendarDate,0),a=Array(23).fill(0).map((p,f)=>En(i,f+1)),l=cx(ge.nowStartOfMinute,e.localTimeZoneString)/Nn*e.calendarHourHeight;return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"sticky left-0 z-20 size-0",children:r.jsxs("div",{className:U("relative overflow-hidden border-r border-contrast-10 bg-base-bg",!s&&"transition-[width]"),style:{height:e.calendarHeight,width:e.timeColumnWidth/16+"rem"},children:[a.map((p,f)=>{const v=e.calendarHourHeight*(f+1),w=(n.isTodayVisible?Math.abs(v-l):1/0)<10;return r.jsxs("div",{className:"absolute inset-x-0 flex pl-24",style:{top:v},children:[e.secondaryTimezones.map(D=>r.jsx(Mp,{time:Se(we(p,e.localTimeZoneString),D.timezone.name)},D.timezone.abbreviation)),r.jsx(Mp,{time:p,isHidden:w})]},f)}),r.jsx(VJ,{})]})}),r.jsx(HJ,{}),r.jsx(WJ,{})]})}),Mp=X(function({time:e,isNow:n,isHidden:s}){const{userStore:i}=se(),{uses12HourClock:a}=i;if(!e)return r.jsx("div",{className:U("flex-none",a?"w-48":"w-[2.625rem]")});const l=Xr(e),p=l<8||l>18;return r.jsx("div",{className:U("-mt-6 flex-none cursor-default text-right text-[0.6875rem] font-medium tabular-nums leading-12 tracking-tighter transition-opacity",a?"w-48":"w-[2.625rem]",n?"text-red-400":p?"text-contrast-30":"text-contrast-50",s&&"opacity-0"),children:Ye(e,i.timeNotation,!0)})}),HJ=X(function(){const{userStore:e}=se();return r.jsx("div",{className:"sticky left-0 h-0 w-screen",children:Array(23).fill(0).map((n,s)=>r.jsx("div",{className:"absolute inset-x-0 h-px bg-gray-200",style:{top:e.calendarHourHeight*(s+1)}},s))})}),VJ=X(function(){const{appStore:e,userStore:n}=se(),s=Se(ge.nowStartOfMinute,n.localTimeZoneString);return r.jsxs("div",{className:U("absolute inset-x-0 flex pl-24 transition-[top,opacity]",!e.isTodayVisible&&"opacity-0"),style:{top:ks(ge.nowStartOfMinute,n.localTimeZoneString)+"%"},children:[n.secondaryTimezones.map((i,a)=>r.jsx(Mp,{},a)),r.jsx(Mp,{time:s,isNow:!0})]})}),WJ=X(function(){const{userStore:e,appStore:n}=se();return r.jsx("div",{className:"pointer-events-none sticky left-0 z-10 size-0",children:r.jsx("div",{className:"relative",style:{height:e.calendarHeight},children:r.jsx("div",{className:U("absolute h-px w-screen bg-red-400/60 transition-[top,opacity]",!n.isTodayVisible&&"opacity-0"),style:{top:ks(ge.nowStartOfMinute,e.localTimeZoneString)+"%"}})})})}),$J=250,UJ=X(function(){const{draggingCursor:e,scrollContainerRef:n}=Je(),{appStore:s,userStore:i}=se(),{timeColumnWidth:a}=i,{middleItemDate:l}=s,p=F0(s.amountOfCalendarDays),f=p/2,v=K.useRef({roundedIndex:f,partiallyVisibleDirection:"none",lastSetCalendarDate:null});K.useLayoutEffect(()=>{gN(n,i.timeColumnWidth)},[n,l,p,i.timeColumnWidth]);const E=ik(n,Y_(()=>{gN(n,i.timeColumnWidth)})),w=Os(()=>{v.current.partiallyVisibleDirection==="none"&&xe(()=>{s.setIsScrolling(!1),v.current.roundedIndex!==f&&s.resetMiddleItemDate()})},$J);K.useEffect(()=>(v.current.lastSetCalendarDate=s.calendarDate,Jn(()=>{const d=v.current;s.calendarDate.getTime()!==d.lastSetCalendarDate.getTime()&&xe(()=>{const m=n.current,h=m.style.overflow;m.style.overflow="hidden",d.lastSetCalendarDate=s.calendarDate,s.resetMiddleItemDate(),window.setTimeout(()=>{m.style.overflow=h})})})),[s,n]);const D=i.weekendVisible?fe:Gn;function M(d){const m=v.current,h=d.currentTarget,u=(h.scrollLeft+a)/h.scrollWidth*p,P=u%1,R=dr(P,0,3)||dr(P,1,3)?"none":P>.5?"backward":"forward",_=Math.round(u);if(dr(u,m.roundedIndex,3)||s.setIsScrolling(!0),R!==m.partiallyVisibleDirection&&(m.partiallyVisibleDirection=R,s.setPartiallyVisibleDirection(R)),_!==m.roundedIndex){m.roundedIndex=_;const F=_-f,C=D(l,F);m.lastSetCalendarDate=C,s.setCalendarDateViaScrolling(C)}w()}const o=a/16;return r.jsxs("div",{ref:E,className:U("h-full select-none snap-x snap-mandatory [scrollbar-width:none] [&::-webkit-scrollbar]:hidden",pe.isSafari?"overflow-y-auto overflow-x-hidden":"overflow-auto"),style:{scrollPaddingLeft:o+"rem"},onScroll:M,children:[r.jsxs("div",{className:"relative isolate",style:{width:`calc(${Mi*100}% - ${Mi*o}rem)`},children:[e&&r.jsx("div",{className:U("absolute inset-0 z-40",e)}),r.jsx(PJ,{amountOfDaysTotal:p}),r.jsx(LJ,{amountOfDaysTotal:p,middleItemDate:l,isWeekendVisible:i.weekendVisible}),r.jsx(GJ,{})]}),r.jsx(DJ,{})]})}),GJ=X(function(){const{daysSectionRef:e}=Je(),{appStore:n,userStore:s}=se(),i=F0(n.amountOfCalendarDays);return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"sticky top-0 z-30",children:[r.jsx(pJ,{amountOfDaysTotal:i}),r.jsx(jJ,{amountOfDaysTotal:i})]}),r.jsx(FJ,{}),r.jsx(BJ,{}),r.jsxs("div",{ref:e,className:"relative overflow-hidden",style:{height:s.calendarHeight},children:[n.calendarDaysWithOverScan.map(a=>r.jsx(zJ,{date:a,middleItemDate:n.middleItemDate,amountOfDaysTotal:i,isWeekendVisible:s.weekendVisible},a.getTime())),r.jsx(dR,{amountOfDaysTotal:i}),r.jsx(RJ,{})]})]})});function zJ(t){return!t.isWeekendVisible&&$1(t.date)?null:r.jsx("div",{className:"absolute top-0 isolate h-full",style:Hs(t),children:r.jsx(uR,{date:t.date.getTime()})})}function gN(t,e){const n=t.current,s=n.scrollWidth/2-e;n.scrollLeft!==s&&n.scrollTo({left:s,behavior:"instant"})}const KJ=X(function({lockSidebar:e}){const{appStore:n,userStore:s,browserStore:i}=se(),{draggingCursor:a}=Je(),l=n.calendarMode===$t.SelectProposals||!!n.selectedObject,p=Mt()||i.shouldDisableHeavyAnimations,f=l&&r.jsx(on.div,{initial:{width:0},animate:{width:350},exit:{width:0},transition:p?G0:Bm,className:"z-30 h-full overflow-y-auto overflow-x-hidden bg-base-bg ring ring-gray-200 dark:ring-gray-300",children:r.jsx("div",{className:"h-full w-[350px]",children:n.selectedObject?r.jsx(yR,{object:n.selectedObject}):r.jsx(EX,{})})}),[v,E]=K.useState(null);return rn(n.isScrolling,()=>{e(s.calendarView!=="month"&&n.isScrolling),E(s.calendarView!=="month"&&n.isScrolling?{sideBarsJsx:f}:null)}),r.jsxs("div",{className:"relative isolate flex size-full overflow-hidden bg-base-bg",children:[a&&r.jsx("div",{className:U("absolute inset-0 z-10",a)}),r.jsx(ZJ,{children:s.calendarView==="month"?r.jsx(PX,{}):r.jsx(UJ,{})}),r.jsx(Sr,{initial:!1,children:v?v.sideBarsJsx:f})]})}),ZJ=X(function({children:e}){const{appStore:n,userStore:s}=se(),[i,a]=K.useState("none"),l=K.useRef(0),p=K.useRef(n.middleItemDate),f=K.useRef(s.localTimeZoneString),v=K.useRef(s.calendarView),E=K.useRef(s.weekendVisible);return rn(n.isScrolling,()=>{l.current=Date.now()}),rn(n.middleItemDate.getTime(),()=>{const w=Date.now(),D=l.current,M=p.current,o=f.current,d=v.current,m=E.current;if(l.current=w,p.current=n.middleItemDate,f.current=s.localTimeZoneString,v.current=s.calendarView,E.current=s.weekendVisible,n.isScrolling||i!=="none"||w-D<1e3||o!==s.localTimeZoneString||d!==s.calendarView||m!==s.weekendVisible)return;const h=M<n.middleItemDate;a(s.calendarView==="month"?h?"down":"up":h?"right":"left")}),r.jsx(on.div,{initial:!1,variants:{none:{x:0,y:0},left:{x:[0,-60,0]},right:{x:[0,60,0]},up:{y:[0,-60,0]},down:{y:[0,60,0]}},animate:i,transition:{ease:[.07,.98,.08,.98],duration:.5,times:[0,0,1]},className:"z-20 flex min-w-0 flex-1 flex-col",onAnimationComplete:()=>{a("none")},children:e})});function sb({mediaQueryString:t}){const[e,n]=K.useState(!1);function s(i){n(i.matches)}return K.useEffect(()=>{const i=window.matchMedia(t);return s(i),i.addEventListener("change",s,{passive:!0}),()=>{i.removeEventListener("change",s)}},[t]),e}const YJ=X(function(){const{appStore:e,userStore:n}=se(),s=n.calendarView==="month",i=s?e.calendarMonth:e.firstCalendarDay,a=Oe(i,"MMM",n.localTimeZoneString),l=s?e.calendarMonth:e.lastCalendarDay,p=Oe(l,"MMM",n.localTimeZoneString),f=gx(Se(e.firstCalendarDay,n.localTimeZoneString),n.startOfWeek);return r.jsxs(r.Fragment,{children:[r.jsx(Rp,{selection:s?void 0:[e.firstCalendarDay,e.lastCalendarDay],onSubmit:v=>e.setCalendarDate(v),initialMonth:e.calendarMonth,closeOnSubmit:!0,children:r.jsx(We,{children:r.jsx(ce,{label:"Open date picker",children:r.jsx(ae,{variant:"tertiary",size:"small",className:"flex min-w-[5.625rem] justify-center px-4",children:a===p?r.jsxs("span",{children:[a+" ",r.jsx("span",{className:"text-contrast-50",children:Oe(i,"yyyy",n.localTimeZoneString)})]}):r.jsxs("span",{children:[a+" ",r.jsx("span",{className:"text-contrast-50",children:"/"})," "+p+" ",r.jsx("span",{className:"text-contrast-50",children:Oe(l,"yy",n.localTimeZoneString)})]})})})})}),!s&&r.jsx(ce,{label:`Week ${f}`,children:r.jsxs("span",{className:"min-w-[31px] rounded bg-contrast-5 px-4 py-2 text-center text-[10px] font-bold tabular-nums text-contrast-50",children:["W",f]})})]})}),XJ=X(function(){const{transactionQueue:e}=se();return pe.connectionStatus==="online"?null:r.jsx(ce,{label:"Your connection is offline. As long as you keep Rise open, we'll sync back your changes when the connection is restored.",className:"max-w-xs",children:r.jsxs("div",{className:U(oe,"grid grid-flow-col items-center gap-4 rounded-full bg-contrast-10 px-8 py-4"),children:[r.jsx(EF,{className:"size-14 text-contrast-60"}),"Offline ",e.queue.length>0&&`(${e.queue.length})`]})})}),JJ=X(function(){const{accounts:e,transactionQueue:n}=se();return e.hasSyncingAccounts?r.jsx(ce,{label:"We're syncing your calendar events, so you might still miss some events. You can just use Rise normally while we catch up.",className:"max-w-xs",children:r.jsxs("div",{className:U(oe,"ml-6 grid grid-flow-col items-center gap-4 rounded-full bg-contrast-10 px-8 py-4"),children:[r.jsx(Gr,{className:"size-14 text-contrast-60"}),"Syncing"]})}):n.queue.length>2&&pe.connectionStatus==="online"?r.jsx(ce,{label:"We're syncing your changes.",className:"max-w-xs",children:r.jsxs("div",{className:U(oe,"ml-6 grid grid-flow-col items-center gap-4 rounded-full bg-contrast-10 px-8 py-4"),children:[r.jsx(Gr,{className:"size-14 text-contrast-60"}),"Syncing (",n.queue.length,")"]})}):null}),QJ=X(function(){const{userStore:e,appStore:n,actionsStore:s,schedulingLinks:i,accounts:a,eventsStoreManager:l}=se(),p=it(),f=sb({mediaQueryString:qJ}),v=sb({mediaQueryString:eQ}),E=sb({mediaQueryString:tQ});return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(YJ,{}),r.jsx(ce,{label:`Go to previous ${e.calendarView}`,keyboardShortcut:e.calendarView==="month"?GR.keyboardShortcut:$R.keyboardShortcut,children:r.jsx(ae,{variant:"tertiary",size:"small",icon:e.calendarView==="month"?Q1:Ts,onClick:()=>n.gotoPrev()})}),r.jsx(ce,{label:`Go to next ${e.calendarView}`,keyboardShortcut:e.calendarView==="month"?zR.keyboardShortcut:UR.keyboardShortcut,children:r.jsx(ae,{variant:"tertiary",size:"small",icon:e.calendarView==="month"?ym:l0,onClick:()=>n.gotoNext()})}),!n.isTodayVisible&&r.jsx(ce,{label:"Go to today",keyboardShortcut:cv.keyboardShortcut,children:r.jsx(ae,{variant:"tertiary",size:"small",onClick:()=>s.executeAction(cv),children:"Today"})}),r.jsx(XJ,{}),r.jsx(JJ,{})]}),r.jsx("div",{className:"grow"}),!f&&r.jsx(QM,{}),!v&&r.jsx(ce,{label:"Search events",keyboardShortcut:ti.keyboardShortcut,children:r.jsx(ae,{variant:"tertiary",size:"small",icon:js,onClick:()=>s.executeAction(ti)})}),r.jsx(Ue,{options:()=>[[f&&{label:"Calendars",icon:xm,subOptions:qM(a,l,e)},E&&{label:"Schedule",icon:ln,subOptions:[eR(i),[{label:"Add scheduling link",icon:Xe,onSelect:()=>p(ye.settings.children.schedulingLinks.path)},{label:"Share specific times",icon:Wk,keyboardShortcut:Fi.keyboardShortcut,onSelect:()=>s.executeAction(Fi)}],[{label:"Meet teammates",icon:jm,keyboardShortcut:Yr.keyboardShortcut,onSelect:()=>s.executeAction(Yr)}]]},v&&{label:"Search events",icon:js,keyboardShortcut:ti.keyboardShortcut,onSelect:()=>s.executeAction(ti)}],[{label:"Day view",checked:e.calendarView==="day",onCheckedChange:()=>s.executeAction(rv),keyboardShortcut:rv.keyboardShortcut},{label:"Week view",checked:e.calendarView==="week",onCheckedChange:()=>s.executeAction(lv),keyboardShortcut:lv.keyboardShortcut},{label:"Month view",checked:e.calendarView==="month",disabled:!ap.applicable(s.actionContext),onCheckedChange:()=>s.executeAction(ap),keyboardShortcut:ap.keyboardShortcut},{label:"Display number of days",subOptions:[{label:"2 days",checked:e.calendarView===2,onCheckedChange:()=>s.executeAction(sv),keyboardShortcut:sv.keyboardShortcut},{label:"3 days",checked:e.calendarView===3,onCheckedChange:()=>s.executeAction(iv),keyboardShortcut:iv.keyboardShortcut},{label:"4 days",checked:e.calendarView===4,onCheckedChange:()=>s.executeAction(av),keyboardShortcut:av.keyboardShortcut},{label:"5 days",checked:e.calendarView===5,onCheckedChange:()=>s.executeAction(ov),keyboardShortcut:ov.keyboardShortcut}]}],[{label:"Show weekends",checked:e.weekendVisible,onCheckedChange:()=>n.toggleWeekend(),keyboardShortcut:VR.keyboardShortcut},{label:"Show declined events",checked:e.declinedEventsVisible,onCheckedChange:()=>e.toggleDeclinedEventsVisible(),keyboardShortcut:WR.keyboardShortcut}]],align:"end",children:r.jsx(We,{children:r.jsx(ce,{label:"Open more options",children:r.jsx(ae,{variant:"tertiary",size:"small",icon:r.jsx(Ot,{className:"rotate-90"})})})})}),!E&&r.jsx(Bx,{}),window.location.search.includes("oops=true")&&r.jsx(qW,{})]})}),qJ="(max-width: 800px)",eQ="(max-width: 704px)",tQ="(max-width: 668px)";function nQ(){const{appStore:t,eventsStoreManager:e,userStore:n}=se(),[s,i]=xk();return K.useEffect(()=>{const a=v=>{v&&setTimeout(()=>{v.calendar&&(t.setSelectedObject(v),t.setCalendarDateTime(v.allDay?v.startsAtDate:v.startsAt))},400)},l=s.get("eventUuid");l&&(e.fetchEvent(l).then(a),n.hasTagLoose("keep_deep_link_params")||i(new URLSearchParams,{replace:!0}));const p=s.get("eventIcalUid")||s.get("iCalUID"),f=s.get("eventStartTime")||s.get("startTime");p&&f&&e.fetchEventByICalUID(p,f).then(a)},[t,e,s,i,n])}function rQ(){const{tasks:t,appStore:e,userStore:n}=se(),[s,i]=xk(),a=s.get("taskUuid");K.useEffect(()=>{if(a)return dk(()=>t.loaded,()=>{if(t.hasUuid(a)){const l=t.findByUuid(a);l&&(e.setSelectedObject(l),n.hasTagLoose("keep_deep_link_params")||i(new URLSearchParams,{replace:!0}))}else Mn("Could not find task")})},[a,t,e,n,i])}const bie=X(function(){const{userStore:e,accounts:n,actionsStore:s}=se(),i=it();return $e({key:"K",commandKey:!0,isActiveWhenInputFocused:!0},a=>{a.preventDefault(),Fx()}),bY(ke.CALENDAR_PAGE_OPENED,{calendarViewOption:e.calendarView}),K.useEffect(()=>(s.enableActions(),()=>s.disableActions()),[s]),K.useEffect(()=>{n.hasDisconnectedAccount&&i(ye.disconnectedAccount.path)},[i,n.hasDisconnectedAccount]),nQ(),rQ(),r.jsx(r.Fragment,{children:r.jsx(Lp,{header:r.jsx(QJ,{}),children:a=>r.jsx(KJ,{lockSidebar:a})})})});function sQ(t,e){const n=aQ(t.toLowerCase());if(!n||n.length===0)return[];if(n.length===1)return isNaN(n[0][0])?Km(void 0,n[0]):Km(n[0]);if("week".startsWith(n[0].substring(0,4)))return iQ(e,n[1],n[2]);const s=PM?Km(n[1],n[0],n[2]):Km(n[0],n[1],n[2]);return gk(s,i=>i.getTime())}function Km(t="1",e,n){const s=parseInt(t),i=!e,a=i?new Date().getMonth()+1:parseInt(e),l=!n;let p=l?new Date().getFullYear():parseInt(n);if(isNaN(s)||s<1||s>31||!isNaN(a)&&(a<1||a>12)||isNaN(p))return[];p<1e3&&(p+=2e3);let f=[a-1];if(isNaN(a)){const v=e.substring(0,3);f=oQ.filter(E=>E.name.startsWith(v)).map(E=>E.index)}return f.length===0?[]:f.map(v=>{let E=new Date(p,v,s);if(i&&(Db(E)||!ar(E))){const w=new Date(p,v+1,s);ar(w)&&(E=w)}if(l&&(Db(E)||!ar(E))){const w=new Date(p+1,v,s);ar(w)&&(E=w)}return E}).filter(ar)}function iQ(t,e,n){const s=parseInt(e),i=!n;let a=i?new Date().getFullYear():parseInt(n);if(isNaN(s)||s<1||s>53||isNaN(a))return[];a<1e3&&(a+=2e3);const l=K5(new Date(a,5,1),s,t);return i&&Db(l)?[K5(new Date(a+1,5,1),s,t)]:[l]}function aQ(t){return t.match(/[a-z]+|[0-9]+/g)}const oQ=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"].map((t,e)=>({index:e,name:t}));function lQ(){Ke(({close:t})=>r.jsx(cQ,{close:t}),{id:"go-to-date-modal",hasVariableHeight:!0})}const cQ=X(function({close:e}){const{appStore:n,userStore:s}=se(),[i,a]=K.useState(""),l=K.useMemo(()=>sQ(i,s.startOfWeek),[i,s.startOfWeek]),{scrollIntoViewKey:p,selectedOptionIndex:f,setSelectedOptionIndex:v}=Is({optionsLength:l.length,resetKey:i,submit:w}),E=Ms(p);function w(D){n.setCalendarDate(l[D]),e()}return r.jsxs("div",{className:"flex max-h-384 w-[40rem] flex-col",children:[r.jsx("input",{placeholder:PM?"Go to date (e.g. jan 5, 2 12 24, w5)":"Go to date (e.g. 5 jan, 12 2 24, w5)","aria-label":"Go to date",value:i,className:"w-full bg-transparent px-16 py-8 text-lg outline-none placeholder:text-contrast-50",onChange:D=>a(D.target.value)}),r.jsx("div",{className:"relative grow overflow-y-auto border-t border-contrast-5 p-[0.3125rem] [scrollbar-width:none] empty:hidden [&::-webkit-scrollbar]:hidden",children:l.map((D,M)=>{const o=M===f;return r.jsx(B0,{ref:o?E:void 0,command:{label:rt(D,"dd MMMM yyyy")},onClick:()=>w(M),onMouseMove:()=>v(M),selected:o},M)})})]})}),H0=350,uQ=X(function({date:e}){const{userStore:n}=se(),s=vk(e,0),i=Array(23).fill(0).map((l,p)=>En(s,p+1)),a=cx(ge.nowStartOfMinute,n.localTimeZoneString)/Nn*n.calendarHourHeight;return r.jsxs("div",{className:U("relative z-10 overflow-hidden border-r border-contrast-10 bg-base-bg",n.uses12HourClock?"w-[3.75rem]":"w-[3.375rem]"),style:{height:n.calendarHeight},children:[i.map((l,p)=>{const f=n.calendarHourHeight*(p+1),E=Math.abs(f-a)<10;return r.jsx("div",{className:"absolute inset-x-0",style:{top:f},children:r.jsx(hR,{time:l,isHidden:E})},p)}),r.jsx(hQ,{})]})}),hR=X(function({time:e,isNow:n,isHidden:s}){const{userStore:i}=se(),a=Xr(e),l=a<8||a>18;return r.jsx("div",{className:U("-mt-6 mr-8 cursor-default text-right text-[0.6875rem] font-medium tabular-nums leading-12 tracking-tighter transition-opacity",n?"text-red-400":l?"text-contrast-30":"text-contrast-50",s&&"opacity-0"),children:Ye(e,i.timeNotation,!0)})});function dQ(t){return t?"w-[3.75rem]":"w-[3.375rem]"}const hQ=X(function(){const{appStore:e,userStore:n}=se(),s=Se(ge.nowStartOfMinute,n.localTimeZoneString);return r.jsx("div",{className:U("absolute inset-x-0 transition-[top,opacity]",!e.isTodayVisible&&"opacity-0"),style:{top:ks(ge.nowStartOfMinute,n.localTimeZoneString)+"%"},children:r.jsx(hR,{time:s,isNow:!0})})}),fQ=X(function(){const{userStore:e}=se();return r.jsx("div",{className:"absolute inset-0",children:Array(23).fill(0).map((n,s)=>r.jsx("div",{className:"absolute inset-x-0 h-px bg-gray-200",style:{top:e.calendarHourHeight*(s+1)}},s))})}),mQ=X(function(){const{userStore:e}=se(),n=K.useRef(null);K.useEffect(()=>{const i=n.current,a=Xr(Se(ge.nowStartOfMinute,e.localTimeZoneString));i.scrollIntoView({behavior:"instant",block:a<12?"start":a<18?"center":"end"})},[e.localTimeZoneString]);const s=window.devicePixelRatio%2===0;return r.jsxs("div",{ref:n,className:U("pointer-events-none absolute z-10 flex w-full scroll-mb-192 scroll-mt-96 items-center transition-[top]",s?"h-[2px] translate-y-[-0.5px]":"h-[3px] -translate-y-1/2"),style:{top:ks(ge.nowStartOfMinute,e.localTimeZoneString)+"%"},children:[r.jsxs("div",{className:"opacity-75",children:[r.jsx("div",{className:"absolute size-10 -translate-y-1/2 overflow-hidden",children:r.jsx("div",{className:"absolute -left-px size-10 rounded-full bg-white"})}),r.jsx("div",{className:"absolute -inset-y-px inset-x-0 rounded-full bg-white"})]}),r.jsx("div",{className:"absolute inset-x-px inset-y-0 rounded-full bg-red-400"}),r.jsx("div",{className:"absolute left-0 size-8 rounded-full bg-red-400"})]})}),pQ=X(function(){const{userStore:e}=se(),{draggingCursor:n}=Je(),s=tp(`${Wt(ge.nowStartOfDay)}T00:00[${e.localTimeZoneString}]`).toDate();return r.jsxs("div",{className:"relative flex flex-col border-l border-contrast-10",style:{width:H0},children:[r.jsx(gQ,{date:s}),r.jsx(bQ,{date:s}),n&&r.jsx("div",{className:U("absolute inset-0 -left-px",n)})]})}),gQ=X(function({date:e}){const{userStore:n}=se();return r.jsxs("div",{className:U(oe,"flex items-center justify-center gap-8 border-b border-contrast-10 p-10"),children:[r.jsxs("span",{children:[Oe(e,"MMMM",n.localTimeZoneString)+" ",r.jsx("span",{className:"text-contrast-50",children:Oe(e,"y",n.localTimeZoneString)})]}),r.jsx("span",{className:"text-contrast-20",children:"|"}),r.jsxs("span",{className:"flex items-center gap-4",children:[Oe(e,"E",n.localTimeZoneString),r.jsx("span",{className:"flex w-20 min-w-max justify-center rounded-md bg-primary px-4 py-2 text-white-static",children:Oe(e,"d",n.localTimeZoneString)})]})]})}),bQ=X(function({date:e}){const{scrollContainerRef:n,daysSectionRef:s}=Je(),{draggingCursor:i}=Je();return r.jsx("div",{className:"no-scrollbar min-h-0 grow overflow-y-auto",ref:n,children:r.jsxs("div",{className:"relative",children:[r.jsx(yQ,{date:e}),r.jsxs("div",{className:"relative flex",children:[r.jsx(fQ,{}),r.jsx(uQ,{date:e}),r.jsxs("div",{className:"relative isolate grow",ref:s,children:[r.jsx(uR,{date:e.getTime(),isInMyFocusView:!0}),r.jsx(dR,{amountOfDaysTotal:1,isInMyFocusView:!0}),r.jsx(mQ,{})]})]}),i&&r.jsx("div",{className:U("absolute inset-0 z-20",i)})]})})}),yQ=X(function({date:e}){const{userStore:n,appStore:s,displayEventsStore:i,tasks:a,objectPool:l}=se(),{allDaySectionRef:p}=Je(),f=K.useMemo(()=>({startDate:e,endDate:fe(e,1)}),[e]),v=i.filterOwnDisplayEvents(f,!0,n.declinedEventsVisible),E=Qr(v),w=E.length>1;return r.jsxs("div",{ref:p,className:"sticky top-0 z-20 flex border-b border-contrast-10 bg-base-bg",onClick:D=>{fx(D.target,D.currentTarget)||xe(()=>{const M=a.new();M.allDay=!0,M.workspace=n.privateWorkspace,M.durationInMinutes=30,M.status=M.workspace.taskUnstartedStatus,M.assignee=l.member,M.dueDate=e,M.startsAtDate=e,M.endsAtDate=fe(e,1),M.setDraft(!0),M.setSelected(!0),a.add(M),s.setSelectedObject(M)})},children:[r.jsx("div",{className:U(Te,"flex flex-none justify-end border-r border-contrast-10 px-8 py-2 text-contrast-50",dQ(n.uses12HourClock)),children:w?r.jsx(cR,{}):r.jsx("div",{className:"flex h-20 items-center",children:"all-day"})}),r.jsxs("div",{className:"relative flex min-w-0 grow flex-col gap-2 py-2",children:[w&&n.isAllDaySectionCollapsed?r.jsx(lR,{positions:E.map(D=>({eventHolder:D}))}):E.map(D=>r.jsx(aR,{displayBlock:D.event,deduplicatedBlocks:D.deduplicatedEvents,isInMyFocusView:!0},D.event.uuid)),r.jsx(sR,{amountOfDaysTotal:1,isInMyFocusView:!0})]})]})}),yie=X(function(){return r.jsx(Lp,{header:r.jsxs(r.Fragment,{children:[r.jsx(Xy,{}),r.jsx("div",{className:"grow"}),r.jsx(QM,{}),r.jsx(Bx,{})]}),children:r.jsx(vQ,{})})}),vQ=X(function(){const{appStore:e,tasks:n,browserStore:s}=se(),{draggingCursor:i}=Je(),a=p=>{var f;e.selectedObject&&((f=window.getSelection())==null?void 0:f.type)!=="Range"&&p.currentTarget.contains(p.target)&&!fx(p.target,p.currentTarget)&&e.setSelectedObject(null)},l=Mt()||s.shouldDisableHeavyAnimations;return r.jsxs("div",{className:"relative isolate flex min-h-0 grow",children:[n.loaded?n.myFocusTasks.length===0&&n.myFocusOverdueTasks.length===0?r.jsx("div",{className:"flex grow flex-col items-center justify-center",onClick:a,children:r.jsx(Ux,{aboveTitle:r.jsx("div",{className:"pb-8",children:r.jsx(fR,{})}),title:"Good time to plan!",label:"Start by adding a task below",onTaskCreated:p=>p.setDueDate(ge.nowStartOfDay)})}):r.jsx("div",{className:"flex-1 overflow-y-auto",onClick:a,children:r.jsxs("div",{className:"relative flex min-w-0 flex-col gap-36 px-40 py-36",children:[r.jsx(xQ,{}),r.jsx(bN,{sectionLabel:"Overdue",tasks:n.myFocusOverdueTasks}),r.jsx(bN,{sectionLabel:"Today",tasks:n.myFocusTasks,alwaysShowSection:!0,bottom:r.jsx(AQ,{lastTask:n.myFocusTasks[n.myFocusTasks.length-1]})}),i&&r.jsx("div",{className:U("absolute inset-0 z-10",i)})]})}):r.jsx("div",{className:"relative flex min-w-0 flex-1 flex-col gap-36 overflow-y-auto px-40 py-36"}),r.jsx(pQ,{}),r.jsx(Sr,{initial:!1,children:e.selectedObject&&r.jsx(on.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:l?G0:Bm,className:"absolute inset-y-0 right-0 z-20 w-[350px] overflow-y-auto bg-base-bg ring ring-gray-200 dark:ring-contrast-10",children:r.jsx(yR,{object:e.selectedObject})})})]})}),xQ=X(function(){const{userStore:e}=se(),{firstName:n}=e;return r.jsxs("div",{className:"flex items-center gap-12",children:[r.jsx(fR,{}),r.jsx("h1",{className:Ae(J_,"flex-1 font-normal"),children:n?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:Ne,children:`Good ${ge.daySection},`}),n]}):"Good "+ge.daySection})]})}),fR=X(function(){const{userStore:e}=se(),n=Se(ge.nowStartOfMinute,e.localTimeZoneString),s=n.getHours(),i=s<6?21:s<9?6:s<12?9:s<15?12:s<18?15:s<21?18:21,a=s+n.getMinutes()/Am,l=(-Math.cos(a*Math.PI/12)-1)/2,p=jQ[i];return r.jsxs("div",{className:U(e.uses12HourClock?Te:oe,"relative flex size-56 items-center justify-center overflow-hidden rounded-2xl font-semibold text-white-static",p.container),children:[r.jsx("div",{className:U("absolute size-40 rounded-full blur",p.sun),style:{transform:`translateY(${-l*40}px)`}}),r.jsx("span",{className:"tabular-nums drop-shadow",children:rt(n,e.uses12HourClock?"h:mm a":"HH:mm")})]})}),jQ={6:{container:"bg-gradient-to-b from-[#1E7FA8] to-[#3EC5FF]",sun:"bg-[#FFC141] opacity-80"},9:{container:"bg-gradient-to-b from-[#3CC4FF] to-[#8DDDFF]",sun:"bg-[#FFC141] opacity-100"},12:{container:"bg-gradient-to-b from-[#61D0FF] to-[#8DDDFF]",sun:"bg-[#FFC141] opacity-100"},15:{container:"bg-gradient-to-b from-[#3CC4FF] to-[#8DDDFF]",sun:"bg-[#FFC141] opacity-100"},18:{container:"bg-gradient-to-b from-[#7461FF] to-[#8DE4FF]",sun:"bg-[#FFDDA1] opacity-100"},21:{container:"bg-gradient-to-b from-[#4F3288] to-[#8F74FA]",sun:"bg-[#FFF2DA] opacity-60"}},bN=X(function({tasks:e,sectionLabel:n,alwaysShowSection:s,bottom:i}){return e.length===0&&!s?null:r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsx("h2",{className:U(ht,"py-4 text-contrast-50"),children:n}),e.map(a=>r.jsx(SQ,{task:a},a.uuid)),i]})}),SQ=X(function({task:e}){const n=Mm(),{bindCreateEventFromTask:s}=Je(),{userStore:i}=se();return r.jsx(Vs,{task:e,children:r.jsxs("div",{role:"button",tabIndex:0,className:"group flex touch-none items-start gap-8 rounded-lg p-8 outline-none ring-contrast-10 hover:bg-base-bg-elevated hover:ring focus-visible:ring focus-visible:ring-primary has-[[data-state=open]]:bg-base-bg-elevated has-[[data-state=open]]:ring data-[state=open]:bg-base-bg-elevated data-[state=open]:ring",onClick:()=>n(e),...s(e),children:[r.jsx(Pt,{task:e,className:"mt-[0.1875rem]"}),r.jsxs("div",{className:"flex min-w-0 grow flex-col items-stretch",children:[r.jsxs("div",{className:"flex h-24 grow items-center gap-8",children:[r.jsx("div",{className:U(oe,"min-w-0 grow truncate"),children:e.displayTitle}),r.jsx("div",{className:"sr-only flex-none focus-within:not-sr-only group-hover:not-sr-only has-[[data-is-closing]]:not-sr-only has-[[data-state=open]]:not-sr-only",children:r.jsxs("div",{className:"flex gap-8",children:[r.jsx(M0,{task:e,align:"end"}),r.jsx(R0,{task:e,align:"end"}),r.jsx(P0,{task:e,align:"end"})]})})]}),e.startsAt&&!e.overDue&&r.jsx("div",{className:U(wi,"tabular-nums text-contrast-50"),children:Ye(e.startsAt,i.timeNotation,!0)}),e.overDue&&r.jsx("div",{className:U(wi,"tabular-nums text-red-500"),children:Oe(e.dueDate,"MMM do")})]})]})})}),AQ=X(function({lastTask:e}){const{tasks:n,userStore:s,objectPool:i}=se(),a=Rx();return r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsx(ae,{variant:"tertiary",onClick:a.open,icon:Xe,className:"self-start text-contrast-50 hover:text-black",children:"Add task"}),r.jsx(Mx,{imperativeHandle:a.handle,isOpen:a.isOpen,marginTop:-4,isDueButtonDisabled:!0,createConceptTask:()=>{const l=n.new(),p=EQ(e);return l.dueDate=p,l.allDay=!1,l.startsAt=p,l.endsAt=Ie(p,30),l.startsAtDate=null,l.endsAtDate=null,l.durationInMinutes=Ge(l.endsAt,l.startsAt),l.workspace=s.privateWorkspace,l.status=l.workspace.taskUnstartedStatus,l.assignee=i.member,l},saveConceptTask:l=>{n.add(l),l.save()},close:a.close})]})});function EQ(t){return Tm(wr(f9(Ie(ge.nowStartOfMinute,15),{nearestTo:30,roundingMethod:"ceil"}),(t==null?void 0:t.endsAt)||new Date(0)),Ie(fe(ge.nowStartOfDay,1),-30))}const DQ=87,wQ=X(function({draggedEventRef:e}){const{appStore:n,browserStore:s,userStore:i}=se(),[a]=K.useState(()=>i.calendarView==="month"?{calendarView:i.calendarView}:{calendarView:i.calendarView,amountOfCalendarDays:n.amountOfCalendarDays,timeColumnWidth:i.timeColumnWidth,isInMyFocusView:s.isRoute(ye.myFocus.path)});if(!n.conceptEventPlaceholder||!n.movingObject)return;const l=a.calendarView==="month",p=l&&n.movingObject instanceof de?Math.max(kn(n.movingObject.end,Pe(n.movingObject.start)),1):1,f=l?r.jsx(NQ,{spansMultipleDays:p!==1}):n.movingObject.allDay?r.jsx(TQ,{}):r.jsx(CQ,{}),v=s.innerWidth-DQ-(i.navigationSideBarVisible?Li:0)-(n.calendarMode===$t.SelectProposals||n.selectedObject?350:0);return r.jsx("div",{ref:e,className:U("pointer-events-none fixed left-0 top-0 z-50 hidden transition-[width]",l&&"px-8"),style:{width:a.isInMyFocusView?H0-(i.uses12HourClock?60:54):l?p*v/(i.weekendVisible?7:5):(v-a.timeColumnWidth)/a.amountOfCalendarDays},children:f})}),CQ=X(function(){var f;const{appStore:e,userStore:n,alternativeCalendarsStore:s}=se(),i=e.conceptEventPlaceholder,a=e.movingObject,l=a instanceof Ce,{height:p}=Nr({startsAtLocal:Se(a.startsAt,n.localTimeZoneString),endsAtLocal:Se(a.endsAt,n.localTimeZoneString),renderDateLocal:Se(a.startsAt,n.localTimeZoneString),calendarHourHeight:n.calendarHourHeight});return l?r.jsx(dn,{title:a.displayTitle,startDate:n.displayTimezone?Se(i.startsAt||i.startsAtDate,n.displayTimezone):i.startsAt||i.startsAtDate,stripeVariant:"no-stripes",icon:r.jsx(Pt,{task:a,sizeVariant:"small"}),colorVariant:gt(a),timeNotation:n.timeNotation,position:{offsetTopPx:0,heightPx:p,offsetLeft:{percent:0,px:0},offsetRight:{percent:0,px:10}},baseColorHex:Ls(a,s),isTransparent:!0}):r.jsx(dn,{title:an(a),startDate:n.displayTimezone?Se(i.startsAt||i.startsAtDate,n.displayTimezone):i.startsAt||i.startsAtDate,stripeVariant:pn(a),colorVariant:gt(a),timeNotation:n.timeNotation,icon:a.meetingBoard?r.jsx(Tr,{progress:(f=a.meetingBoardProgress)==null?void 0:f.percentage,className:"mr-4 inline-block h-16 align-bottom"}):r.jsx(tr,{event:a,sizeVariant:"small",colorHex:null}),position:{offsetTopPx:0,heightPx:p,offsetLeft:{percent:0,px:0},offsetRight:{percent:0,px:10}},baseColorHex:a.calendar.color,overrideColorHex:rr(a),isTitleStrikeThrough:a.attendanceStatus==="declined",titleDetailVariant:gn(a),isTransparent:!0})}),TQ=X(function(){var a;const{appStore:e,userStore:n,alternativeCalendarsStore:s}=se(),i=e.movingObject;return i instanceof Ce?r.jsx(cs,{title:i.displayTitle,stripeVariant:"no-stripes",colorVariant:gt(i),baseColorHex:Ls(i,s),icon:r.jsx(Pt,{task:i,sizeVariant:"small"}),isTransparent:!0}):r.jsx(cs,{title:an(i),stripeVariant:pn(i),colorVariant:gt(i),icon:i.meetingBoard?r.jsx(Tr,{progress:(a=i.meetingBoardProgress)==null?void 0:a.percentage,className:"mr-4 inline-block h-16 align-bottom"}):r.jsx(tr,{event:i,sizeVariant:"small",colorHex:null}),titleDetailVariant:gn(i),baseColorHex:i.calendar.color,overrideColorHex:rr(i),isTitleStrikeThrough:i.attendanceStatus==="declined",amountOfDays:bx(i,i.startsAtDate,i.endsAtDate,n.weekendVisible),isTransparent:!0})}),NQ=X(function({spansMultipleDays:e}){var p;const{appStore:n,userStore:s,alternativeCalendarsStore:i}=se(),a=n.movingObject;if(a instanceof Ce)return r.jsx(us,{title:a.displayTitle,stripeVariant:"no-stripes",colorVariant:gt(a),baseColorHex:Ls(a,i),icon:r.jsx(Pt,{task:a,sizeVariant:"small"}),isTransparent:!0});const l=a.allDay?void 0:e?{type:"time-extended",startDate:a.startsAt,endDate:a.endsAt,timeNotation:s.timeNotation}:{type:"time-narrow",date:a.startsAt,timeNotation:s.timeNotation};return r.jsx(us,{title:an(a),stripeVariant:pn(a),colorVariant:gt(a,!e),titleDetailVariant:gn(a),icon:a.meetingBoard?r.jsx(Tr,{progress:(p=a.meetingBoardProgress)==null?void 0:p.percentage,className:"mr-4 inline-block h-16 align-bottom"}):r.jsx(tr,{event:a,sizeVariant:"small",colorHex:null}),baseColorHex:a.calendar.color,overrideColorHex:rr(a),isTitleStrikeThrough:a.attendanceStatus==="declined",isTransparent:!0,secondaryContentType:l})});function Im(t,e,n){const s=Tm(e,n),i=wr(e,n);xe(()=>{wt(s,t.startsAt)||(t.startsAt=s),wt(i,t.endsAt)||(t.endsAt=i)})}function mR(t,e,n){const s=Tm(e,n),i=fe(wr(e,n),1);wt(s,t.startsAtDate)||(t.startsAtDate=s),wt(i,t.endsAtDate)||(t.endsAtDate=i)}function Vx(t){if(t.readOnly||t.canBeEdited)return!1;const e=qb(t);return e?(xt({title:"Do you want to edit the original event?",description:"It looks like you have the organizers permission to edit event details in Google Calendar.",primaryAction:{key:"open",label:"Open in Google Calendar",onClick:()=>Fe(e)},secondaryAction:{key:"cancel",label:"Cancel"}}),!0):!1}const yN=30,vN=1;function Lt({filterTaps:t=!0,shouldPreventNavigation:e=!1,centerTargetWithWidth:n,allDaySectionRef:s,daysSectionRef:i,scrollContainerRef:a,draggedEventRef:l,onDrag:p}){const f=se("loading"),{status:v,appStore:E,browserStore:w,userStore:D}=f,M=bV();return m9(({event:o,currentTarget:d,xy:[m,h],first:u,last:P,args:[R],tap:_,memo:F,cancel:C,canceled:A,elapsedTime:j})=>{if(v!=="loaded"||(u&&M(C),P&&M(void 0),t&&_))return;const x=a.current,N=x.getBoundingClientRect(),b=D.calendarView==="month",O=w.isRoute(ye.myFocus.path);!e&&!O&&kQ(m,h,b,N,E,D.timeColumnWidth,P,j);const T=(k=0)=>{if(O)return ge.nowStartOfDay;if(b){const te=(h-N.y+x.scrollTop)/x.scrollHeight,I=Math.floor(te*Fs)-Vr,MP=(m-N.x)/N.width,RP=D.weekendVisible?7:5,PP=Math.floor(MP*RP);return fe(Re(E.middleItemDate,I),PP-k)}const S=D.weekendVisible?fe:Gn,y=F0(E.amountOfCalendarDays),G=y/2,Q=(m-N.x+x.scrollLeft)/x.scrollWidth,W=Math.floor(Q*y)-G,$=S(E.middleItemDate,W);return k!==0?fe($,-k):$},L=F??(()=>{const k=d.getBoundingClientRect();return{lastReturnValue:void 0,targetYOffset:h-k.top,targetXOffset:n?n/2:m-k.left}})();l.current&&_Q(m-L.targetXOffset,h-L.targetYOffset,l.current,P);const c=p({dragEvent:o,arg:R,lastReturnValue:L.lastReturnValue,isFirst:u,isLast:P,isCanceled:A,rootStore:f,getDay:T,getTargetYOffset(){const k=d.getBoundingClientRect();return h-k.top},getIsInTimeGrid(){const k=O?N.right-H0:N.left+(b?0:D.timeColumnWidth);return m>=k&&m<=N.right},getIsInAllDaySection(){if(b)return!0;const k=s.current.getBoundingClientRect();return h<=k.bottom},getTime({yOffsetPx:k=0,dayDate:S=T(),minutesPrecision:y={default:15,withShift:5},rounding:G="round"}={}){const J=i.current.getBoundingClientRect(),Q=h-J.y-k,ee=Nn/D.calendarHourHeight,W=fk(Q*ee,0,oi),z=(G==="round"?u_:aH)(W+(G==="almost-floor"?5:0),o.shiftKey?y.withShift:y.default),te=Math.floor(z/Nn),g=z%Nn;return te===24?Ei(fe(S,1),0,0,D.localTimeZoneString):Ei(S,te,g,D.localTimeZoneString)}});return L.lastReturnValue!==c&&(L.lastReturnValue=c),L},{pointer:{keys:!1,capture:!1},filterTaps:t})}function kQ(t,e,n,s,i,a,l,p){var u,P;const f=n?s.top:s.left,v=n?s.bottom:s.right;Bt&&Bt.isVertical!==n&&(Bt.isVertical=n,Bt.rectPrev=f,Bt.rectNext=v),Ft&&Ft.isVertical!==n&&(Ft.isVertical=n,Ft.rectPrev=f,Ft.rectNext=v);const E=((u=Bt||Ft)==null?void 0:u.rectPrev)??f,w=((P=Ft||Bt)==null?void 0:P.rectNext)??v,D=n?e<E||e<=Zm:t<E+a||t<=Zm,M=n?e>w||e>=window.innerHeight-Zm:t>w||t>=window.innerWidth-Zm;function o(){const R=()=>i.gotoPrev();Bt={interval:window.setInterval(R,xN),rectPrev:E,rectNext:w,isVertical:n},p>=_n*.5&&R()}function d(){Bt&&(window.clearInterval(Bt.interval),Bt=void 0)}function m(){const R=()=>i.gotoNext();Ft={interval:window.setInterval(R,xN),rectPrev:E,rectNext:w,isVertical:n},p>=_n*.5&&R()}function h(){Ft&&(window.clearInterval(Ft.interval),Ft=void 0)}if(l){d(),h();return}!Bt&&D?o():Bt&&!D&&d(),!Ft&&M?m():Ft&&!M&&h()}const xN=_n*1.25,Zm=1;let Bt,Ft;function _Q(t,e,n,s){if(s){n.style.display="none";return}n.style.display!=="block"&&(n.style.display="block"),n.style.transform=`translate(${t}px, ${e}px)`}function OQ({setDraggingCursor:t,...e}){return Lt({filterTaps:!1,...e,onDrag({lastReturnValue:n,isFirst:s,isLast:i,isCanceled:a,rootStore:{eventsStore:l,alternativeCalendarsStore:p,appStore:f,eventsStoreManager:v},getDay:E}){s&&t("cursor-ew-resize");const w=E(),D=n??{anchorDate:w,event:(()=>{const d=l.createEventAt(w,!0);return d.setSelected(!0),d.setIsChangingDuration(!0),p.alternativeCalendarEmails.forEach(m=>d.addAttendee(m)),d.calendar.visible||d.calendar.toggleVisibility(v),d})()},{event:M,anchorDate:o}=D;return mR(M,w,o),i&&(t(void 0),a?M.revertUnsavedChanges():(f.setSelectedObject(M),M.setDraft(!0),M.setIsChangingDuration(!1))),D}})}function IQ({setDraggingCursor:t,...e}){const{userStore:n}=se("loading");return Lt({shouldPreventNavigation:!0,centerTargetWithWidth:H0-(n!=null&&n.uses12HourClock?60:54),...e,onDrag({arg:s,lastReturnValue:i,isFirst:a,isLast:l,isCanceled:p,rootStore:{appStore:f},getTargetYOffset:v,getIsInAllDaySection:E,getDay:w,getTime:D,getIsInTimeGrid:M}){const o=i??{yOffsetPx:v()},{yOffsetPx:d}=o;a&&t("cursor-grabbing");const m=E(),h=m?w():D({yOffsetPx:d});if(MQ(f,s,m,h,M()),l){t(void 0);const{conceptEventPlaceholder:u}=f;if(f.setMovingObject(null,null),!p&&u&&M())return s.allDay=!!u.allDay,u.allDay?(s.dueDate=u.startsAtDate,s.startsAt=null,s.endsAt=null,s.startsAtDate=u.startsAtDate,s.endsAtDate=u.endsAtDate):(s.dueDate=u.startsAt,s.startsAt=u.startsAt,s.endsAt=u.endsAt,s.startsAtDate=null,s.endsAtDate=null,s.durationInMinutes=Ge(s.endsAt,s.startsAt)),s.save(),o}return o}})}function MQ(t,e,n,s,i){const a={layer:i?"concept":"concept-hidden",type:"concept",uuid:"concept",allDay:n,...n?{startsAt:null,endsAt:null,startsAtDate:s,endsAtDate:fe(s,vN)}:{startsAt:s,endsAt:Ie(s,e.durationInMinutes||yN),startsAtDate:null,endsAtDate:null},start:s,end:n?fe(s,vN):Ie(s,e.durationInMinutes||yN)},l=t.conceptEventPlaceholder;l&&l.layer===a.layer&&!!l.allDay==!!a.allDay&&Ym(l.startsAtDate,a.startsAtDate)&&Ym(l.endsAtDate,a.endsAtDate)&&Ym(l.startsAt,a.startsAt)&&Ym(l.endsAt,a.endsAt)||t.setMovingObject(e,a)}function Ym(t,e){return(t==null?void 0:t.getTime())===(e==null?void 0:e.getTime())}function RQ({setDraggingCursor:t,...e}){return Lt({filterTaps:!1,shouldPreventNavigation:!0,...e,onDrag({dragEvent:n,lastReturnValue:s,isLast:i,isCanceled:a,rootStore:{proposalStore:l},getTime:p}){const f=p(s?void 0:{minutesPrecision:{default:30,withShift:15},rounding:"almost-floor"}),v=s??{anchorDate:f,proposal:(()=>{const M=new _i(f,Ie(f,l.duration));return l.addProposal(M),M})()},{proposal:E,anchorDate:w}=v,D=n.shiftKey?0:30;return Math.abs(Ge(f,w))>=D&&Im(E,f,w),i&&a&&l.removeProposal(E),v}})}function PQ({setDraggingCursor:t,...e}){return Lt({filterTaps:!1,...e,onDrag({dragEvent:n,lastReturnValue:s,isFirst:i,isLast:a,isCanceled:l,rootStore:{tasks:p,appStore:f,objectPool:v,userStore:E},getTime:w}){i&&t("cursor-ns-resize");const D=w(s?void 0:{minutesPrecision:{default:30,withShift:15},rounding:"almost-floor"}),M=s??{anchorDate:D,task:(()=>{const h=p.new();return h.allDay=!1,h.workspace=E.privateWorkspace,h.durationInMinutes=30,h.status=h.workspace.taskUnstartedStatus,h.assignee=v.member,h.dueDate=D,h.startsAt=D,h.endsAt=Ie(D,h.durationInMinutes),h.setDraft(!0),p.add(h),h.setIsChangingDuration(!0),h.setSelected(!0),h})()},{task:o,anchorDate:d}=M,m=n.shiftKey?0:Math.min(30,E.defaultEventDuration);return Math.abs(Ge(D,d))>=m&&(Im(o,D,d),o.durationInMinutes=Ge(o.endsAt,o.startsAt)),a&&(t(void 0),l?o.revertUnsavedChanges():(f.setSelectedObject(o),o.setDraft(!0),o.setIsChangingDuration(!1))),M}})}function LQ({setDraggingCursor:t,...e}){return Lt({filterTaps:!1,...e,onDrag({dragEvent:n,lastReturnValue:s,isFirst:i,isLast:a,isCanceled:l,rootStore:{eventsStore:p,alternativeCalendarsStore:f,appStore:v,eventsStoreManager:E,userStore:w},getTime:D}){i&&t("cursor-ns-resize");const M=D(s?void 0:{minutesPrecision:{default:30,withShift:15},rounding:"almost-floor"}),o=s??{anchorDate:M,event:(()=>{const u=p.createEventAt(M,!1);return u.setSelected(!0),u.setIsChangingDuration(!0),f.alternativeCalendars.forEach(P=>{P.resource?u.addResourceAttendee(P.resource):u.addAttendee(P.email)}),u.calendar.visible||u.calendar.toggleVisibility(E),u})()},{event:d,anchorDate:m}=o,h=n.shiftKey?0:Math.min(30,w.defaultEventDuration);return Math.abs(Ge(M,m))>=h&&Im(d,M,m),a&&(t(void 0),l?d.revertUnsavedChanges():(v.setSelectedObject(d),d.setDraft(!0),d.setIsChangingDuration(!1))),o}})}function BQ({setDraggingCursor:t,...e}){return Lt({...e,onDrag({arg:{event:n,shouldIgnoreDayOffset:s},dragEvent:i,lastReturnValue:a,isFirst:l,isLast:p,isCanceled:f,rootStore:{appStore:v,eventsStore:E,userStore:w},getTargetYOffset:D,getIsInAllDaySection:M,getDay:o,getTime:d}){const m=a??{yOffsetPx:D(),offsetDays:s?0:en(o(),Pe(n.startsAt||n.startsAtDate)),isDuplicate:i.altKey},{isDuplicate:h,yOffsetPx:u,offsetDays:P}=m;l&&(t("cursor-grabbing"),h||n.setIsMoving(!0));const R=w.calendarView==="month",_=R?n.allDay:M(),F=(()=>{if(R){const C=o(P);if(n.allDay)return C;const A=new Date(C);return A.setHours(n.startsAt.getHours(),n.startsAt.getMinutes()),A}return _?o(P):d({yOffsetPx:u})})();if(FQ(v,n,_,F),p){t(void 0);const{conceptEventPlaceholder:C}=v;if(n.mode==="suboptimal"&&(n.mode="normal",n.setDraft(!1)),n.setIsMoving(!1),v.setMovingObject(null,null),!f&&C){if(h){const A=E.createEventAt(C.allDay?C.startsAtDate:C.startsAt,!!C.allDay);return A.pasteEvent(n),A.save({opts:{confirmDecision:!0}}),m}if(Vx(n))return m;n.setAllDay(C.allDay),C.allDay?n.setStartsAtDate(C.startsAtDate):n.setStartsAt(C.startsAt),n.save({opts:{confirmDecision:!n.isSelected}}).then(({saveDecision:A})=>{A==="continueEditing"&&v.setSelectedObject(n)})}}return m}})}function FQ(t,e,n,s){const i={layer:"concept",type:"concept",uuid:"concept",allDay:n,...n?{startsAt:null,endsAt:null,startsAtDate:s,endsAtDate:fe(s,en(e.endsAtDate,e.startsAtDate))}:{startsAt:s,endsAt:Ie(s,e.allDay?30:e.duration),startsAtDate:null,endsAtDate:null},start:s,end:n?fe(s,en(e.endsAtDate,e.startsAtDate)):Ie(s,e.allDay?30:e.duration)},a=t.conceptEventPlaceholder;a&&!!a.allDay==!!i.allDay&&Xm(a.startsAtDate,i.startsAtDate)&&Xm(a.endsAtDate,i.endsAtDate)&&Xm(a.startsAt,i.startsAt)&&Xm(a.endsAt,i.endsAt)||t.setMovingObject(e,i)}function Xm(t,e){return(t==null?void 0:t.getTime())===(e==null?void 0:e.getTime())}function HQ({setDraggingCursor:t,...e}){return Lt({...e,onDrag({arg:{proposal:n,onDrag:s},lastReturnValue:i,isFirst:a,isLast:l,getTargetYOffset:p,getTime:f}){a&&t("cursor-grabbing");const v=i??p(),E=f({yOffsetPx:v});return VQ(n,E),l&&t(void 0),s==null||s(),v}})}function VQ(t,e){if(!WQ(t.startsAt,e)){const n=Ge(t.endsAt,t.startsAt);xe(()=>{t.startsAt=e,t.endsAt=Ie(e,n)})}}function WQ(t,e){return(t==null?void 0:t.getTime())===(e==null?void 0:e.getTime())}function $Q({setDraggingCursor:t,...e}){return Lt({filterTaps:!1,shouldPreventNavigation:!0,...e,onDrag({lastReturnValue:n,isFirst:s,rootStore:{appStore:i},getTime:a}){const l=a(n?void 0:{rounding:"almost-floor"}),p=i.selectedObject;return p instanceof de&&s&&(p.setDraft(!1),p.setStartsAt(l),p.mode="normal",p.findTimeResponse=null,p.findTimeQuery=null),l}})}function UQ({setDraggingCursor:t,...e}){return Lt({...e,onDrag({arg:{task:n,shouldIgnoreDayOffset:s},dragEvent:i,lastReturnValue:a,isFirst:l,isLast:p,isCanceled:f,rootStore:{appStore:v,userStore:E,objectPool:w},getTargetYOffset:D,getIsInAllDaySection:M,getDay:o,getTime:d}){const m=a??{yOffsetPx:D(),offsetDays:s?0:en(o(),Pe(n.startsAt||n.startsAtDate)),isDuplicate:i.altKey},{isDuplicate:h,yOffsetPx:u,offsetDays:P}=m;l&&(t("cursor-grabbing"),h||n.setIsMoving(!0));const R=E.calendarView==="month",_=R&&n.allDay!==null?n.allDay:M(),F=(()=>{if(R){const C=o(P);if(n.allDay)return C;const A=new Date(C);return A.setHours(n.startsAt.getHours(),n.startsAt.getMinutes()),A}return _?o(P):d({yOffsetPx:u})})();if(GQ(v,n,_,F),p){t(void 0);const{conceptEventPlaceholder:C}=v;if(n.setIsMoving(!1),v.setMovingObject(null,null),!f&&C){if(h){const A=F7(n,w);return A.allDay=C.allDay,A.startsAtDate=C.startsAtDate,A.endsAtDate=C.endsAtDate,A.startsAt=C.startsAt,A.endsAt=C.endsAt,A.dueDate=A.startsAtDate||A.startsAt,A.save(),m}n.updateFromConceptEvent(C)}}return m}})}function GQ(t,e,n,s){const i={layer:"concept",type:"concept",uuid:"concept",allDay:n,...n?{startsAt:null,endsAt:null,startsAtDate:s,endsAtDate:fe(s,en(e.endsAtDate,e.startsAtDate))}:{startsAt:s,endsAt:Ie(s,e.durationInMinutes||30),startsAtDate:null,endsAtDate:null},start:s,end:n?fe(s,en(e.endsAtDate,e.startsAtDate)):Ie(s,e.durationInMinutes||30)},a=t.conceptEventPlaceholder;a&&!!a.allDay==!!i.allDay&&Jm(a.startsAtDate,i.startsAtDate)&&Jm(a.endsAtDate,i.endsAtDate)&&Jm(a.startsAt,i.startsAt)&&Jm(a.endsAt,i.endsAt)||t.setMovingObject(e,i)}function Jm(t,e){return(t==null?void 0:t.getTime())===(e==null?void 0:e.getTime())}function zQ({setDraggingCursor:t,...e}){return Lt({...e,onDrag({arg:{event:n,position:s},lastReturnValue:i,isFirst:a,isLast:l,isCanceled:p,rootStore:{appStore:f},getDay:v}){a&&(t("cursor-ew-resize"),n.setIsChangingDuration(!0));const E=v(),w=i??(s==="left"?fe(n.endsAtDate,-1):n.startsAtDate);return mR(n,E,w),l&&(t(void 0),n.setIsChangingDuration(!1),p||Vx(n)?n.revertUnsavedChanges():n.save({opts:{confirmDecision:!n.isSelected}}).then(({saveDecision:D})=>{D==="continueEditing"&&f.setSelectedObject(n)})),w}})}function KQ({setDraggingCursor:t,...e}){return Lt({...e,onDrag({arg:{task:n,position:s},lastReturnValue:i,isFirst:a,isLast:l,isCanceled:p,getDay:f}){a&&(t("cursor-ew-resize"),n.setIsChangingDuration(!0));const v=f(),E=i??(s==="left"?fe(n.endsAtDate,-1):n.startsAtDate),w=Tm(v,E),D=fe(wr(v,E),1);return n.startsAtDate=w,n.endsAtDate=D,n.dueDate=w,l&&(t(void 0),n.setIsChangingDuration(!1),p?n.revertUnsavedChanges():n.save()),E}})}function ZQ({setDraggingCursor:t,...e}){return Lt({...e,onDrag({arg:{proposal:n,position:s,onDrag:i},lastReturnValue:a,isFirst:l,isLast:p,getTime:f}){l&&t("cursor-ns-resize");const v=a??(s==="top"?n.endsAt:n.startsAt),E=f({dayDate:v});return Im(n,E,v),p&&t(void 0),i==null||i(),v}})}function YQ({setDraggingCursor:t,...e}){return Lt({...e,onDrag({arg:{task:n,position:s},lastReturnValue:i,isFirst:a,isLast:l,isCanceled:p,getTime:f}){a&&(t("cursor-ns-resize"),n.setIsChangingDuration(!0));const v=f(),E=i??(s==="top"?n.endsAt:n.startsAt),w=Tm(v,E),D=wr(v,E);return n.startsAt=w,n.endsAt=D,n.durationInMinutes=Ge(D,w),l&&(t(void 0),n.setIsChangingDuration(!1),p?n.revertUnsavedChanges():n.save()),E}})}function XQ({setDraggingCursor:t,...e}){return Lt({...e,onDrag({arg:{event:n,position:s},lastReturnValue:i,isFirst:a,isLast:l,isCanceled:p,rootStore:{appStore:f},getTime:v}){a&&(t("cursor-ns-resize"),n.setIsChangingDuration(!0));const E=v(),w=i??(s==="top"?n.endsAt:n.startsAt);return Im(n,E,w),l&&(t(void 0),n.setIsChangingDuration(!1),p||Vx(n)?n.revertUnsavedChanges():n.save({opts:{confirmDecision:!n.isSelected}}).then(({saveDecision:D})=>{D==="continueEditing"&&f.setSelectedObject(n)})),w}})}const pR=K.createContext(null),vie=X(function({children:e}){const[n,s]=K.useState(),i=K.useRef(null),a=K.useRef(null),l=K.useRef(null),p=K.useRef(null),f={allDaySectionRef:i,daysSectionRef:l,scrollContainerRef:a,draggedEventRef:p,setDraggingCursor:s},v=XQ(f),E=zQ(f),w=ZQ(f),D=YQ(f),M=KQ(f),o=BQ(f),d=HQ(f),m=UQ(f),h=LQ(f),u=OQ(f),P=RQ(f),R=$Q(f),_=IQ(f),F=PQ(f);return r.jsxs(pR.Provider,{value:{draggingCursor:n,allDaySectionRef:i,daysSectionRef:l,scrollContainerRef:a,bindResizeTimeEvent:v,bindResizeAllDayEvent:E,bindResizeProposal:w,bindResizeTask:D,bindResizeAllDayTask:M,bindMoveEvent:o,bindMoveProposal:d,bindMoveTask:m,bindCreateTimeEvent:h,bindCreateAllDayEvent:u,bindCreateProposal:P,bindMoveSuboptimal:R,bindCreateEventFromTask:_,bindCreateTask:F},children:[e,n&&r.jsx(Kse,{children:r.jsx(wQ,{draggedEventRef:p})})]})});function Je(){return K.useContext(pR)}const Pi=X(function({event:e,deduplicatedEvents:n,hasNarrowTime:s,spansMultipleDays:i,isHoverCardVertical:a,allowDragging:l,hasOverflowStart:p,hasOverflowEnd:f,isInPopover:v}){var P,R,_,F,C;const{appStore:E,userStore:w,alternativeCalendarsStore:D}=se(),M=n==null?void 0:n.map(A=>{const j=A.attendanceStatus==="tentative";return A instanceof de?{color:A.calendar.color,isDashed:j}:A instanceof Le?{color:A.color,isDashed:j}:{color:w.primaryCalendar.color,isDashed:j}}),o=()=>E.setSelectedObject(e),d=D0(e,ge),m=e.allDay?void 0:s&&!i?{type:"time-narrow",date:p?e.endsAt:e.startsAt,timeNotation:w.timeNotation}:{type:"time-extended",startDate:e.startsAt,endDate:e.endsAt,timeNotation:w.timeNotation},h=it(),u=Je();return e instanceof de?r.jsx(Ri,{event:e,children:r.jsx(We,{children:r.jsx(Wr,{event:e,isHoverCardVertical:a,children:r.jsx(us,{title:an(e),stripeVariant:pn(e),colorVariant:gt(e,!i&&!p&&!f),icon:e.meetingBoard?r.jsx(Tr,{progress:(P=e.meetingBoardProgress)==null?void 0:P.percentage,className:"mr-4 inline-block h-16 align-bottom"}):r.jsx(tr,{event:e,sizeVariant:"small",colorHex:null}),secondaryHighlightLines:M,isMuted:d,titleDetailVariant:gn(e),baseColorHex:e.calendar.color,overrideColorHex:rr(e),isTitleStrikeThrough:e.attendanceStatus==="declined",isTransparent:e.isMoving&&!!E.conceptEventPlaceholder,onClick:o,secondaryContentType:m,resizeDragHandleProps:l&&e.allDay&&!e.isMoving&&e.type!=="workingLocation"&&(e.canBeEdited||e.canSuggestToEditInGoogleCalendar)?{left:!p&&u.bindResizeAllDayEvent({event:e,position:"left"}),right:!f&&u.bindResizeAllDayEvent({event:e,position:"right"})}:void 0,hasOverflowStart:p,hasOverflowEnd:f,...(p||f)&&{forceHover:e.isHovered,onMouseEnter:()=>e.setIsHovered(!0),onMouseLeave:()=>e.setIsHovered(!1)},...l&&(e.canBeEdited||e.canSuggestToEditInGoogleCalendar)&&u.bindMoveEvent({event:e,shouldIgnoreDayOffset:v})})})})}):e instanceof Le?r.jsx(Ri,{event:e,children:r.jsx(We,{children:r.jsx(Wr,{event:e,isHoverCardVertical:a,children:r.jsx(us,{title:an(e),stripeVariant:pn(e),colorVariant:gt(e,!i&&!p&&!f),icon:r.jsx(tr,{event:e,sizeVariant:"small",colorHex:null}),secondaryHighlightLines:M,isMuted:d,titleDetailVariant:gn(e),baseColorHex:e.color,isTitleStrikeThrough:e.attendanceStatus==="declined",onClick:o,secondaryContentType:m,hasOverflowStart:p,hasOverflowEnd:f,...(p||f)&&{forceHover:e.isHovered,onMouseEnter:()=>e.setIsHovered(!0),onMouseLeave:()=>e.setIsHovered(!1)}})})})}):e instanceof Gt?r.jsx(us,{title:e.title,stripeVariant:pn(e),colorVariant:gt(e),secondaryHighlightLines:M,isMuted:d,titleDetailVariant:gn(e),baseColorHex:(R=w.primaryCalendar)==null?void 0:R.color,overrideColorHex:(C=(F=(_=w.primaryCalendar)==null?void 0:_.account)==null?void 0:F.eventColors)==null?void 0:C[e.remoteColorId],isTitleStrikeThrough:e.attendanceStatus==="declined",onClick:()=>h(ye.settings.children.workingHours.path),secondaryContentType:m}):e instanceof Ce?r.jsx(us,{title:e.displayTitle,stripeVariant:"no-stripes",colorVariant:gt(e,!i&&!p&&!f),secondaryHighlightLines:M,isMuted:d,baseColorHex:Ls(e,D),onClick:o,isTransparent:e.isMoving&&!!E.conceptEventPlaceholder,icon:r.jsx(Pt,{task:e,sizeVariant:"small",colorHex:null}),secondaryContentType:m,hasOverflowStart:p,hasOverflowEnd:f,...(p||f)&&{forceHover:e.isHovered,onMouseEnter:()=>e.setIsHovered(!0),onMouseLeave:()=>e.setIsHovered(!1)},...l&&u.bindMoveTask({task:e,shouldIgnoreDayOffset:v})}):null});function Wx(){const{eventsStoreManager:t}=se(),[e,n]=K.useState(!1);function s(a){const l=ws(pp(a),{weekStartsOn:1}),p=fe(Re(l,6),-1),f=t.eventFetcher.fetchEventsWithDateTimeRange({startDate:l,endDate:p});if(f){n(!1),f.then(()=>n(!0));return}n(!0)}function i(a){return{content:r.jsx(JQ,{date:a}),className:"p-0 rounded-lg",alignOffset:-4}}return{onMonthShown:s,getDayTooltipProps:e?i:void 0}}const JQ=X(function({date:e}){const{displayEventsStore:n}=se(),s=Wt(e),i={startDate:s,endDate:s},a=Qr([...n.findByTypeInDateRange(de,i),...n.findByTypeInDateRange(Ce,i)]),{allDayEvents:l=[],timeEvents:p=[]}=mm(a,E=>(E instanceof Ce?E.allDay:E.event.allDay)?"allDayEvents":"timeEvents"),f=l.length!==0,v=p.length!==0;return!f&&!v?r.jsx("div",{className:U(oe,"px-12 py-10 text-contrast-50"),children:"No events"}):r.jsxs("div",{className:"flex w-240 flex-col gap-px p-8",children:[l.sort(jN).map(E=>r.jsx(Pi,{event:E.event,deduplicatedEvents:E.deduplicatedEvents},E.event.uuid)),p.sort(jN).map(E=>r.jsx(Pi,{event:E.event,deduplicatedEvents:E.deduplicatedEvents},E.event.uuid))]})});function jN(t,e){const n=t.event.startsAt||t.event.startsAtDate,s=e.event.startsAt||e.event.startsAtDate;return n.getTime()-s.getTime()}function Rp({initialMonth:t,selection:e,onSubmit:n,closeOnSubmit:s,...i}){return r.jsx(cn,{modal:!0,...i,content:a=>r.jsx(QQ,{initialMonth:t,selection:e,onSubmit:s?l=>{a(),n==null||n(l)}:n})})}const QQ=X(function({initialMonth:e,selection:n,onSubmit:s}){const{userStore:i}=se(),a=Wx(),[l,p]=K.useState(e);return $e({key:"ArrowUp"},()=>p(f=>f&&hr(f,-1))),$e({key:"ArrowDown"},()=>p(f=>f&&hr(f,1))),r.jsx(A0,{today:ge.nowStartOfDay,initialMonth:e,selection:n,onSubmit:s,forceMonth:l,isInteractive:!0,className:"p-12",...a,onMonthShown:f=>{p(f),a.onMonthShown(f)},showKeyboardShortcuts:!0,startOfWeek:i.startOfWeek})}),SN=X(function({event:e,displayType:n}){const{userStore:s}=se();if(n==="hovercard"){const i=e.allDay?e.startsAtDate:e.startsAt,a=e.allDay?fe(e.endsAtDate,-1):e.endsAt,l=[e.allDay?It(i):rt(i,"E"),!e.allDay&&nn(i,s.timeNotation,s.displayTimezone)].filter(ct).join(" "),p=[!Ve(i,a)&&(e.allDay?It(a):rt(a,"E")),!e.allDay&&nn(a,s.timeNotation,s.displayTimezone)].filter(ct).join(" ");return r.jsx(st,{label:"When",icon:mr,displayType:n,children:r.jsxs("div",{className:U(oe,"flex flex-wrap gap-4 px-8 py-6"),children:[l,p&&r.jsxs(r.Fragment,{children:[r.jsx(vn,{className:"flex-none text-contrast-50"}),p]})]})})}return r.jsxs(st,{label:"When",icon:mr,displayType:n,childrenContainerClassName:U(oe,"grid grid-cols-[3rem,1fr] items-center justify-items-end gap-8 pl-8 text-contrast-50"),children:[r.jsx(qQ,{event:e}),r.jsx(eq,{event:e})]})}),qQ=X(function({event:e}){return r.jsxs(r.Fragment,{children:["All-day",r.jsx("div",{className:"flex h-28 items-center justify-self-start pl-8",children:r.jsx(et,{disabled:!e.canChangeAllDayField,checked:e.allDay||!1,onChange:n=>{e instanceof de&&e.setAllDay(n.target.checked)}})})]})}),eq=X(function({event:e}){const{appStore:n}=se(),s=e.allDay?e.startsAtDate:e.startsAt,i=!(jr(e)&&e.allDay);return r.jsxs(r.Fragment,{children:[i?"Start":"Date",r.jsxs("div",{className:"flex w-full gap-8",children:[r.jsx(Rp,{selection:s,onSubmit:a=>{e instanceof de&&(e.setStartDate(Wt(a)),n.setCalendarDate(e.startsAt))},align:"end",children:r.jsx(ae,{variant:"tertiary",justifyText:"left",readOnly:!e.canBeEdited,className:"grow",children:It(s,e.uuid)})}),!e.allDay&&r.jsx(AN,{event:e,dateType:"start"})]}),i&&(()=>{const a=e.allDay?bs(e.endsAtDate,1):e.endsAt;return r.jsxs(r.Fragment,{children:["End",r.jsxs("div",{className:"flex w-full gap-8",children:[r.jsx(Rp,{selection:a,onSubmit:l=>{e instanceof de&&e.setEndDate(Wt(l))},align:"end",children:r.jsx(ae,{variant:"tertiary",justifyText:"left",readOnly:!e.canBeEdited,className:"grow",children:It(a,e.uuid)})}),!e.allDay&&r.jsx(AN,{event:e,dateType:"end"})]})]})})()]})}),AN=X(function({event:e,dateType:n}){const{userStore:s}=se(),i=n==="start",a=i?e.startsAt:e.endsAt,l=Ye(s.displayTimezone?Se(a,s.displayTimezone):a,s.timeNotation);return r.jsx(Rs,{initialValue:l,placeholder:"Time",getOptions:p=>tq(p,s.timeNotation),readOnly:!e.canBeEdited,onSubmit:p=>{e instanceof de&&(i?e.setStartTime(p.value,s.displayTimezone):e.setEndTime(p.value,s.displayTimezone))},align:"end",inputProps:{variant:"ghost",className:"w-96 text-black"}})});function tq(t,e){var l;const n=e===12?nq:gR;if(!t)return n;const s=t.replace(/(\d\d?)(\d\d)/,"$1:$2"),i=n.filter(p=>p.label.includes(s)),a=(l=i[0])==null?void 0:l.label;if(a!==s){const p=y_(s);if(ar(p)){const f=Ye(p,e);if(f!==a)return[{value:Ye(p,24),label:f},...i.filter(v=>v.label!==f)]}}return i}const gR=Array(24).fill(null).flatMap((t,e)=>{const n=e.toString().padStart(2,"0");return[n+":00",n+":15",n+":30",n+":45"]}).map(t=>({label:t,value:t})),nq=gR.map(({value:t})=>({label:Rb(t),value:t}));function rq(t){return{value:t.place_id,label:t.structured_formatting.main_text,secondaryLabel:t.structured_formatting.secondary_text,placeId:t.place_id}}const sq=X(function({event:e,displayType:n}){var v;const i=(e instanceof de?e.formattedLocation:e.location)||"",l=n==="hovercard"||!e.canBeEdited,{userStore:p}=se(),f=((v=p.recentLocations)==null?void 0:v.map(E=>({value:E,label:E,secondaryLabel:"Picked recently"})))||[];return r.jsx(st,{label:"Location",icon:Qk,displayType:n,children:r.jsx(GV,{initialValue:i,loadOptions:async E=>E?KH(ue.location.autocomplete(E),w=>{const D=w.map(rq);return[{value:E,label:E},...D]}):[{value:null,label:"No location"},...f],onSubmit:E=>{if(!E.placeId){e.location=E.value;return}ue.location.details(E.placeId).then(w=>{e.location=w.formatted_address})},align:"end",readOnly:l,children:E=>r.jsx(iq,{...E,readOnly:l,mapsProvider:p.mapsProvider})})})}),iq=K.forwardRef(function({value:e,onChange:n,isOpen:s,isLoading:i,onFocus:a,onBlur:l,type:p,mapsProvider:f,onKeyDown:v,...E},w){const[D,M]=K.useState(!1),o=e&&!D;return r.jsxs("div",{className:U(oe,"relative rounded-md",!E.disabled&&!E.readOnly&&"transition focus-within:bg-contrast-5 hover:bg-contrast-5"),children:[r.jsx(E0,{ref:w,...E,variant:"internal",placeholder:E.disabled||E.readOnly?"No location":"Location",value:e,onChange:d=>n(d.target.value),onFocus:()=>{M(!0),a()},onBlur:()=>{M(!1),l==null||l()},onKeyDown:d=>{d.key==="Enter"&&d.preventDefault(),v==null||v(d)},className:o?"opacity-0":"opacity-100"}),o&&r.jsx("div",{className:U("pointer-events-none absolute inset-0 px-8 py-6"),children:r.jsx("a",{href:F_(e,f),className:"pointer-events-auto cursor-pointer outline-none hover:underline focus-visible:ring",target:"_blank",rel:"noopener noreferrer",children:e})})]})}),aq=X(function({event:e,displayType:n}){var i;if(!(e instanceof de))return null;const s=n==="hovercard";if(!e.meetingBoard)return!s&&((i=e.parentEligibilities)!=null&&i.meeting_board)?r.jsx(st,{label:"Meeting Board",icon:Ut,displayType:n,children:r.jsx(ae,{onClick:()=>{ue.meetingBoards.create(e.parentUuid)},children:"Create Meeting Board"})}):null;if(s){const{activeTasks:a}=e.meetingBoard;if(!(a.length!==0))return null;const p=5,f=a.length-p,v=f>0;return r.jsxs("div",{className:"pb-4 last:pb-0",children:[r.jsx("div",{className:"mt-4 border-t border-contrast-10 pb-12"}),r.jsxs("div",{className:U(oe,"flex flex-col gap-8"),children:[a.slice(0,p).map(E=>r.jsxs("div",{className:"flex gap-6",children:[r.jsx(Pt,{task:E}),r.jsx("span",{className:"truncate",children:E.title})]},E.uuid)),v&&r.jsx("div",{className:U(Te,"text-center text-contrast-50"),children:`${f} task${f===1?"":"s"} more`})]})]})}return r.jsx(oq,{event:e,displayType:n})}),oq=X(function({event:e,displayType:n}){var D,M,o;const s=n==="fullpage",i=e.meetingBoard,a=i.activeTasks.length!==0,l=5,p=i.activeTasks.length-l,f=p>0,v=Mm(s?"fullpage":"sidebar"),E=Rx(),{tasks:w}=se();return r.jsxs("div",{children:[r.jsx("div",{className:"mt-8 border-t border-contrast-10 pt-16"}),r.jsxs("div",{className:"-mx-8 flex flex-col gap-6",children:[r.jsxs("div",{className:"flex justify-between pr-6",children:[r.jsx(qt,{variant:"tertiary",to:ye.projects.children.project.getPath({projectUuid:e.meetingBoard.uuid}),iconRight:r.jsx(We,{children:r.jsx(ce,{label:`${(D=e.meetingBoardProgress)==null?void 0:D.completed}/${(M=e.meetingBoardProgress)==null?void 0:M.total} done`,children:r.jsx("div",{children:r.jsx(Tr,{className:"text-primary",backgroundClassName:"text-contrast-20",progress:(o=e.meetingBoardProgress)==null?void 0:o.percentage})})})}),children:"Meeting Board"}),a&&r.jsx(ce,{label:"Add task",children:r.jsx(ae,{variant:"tertiary",icon:Xe,onClick:E.open})})]}),r.jsx("div",{children:a?i.activeTasks.slice(0,l).map(d=>r.jsx(Px,{task:d,openTask:v,widthVariant:s?"large":"small",className:"rounded-md"},d.uuid)):r.jsx(ae,{variant:"tertiary",icon:Xe,onClick:E.open,children:"Add task"})}),f&&r.jsx("div",{className:U(Te,"text-center text-contrast-50"),children:`${p} task${p===1?"":"s"} more`})]}),r.jsx(Mx,{marginTop:12,imperativeHandle:E.handle,isOpen:E.isOpen,createConceptTask:()=>{const d=w.new();return d.workspace=i.workspace,d.project=i,d.status=d.workspace.taskUnstartedStatus,d.durationInMinutes=30,d},saveConceptTask:d=>{w.add(d),d.save()},close:E.close})]})}),lq=X(function({event:e,displayType:n}){return n!=="sidepanel"||e.readOnly||!(e instanceof de)||e.isDeleted&&!e.isOrganizer&&!e.isCreator&&!e.isDirty?null:r.jsx("div",{className:"h-44"})});function cq(t){return r.jsx(uq,{...t},t.event.uuid)}const uq=X(function({event:e,displayType:n}){const s=n==="hovercard",[i,a]=K.useState(()=>e.description?gp.sanitize(yb(e.description.replaceAll(`
`,"<br>"))):"");function l(v){xe(()=>{e.description=v.target.value}),a(v.target.value)}const p=!e.canBeEdited||s,f=()=>{if(i===""||i==="<p></p>"||i==="<br>")return p?r.jsx("div",{className:U(oe,"pointer-events-none absolute top-0 text-contrast-50"),children:"No notes"}):r.jsx("div",{className:U(oe,"pointer-events-none absolute top-0 text-contrast-50"),children:"Notes"})};return r.jsx("div",{className:U("border-t border-contrast-10",s?"mt-4 pt-12":"mt-8 pt-16"),children:r.jsxs("div",{className:"relative",children:[s?r.jsx("div",{className:U(oe,"prose relative max-h-240 min-h-[1rem] font-normal dark:prose-invert [&_a]:cursor-pointer [&_a]:text-primary [&_a]:no-underline hover:[&_a]:underline"),children:r.jsx("div",{className:"max-h-256 overflow-hidden",dangerouslySetInnerHTML:{__html:i}})}):r.jsx(yk,{className:U(oe,"prose min-h-[3.125rem] font-normal outline-none dark:prose-invert [&_a]:cursor-pointer [&_a]:text-primary [&_a]:no-underline hover:[&_a]:underline"),html:i,disabled:p,onChange:l,onClick:L_,onPaste:v=>{const{clipboardData:E}=v,w=window.getSelection();if(!w)return;v.preventDefault();const D=E.getData("text/html")||E.getData("text/uri-list")||E.getData("text/plain"),M=gp.sanitize(D,{FORBID_ATTR:["style"],FORBID_TAGS:["button","input"]}),o=document.createElement("template");o.innerHTML=M;const d=w.getRangeAt(0);d.deleteContents(),d.insertNode(o.content),w.collapseToEnd()}}),f()]})})}),dq=X(function({event:e,displayType:n}){var i,a,l,p;if(!(e instanceof de))return null;const s=e instanceof de;return r.jsxs(st,{label:"Decline options",icon:zk,displayType:n,children:[r.jsx(je,{initialOptionValue:((i=e.outOfOfficeProperties)==null?void 0:i.auto_decline_mode)||"declineNone",options:[{value:"declineNone",label:"Do not decline meetings"},...e.isRecurring?[]:[{value:"declineAllConflictingInvitations",label:"Decline new and existing meetings"}],{value:"declineOnlyNewConflictingInvitations",label:"Decline only new meeting invitations"}],onSubmit:f=>{var v;return s&&e.setOutOfOfficeProperties(f.value,((v=e.outOfOfficeProperties)==null?void 0:v.decline_message)||"")},selectButtonProps:{variant:"tertiary",readOnly:!s,className:"w-full"}}),s&&(((a=e.outOfOfficeProperties)==null?void 0:a.auto_decline_mode)==="declineAllConflictingInvitations"||((l=e.outOfOfficeProperties)==null?void 0:l.auto_decline_mode)==="declineOnlyNewConflictingInvitations")&&r.jsx("div",{className:"p-8",children:r.jsx(Lm,{fallbackHtml:(p=e.outOfOfficeProperties)==null?void 0:p.decline_message,onChange:f=>{var v;s&&e.setOutOfOfficeProperties(((v=e.outOfOfficeProperties)==null?void 0:v.auto_decline_mode)||"declineNone",wR(f))},placeholder:"Message"})})]})});function bR(t){let e;const n={1:Ee.MO,2:Ee.TU,3:Ee.WE,4:Ee.TH,5:Ee.FR,6:Ee.SA,0:Ee.SU},s={daily:Ee.DAILY,weekly:Ee.WEEKLY,monthly:Ee.MONTHLY,yearly:Ee.YEARLY};function i(p){return new Ee({freq:s[p.repeatFrequency],interval:p.repeatInterval,byweekday:p.repeatFrequency==="weekly"?p.repeatOn:p.repeatFrequency==="monthly"&&p.monthOn==="same_weekday"?n[vs(t)].nth(vb(t)):void 0,count:p.ends==="after"?p.count:void 0,until:p.ends==="on"?p.until:void 0,bymonthday:p.repeatFrequency==="monthly"&&p.monthOn==="same_date"?vi(t):void 0}).toString()}const{close:a}=Ke(({close:p,closeHandlerRef:f})=>{f.current=()=>(window.setTimeout(()=>e(null)),!0);const[v,E]=K.useState({repeatInterval:1,repeatFrequency:"weekly",repeatOn:[n[vs(t)]],ends:"never",count:4,until:Re(new Date,4),monthOn:"same_date"}),w=[{day:Ee.MO,label:"Monday"},{day:Ee.TU,label:"Tuesday"},{day:Ee.WE,label:"Wednesday"},{day:Ee.TH,label:"Thursday"},{day:Ee.FR,label:"Friday"},{day:Ee.SA,label:"Saturday"},{day:Ee.SU,label:"Sunday"}],D=[1,2,3,4,5,6,7,8].map(M=>({value:M,label:M.toString()}));return r.jsxs("div",{className:"w-[28rem]",children:[r.jsxs("div",{className:"flex flex-col p-24",children:[r.jsx("h1",{className:U(ht,"mb-16"),children:"Custom repeat"}),r.jsxs("div",{className:"mb-20 flex flex-row items-center gap-8",children:[r.jsx("div",{className:U(oe,"w-112"),children:"Repeat every"}),r.jsx(je,{inputPlaceholder:`Set number of ${hq(v.repeatFrequency)}`,align:"end",options:fq(v.repeatFrequency).map(M=>({value:M,label:M.toString()})),initialOptionValue:v.repeatInterval,onSubmit:({value:M})=>{E(o=>({...o,repeatInterval:M}))},selectButtonProps:{variant:"secondary-semi-transparent",className:"w-56"}}),r.jsx(je,{inputPlaceholder:"Set interval period",align:"end",options:[{value:"daily",label:v.repeatInterval===1?"day":"days"},{value:"weekly",label:v.repeatInterval===1?"week":"weeks"},{value:"monthly",label:v.repeatInterval===1?"month":"months"},{value:"yearly",label:v.repeatInterval===1?"year":"years"}],initialOptionValue:v.repeatFrequency,onSubmit:({value:M})=>{E(o=>({...o,repeatFrequency:M}))},selectButtonProps:{variant:"secondary-semi-transparent"}})]}),v.repeatFrequency==="weekly"&&r.jsxs("div",{className:"mb-16 flex flex-row items-center gap-6",children:[r.jsx("div",{className:U(oe,"w-112"),children:"On"}),r.jsx("div",{className:"flex gap-4",children:w.map(({day:M,label:o})=>{const d=v.repeatOn.includes(M);return r.jsx("button",{className:U(oe,"flex size-28 flex-col items-center justify-center rounded-full outline-none transition focus-visible:ring",d?"bg-primary text-white hover:bg-primary-500 focus-visible:ring-offset-1":"border border-contrast-10 text-black hover:border-contrast-20"),onClick:()=>{E(m=>({...m,repeatOn:d?m.repeatOn.filter(h=>h!==M):[...m.repeatOn,M]}))},children:o[0]},M.toString())})})]}),v.repeatFrequency==="monthly"&&r.jsxs("div",{className:"mb-16 flex flex-row items-center gap-6",children:[r.jsx("div",{className:U(oe,"w-112"),children:"On"}),r.jsx(er,{options:[{value:"same_date",label:`On the ${Oe(t,"do")} day`},{value:"same_weekday",label:`On the ${lH(vb(t))} ${Oe(t,"EEE")}`}],value:v.monthOn,onChange:M=>{E(o=>({...o,monthOn:M}))}})]}),r.jsxs("div",{className:"flex flex-row items-start gap-6",children:[r.jsx("div",{className:U(oe,"mt-[0.5625rem] w-112"),children:"Ends"}),r.jsx("div",{children:r.jsx(Ax,{variant:"plain",size:"tiny",value:v.ends,renderLabel:M=>{if(M.value==="never")return r.jsx("div",{className:"ml-4 leading-28",children:"Never"});if(M.value==="on")return r.jsxs("div",{className:"ml-4 flex flex-row items-center gap-8",children:[r.jsx("div",{className:U(oe,"w-36 text-left"),children:"On"}),r.jsx(Rp,{selection:v.until,onSubmit:o=>{E({...v,until:o})},align:"end",closeOnSubmit:!0,className:"",children:r.jsx(ae,{variant:"secondary-semi-transparent",justifyText:"left",className:U(v.ends!=="on"&&"text-contrast-30"),children:It(v.until)})})]});if(M.value==="after")return r.jsxs("div",{className:"ml-4 flex flex-row items-center gap-8",children:[r.jsx("div",{className:U(oe,"w-36 text-left"),children:"After"}),r.jsx(je,{inputPlaceholder:"Set number of times",align:"end",options:[...D,...D.find(o=>o.value===v.count)?[]:[{value:v.count,label:v.count.toString()}]],getOptions:o=>{const d=parseInt(o.trim(),10);return isNaN(d)||d<=0?D:[{value:d,label:`${d}`},...D.filter(m=>m.value!==d)]},initialOptionValue:v.count,onSubmit:({value:o})=>{E(d=>({...d,count:o}))},selectButtonProps:{variant:"secondary-semi-transparent",className:U(v.ends!=="after"&&"text-contrast-30")}}),r.jsx("div",{className:oe,children:"times"})]})},options:[{value:"never",label:"Never"},{value:"on",label:"On"},{value:"after",label:"After"}],onValueChange:M=>E(o=>({...o,ends:M}))})})]})]}),r.jsxs("div",{className:"flex justify-between border-t border-contrast-10 bg-contrast-5 px-24 py-8",children:[r.jsx(ae,{variant:"secondary",onClick:()=>{p()},children:"Cancel"}),r.jsx(ae,{variant:"primary",onClick:()=>{p(),e(i(v))},children:"Done"})]})]})}),l=new Promise(p=>{e=p});return l.cancel=a,l}function hq(t){switch(t){case"daily":return"days";case"weekly":return"weeks";case"monthly":return"months";case"yearly":return"years"}}function fq(t){switch(t){case"daily":return Array.from({length:365},(e,n)=>n+1);case"weekly":return Array.from({length:8},(e,n)=>n+1);case"monthly":return Array.from({length:24},(e,n)=>n+1);case"yearly":return Array.from({length:8},(e,n)=>n+1)}}const mq=X(function({event:e,displayType:n}){var l;const{userStore:s}=se();if(!(e instanceof de))return;const i=((l=e.rrule)==null?void 0:l.toString())??null,a=!e.canBeEdited;return r.jsx(st,{label:"Repeat",icon:u0,displayType:n,children:r.jsx(je,{inputPlaceholder:"Set recurrence",options:F$(e),initialOptionValue:i,onSubmit:async p=>{if(p.value==="custom"){const f=Se(e.allDay?e.startsAtDate:e.startsAt,s.localTimeZoneString),v=await bR(f);v&&e.setRecurrence(v)}else e.setRecurrence(p.value);xe(()=>{e.timezoneStart=s.localTimeZoneString,e.timezoneEnd=s.localTimeZoneString})},selectButtonProps:{variant:"tertiary",readOnly:a,className:"w-full",children:a||i?void 0:"Repeat"},side:"bottom",align:"end"})})}),pq=X(function({event:e,className:n}){if(!e.conferenceData)return null;const s=Zr(e);return s===null?null:r.jsx("a",{href:s,target:"_blank",className:U("mr-8 rounded-full bg-primary px-8 py-2 text-xs font-medium text-white-static outline-none transition hover:bg-primary-500 focus-visible:ring focus-visible:ring-offset-1",n),rel:"noreferrer",children:"JOIN"})}),gq=X(function({event:e,displayType:n}){var D,M,o,d,m,h;const s=n==="hovercard",{conferenceSolutions:i,objectPool:a}=se(),l=e instanceof de,p=()=>{e.conferenceData&&(navigator.clipboard.writeText(e.conferenceData.link),jt("Video call link copied to clipboard"))},f=l?P$(i,e):null,v=l&&((D=e.conferenceData)!=null&&D.label)?(M=e.conferenceData)==null?void 0:M.label:"Video call",E=!e.canBeEdited,w=it();return r.jsx(st,{label:"Video call",icon:Ns,displayType:n,children:r.jsxs("div",{className:"flex min-h-full items-center gap-8",children:[l&&!s&&!e.readOnly?r.jsx(je,{inputPlaceholder:"Set video call",options:[{options:[{value:null,label:"No video call",icon:wF},...D7(i,e.calendar).map(u=>({value:u.uuid,label:u.label,icon:bq(u.provider)}))]},{options:[!i.hasZoomConnected&&!((o=e.calendar)!=null&&o.account.isOutlook)&&{value:"zoom",label:"Add Zoom",icon:ai},{value:"custom",label:"Add custom link",icon:Xe}].filter(ct)}],initialOptionValue:(f==null?void 0:f.uuid)||null,onSubmit:u=>{if(u.value==="zoom"||u.value==="custom"){w(ye.settings.children.conferencing.path);return}xe(()=>{u.value?e.conferenceSolution=a.getObject("conference_solution",u.value):e.conferenceSolution=null,e.conferenceData=null})},selectButtonProps:{variant:"tertiary",readOnly:E,className:"w-full",children:E||f?void 0:v},side:"bottom",align:"end"}):r.jsx("div",{className:U(oe,"w-full px-8",!((d=e.conferenceData)!=null&&d.label)&&"text-contrast-50"),children:((m=e.conferenceData)==null?void 0:m.label)||"No video call"}),((h=e.conferenceData)==null?void 0:h.link)&&!s&&r.jsxs("div",{className:"flex flex-none items-center pr-8",children:[r.jsx(pq,{event:e,className:"ml-4"}),r.jsx(ce,{label:"Copy video call link",children:r.jsx(ae,{size:"small",variant:"tertiary",icon:xn,onClick:p})})]})]})})});function bq(t){switch(t){case"google_meet":return tH;case"zoom":return ai;default:return Ns}}const yq=X(function({event:e,displayType:n}){if(!(e instanceof de||e instanceof Le)||!e.workingLocation)return null;const s=e instanceof de;return r.jsx(st,{label:"Working location",icon:_b,displayType:n,children:r.jsx(je,{initialOptionValue:e.workingLocation.type,options:[{icon:Jk,value:"homeOffice",label:"Home"},{icon:_b,value:"officeLocation",label:"Office"}],onSubmit:i=>s&&e.setWorkingLocationType(i.value),selectButtonProps:{variant:"tertiary",readOnly:!s,className:"w-full"}})})}),vq=X(function({object:e,displayType:n}){var s;if(n==="hovercard"){const i=e instanceof Ce,a=!i,l=e instanceof de,p=a&&jr(e);return r.jsxs("div",{className:"mb-4 flex gap-6 last:mb-0",children:[i&&r.jsx("div",{className:"flex-none",children:r.jsx(Pt,{task:e,sizeVariant:"normal",className:"mt-[0.0625rem]"})}),l&&e.meetingBoard&&r.jsx(Tr,{progress:(s=e.meetingBoardProgress)==null?void 0:s.percentage,className:"mt-2",sizeVariant:"normal"}),r.jsx("h1",{className:ht,children:p?"Working location":i?e.displayTitle:an(e)})]})}return r.jsx(xq,{object:e,displayType:n})}),xq=X(function({object:e,displayType:n}){const{browserStore:s}=se(),i=e instanceof Ce,a=!i,l=e instanceof de,p=a&&jr(e),f=a&&Ti(e),v=i||e.canBeEdited&&!p,E=v&&(!e.title||(l||i)&&(e.isDraft||e.isNew)),[w,D]=K.useState(!1),[M,o]=K.useState(e.title||""),d=K.useRef(null),m=Mt()||s.shouldDisableHeavyAnimations;function h(){M!==e.title&&!(M===""&&e.title===null)&&(e.title=M,i&&(n!=="sidepanel"||!e.isNew)&&e.save())}const u=K.useRef(!m);return K.useEffect(()=>{const P=u.current;if(u.current&&(u.current=!1),E){let R=function(){const _=d.current;_.setSelectionRange(_.value.length,_.value.length),_.focus()};if(P){const _=window.setTimeout(R,Bm.duration*1e3);return()=>window.clearTimeout(_)}R()}},[E,e.type,e.uuid]),Rt(()=>{var P;return(P=d.current)==null?void 0:P.blur()},{isEnabled:w}),rn(e.title||"",()=>{w||o(e.title||"")}),r.jsxs("div",{className:"flex gap-4",children:[l&&r.jsx(jq,{event:e}),i&&r.jsx("div",{className:"w-28 flex-none",children:r.jsx(Pt,{task:e,sizeVariant:"large",className:"mt-[0.3125rem]"})}),r.jsx(E0,{ref:d,variant:"ghost",placeholder:v?a?"New event":e.isNew?"New task":"Untitled task":"No title",value:p?"Working location":M||(!v&&f?"Out of office":""),disabled:!v,className:U(Jr,"-mx-8 mb-4 w-[calc(100%+16px)] py-4"),onKeyDown:_s({key:"Enter",isActiveWhenInputFocused:!0,execute:Qn},{key:"Enter",shiftKey:!0,isActiveWhenInputFocused:!0,execute:Qn},{...i?aP.keyboardShortcut:mi.keyboardShortcut,isActiveWhenInputFocused:!0,execute:h}),onChange:P=>o(P.target.value),onFocus:()=>D(!0),onBlur:()=>{D(!1),h()}})]})}),jq=X(function({event:e}){const{appStore:n,objectPool:s,userStore:i}=se();return K.useEffect(()=>{if(!e.title||!e.isNew)return;const a=sn(e.title);if(a.isTask&&a.title){const l=B7({event:e,objectPool:s,userStore:i,title:a.title});e.setDraft(!0),n.setSelectedObject(l)}},[n,e,e.title,s,i]),null});function Pp({icon:t,children:e,showLine:n=!0}){return r.jsxs("div",{className:U(Ne,"flex w-full flex-row items-start gap-16 pt-6"),children:[r.jsxs("div",{className:"flex w-20 flex-none flex-col items-center self-stretch",children:[t,n&&r.jsx("div",{className:"mt-6 min-h-[18px] w-px grow bg-contrast-10"})]}),r.jsx("div",{className:"grow pb-6",children:e})]})}const Sq=({log:t})=>{var v,E,w;const{objectPool:e}=se(),n=e.getObject("member",t.user_uuid);if(!n)return null;let s,i=r.jsx(Yn,{size:"xsmall",member:n});const a=D=>{var M;return((M=e.getObject("member",D))==null?void 0:M.displayName)||"Unknown user"},l=D=>e.getObject("workspace_task_status",D),p=D=>e.getObject("label",D),f=D=>D?e.getObject("project",D):null;switch(t.type){case"project":const[D,M]=t.changes.project_uuid.map(f);if(D===M)return null;i=r.jsx(Ut,{className:"text-contrast-50"}),s=r.jsxs(r.Fragment,{children:[M?D?"moved to":"added to":"removed from"," project"," ",r.jsx("span",{className:oe,children:M==null?void 0:M.name})]});break;case"priority":const[o,d]=t.changes.priority;if(d){const T=o?o>d?"raised":"lowered":"set";s=r.jsxs(r.Fragment,{children:[T," priority to"," ",r.jsx("span",{className:oe,children:Zn[d]})]}),i=r.jsx(Vt,{priority:d})}else s=r.jsx(r.Fragment,{children:"unset priority"});break;case"assignee":const[m,h]=t.changes.assignee_uuid;h?(s=r.jsxs(r.Fragment,{children:["assigned"," ",r.jsx("span",{className:oe,children:a(h)})]}),h===t.user_uuid&&(s="assigned themselves")):m&&(s=r.jsxs(r.Fragment,{children:["unassigned"," ",r.jsx("span",{className:oe,children:a(m)})]})),i=r.jsx(d0,{className:"text-contrast-50"});break;case"label":i=r.jsx(xp,{className:"text-contrast-50"});const[u,P]=t.changes.label_uuid;if(u===P)return;P?s=r.jsxs(r.Fragment,{children:["added label"," ",r.jsx("span",{className:oe,children:(v=p(P))==null?void 0:v.name})]}):u&&(s=r.jsxs(r.Fragment,{children:["removed label"," ",r.jsx("span",{className:oe,children:(E=p(u))==null?void 0:E.name})]}));break;case"status":const[R,_]=t.changes.status_uuid.map(l);if((R==null?void 0:R.label)===(_==null?void 0:_.label)&&(R==null?void 0:R.type)===(_==null?void 0:_.type))return null;s=r.jsxs(r.Fragment,{children:["changed status from"," ",r.jsx("span",{className:oe,children:(R==null?void 0:R.label)||"Unknown status"})," ","to"," ",r.jsx("span",{className:oe,children:(_==null?void 0:_.label)||"Unknown status"})]}),_&&(i=r.jsx(Ii,{type:_.type,sizeVariant:"normal",className:"text-contrast-50"}));break;case"title":const[F,C]=t.changes.title;s=r.jsxs(r.Fragment,{children:["changed title from"," ",r.jsx("span",{className:oe,children:F})," to"," ",r.jsx("span",{className:oe,children:C})]});break;case"schedule":if(!t.changes.due_date)return null;const[A,j]=t.changes.due_date;if(A===j)return null;j?s=r.jsxs(r.Fragment,{children:[A?"re":"","scheduled for"," ",r.jsx("span",{className:oe,children:It(pt(j))})]}):A&&(s="cleared due date"),i=r.jsx(mr,{className:"text-contrast-50"});break;case"recurrence":const[x,N]=t.changes.recurrence;N?s=r.jsxs(r.Fragment,{children:[x?"updated":"set"," recurrence to"," ",r.jsx("span",{className:oe,children:(w=Dx(N))==null?void 0:w.toText()})]}):x&&(s="removed recurrence");break;case"description":const[b,O]=t.changes.description_json;O?s=r.jsx(r.Fragment,{children:b?"updated the description":"added a description"}):s="removed the description",i=r.jsx(Gk,{className:"text-contrast-50"});break}return s?r.jsx(Pp,{icon:i,children:r.jsx("div",{className:Ne,children:r.jsxs("div",{className:U(Ne,"mb-4"),children:[r.jsx("span",{className:oe,children:n.displayName})," ",s,r.jsxs("span",{className:"text-contrast-30",children:[" "," ",r.jsx(Qy,{date:yn(t.time)})]})]})})},t.time):null},Aq=X(function({task:e,displayType:n}){var w;const{objectPool:s,socketService:i}=se(),[a,l]=K.useState(null);K.useEffect(()=>{ue.tasks.getChangelog(e.uuid).then(D=>{l(D)})},[e.uuid]),K.useEffect(()=>{const D=i.addMessageListener("sync",M=>{M.object_uuid===e.uuid&&ue.tasks.getChangelog(e.uuid).then(o=>{l(o)})});return()=>{i.removeMessageListener(D)}},[e.uuid,i]);const p=e.workspace.workspaceMembers.map(D=>({label:D.member.displayName,value:D.member.uuid,member:D.member})),f=e.subscribers,v=e.isSelfSubscribed;if(a===null)return null;const E=[...e.comments,...a].sort((D,M)=>{const o=D instanceof ms?D.createdAt:yn(D.time),d=M instanceof ms?M.createdAt:yn(M.time);return o<d?-1:o>d?1:0});return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:U(n==="fullpage"?"my-24":"my-12","h-px bg-contrast-10")}),r.jsxs("div",{children:[r.jsxs("div",{className:"mb-16 flex items-center gap-8",children:[r.jsx("div",{className:U(ht,"grow"),children:"Activity"}),r.jsx(ae,{variant:"tertiary",onClick:()=>{v?e.removeSubscriber(s.member):e.addSubscriber(s.member)},children:v?"Unsubscribe":"Subscribe"}),r.jsx(je,{hasMultipleValues:!0,shouldStayOpenOnSubmit:!0,renderLabel:D=>r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx(Yn,{size:"xsmall",member:D.member}),r.jsx("div",{className:"truncate",children:D.label})]}),inputPlaceholder:"Change subscribers",initialOptionValue:f.map(D=>D.uuid),options:p,getOptions:(D,M)=>{const o=D.trim().toLowerCase();return D.length<2||M.some(d=>d.options.some(m=>m.label.toLowerCase()===o)),M},onSubmit:D=>{f.some(M=>M.uuid===D.value)?e.removeSubscriber(D.member):e.addSubscriber(D.member)},selectButtonProps:{variant:"tertiary",children:r.jsx(wq,{subscribers:f}),iconRight:null},side:"bottom",align:"end"})]}),e.creator&&r.jsx(Pp,{icon:r.jsx(Yn,{size:"xsmall",member:e.creator}),children:r.jsxs("div",{className:U(Ne,"mt-2 text-contrast-75"),children:["Created"," ",((w=e.creator)==null?void 0:w.displayName)&&r.jsxs(r.Fragment,{children:["by"," ",r.jsx("span",{className:U(oe,"text-black"),children:e.creator.displayName})]}),e.createdAt&&r.jsxs("span",{className:"text-contrast-30",children:[" "," ",r.jsx(Qy,{date:e.createdAt})]})]})}),E.map(D=>D instanceof ms?r.jsx(Pp,{icon:r.jsx(Yn,{size:"xsmall",member:D.member}),children:r.jsxs("div",{className:Ne,children:[r.jsxs("div",{className:U(oe,"mb-4"),children:[D.member.displayName,r.jsxs("span",{className:U(Ne,"text-contrast-30"),children:[" ",""," ",D.createdAt&&r.jsx(Qy,{date:D.createdAt}),D.isEdited&&" (edited)"]})]}),r.jsx(Eq,{content:D.message})]})},D.uuid):r.jsx(Sq,{log:D},D.type+D.time)),r.jsx(Dq,{task:e})]})]})});function Eq(t){return r.jsx(Lm,{...t,readOnly:!0,enableCustomElements:!0})}const Dq=X(function({task:e}){const{objectPool:n}=se(),[s,i]=K.useState(!0),a=Yx();function l(){const p=a.current.getContent();p&&e.addComment(p),a.current.clear()}return r.jsx(Pp,{icon:r.jsx(Yn,{size:"xsmall",member:n.member}),showLine:!1,children:r.jsxs("div",{className:"relative flex flex-col gap-8 rounded-md border border-contrast-10 p-6",children:[r.jsx("div",{className:"absolute inset-0 cursor-text",onClick:()=>a.current.focus()}),r.jsx(Lm,{enableCustomElements:!0,actionsRef:a,onKeyDown:_s({key:"Enter",commandKey:!0,isActiveWhenInputFocused:!0,execute:p=>{p.stopPropagation(),l()}}),onChange:()=>{var p;i(!((p=a.current)!=null&&p.getContent()))},placeholder:"Write comment"}),r.jsx(ae,{variant:"primary",onClick:l,className:"self-end",keyboardShortcut:{key:"Enter",commandKey:!0},disabled:s,children:"Comment"})]})})}),wq=K.forwardRef(function({subscribers:e,className:n,...s},i){const a=U("-ml-8 rounded-full first:ml-0",e.length>1&&"border border-base-bg-elevated"),l=e.length===0?[null]:e;return r.jsx("div",{ref:i,className:Ae("flex",n),...s,children:l.map((p,f)=>r.jsx(Yn,{member:p,className:a},(p==null?void 0:p.uuid)||f))})}),Cq=X(function({task:e,displayType:n}){var a;const s=Ln({task:e});if(e.workspace.isPersonal)return null;const i=L0(s);return r.jsx(st,{label:"Assignee",icon:d0,displayType:n,children:r.jsx(je,{inputPlaceholder:"Set assignee",initialOptionValue:((a=e.assignee)==null?void 0:a.uuid)||null,options:[{value:null,member:null,label:"No assignee"},...i],onSubmit:({member:l})=>{l===null?e.assignee=null:e.assignee=l,e.save()},selectButtonProps:{className:"w-full",variant:"tertiary",icon:e.assignee?r.jsx(Yn,{member:e.assignee}):null},side:"bottom",align:"end"})})}),Tq=X(function({task:e,displayType:n}){const{actionsStore:s,objectPool:i}=se(),[a,l]=K.useState(!1),p=kM();function f(w){w.preventDefault(),l(!1),Array.from(w.dataTransfer.items).forEach(D=>{if(D.kind==="file"){const M=D.getAsFile();if(M){const o=ki.create(i);o.task=e,o.upload(M)}}})}function v(w){w.dataTransfer.types.includes("Files")&&l(!0)}function E(){l(!1)}return r.jsx(st,{label:"Attachments",icon:f0,displayType:n,children:r.jsxs("div",{onDrop:f,onDragEnter:v,onDragLeave:E,children:[r.jsx(ce,{label:"Add attachment",children:r.jsx(ae,{variant:"tertiary",onClick:()=>s.executeAction(fP,p),children:"Add attachment"})}),e.attachments.length>0&&r.jsx("div",{className:"mb-4 flex flex-col gap-4",children:e.attachments.map(w=>r.jsx(Nq,{attachment:w},w.uuid))}),r.jsx("div",{className:U("border-2",a?"border-primary":"border-transparent")})]})})}),Nq=X(function({attachment:e}){const n=Ln({attachment:e});return r.jsx(Cr,{options:()=>[n.actionToMenuOption(mP)],children:r.jsxs("button",{className:U(Te,"relative flex flex-row gap-6 overflow-hidden rounded-md border border-contrast-10 bg-contrast-5 p-10 hover:bg-contrast-10 data-[state=open]:bg-contrast-10"),onClick:()=>e.getDownloadURL().then(s=>{var i;pe.isDesktopApp?(i=window.todesktop)==null||i.contents.openUrlInApp(s):Fe(s)}),children:[e.progress&&e.progress<100&&r.jsx("div",{className:"absolute inset-0 z-[-1]",children:r.jsx("div",{className:"h-full bg-green-50 transition-all",style:{width:`${e.progress}%`}})}),r.jsx(f0,{className:"h-12 w-12 flex-none"})," ",e.fileName]})})}),kq=X(function({task:e,displayType:n}){const[s,i]=K.useState(!1),[a,l]=K.useReducer(v=>v+1,0),p=Yx(),f=K.useRef(!1);return rn(e.description,()=>{s||l()}),K.useEffect(()=>{const v=p.current;return()=>{f.current&&(f.current=!1,xe(()=>{e.description=v.getContent(),e.save()}))}},[e,p]),r.jsx(st,{label:"Attachments",icon:Gk,displayType:n,children:r.jsx("div",{className:U("relative cursor-text rounded-md border p-6 transition-all",s?"border-contrast-10":"border-transparent hover:bg-contrast-5"),onClick:()=>{s||p.current.focus()},children:r.jsx(Lm,{enableCustomElements:!0,actionsRef:p,content:e.description,onChange:()=>{f.current||(f.current=!0)},onFocus:()=>i(!0),onBlur:()=>{i(!1),f.current&&(f.current=!1,xe(()=>{e.description=p.current.getContent(),e.save()}))},placeholder:"Description",placeholderClassName:U(oe,"prose w-full max-w-full text-contrast-50 outline-none dark:prose-invert"),className:"transition-all focus:!min-h-48"},a)})})}),ib=As({nullDuration:!0}),_q=X(function({task:e,displayType:n}){const{userStore:s}=se(),i=n==="hovercard",a=e.dueDate?It(e.dueDate):"No due date",l=ib.find(f=>f.value===e.durationInMinutes),p=e.overDue&&!e.isDone;return r.jsx(st,{label:"Due",icon:mr,displayType:n,childrenContainerClassName:"flex flex-col gap-8",children:i?r.jsxs("span",{className:U(oe,"px-8 py-6"),children:[r.jsx("span",{className:p?"text-red-500":void 0,children:a}),`  ${(l==null?void 0:l.label)||e.durationInMinutes+" minutes"}`]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:U("grid gap-8",e.dueDate?"grid-cols-2":"grid-cols-1"),children:[r.jsx(Gx,{selection:e.dueDate||void 0,onSubmit:f=>{e.setDueDate(f||null),e.save()},align:"end",closeOnSubmit:!0,startOfWeek:s.startOfWeek,children:r.jsx(ae,{variant:"tertiary",justifyText:"left",className:U(p?"text-red-500":!e.dueDate&&"text-contrast-50"),children:a})}),e.dueDate&&r.jsx(Oq,{task:e})]}),r.jsx(je,{inputPlaceholder:"Set duration",align:"end",options:[...l?[]:[{value:e.durationInMinutes,label:`${e.durationInMinutes} minutes`}],...ib],getOptions:(f,v)=>{const E=parseInt(f.trim(),10);return isNaN(E)||E<=0?v:[{value:E,label:`${E} minutes`},...ib.filter(w=>w.value!==E)]},initialOptionValue:e.durationInMinutes,onSubmit:({value:f})=>{e.setDuration(f),e.save()},selectButtonProps:{variant:"tertiary"}})]})})}),Oq=X(function({task:e}){const{userStore:n}=se(),s=e.startsAt?Ye(n.displayTimezone?Se(e.startsAt,n.displayTimezone):e.startsAt,n.timeNotation):null,i=[{value:null,label:"all-day"},...Array(24).fill(null).flatMap((a,l)=>{const p=l.toString().padStart(2,"0");return[p+":00",p+":15",p+":30",p+":45"]}).map(n.uses12HourClock?a=>({value:a,label:Rb(a)}):a=>({value:a,label:a}))];return s&&!i.some(a=>a.label===s)&&i.unshift({value:s,label:n.uses12HourClock?Rb(s):s}),r.jsx(je,{inputPlaceholder:"Set start time",align:"end",options:i,getOptions:(a,l)=>{if(!a)return l;const p=a.replace(/(\d\d?)(\d\d)/,"$1:$2");if(i.some(E=>E.label.includes(p)))return l;const f=y_(p);if(!ar(f))return l;const v=Ye(f,n.timeNotation);return[{value:Ye(f,24),label:v},...i]},initialOptionValue:s,onSubmit:({value:a})=>{e.setStartTime(a,n.displayTimezone),e.save()},selectButtonProps:{variant:"tertiary",isMuted:!1}})}),Iq=X(function({task:e}){const{actionsStore:n}=se(),s=[{label:$r.label,icon:$r.icon,isDestructive:!0,onSelect:()=>{n.executeAction($r,{task:e})}}];return r.jsx(Ue,{align:"end",options:s,children:r.jsx(ae,{variant:"tertiary",size:"medium",icon:Ot})})}),Mq=X(function({task:e,displayType:n}){var i,a,l;const s=[e.workspace.name||e.workspace.domain,(i=e.team)==null?void 0:i.name,(l=(a=e.project)==null?void 0:a.team)==null?void 0:l.name].filter(ct).join(" / ");return s?r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:U(yr,"grow text-contrast-50"),children:s}),n==="fullpage"&&r.jsx(Iq,{task:e,displayType:n})]}):null}),Rq=X(function({task:e,displayType:n}){const{labels:s,taskLabels:i}=se(),a=s.getLabelsByWorkspace(e.workspace).map(f=>({label:f.name,value:f.uuid,labelEntity:f,icon:r.jsx("div",{className:"mx-[0.1875rem] size-10 rounded-full",style:{backgroundColor:f.color}})}));let l={label:"No labels"};const p=i.getLabelsForTask(e);return p.length>0&&(l={label:p.length===1?p[0].name:`${p.length} labels`,icon:r.jsx(Jy,{labels:p})}),r.jsx(st,{label:"Labels",icon:xp,displayType:n,children:r.jsx(je,{hasMultipleValues:!0,shouldStayOpenOnSubmit:!0,inputPlaceholder:"Add labels",initialOptionValue:p.map(f=>f.uuid),options:a,getOptions:(f,v)=>{const E=f.trim().toLowerCase();return f.length<2||v.some(w=>w.options.some(D=>D.label.toLowerCase()===E))?v:[...v,{options:[{label:`Create new label "${f}"`,value:f,icon:Xe}]}]},onSubmit:f=>{if(!f.labelEntity){xe(()=>{const v=s.new();v.workspace=e.workspace,v.name=f.value,v.color=s.nextColor,s.add(v),v.save().then(async({done:E})=>{await E,e.addLabel(v)})});return}p.some(v=>v.uuid===f.value)?e.removeLabel(f.labelEntity):e.addLabel(f.labelEntity)},selectButtonProps:{className:"w-full",variant:"tertiary",icon:l.icon,children:r.jsx("div",{className:"min-w-0 truncate",children:l.label}),isMuted:p.length===0},side:"bottom",align:"end"})})}),Pq=X(function({task:e,displayType:n}){const{appStore:s}=se(),i=it();return e.parent?r.jsx("div",{children:r.jsx(ce,{label:"Go to parent task",side:"left",children:r.jsx(ae,{icon:Ts,onClick:()=>n==="fullpage"?i(ye.task.getPath({taskUuid:e.parent.uuid})):s.setSelectedObject(e.parent),children:e.parent.title})})}):null}),Lq=X(function({task:e,displayType:n}){return r.jsx(st,{label:"Priority",icon:jF,displayType:n,children:r.jsx(je,{inputPlaceholder:"Set priority",initialOptionValue:e.priority||null,options:[{value:null,label:"No priority",icon:r.jsx(Vt,{priority:null,zeroIcon:!0})},...Object.keys(Zn).map(s=>({value:parseInt(s),label:Zn[parseInt(s)],icon:r.jsx(Vt,{priority:parseInt(s)})}))],onSubmit:({value:s})=>{s===null?e.priority=null:e.priority=s,e.save()},selectButtonProps:{className:"w-full",variant:"tertiary",icon:e.priority?r.jsx(Vt,{priority:e.priority}):null},side:"bottom",align:"end"})})}),Bq=X(function({task:e,displayType:n}){var a,l;const s=Ln({task:e}),i=$M(s);return i.length===0?null:r.jsx(st,{label:"Project",icon:Ut,displayType:n,children:r.jsx(je,{inputPlaceholder:"Set project",initialOptionValue:((a=e.project)==null?void 0:a.uuid)||null,options:i,onSubmit:({value:p,project:f})=>{if(p==="new")return Om({workspace:e.workspace,onProjectCreated:v=>{v&&(e.setProject(v),e.save())}});if(p==="private"){e.moveToPrivateWorkspace(),e.save();return}if(f===null){e.project=null,e.save();return}e.setProject(f),e.save()},selectButtonProps:{className:"w-full",variant:"tertiary",children:(l=e.project)!=null&&l.uuid?null:"No project"},side:"bottom",align:"end"})})}),Fq=X(function({task:e,displayType:n}){var a;const s=Ln({task:e}),i=UM(s);return i.length===0?null:r.jsx(st,{label:"Custom group",icon:kb,displayType:n,children:r.jsx(je,{inputPlaceholder:"Set custom group",initialOptionValue:((a=e.projectState)==null?void 0:a.uuid)||null,options:[{value:null,projectState:null,label:"No group"},...i],onSubmit:({projectState:l})=>{e.projectState=l,e.save()},selectButtonProps:{className:"w-full",variant:"tertiary"},side:"bottom",align:"end"})})}),Hq=X(function({task:e,displayType:n}){var i;const s=((i=e.rrule)==null?void 0:i.toString())??null;return r.jsx(st,{label:"Repeat",icon:u0,displayType:n,children:r.jsx(je,{inputPlaceholder:"Set recurrence",options:V$(e),initialOptionValue:s,onSubmit:async({value:a})=>{if(a==="custom"){const l=await bR(e.dueDate||new Date);l&&e.setRecurrence(l)}else e.setRecurrence(a)},selectButtonProps:{variant:"tertiary",className:"w-full"},side:"bottom",align:"end",bottomHint:"When repeating, the next occurrence will be created when the task is marked as done."})})}),Vq=X(function({task:e,displayType:n}){const s=Mm(n==="fullpage"?"fullpage":"sidebar"),i=Rx();return r.jsxs("div",{className:"flex flex-col gap-6",children:[e.children.length!==0&&r.jsxs("div",{className:U(oe,"flex flex-col"),children:[r.jsx("div",{className:U(n==="fullpage"?"my-24":"my-12","h-px bg-contrast-10")}),r.jsx("div",{className:"mb-6 mt-12",children:"Sub-tasks"}),r.jsx(XY,{tasks:e.children,widthVariant:n==="fullpage"?"large":"small",isNotInteractive:n==="hovercard",hideParentLabel:!0,openTask:s,reorder:({sourceIndex:a,destinationIndex:l})=>{e.reorderChildren(a,l)},taskClassName:"rounded-md"})]}),r.jsx(ae,{variant:"tertiary",icon:Xe,onClick:i.open,className:"self-start",children:"Add sub-task"}),r.jsx(Mx,{imperativeHandle:i.handle,isOpen:i.isOpen,marginTop:-6,isDueButtonDisabled:!0,createConceptTask:()=>e.createChildTaskFromProperties(),saveConceptTask:a=>{const l=e.attachChildTask(a);a.save(),l.save()},close:i.close})]})}),$x=X(function(e){const{object:n,...s}=e,i=n instanceof Ce,a=i?n:null;return r.jsxs(r.Fragment,{children:[a&&r.jsx($q,{task:a,...s}),r.jsx(vq,{object:a||n,...s}),a?r.jsx(Uq,{task:a,...s}):!i&&r.jsx(Wq,{event:n,...s})]})}),Wq=X(function({noTimes:e,...n}){var h,u;const{event:s,displayType:i}=n,a=i==="hovercard",l=jr(s),p=Ti(s),f=!l&&!p,v=s.attendees&&s.attendees.length!==0,E=s instanceof de,w=f&&(v||!a&&E&&!s.readOnly),D=f&&(!a||((h=s.conferenceData)==null?void 0:h.label)),M=!a||!((u=s.attendees)!=null&&u.some(P=>P.isSelf)),o=f&&(!a||(E?s.formattedLocation:s.location)),d=f&&(!a||s.description),m=f&&E;return r.jsxs(r.Fragment,{children:[!e&&a&&r.jsx(SN,{...n}),w&&r.jsx(cX,{...n}),l&&r.jsx(yq,{...n}),!e&&!a&&r.jsx(SN,{...n}),!a&&r.jsx(mq,{...n}),p&&r.jsx(dq,{...n}),D&&r.jsx(gq,{...n}),M&&r.jsx(hX,{...n}),o&&r.jsx(sq,{...n}),f&&r.jsx(qY,{...n}),f&&r.jsx(aq,{...n}),d&&r.jsx(cq,{...n}),m&&r.jsx(lq,{...n})]})}),$q=X(function(e){const{displayType:n}=e;return n==="hovercard"?null:r.jsxs(r.Fragment,{children:[r.jsx(Mq,{...e}),r.jsx(Pq,{...e})]})}),Uq=X(function(e){const{task:n,displayType:s}=e,i=s==="hovercard",a=!i||n.priority!==null,l=!i||n.project,p=!i||n.recurrence,f=!i||n.labels.length!==0,v=!i||n.description;return r.jsxs(r.Fragment,{children:[!i&&r.jsx(Cq,{...e}),a&&r.jsx(Lq,{...e}),l&&r.jsx(Bq,{...e}),r.jsx(Fq,{...e}),r.jsx(_q,{...e}),p&&r.jsx(Hq,{...e}),f&&r.jsx(Rq,{...e}),v&&r.jsx(kq,{...e}),!i&&r.jsx(Tq,{...e}),!i&&r.jsx(Vq,{...e},n.uuid),!i&&r.jsx(Aq,{...e})]})}),Gq=X(function({event:e}){var P;const{userStore:n,appStore:s,peopleStore:i}=se(),a=K.useRef({startsAt:e.startsAt,duration:e.duration,participantAvailability:e.participantAvailability});$e({key:"Enter"},E),$e({key:"Escape"},v);const l=yx();if(e.findTimeResponse===null||e.findTimeResponse.alternativeQueries===null)return null;const p=N0(e.findTimeResponse);if(!p)return null;const f=R=>{xe(()=>{if(R){const _=R.proposals[0];e.setStartsAt(_.time),e.setDuration(_.duration),e.eventCreationSource="suboptimal",e.suggestedTimeByEngine=_.time,_.participantAvailability&&(e.participantAvailability=_.participantAvailability)}else e.setStartsAt(a.current.startsAt),e.setDuration(a.current.duration),e.eventCreationSource="fat-modal",e.suggestedTimeByEngine=a.current.startsAt,e.participantAvailability=a.current.participantAvailability}),s.setCalendarDateTime(e.startsAt)};function v(){e.revertUnsavedChanges(),xe(()=>{e.mode="normal",e.eventCreationSource=null,e.findTimeResponse=null,e.findTimeQuery=null}),s.setCalendarDate(e.startsAt),s.setSelectedObject(null)}function E(){xe(()=>{e.mode="normal",e.findTimeResponse=null,e.findTimeQuery=null})}function w(R){return R.filter(({score:_})=>_.availability===0).map(_=>({email:_.participant.label,isSelf:_.participant.label===e.calendar.account.accountEmail}))}const D=w(p.scores).map(({email:R,isSelf:_})=>_?"you":i.nameForEmail({email:R,fallbackOnEmail:!0,preferFirstName:!0}));function M(R){const _=Se(a.current.startsAt),F=`on ${rt(_,"EEEE LLL do, ")}`+Ye(_,n.timeNotation);if(R.length===1&&R[0]==="you")return`Youre unavailable ${F}.`;let C="";return R.length===1?C=`${R[0]} cannot make it ${F}.`:R.length===2?C=`${R[0]} and ${R[1]} cannot make it ${F}.`:C=`${R.slice(0,R.length-1).join(", ")} and ${R[R.length-1]} cannot make it ${F}.`,C.startsWith("you")?On(C):C}function o(R){const _=typeof R=="string"?R:R.label;return _?_==="next_2"?"No one is available to meet in the next two days.":_==="asap"?"No one is available within the next week.":_.startsWith("week")?`No one is available to meet in ${_}.`:`No one is available to meet ${_}.`:"No one is available to meet."}const d=()=>p.type==="suboptimal"?r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:U(ht,"mb-8"),children:o(e.findTimeQuery.timeWindow)}),r.jsx("p",{className:U(Ne,"text-contrast-50"),children:"Select one of the options that work for everyone below."})]}):p.type==="alternative"?r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:U(ht,"mb-8"),children:M(D)}),r.jsx("p",{className:U(Ne,"text-contrast-50"),children:"Accept regardless, or make some adjustments to make this meeting work for everyone."})]}):r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:U(ht,"mb-8"),children:"We found a time to meet. To improve it, you could optimize the time by making some changes."}),r.jsx("p",{className:U(Ne,"text-contrast-50"),children:"Changing the possible time window or changing the duration of the meeting allows Rise to find a time that has minimal impact on time to focus."})]});function m(R){if(R.query.suboptimal_type==="duration")return`Change duration to ${lr(R.query.duration)}`;const _=rt(new Date,"I"),F=rt(Re(new Date,1),"I"),C=Oe(R.proposals[0].time,"I");return C===_?`${Oe(R.proposals[0].time,"EEEE")} this week`:C===F?`${Oe(R.proposals[0].time,"EEEE")} next week`:Oe(R.proposals[0].time,"EEEE MMMM do")}function h(R){return R.query.suboptimal_type==="time_window_duration"&&a.current.duration!==R.query.duration?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"mr-4 text-contrast-50 line-through",children:lr(a.current.duration,!0)}),r.jsx("span",{className:"text-black",children:lr(R.query.duration,!0)})]}):R.query.suboptimal_type==="time_window"||R.query.suboptimal_type==="time_sorted"?r.jsx("span",{className:"text-contrast-50",children:lr(a.current.duration,!0)}):null}const u=e.findTimeResponse.alternativeQueries.map(R=>({value:R.uuid,label:m(R),secondaryLabel:h(R),alternativeQuery:R}));return p.type!=="suboptimal"&&u.unshift({value:"",label:"Dont make any changes",secondaryLabel:p.type==="alternative"&&r.jsx(ce,{label:M(D),children:r.jsx("div",{children:r.jsx(p0,{className:"text-red-400"})})}),alternativeQuery:null}),r.jsxs("div",{className:"absolute right-0 z-10 flex h-full w-[350px] flex-col overflow-y-auto shadow-[0_2px_1px_0.5px_rgba(0,0,0,0.1)]",children:[r.jsxs("div",{className:"flex flex-col p-16 pt-32",children:[r.jsx("img",{src:l?CY:wY,alt:"Warning",className:"mb-16 w-32 self-center rounded-md shadow-200"}),d()]}),r.jsx("div",{className:"grow",children:r.jsxs("div",{className:"m-16",children:[r.jsx(Ax,{value:((P=wK(e))==null?void 0:P.uuid)||"",options:u,onValueChange:R=>f(u.find(_=>_&&_.value===R).alternativeQuery)}),r.jsxs("div",{className:"mt-20 flex",children:[r.jsx(ae,{onClick:()=>v(),keyboardShortcut:{key:"Escape"},children:"Cancel"}),r.jsx("div",{className:"flex-grow"}),r.jsx(ae,{onClick:()=>E(),variant:"primary",keyboardShortcut:{key:"Enter"},children:"Continue"})]})]})})]})}),zq=X(function({event:e}){if(e.attendanceStatus!=="needsAction"){const n=[{value:"accepted",label:"Accepted",icon:r.jsx(Nb,{className:"text-green-400 group-hover/button:text-green-400"})},{value:"declined",label:"Declined",icon:r.jsx(Si,{className:"text-red-400 group-hover/button:text-red-400"})},{value:"tentative",label:"Tentative",icon:r.jsx(Ib,{className:"text-yellow-200 group-hover/button:text-yellow-200"})}],s=n.find(i=>i.value===e.attendanceStatus);return r.jsxs("div",{className:"flex flex-row px-16 py-12",children:[r.jsx("span",{className:U(oe,"mr-8 mt-6 text-contrast-50"),children:"My status"}),r.jsx(je,{inputPlaceholder:"Set status",options:n,initialOptionValue:e.attendanceStatus,onSubmit:({value:i})=>{e.setAttendanceStatus(i)},selectButtonProps:{iconRight:null,icon:s==null?void 0:s.icon}})]})}return r.jsxs("div",{className:"flex px-16 py-12",children:[r.jsx(ae,{icon:r.jsx(Ib,{className:"text-yellow-200 group-hover/button:text-yellow-200"}),onClick:()=>e.setAttendanceStatus("tentative"),children:"Maybe"}),r.jsx("div",{className:"flex-grow"}),r.jsx(ae,{icon:r.jsx(Si,{className:"text-red-400 group-hover/button:text-red-400"}),className:"mr-10",onClick:()=>e.setAttendanceStatus("declined"),children:"Decline"}),r.jsx(ae,{icon:r.jsx(Nb,{className:"text-green-400 group-hover/button:text-green-400"}),onClick:()=>e.setAttendanceStatus("accepted"),children:"Accept"})]})}),Kq=X(function({event:e}){return!(e instanceof de)||!e.canRespond||(e.isOrganizer||e.isCreator)&&e.attendanceStatus==="accepted"?null:r.jsx("div",{className:"flex-none border-t bg-base-bg",children:r.jsx(zq,{event:e})})}),Zq=X(function({object:e}){const{userStore:n,appStore:s,objectPool:i,eventsStore:a}=se();if(!(e instanceof de||e instanceof Ce)||!e.isNew||e instanceof Ce&&e.parent)return;const l=[{value:"default",label:"Event"},{value:"task",label:"Task"}];if((e instanceof de?e.calendar:n.calendarForNewEvents).account.workingLocationsSupported&&(l.push({value:"workingLocation",label:"Working location"}),l.push({value:"outOfOffice",label:"Out of office"})),l.length!==1)return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"-mx-8 -mt-8 flex gap-4",children:l.map(({value:f,label:v})=>{const E=f===e.type;return r.jsxs("div",{children:[r.jsx(ae,{variant:"tertiary",className:U("whitespace-nowrap",!E&&"text-contrast-50"),onClick:Y(()=>{if(!E){if(f==="task"){const w=e,D=B7({event:w,objectPool:i,userStore:n});w.setDraft(!0),w.title===null&&D.setDraft(!0),s.setSelectedObject(D)}else if(f==="default"||f==="workingLocation"||f==="outOfOffice")if(e instanceof Ce){const w=z$({task:e,eventsStore:a,type:f});e.setDraft(!0),e.title===null&&w.setDraft(!0),s.setSelectedObject(w)}else e.setType(f)}}),children:v}),r.jsx("div",{className:U("mx-8 mt-6 h-2",E&&"bg-primary")})]},f)})}),r.jsx("div",{className:"-mx-16 mb-16 h-px bg-contrast-10"})]})}),Yq=X(function({object:e}){const{actionsStore:n,peopleStore:s}=se();if(e instanceof Ce)return r.jsx(EN,{children:r.jsx(ce,{label:"Delete task",keyboardShortcut:$r.keyboardShortcut,children:r.jsx(ae,{destructive:!0,onClick:()=>n.executeAction($r),icon:lt})})});if(e instanceof de)return r.jsxs(EN,{children:[n.applicableAction(pi)&&r.jsx(ce,{label:"Delete event",keyboardShortcut:pi.keyboardShortcut,children:r.jsx(ae,{destructive:!0,onClick:()=>n.executeAction(pi),icon:lt})}),e.canBeRescheduled(s.contactsWithRise)&&r.jsx(Xq,{event:e}),e.isDirty&&n.applicableAction(mi)&&r.jsx(ae,{variant:"primary",onClick:()=>n.executeAction(mi),keyboardShortcut:mi.keyboardShortcut,children:e.saveLabel})]})});function EN({children:t}){return r.jsx("div",{className:"absolute bottom-0 right-0 mb-16 mr-16 flex items-center justify-end gap-10",children:t})}const Xq=X(function({event:e}){const n=se();return r.jsx(Ue,{align:"end",options:tR(e,n),onOpenChange:s=>{s&&Me(ke.EVENT_RESCHEDULE_BUTTON_CLICKED)},children:r.jsx(ae,{icon:$k,children:"Reschedule"})})}),yR=X(function({object:e}){return e instanceof de&&e.mode==="suboptimal"?r.jsx(Gq,{event:e}):r.jsx(Jq,{object:e})}),Jq=X(function({object:e}){const{appStore:n}=se(),s=e instanceof Ce,i=!s,a=e instanceof de,l=e instanceof Le,[p,f]=K.useState(!1);function v(){p||(f(!0),n.setSelectedObject(null))}const E=s||a?e.isDeleted:void 0;return rn(E,()=>{E&&v()}),Rt(v),r.jsx(_x,{overrides:{event:a||l?e:void 0,task:s?e:void 0},children:r.jsxs("div",{className:"flex size-full flex-col",children:[r.jsxs("div",{className:"relative flex min-h-0 flex-1 flex-col",children:[r.jsxs("div",{className:"relative flex-1 overflow-y-auto px-16 pt-16",children:[r.jsx(Zq,{object:e}),r.jsx("div",{className:"grid grid-cols-1 gap-8",children:r.jsx($x,{object:e,displayType:"sidepanel"})})]}),r.jsx(Yq,{object:e})]}),i&&r.jsx(Kq,{event:e})]})})}),xie=X(function(){const{tasks:e,actionsStore:n}=se(),[s,i]=K.useState(null),{taskUuid:a}=z1(),l=it(),p=BY();return Rt(()=>l(-1),{isEnabled:!!p,resetKey:a}),K.useEffect(()=>{async function f(){if(!a||!e.loaded)return;const v=await e.fetchTask(a);v||l(p||"/tasks"),i(v)}f()},[p,l,a,e,e.loaded]),K.useEffect(()=>n.actionContext.setContextOverride({task:s}),[n.actionContext,s]),K.useEffect(()=>{s&&s.isDeleted&&l(p||"/tasks")},[s,s==null?void 0:s.isDeleted,l,p]),s?r.jsx(_x,{overrides:{task:s},children:r.jsx(Lp,{header:r.jsxs(r.Fragment,{children:[r.jsx(Xy,{}),r.jsx("div",{className:"grow"}),r.jsx(Bx,{})]}),children:r.jsx("div",{className:"mx-auto flex w-full max-w-[1024px] flex-col content-start px-40 py-36",children:r.jsx("div",{className:"flex-0 grid grid-cols-1 gap-8",children:r.jsx($x,{object:s,displayType:"fullpage"})})})})}):r.jsx(Lp,{header:r.jsx(Xy,{})})});function Mm(t="sidebar"){const e=it(),{appStore:n}=se(),s=BM();return K.useCallback(a=>{t==="sidebar"?n.setSelectedObject(a):e(ye.task.getPath({taskUuid:a.uuid}),{state:{breadcrumbs:s}})},[t,n,e,s])}function Ux({aboveTitle:t,title:e,label:n,onTaskCreated:s}){return r.jsxs("div",{className:U(oe,"flex h-full flex-col items-center justify-center gap-6 pb-80"),children:[t,e&&r.jsx("h1",{children:e}),r.jsx("div",{className:"mb-8 text-contrast-50",children:n||"No tasks"}),r.jsx(ae,{variant:"secondary",icon:Xe,onClick:()=>U0({onTaskCreated:s}),children:"Add task"})]})}const jie=X(function({taskGroups:e,view:n,...s}){var l;if(e.every(p=>p.tasks.length===0))return r.jsx(Ux,{onTaskCreated:(l=e[0])==null?void 0:l.setProperty});const a=n.showEmpty?e:e.filter(p=>p.tasks.length!==0);return r.jsx(Qq,{...s,view:n,taskGroups:a})}),Qq=X(function({taskGroups:e,view:n,project:s}){const{tasks:i}=se();function a(){document.body.classList.add("cursor-grabbing")}function l({destination:p,source:f,type:v}){var h,u,P;if(document.body.classList.remove("cursor-grabbing"),!p||f.droppableId===p.droppableId&&f.index===p.index)return;const E=f.droppableId!==p.droppableId,w=!E&&f.index<p.index?1:0;if(v==="column"){const R=e[f.index],_=e[p.index-1+w],F=e[p.index+w];(h=R.setGroupOrderBetween)==null||h.call(R,_,F);return}const D=e.find(R=>R.key===f.droppableId),M=e.find(R=>R.key===p.droppableId),o=D.tasks[f.index];if(n.orderBy!=="manual"){E&&M.setProperty(o);return}const d=(u=M.tasks[p.index-1+w])==null?void 0:u.ordering,m=(P=M.tasks[p.index+w])==null?void 0:P.ordering;xe(()=>{E&&M.setProperty(o);const R=ux(m,d)??Dr(i.highestOrdering);o.setOrdering(R),o.save()})}return r.jsx("div",{className:"w-max min-w-full px-24 pt-8",children:r.jsx(p9,{onBeforeDragStart:a,onDragEnd:l,children:e.some(p=>p.setGroupOrderBetween)?r.jsx(jk,{droppableId:"all-columns",direction:"horizontal",type:"column",children:p=>r.jsx(DN,{taskGroups:e,view:n,project:s,provided:p})}):r.jsx(DN,{taskGroups:e,view:n,project:s})})})}),DN=X(function({taskGroups:e,view:n,project:s,provided:i}){return r.jsxs("div",{ref:i==null?void 0:i.innerRef,...i==null?void 0:i.droppableProps,className:"flex",children:[e.map((a,l)=>a.setGroupOrderBetween?r.jsx(Sk,{draggableId:a.key,index:l,children:(p,f)=>r.jsx(wN,{taskGroup:a,view:n,provided:p,snapshot:f,showProjectLabel:!s})},a.key):r.jsx(wN,{taskGroup:a,view:n,showProjectLabel:!s},a.key)),i==null?void 0:i.placeholder,n.groupBy==="custom_groups"&&s&&r.jsx("div",{className:"flex-none pt-8",children:r.jsx(ae,{variant:"tertiary",onClick:()=>Lx(s),icon:Xe,className:"text-contrast-50",children:"New group"})})]})}),wN=X(function({taskGroup:e,view:n,provided:s,snapshot:i,showProjectLabel:a}){const{tasks:l,userStore:p,objectPool:f,actionsStore:v}=se(),[E,w]=K.useState(!1),[D,M]=K.useState(),o=n.orderBy==="manual";function d(P){xe(()=>{const R=l.new();R.workspace=v.actionContext.workspace||p.privateWorkspace,R.assignee=v.actionContext.assignee,R.project=v.actionContext.project,R.durationInMinutes=30,R.status=R.workspace.taskUnstartedStatus;const _=D===void 0?-1:e.tasks.findIndex(F=>F.uuid===D);if(_!==-1){const F=e.tasks[_],C=e.tasks[_+1];R.setOrdering(C?x_(F.ordering,C.ordering):Pb(F.ordering))}else e.tasks.length!==0&&R.setOrdering(P==="top"?Dr(e.tasks[0].ordering):Pb(e.tasks[e.tasks.length-1].ordering));R.workspace===p.privateWorkspace&&(R.assignee=f.member),e.setProperty(R),l.add(R),M(R.uuid)})}function m(){d("top")}function h(){d("bottom")}function u(){M(void 0)}return r.jsxs("div",{ref:s==null?void 0:s.innerRef,...s==null?void 0:s.draggableProps,className:U("mb-8 mr-32 flex w-320 flex-none flex-col gap-8 rounded-lg p-8 transition-colors last:mr-0",(s&&E||(i==null?void 0:i.isDragging))&&"bg-contrast-5"),children:[r.jsx(qq,{taskGroup:e,dragHandleProps:s==null?void 0:s.dragHandleProps,onHeadingHovered:w,createTask:m}),r.jsx(jk,{droppableId:e.key,type:"tasks",children:(P,R)=>r.jsxs("div",{ref:P.innerRef,...P.droppableProps,className:"relative",children:[e.tasks.map((_,F)=>r.jsx(Sk,{draggableId:_.uuid,index:F,children:(C,A)=>{const j=_.uuid===D;return r.jsx(eee,{task:_,provided:C,snapshot:A,isEditing:j,stopEditing:u,createNextTask:h,isOrderingEnabled:o,showProjectLabel:a})}},_.uuid)),o?P.placeholder:R.isDraggingOver&&r.jsx("div",{className:"absolute -inset-8 rounded-xl bg-contrast-5"}),r.jsx(ae,{variant:"tertiary",size:"small",icon:Xe,className:"text-contrast-50",onClick:h,children:"New task"})]})})]})}),qq=X(function({taskGroup:e,dragHandleProps:n,onHeadingHovered:s,createTask:i}){const a=e.grouping.propertyKey==="custom_groups"&&e.grouping.projectState;return r.jsxs("div",{className:U(ht,"flex h-28 items-center gap-4"),children:[r.jsx("div",{className:"grow",children:r.jsx("span",{onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),...n,className:U("rounded-md px-4 py-2 outline-none transition-colors focus-visible:ring",n&&"!cursor-grab"),children:e.label})}),e.tasks.length!==0&&r.jsx(ce,{label:"Add task",children:r.jsx(ae,{variant:"tertiary",size:"small",icon:Xe,onClick:i})}),a&&r.jsx(Ue,{align:"end",options:[[{label:"Edit group",onSelect:()=>Lx(a.project,a)},{label:"Delete group",onSelect:()=>{xt({title:`Are you sure you want to delete the group ${a.label}?`,primaryAction:{key:"delete",label:"Delete",negative:!0,onClick(){a.delete()}},secondaryAction:{key:"cancel",label:"Cancel"}})}}]],children:r.jsx(We,{children:r.jsx(ce,{label:"Open options",children:r.jsx(ae,{variant:"tertiary",size:"small",icon:Ot})})})})]})}),eee=X(function t({task:e,provided:n,snapshot:s,isOrderingEnabled:i,showProjectLabel:a,isEditing:l,stopEditing:p,createNextTask:f}){var M;const{appStore:v}=se(),E=Mm("fullpage"),w=Ln({task:e}),D=r.jsx(Vs,{task:e,children:r.jsxs("div",{ref:n.innerRef,...n.draggableProps,...n.dragHandleProps,className:U(oe,"relative isolate mb-8 flex w-full !cursor-pointer flex-col gap-12 rounded-md bg-base-bg-elevated p-8 text-left outline-none ring ring-contrast-5 transition-shadow before:absolute before:inset-0 before:-z-10 before:rounded-md before:transition-colors focus-visible:ring-primary",v.selectedObject===e?"before:bg-contrast-5":"hover:before:bg-contrast-5 data-[state=open]:before:bg-contrast-5",s.isDragging?!s.isDropAnimating&&"shadow-400":!i&&"!transform-none"),onClick:()=>E(e),children:[a&&e.project&&r.jsxs("div",{className:U(wi,"flex gap-4 text-contrast-60"),children:[r.jsx(SF,{})," ",(M=e.project)==null?void 0:M.name," ",e.projectState&&"/ "+e.projectState.label]}),r.jsxs("div",{className:"flex gap-8",children:[r.jsx(Pt,{task:e,className:"flex-none"}),r.jsxs("div",{className:"flex-1",children:[l?r.jsx(lk,{value:e.title||"",placeholder:"Untitled task",autoFocus:!0,className:"block w-full resize-none bg-transparent outline-none placeholder:text-contrast-50",onKeyDown:_s({key:"Enter",isActiveWhenInputFocused:!0,execute(o){o.preventDefault(),e.save(),f()}},{key:"Enter",shiftKey:!0,isActiveWhenInputFocused:!0,execute(o){o.preventDefault(),e.save(),f()}},{key:"Enter",commandKey:!0,isActiveWhenInputFocused:!0,execute(o){o.preventDefault(),e.save(),f()}},{key:"Escape",isActiveWhenInputFocused:!0,execute(o){o.preventDefault(),e.delete(),p()}}),onChange:o=>{e.title=o.target.value},onBlur:()=>{if(!e.title){e.delete();return}e.save(),p()}}):e.displayTitle,e.parent&&r.jsxs("span",{className:"ml-4 text-contrast-50",children:[" ",e.parent.title]})]})]}),r.jsxs("div",{className:"flex min-h-24 w-full justify-between gap-8",children:[r.jsxs("div",{className:"flex items-center gap-8",children:[r.jsx(M0,{task:e,align:"start"}),r.jsx(R0,{task:e,align:"start"}),e.rrule&&r.jsx(ce,{label:On(e.rrule.toText()),children:r.jsx("span",{children:r.jsx(u0,{className:"mr-4 inline align-bottom text-contrast-50"})})})]}),r.jsxs("div",{className:"flex items-center gap-8",children:[r.jsx(P0,{task:e,align:"end"}),r.jsx(FM,{task:e,actionContext:w})]})]})]})});return s.isDragging&&!i?r.jsxs(r.Fragment,{children:[D,r.jsx("div",{className:"invisible",children:r.jsx(t,{task:e,provided:{},snapshot:{},isEditing:!1,stopEditing:p,createNextTask:f,isOrderingEnabled:i,showProjectLabel:a})})]}):D}),Vs=X(function({task:e,event:n,children:s}){const i=Ln({task:e,event:n});return r.jsx(Cr,{options:()=>[[i.actionToMenuOption(lP),i.actionToMenuOption(cP),i.actionToMenuOption(uP),i.actionToMenuOption(dP)],[i.actionToMenuOption(hP),tee(i)],[nee(i)],[i.actionToMenuOption(oP)],[i.actionToMenuOption($r)]],children:s})});function tee(t){var e;if(!((e=t.task)!=null&&e.isPersonal))return{label:"Assign to...",icon:Jt,subOptions:L0(t).map(n=>({label:n.label,icon:n.icon,onSelect:()=>{t.task.assignee=n.member,t.task.save()}}))}}function nee(t){const e=As({nullDuration:!0}),n=t.task;return{label:"Set duration",icon:mr,subOptions:[{value:n.duration?n.duration.toString():"null",options:e.map(s=>({label:s.label,value:s.value?s.value.toString():"null"})),onValueChange(s){n.setDuration(s==="null"?null:Number(s)),n.save()}}]}}function Gx({initialMonth:t,selection:e,onSubmit:n,closeOnSubmit:s,startOfWeek:i,...a}){return r.jsx(cn,{modal:!0,...a,content:l=>r.jsx(ree,{initialMonth:t,selection:e,onSubmit:s?p=>{l(),n==null||n(p)}:n,startOfWeek:i})})}const ree=X(function({initialMonth:e,selection:n,onSubmit:s,startOfWeek:i}){const[a,l]=K.useState(e),p=ge.nowStartOfDay,f=fe(p,1),v=ge.nowStartOfNextWeek;let E=bs(v,2);return E<=p&&(E=Re(E,1)),$e({key:"ArrowUp"},()=>l(w=>w&&hr(w,-1))),$e({key:"ArrowDown"},()=>l(w=>w&&hr(w,1))),$e({key:"0"},()=>s==null?void 0:s()),$e({key:"1"},()=>s==null?void 0:s(p)),$e({key:"2"},()=>s==null?void 0:s(f)),$e({key:"3"},()=>s==null?void 0:s(E)),$e({key:"4"},()=>s==null?void 0:s(v)),r.jsxs("div",{className:"flex flex-row",children:[r.jsx("div",{children:r.jsxs("div",{className:"flex h-full min-w-[12rem] flex-col gap-4 py-12 pl-12",children:[r.jsx(ae,{variant:"tertiary",onClick:()=>s==null?void 0:s(p),className:U(n&&Ve(n,p)&&"bg-contrast-5 hover:bg-contrast-10"),classNameInner:"justify-start",keyboardShortcut:{key:"1"},children:"Today"}),r.jsx(ae,{variant:"tertiary",onClick:()=>s==null?void 0:s(f),className:U(n&&Ve(n,f)&&"bg-contrast-5 hover:bg-contrast-10"),classNameInner:"justify-start",keyboardShortcut:{key:"2"},children:"Tomorrow"}),r.jsx(ae,{variant:"tertiary",onClick:()=>s==null?void 0:s(E),className:U(n&&Ve(n,E)&&"bg-contrast-5 hover:bg-contrast-10"),classNameInner:"justify-start",keyboardShortcut:{key:"3"},children:"Saturday"}),r.jsx(ae,{variant:"tertiary",onClick:()=>s==null?void 0:s(v),className:U(n&&Ve(n,v)&&"bg-contrast-5 hover:bg-contrast-10"),classNameInner:"justify-start",keyboardShortcut:{key:"4"},children:"Next week"}),n!==void 0&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grow"}),r.jsx(ae,{icon:Rn,variant:"tertiary",onClick:()=>s==null?void 0:s(),classNameInner:"justify-start",keyboardShortcut:{key:"0"},children:"Clear due date"})]})]})}),r.jsx(A0,{today:ge.nowStartOfDay,initialMonth:e,selection:n,onSubmit:s,forceMonth:a,isInteractive:!0,className:"p-12",onMonthShown:w=>{l(w)},showKeyboardShortcuts:!0,startOfWeek:i})]})}),Sie=X(function({taskGroups:e,view:n,...s}){var l;if(e.every(p=>p.tasks.length===0))return r.jsx(Ux,{onTaskCreated:(l=e[0])==null?void 0:l.setProperty});const a=n.showEmpty?e:e.filter(p=>p.tasks.length!==0);return r.jsx(see,{...s,view:n,taskGroups:a})}),see=X(function({taskGroups:e,view:n,project:s}){const i=Mm("fullpage");return r.jsxs("div",{className:"isolate mb-64",children:[e.map(a=>r.jsxs("div",{className:"relative",children:[r.jsxs(JY,{children:[a.label,r.jsx("div",{className:"grow"}),r.jsx(ce,{label:"Add task",children:r.jsx(ae,{variant:"tertiary",size:"small",icon:Xe,onClick:()=>U0({onTaskCreated:a.setProperty})})})]}),a.tasks.map(l=>r.jsx(Px,{task:l,hideProjectLabel:!!s,openTask:i,className:"box-content border-b border-contrast-5 bg-clip-padding px-16"},l.uuid))]},a.key)),s&&n.groupBy==="custom_groups"&&r.jsx("div",{children:r.jsx(ae,{variant:"tertiary",onClick:()=>Lx(s),icon:Xe,className:"mx-8 mt-8 text-contrast-50 hover:text-black",children:"New group"})})]})}),Aie=X(function(e){return r.jsxs("div",{className:"flex flex-row items-center gap-12",children:[r.jsx(er,{value:e.view.type,options:[{value:"board",label:"Board"},{value:"list",label:"List"}],onChange:n=>{e.view.type=n,e.view.save()}}),r.jsx(cn,{content:r.jsx(iee,{...e}),children:r.jsx(ae,{variant:"tertiary",icon:pr,children:"Display"})})]})}),iee=X(function({view:e}){const n=[{value:"status",label:"Status"},{value:"assignee",label:"Assignee"},{value:"due_date",label:"Due"},{value:"priority",label:"Priority"},...e.project?[{value:"custom_groups",label:"Custom groups"}]:[]],s=[{value:"manual",label:"Manual"},{value:"assignee",label:"Assignee"},{value:"due_date",label:"Due date"},{value:"priority",label:"Priority"}];return r.jsxs("div",{className:U(oe,"flex flex-col items-start gap-12 p-12"),children:[r.jsxs("div",{className:"flex w-full items-center justify-between gap-8",children:["Group by",r.jsx(je,{inputPlaceholder:"Group by",options:n,initialOptionValue:e.groupBy,onSubmit:({value:i})=>{e.groupBy=i,e.save()}})]}),r.jsxs("div",{className:"flex w-full items-center justify-between gap-8",children:["Order by",r.jsx(je,{inputPlaceholder:"Order by",options:s,initialOptionValue:e.orderBy,onSubmit:({value:i})=>{e.orderBy=i,e.save()}})]}),r.jsxs("label",{className:"flex gap-8",children:[r.jsx(et,{checked:e.showCompleted,onChange:()=>{xe(()=>{e.showCompleted=!e.showCompleted,e.save()})}}),"Show completed"]}),r.jsxs("label",{className:"flex gap-8",children:[r.jsx(et,{checked:e.showEmpty,onChange:()=>{xe(()=>{e.showEmpty=!e.showEmpty,e.save()})}}),"Show empty groups"]})]})}),vR=K.createContext(!1);function aee({children:t}){const e=K.useRef(null),n=K.useRef(null),s=gm(),[i,a]=K.useState(!1);function l(p){var f;!((f=n.current)!=null&&f.contains(p.relatedTarget))&&!e.current.contains(p.relatedTarget)&&a(!1)}return r.jsx(vR.Provider,{value:i,children:r.jsx("div",{ref:e,className:"w-full",onFocus:()=>{a(!0),s.selection||g9(s,{edge:"end"})},onBlur:l,children:t({floatingToolBarRef:n,onFloatingToolBarBlur:l})})})}function Rm(){return K.useContext(vR)}const xR=K.createContext(null);function oee(){return K.useContext(xR)}const lee=xR.Provider,cee=Cm(s0,{as:"p",className:"my-8 first:mt-0 last:mb-0"}),uee=Cm(i0,{as:"strong"}),dee=Cm(i0,{as:"em"}),hee=Cm(i0,{as:"s"}),fee=Cm(i0,{as:"u"});function mee({className:t,...e}){const n=Ak(),{props:s}=b9({element:n}),i=Rm(),a=yV(pe.isMac?"Meta":"Control",{isEnabled:i}),l=!i||a,p=s.onMouseDown||e.onMouseDown,f=s.onClick||e.onClick;return r.jsx(s0,{as:"a",className:Ae("text-primary no-underline",l?"hover:underline":"cursor-text",t),...s,...e,onMouseDown:v=>{l&&v.preventDefault(),p==null||p(v)},onClick:v=>{l&&(v.stopPropagation(),Fe(v.currentTarget.href,!1)),f==null||f(v)}})}const pee=Ek,gee=Dk,bee="user-mention",zx=pee,V0=gee,Xn=bee,jR=y9,yee=(t={})=>v9(t);function vee({id:t,trigger:e,searchPattern:n,onSelectItem:s,controlled:i,maxSuggestions:a,filter:l,sort:p,disabled:f,items:v=[]}){const E=f??v.length===0,w=x9(),D=np.activeId()===t,M=bp(P=>!!P.selection,[]),o=Rm(),d=w&&o&&M&&D&&!E,m=np.text()??"",h=a??v.length;K.useEffect(()=>{d&&wb.filteredItems(v.filter(l?l(m):P=>P.text.toLowerCase().startsWith(m.toLowerCase())).sort(p==null?void 0:p(m)).slice(0,h))},[d,l,p,v,h,m]),K.useEffect(()=>{wb.setComboboxById({id:t,trigger:e,searchPattern:n,controlled:i,onSelectItem:s})},[t,e,n,i,s]);const u=np.filteredItems();return{isOpen:d,combobox:w,filteredItems:u}}function xee({onRenderItem:t,...e}){const n=jee(),{isOpen:s,combobox:i,filteredItems:a}=vee(e);return r.jsx(cn,{open:s,content:r.jsx(k_,{isActive:!s,children:r.jsx(See,{combobox:i,onRenderItem:t,filteredItems:a})}),components:{...qn,Content:In(l=>r.jsx(qn.Content,{...l,onOpenAutoFocus:Qn})),Trigger:In(l=>r.jsx(t0,{...l,virtualRef:n}))},children:null})}function jee(){const t=gm(),e=np.targetRange(),n=K.useRef();return{current:{getBoundingClientRect(){if(e){const s=h5(t,e);s&&(n.current=s)}else if(!n.current&&t.selection){const s=h5(t,t.selection);s&&(n.current=s)}return n.current}}}}function See({combobox:t,onRenderItem:e,filteredItems:n}){const s=t.getMenuProps({},{suppressRefError:!0});return r.jsx("div",{...s,className:U(oe,"flex max-h-[--radix-popper-available-height] w-192 flex-col overflow-y-auto py-4 empty:hidden"),children:n.map((i,a)=>r.jsx(Aee,{item:i,combobox:t,index:a,onRenderItem:e},i.key))})}function Aee({combobox:t,index:e,item:n,onRenderItem:s,...i}){const{props:a}=j9({item:n,index:e,combobox:t,onRenderItem:s}),l=!!a["data-highlighted"];return r.jsx("button",{className:"mx-4 scroll-m-4 rounded-md px-8 py-6 text-left data-[highlighted=true]:bg-contrast-5",...a,...i,onMouseMove:p=>{var f;l||wb.highlightedIndex(e),(f=a.onMouseMove)==null||f.call(a,p)}})}const Eee=X(function(){const e=gm(),{mentionItems:n}=oee(),{trigger:s}=S9(e,Xn);return r.jsx(xee,{id:Xn,trigger:s,controlled:!0,onSelectItem:A9({key:Xn}),items:n,maxSuggestions:10})});function Dee({className:t,onClick:e,children:n,...s}){return r.jsxs(s0,{as:"span",className:"-m-2 rounded bg-contrast-5 p-2 align-baseline ring ring-contrast-10",...s,children:["@",n]})}function wee({className:t,children:e,...n}){const s=E9(),i=Rm(),a=Ak(),l=a.children[0];return r.jsxs(s0,{as:"span",className:Ae("rounded",i&&s&&"ring",l.bold?"font-bold":"font-semibold",l.italic&&"italic",l.underline&&"underline",t),...n,children:[e,"@"+a.label]})}function Cee(t){return K.useState(()=>Tee(t))[0]}function Tee({enableCustomElements:t}){const e=[D9(),w9(),C9(),t&&T9({key:Xn,renderAfterEditable:Eee,options:{createMentionNode(s){return{label:s.text,user_uuid:s.key}},insertSpaceAfterMention:!0}}),N9(),k9(),_9(),O9(),I9({options:{rules:[{mode:"mark",type:[ss,Rr],match:"***"},{mode:"mark",type:[is,Rr],match:"__*"},{mode:"mark",type:[is,ss],match:"__**"},{mode:"mark",type:[is,ss,Rr],match:"___***"},{mode:"mark",type:ss,match:"**"},{mode:"mark",type:is,match:"__"},{mode:"mark",type:Rr,match:"*"},{mode:"mark",type:Rr,match:"_"},{mode:"mark",type:Cb,match:"~~"}],enableUndoOnDelete:!0}}),M9({options:{rules:[{hotkey:"shift+enter"}]}})],n=[[V0,cee],[zx,mee],[jR,Dee],[Xn,wee],[ss,uee],[Rr,dee],[Cb,hee],[is,fee]];return yee({plugins:e.filter(ct),components:Object.fromEntries(n.filter(ct))})}function Nee(t){return r.jsx(R9,{className:"flex gap-2 p-2",...t})}function SR({label:t,shortcut:e,icon:n,isActive:s,noFocusEditor:i,...a}){const l=gm();return r.jsx(ce,{label:t,keyboardShortcut:e,side:"top",children:r.jsx(wk,{asChild:!0,children:r.jsx(ae,{variant:"tertiary",icon:ze(n,U("group-hover/button:text-black/80",s&&"text-black/80")),className:s?"bg-contrast-10 hover:bg-contrast-20":"hover:bg-transparent",...a,onMouseDown:p=>{p.preventDefault(),i||yp(l)}})})})}function kee({label:t,shortcut:e,icon:n,...s}){return r.jsx(ce,{label:t,keyboardShortcut:e,side:"top",children:r.jsx(wk,{asChild:!0,children:r.jsx(qt,{variant:"tertiary",icon:ze(n,"group-hover/button:text-black/80"),className:"hover:bg-transparent",target:"_blank",onMouseDown:Qn,...s})})})}function _ee(){return r.jsx(P9,{className:"mx-2 my-4 w-px rounded-full bg-contrast-10"})}const Oee=K.forwardRef(function(e,n){return r.jsx("input",{ref:n,className:U(Ne,"w-160 bg-transparent px-2 outline-none placeholder:text-contrast-50"),...e})});function Iee({shouldShowTextFormattingOptions:t,linkInSelection:e}){return r.jsxs(Nee,{children:[t&&r.jsxs(r.Fragment,{children:[r.jsx(Qm,{icon:zF,label:"Bold",shortcut:{key:"B",commandKey:!0},nodeType:ss}),r.jsx(Qm,{icon:ZF,label:"Italic",shortcut:{key:"I",commandKey:!0},nodeType:Rr}),r.jsx(Qm,{icon:YF,label:"Underline",shortcut:{key:"U",commandKey:!0},nodeType:is}),r.jsx(Qm,{icon:KF,label:"Strikethrough",shortcut:{key:"X",commandKey:!0,shiftKey:!0},nodeType:Cb})]}),r.jsx(Mee,{linkInSelection:e})]})}function Mee({linkInSelection:t}){const e=gm(),[n,s]=K.useState(t==null?void 0:t.url);rn(t==null?void 0:t.url,()=>s(t==null?void 0:t.url));const i=n!==void 0;return r.jsxs(r.Fragment,{children:[r.jsx(SR,{icon:XF,label:"Link",shortcut:{key:"K",commandKey:!0},isActive:i,onClick:()=>{t?L9(e,{at:t.entry[1]}):s(i?void 0:"")},noFocusEditor:!i}),(t||i)&&r.jsx(_ee,{}),t&&r.jsx(kee,{icon:JF,label:"Open link in new tab",to:t.url,shortcut:{commandKey:!0,key:"Click"}}),i&&r.jsx(Oee,{autoFocus:!t,placeholder:"Enter link URL",value:n,onChange:a=>s(a.target.value),onKeyDown:_s({key:"Enter",isActiveWhenInputFocused:!0,execute(a){const l=f5(e,n)?n:f5(e,"https://"+n)?"https://"+n:null;l&&(a.preventDefault(),yp(e),t?t.url!==l&&H9(e,{url:l},{at:t.entry[1]}):V9(e,{url:l}))}},{key:"Escape",isActiveWhenInputFocused:!0,execute(){yp(e)}})})]})}function Qm({nodeType:t,...e}){const{props:{pressed:n,...s}}=B9(F9({nodeType:t}));return r.jsx(SR,{...e,...s,isActive:n})}function Ree(){return bp(Pee,[])}function Pee(t,e){const n=W9(t,{match:{type:$9(t,Ek)}});if(Lee(n,e))return e;if(!n)return;const i=U9(t,n[0]).href??"",a=G9(t,n[1]);return{entry:n,url:i,isUrlInText:i===a}}function Lee(t,e){return!t||!e?t===e:t[0]===e.entry[0]&&z9(t[1],e.entry[1])}function Bee(){const t=bp(K9,[]),e=bp(Z9,[]);return{isSelectionExpanded:t,isTextSelected:e.trimStart().length!==0}}const Fee=K.forwardRef(function({onBlur:e},n){const{isOpen:s,virtualPositionRef:i,...a}=Hee();return r.jsx(cn,{contentRef:n,open:s,side:"top",align:"center",content:r.jsx(k_,{isActive:!s,children:r.jsx(Iee,{...a})}),components:{...qn,Content:In(l=>r.jsx(qn.Content,{...l,onOpenAutoFocus:Qn,onBlur:e})),Trigger:In(l=>r.jsx(t0,{...l,virtualRef:i}))},children:null})});function Hee(){const t=Rm(),e=Y9(),{isSelectionExpanded:n,isTextSelected:s}=Bee(),i=Ree(),a=s,l=!!i,p=t&&!e&&(a||l),f=n||l,[v,E]=K.useState("closed-auto");K.useEffect(()=>{E(M=>p?M==="closed-manual"?"closed-manual":"open":f&&M==="closed-manual"?"closed-manual":"closed-auto")},[p,f]);const w=v==="open"&&p;Rt(()=>E("closed-manual"),{isEnabled:w});const D=K.useRef();return{isOpen:w,shouldShowTextFormattingOptions:a,linkInSelection:i,virtualPositionRef:{current:{getBoundingClientRect(){if(w&&p||!D.current){const M=X9();(!D.current||M.top!==0||M.bottom!==0||M.left!==0||M.right!==0)&&(D.current=M)}return D.current}}}}}function AR(t){if(t.length!==0)return t.map(ER)}function ER(t){if(nr(t))return t;if(W0(t))return{type:V0,children:t.children.map(ER)};if($0(t))return t;if(Pm(t))return{type:Xn,label:t.label,user_uuid:t.user_uuid,children:[{text:"",bold:t.bold,italic:t.italic,underline:t.underline,strikethrough:t.strikethrough}]};throw Error(`Unknown node: ${JSON.stringify(t)}`)}function Vee(t){let e=t.length,n=-1;const i=t.map((a,l)=>{const p=Zx(a);return Kx(p)&&(l<e&&(e=l),n=l),p}).slice(e,n+1);return i.length===0?null:($ee(i[0].children),DR(i[i.length-1].children,!0),i)}function Eie(t){return AR(t).map(e=>{const n=Zx(e);return Kx(n)?n.children.map(Wee).join(""):""}).join("")}function Wee(t){if(nr(t))return t.text;if(Pm(t))return t.label;throw Error(`Unknown node: ${JSON.stringify(t)}`)}function Kx(t){if(nr(t))return t.text.trimEnd().length!==0;if(W0(t))return t.children.some(Kx);if($0(t)||Pm(t))return!0;throw Error(`Unknown node: ${JSON.stringify(t)}`)}function Zx(t){if(nr(t)){if(!t.text)return{text:""};const n=t.text.trimEnd().length!==0,s=t.text.replace(/ *\n/g,`
`);return n?{text:s,bold:t.bold||void 0,italic:t.italic||void 0,underline:t.underline||void 0,strikethrough:t.strikethrough||void 0}:{text:s}}const e=t.children.map(Zx).filter(ct);if(W0(t))return DR(e),{type:V0,children:e};if($0(t))return{type:zx,url:t.url,children:e};if(Pm(t)){const n=t.children[0];return{type:Xn,label:t.label,user_uuid:t.user_uuid,bold:n.bold,italic:n.italic,underline:n.underline,strikethrough:n.strikethrough}}if(TR(t))return null;throw Error(`Unknown node: ${JSON.stringify(t)}`)}function $ee(t){for(let e=0;e<t.length-1;e+=1){const n=t[e];if(!nr(n))break;n.text=n.text.replace(/^( *\n)+/,"");const s=t[e+1];if(n.text.length!==0||!(s&&nr(s)))break;t.shift()}}function DR(t,e=!1){for(let n=t.length-1;n>=1;n-=1){const s=t[n];if(!nr(s))break;s.text=e?s.text.trimEnd():s.text.replace(/ +$/,"");const i=t[n-1];if(s.text.length!==0||!(i&&nr(i)))break;t.pop()}}function wR(t){let e=t.length,n=-1;return t.map((i,a)=>{const l=CR(i);return l&&!/^(<(p|\/p|br\/)>)*$/.test(l)&&(a<e&&(e=a),n=a),l}).slice(e,n+1).join("")}function CR(t){if(nr(t)){if(!t.text)return"";const n=t.text.trimEnd().length!==0;let s=J9(t.text);return s.includes(`
`)&&(s=s.replace(/ *\n/g,"<br/>")),n&&(t.strikethrough&&(s=`<s>${s}</s>`),t.underline&&(s=`<u>${s}</u>`),t.italic&&(s=`<em>${s}</em>`),t.bold&&(s=`<strong>${s}</strong>`)),s}const e=t.children.map(CR).join("");if(W0(t))return`<p>${e.trimEnd()}</p>`;if(!e)return"";if($0(t))return`<a href="${t.url}">${e}</a>`;if(Pm(t))return`<span data-element-type="${Xn}" data-user-uuid="${t.user_uuid}">${t.label}</span>`;if(TR(t))return"";throw Error(`Unknown node: ${JSON.stringify(t)}`)}function W0(t){return t.type===V0}function $0(t){return t.type===zx}function Pm(t){return t.type===Xn}function TR(t){return t.type===jR}function nr(t){return typeof t.text=="string"}const Yx=K.useRef;function Uee(t,e){K.useImperativeHandle(e,()=>Gee(t),[t])}function Gee(t){return{focus(){yp(t)},clear(){Q9(t)},getFullHtml(){return wR(t.children)},getContent(){return Vee(t.children)}}}const Lm=X(function(e){const n=kM();return r.jsx(zee,{...e,mentionItems:n.workspace?ZY(n):void 0})});function zee({content:t,fallbackHtml:e,placeholder:n,placeholderClassName:s,className:i,actionsRef:a,enableCustomElements:l,readOnly:p,onChange:f,mentionItems:v=[],...E}){const w=Cee({enableCustomElements:l});Uee(w,a);const D=K.useMemo(()=>{if(t)return AR(t);if(e)return q9(w,{element:e}).map(M=>eB(w,M)?M:{type:Dk,children:[M]})},[w,t,e]);return r.jsx(lee,{value:{mentionItems:v},children:r.jsx(tB,{editor:w,initialValue:D,normalizeInitialValue:!0,readOnly:p,onChange:f,children:r.jsx(aee,{children:({floatingToolBarRef:M,onFloatingToolBarBlur:o})=>r.jsx(nB,{placeholder:n,renderPlaceholder:s?({attributes:d,children:m})=>{const{style:h,...u}=d;return h.color=void 0,h.opacity=1,r.jsx("span",{className:s,...u,style:h,children:m})}:void 0,className:Ae(Ne,"prose w-full max-w-full outline-none dark:prose-invert",i),renderEditable:d=>r.jsxs(r.Fragment,{children:[r.jsx(Kee,{editor:w}),d,r.jsx(Fee,{ref:M,onBlur:o})]}),...E})})})})}function Kee({editor:t}){const e=Rm();Rt(()=>{rB(t,{edge:"end"}),window.setTimeout(()=>sB(t))},{isEnabled:e})}function U0(t){Ke(({close:e})=>r.jsx(Zee,{...t,close:e}),{id:"create-task-modal",hasVariableHeight:!0})}const Zee=X(function({close:e,onTaskCreated:n}){var P,R,_,F,C,A,j;const{tasks:s,actionsStore:i,userStore:a,objectPool:l}=se(),[p,f]=K.useState(!1),v=K.useRef(null),E=Yx(),[w,D]=K.useState(()=>{const x=s.new();return x.workspace=i.actionContext.workspace||a.privateWorkspace,x.assignee=i.actionContext.assignee,x.project=i.actionContext.project,x.durationInMinutes=30,x.status=x.workspace.taskUnstartedStatus,x.workspace===a.privateWorkspace&&(x.assignee=l.member),n==null||n(x),x}),M=Ln({task:w});function o(x){var N;w.workspace&&(w.title=((N=v.current)==null?void 0:N.value)||null,w.description=E.current.getContent(),w.assignee===null&&w.workspace===a.privateWorkspace&&(w.assignee=l.member),s.add(w),w.save(),x?d():e())}const d=()=>{var x;v.current&&(v.current.value="",v.current.focus()),(x=E.current)==null||x.clear(),D(()=>{const N=s.new();return N.workspace=w.workspace,N.assignee=w.assignee,N.project=w.project,N.priority=w.priority,N.durationInMinutes=w.durationInMinutes,N.status=w.status,N.setDueDate(w.dueDate),N})};$e({key:"Enter",commandKey:!0,isActiveWhenInputFocused:!0},()=>o(p)),$e({key:"Enter",commandKey:!0,shiftKey:!0,isActiveWhenInputFocused:!0},()=>o(!0));const m=$M(M),h=UM(M),u=L0(M);return r.jsx(_x,{overrides:{workspace:w.workspace},children:r.jsx("div",{className:"w-[46rem]",children:r.jsxs("div",{className:"flex h-full flex-col",children:[r.jsx("input",{ref:v,type:"text",className:"w-full bg-transparent px-16 py-8 text-lg leading-36 outline-none placeholder:text-contrast-50",placeholder:"New task"}),r.jsx(Lm,{enableCustomElements:!0,actionsRef:E,placeholder:"Description",className:"!min-h-48 px-16 pb-8"}),r.jsxs("div",{className:"flex items-center gap-8 border-t border-contrast-5 bg-contrast-5 p-8",children:[r.jsx(je,{inputPlaceholder:"Select project",options:m,initialOptionValue:((P=w.project)==null?void 0:P.uuid)||(a.privateWorkspace?"private":null),onSubmit:({value:x,project:N})=>{if(x!==null){if(x==="new")return Om({onProjectCreated:b=>{var O;b&&(w.project=b,w.workspace=b.workspace,(O=v.current)==null||O.focus())}});if(N){w.project=N,w.workspace=N.workspace;return}if(x==="private"){w.project=null,a.privateWorkspace&&(w.workspace=a.privateWorkspace);return}}},children:r.jsx(ae,{variant:"secondary-semi-transparent",children:w.workspace===a.privateWorkspace&&w.project===null?r.jsxs("div",{className:"flex gap-6",children:[r.jsx(h0,{className:"text-contrast-50"})," Private to me"]}):r.jsx("span",{className:"max-w-[8rem] overflow-hidden text-ellipsis whitespace-nowrap",children:((R=w.project)==null?void 0:R.name)||"No project"})})}),h.length>1&&r.jsx(je,{inputPlaceholder:"Set custom group",initialOptionValue:((_=w.projectState)==null?void 0:_.uuid)||null,options:[{value:null,projectState:null,label:"No group"},...h],onSubmit:({projectState:x})=>{w.projectState=x},children:r.jsx(ae,{variant:"secondary-semi-transparent",children:w.projectState?r.jsx("span",{className:"max-w-[8rem] overflow-hidden text-ellipsis whitespace-nowrap",children:((F=w.projectState)==null?void 0:F.label)||"No group"}):r.jsx("div",{className:"text-contrast-50",children:"No group"})})}),u.length>0&&r.jsx(je,{inputPlaceholder:"Select assignee",options:[{value:null,member:null,label:"No assignee"},...u],initialOptionValue:((C=w.assignee)==null?void 0:C.uuid)||null,onSubmit:({member:x})=>w.assignee=x,children:r.jsx(ae,{variant:"secondary-semi-transparent",children:w.assignee?r.jsxs("div",{className:"flex gap-6",children:[r.jsx(bt,{profileImageUrl:(j=(A=M.rootStore)==null?void 0:A.peopleStore)==null?void 0:j.profileImageUrlForEmail(w.assignee.email),label:w.assignee.email,size:"tiny"}),w.assignee.firstName]}):r.jsx("div",{className:"text-contrast-50",children:"No assignee"})})}),r.jsx(je,{inputPlaceholder:"Set priority",initialOptionValue:w.priority,options:[{value:null,label:"No priority",icon:r.jsx(Vt,{priority:null,zeroIcon:!0})},...Object.keys(Zn).map(x=>({value:parseInt(x),label:Zn[parseInt(x)],icon:r.jsx(Vt,{priority:parseInt(x)})}))],onSubmit:({value:x})=>{x===null?w.priority=null:w.priority=x},selectButtonProps:{variant:"secondary-semi-transparent",icon:r.jsx(Vt,{priority:w.priority,zeroIcon:!0})},side:"bottom",align:"end",children:r.jsx(ae,{variant:"secondary-semi-transparent",children:w.priority?r.jsxs("div",{className:"flex gap-6",children:[r.jsx(Vt,{priority:w.priority}),Zn[w.priority]]}):r.jsx(Vt,{priority:null,zeroIcon:!0})})}),r.jsx(Gx,{selection:w.dueDate||void 0,onSubmit:x=>{w.setDueDate(x||null)},closeOnSubmit:!0,startOfWeek:a.startOfWeek,children:r.jsx(ae,{variant:"secondary-semi-transparent",className:U(w.dueDate===null&&"text-contrast-50"),icon:ln,children:w.dueDate===null?"No due date":rt(w.dueDate,"MMM do")})}),r.jsx("div",{className:"grow"}),r.jsxs("div",{className:"mr-4 flex items-center gap-6",children:[r.jsx(et,{checked:p,onChange:()=>f(!p)}),r.jsx("div",{className:U(Te,"text-contrast-50"),children:"Create more"})]}),r.jsx(ce,{label:r.jsxs(r.Fragment,{children:["Save while keeping dialog open with ",r.jsx(Pn,{shortcut:{key:"Enter",commandKey:!0,shiftKey:!0}})]}),children:r.jsx(ae,{variant:"primary",onClick:()=>o(p),keyboardShortcut:{commandKey:!0,key:"Enter"},children:"Save"})})]})]})})})}),Yee=X(function(){const{objectPool:e,appStore:n}=se(),[s,i]=K.useState(null);return s?r.jsx(Xee,{object:s,back:()=>i(null),objectSelected:a=>i(a)}):r.jsxs(r.Fragment,{children:[n.selectedObject&&r.jsxs(r.Fragment,{children:[r.jsx("h2",{children:"Selected object"}),r.jsx("table",{children:r.jsxs("tbody",{children:[r.jsxs("tr",{children:[r.jsx("th",{className:"p-4 text-xs",children:"Entity"}),r.jsx("th",{className:"p-4 text-xs",children:"UUID"}),r.jsx("th",{className:"p-4 text-xs",children:"Dirty"}),r.jsx("th",{className:"p-4 text-xs",children:"Draft"}),r.jsx("th",{className:"p-4 text-xs",children:"Deleted"}),r.jsx("th",{className:"p-4 text-xs",children:"Shell"})]}),r.jsx(tv,{model:n.selectedObject,onClick:a=>i(a)})]})})]}),r.jsx("table",{children:r.jsxs("tbody",{children:[r.jsxs("tr",{children:[r.jsx("th",{className:"p-4 text-xs",children:"Entity"}),r.jsx("th",{className:"p-4 text-xs",children:"UUID"}),r.jsx("th",{className:"p-4 text-xs",children:"Dirty"}),r.jsx("th",{className:"p-4 text-xs",children:"Draft"}),r.jsx("th",{className:"p-4 text-xs",children:"Deleted"}),r.jsx("th",{className:"p-4 text-xs",children:"Shell"})]}),Array.from(e.objects.keys()).map(a=>r.jsxs(K.Fragment,{children:[r.jsx("tr",{children:r.jsx("td",{children:a})}),e.getObjects(a).map(l=>r.jsx(tv,{model:l,onClick:p=>i(p)},l.uuid))]},a))]})})]})}),tv=X(function({model:e,onClick:n}){return e instanceof be?r.jsxs("tr",{className:U("border-b border-contrast-5",e.isDirty&&"bg-orange-50"),onClick:()=>n(e),children:[r.jsx("td",{className:"p-4 text-xs",children:e.entity}),r.jsx("td",{className:"p-4 text-xs",children:e.uuid}),r.jsx("td",{className:"w-40 p-4 text-xs",children:e.isDirty?r.jsx("span",{className:"text-orange-400",children:"Yes"}):r.jsx("span",{className:"text-green-300",children:"No"})}),r.jsx("td",{className:"w-40 p-4 text-xs",children:e.isDraft?r.jsx("span",{className:"text-orange-400",children:"Yes"}):r.jsx("span",{className:"text-green-300",children:"No"})}),r.jsx("td",{className:"w-56 p-4 text-xs",children:e.isDeleted?r.jsx("span",{className:"text-orange-400",children:"Yes"}):r.jsx("span",{className:"text-green-300",children:"No"})}),r.jsx("td",{className:"w-56 p-4 text-xs",children:e.isShell?r.jsx("span",{className:"text-orange-400",children:"Yes"}):r.jsx("span",{className:"text-green-300",children:"No"})})]}):r.jsx("tr",{children:r.jsx("td",{colSpan:3,className:"p-4 text-xs",children:e.uuid})})}),Xee=X(function({object:e,back:n,objectSelected:s}){var D;const{objectPool:i,transactionQueue:a,websocketLogger:l,userStore:p}=se(),f=(D=i.relationships.get(e.entity))==null?void 0:D.get(e.uuid),v=a.getTransactionsByObjectUuid(e.uuid).map(M=>({type:"transaction",id:M.transaction.uuid,time:M.transaction.createdAt,transaction:M.transaction})),E=l.getMessagesForObjectUuid(e.uuid).map(M=>({type:"websocket",id:Dt(),time:M.time,data:M.data})),w=[...v,...E].sort((M,o)=>G1(M.time,o.time));return r.jsxs(r.Fragment,{children:[r.jsx("div",{children:r.jsx(ae,{onClick:()=>n(),children:"Back"})}),r.jsx("h2",{children:"Updates"}),!p.hasTag("log-transactions")&&r.jsx("div",{className:"text-xs",children:"Set `log-transactions` tag to log updates"}),r.jsx("table",{children:r.jsx("tbody",{children:w.map(M=>r.jsxs("tr",{children:[r.jsx("td",{className:"text-xs uppercase",children:M.type==="transaction"?" REST":" WS"}),r.jsx("td",{className:"w-[60px] p-4 text-xs",children:Oe(M.time,"HH:mm:ss")}),M.type==="transaction"&&r.jsxs(r.Fragment,{children:[r.jsx("td",{className:U("w-[60px] p-4 text-xs uppercase",M.transaction.type===kt.Create&&"text-green-400",M.transaction.type===kt.Update&&"text-blue-400",M.transaction.type===kt.Delete&&"text-red-400"),children:M.transaction.type}),r.jsx("td",{className:"w-[100px] p-4 text-xs",children:r.jsx("abbr",{title:M.transaction.model.uuid,children:M.transaction.model.entity})}),r.jsx("td",{className:"p-4 text-xs",children:r.jsx(ce,{content:r.jsx("pre",{className:"text-xs",children:JSON.stringify(M.transaction.newValues,void 0,2)}),children:r.jsx("abbr",{title:"",children:"Data"})})}),r.jsx("td",{className:"p-4 text-xs",children:M.transaction.additionalValues&&r.jsx(ce,{content:r.jsx("pre",{className:"text-xs",children:JSON.stringify(M.transaction.additionalValues,void 0,2)}),children:r.jsx("abbr",{title:"",children:"Additional values"})})})]}),M.type==="websocket"&&r.jsxs(r.Fragment,{children:[r.jsx("td",{className:U("w-[60px] p-4 text-xs uppercase",M.data.cmd==="sync"&&"text-blue-400",M.data.cmd==="delete"&&"text-red-400"),children:M.data.cmd}),r.jsx("td",{className:"w-[100px] p-4 text-xs",children:r.jsx("abbr",{title:M.data.object_uuid,children:M.data.type})}),r.jsx("td",{className:"p-4 text-xs",children:r.jsx(ce,{content:r.jsx("pre",{className:"text-xs",children:JSON.stringify(M.data.object,void 0,2)}),children:r.jsx("abbr",{title:"",children:"Data"})})})]})]},M.id))})}),r.jsxs("h1",{children:["Entity: ",e.entity]}),r.jsx("table",{className:"w-full",children:r.jsxs("tbody",{children:[r.jsxs("tr",{children:[r.jsx("th",{className:"p-4 text-xs",children:"Property"}),r.jsx("th",{className:"p-4 text-xs",children:"Current value"}),r.jsx("th",{className:"p-4 text-xs",children:"Dirty"}),r.jsx("th",{className:"p-4 text-xs",children:"Last saved value"}),r.jsx("th",{children:r.jsx("abbr",{title:"Scheduled transactions for this value",children:"#"})})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"w-144 p-4 align-top text-xs",children:"uuid"}),r.jsx("td",{className:"w-144 p-4 align-top text-xs",colSpan:3,children:e.uuid})]}),Object.keys(e.properties).map(M=>{var o;return r.jsxs("tr",{className:U("border-b border-contrast-5",e.dirtyProperties.has(M)&&"bg-orange-50"),children:[r.jsx("td",{className:"w-144 p-4 align-top text-xs",children:M}),r.jsx("td",{className:"w-144 p-4 align-top text-xs",children:e.getProperty(M)===null?r.jsx("span",{className:"italic text-contrast-60",children:"null"}):e.getProperty(M)instanceof be?r.jsx("span",{onClick:()=>s(e.getProperty(M)),children:e.getProperty(M).entity}):(o=e.getProperty(M))==null?void 0:o.toString()}),r.jsx("td",{className:"w-48 p-4 align-top text-xs",children:e.dirtyProperties.has(M)?"Yes":"No"}),r.jsx("td",{className:"w-224 p-4 align-top text-xs",children:e.lastSavedProperties[e.fieldForProperty(M)]===null?r.jsx("span",{className:"italic text-contrast-60",children:"null"}):e.lastSavedProperties[e.fieldForProperty(M)]===void 0?r.jsx("span",{className:"italic text-contrast-60",children:"undefined"}):JSON.stringify(e.lastSavedProperties[e.fieldForProperty(M)])}),r.jsx("td",{children:e.scheduledTransactionsCountPerProperty[M]})]},M)})]})}),r.jsx("h2",{children:"Relationships"}),r.jsx("table",{children:r.jsx("tbody",{children:f&&Array.from(f.keys()).map(M=>{var o,d;return r.jsxs(K.Fragment,{children:[r.jsx("tr",{children:r.jsxs("td",{colSpan:6,children:[M," (",(o=f.get(M))==null?void 0:o.length,")"]})}),(d=f.get(M))==null?void 0:d.map(m=>r.jsx(tv,{model:m,onClick:s},m.uuid))]},M)})})})]})}),Jee=X(function(){const{transactionQueue:e}=se();return r.jsxs(r.Fragment,{children:[r.jsx("div",{children:"Transactions"}),r.jsxs("div",{children:[e.queue.length," queued transactions"]}),r.jsx(ab,{transactions:e.queue}),r.jsx("div",{children:"in flight transaction"}),r.jsx(ab,{transactions:e.currentTransaction?[e.currentTransaction]:[]}),r.jsxs("div",{children:[e.completedTransactions.length," done transactions"]}),r.jsx(ab,{transactions:e.completedTransactions.slice().reverse()})]})}),ab=X(function({transactions:e}){return e.length===0?null:r.jsxs("table",{className:"w-full",children:[r.jsxs("tr",{children:[r.jsx("th",{}),r.jsx("th",{}),r.jsx("th",{className:"text-xs",children:"Model"}),r.jsx("th",{className:"text-xs",children:"Payload"}),r.jsx("th",{className:"text-xs",children:"Extras"}),r.jsx("th",{children:""})]}),e.map(n=>r.jsx(Qee,{transaction:n},n.uuid))]})}),Qee=X(function({transaction:e}){return r.jsxs("tr",{children:[r.jsx("td",{className:"w-[60px] p-4 text-xs",children:Oe(e.createdAt,"HH:mm:ss")}),r.jsx("td",{className:U("w-[60px] p-4 text-xs uppercase",e.type===kt.Create&&"text-green-400",e.type===kt.Update&&"text-blue-400",e.type===kt.Delete&&"text-red-400"),children:e.type}),r.jsx("td",{className:"w-[100px] p-4 text-xs",children:r.jsx("abbr",{title:e.model.uuid,children:e.model.entity})}),r.jsx("td",{className:"p-4 text-xs",children:r.jsx("pre",{children:JSON.stringify(e.newValues,void 0,2)})}),r.jsx("td",{className:"p-4 text-xs",children:r.jsx("pre",{children:JSON.stringify(e.additionalValues,void 0,2)})}),r.jsx("td",{className:"p-4 text-xs",children:(e.status==="done"||e.status==="failed")&&`${K1(e.completedAt,e.createdAt)}ms`})]})}),qee=X(function(){const{socketService:e}=se(),[n,s]=K.useState(new Date);return K.useEffect(()=>{const i=setInterval(()=>{s(new Date)},1e3);return()=>clearInterval(i)}),r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:["Current websocket status: ",e.connectionStatus," ",e.connectionStatusLastConnectedAt&&`(for ${fr(n,e.connectionStatusLastConnectedAt)} seconds)`]}),r.jsx("div",{className:Te,children:e.log.slice().sort((i,a)=>G1(i.time,a.time)).map(i=>r.jsxs("div",{className:"flex flex-row gap-4 border-b border-contrast-5 p-6",children:[r.jsx("div",{children:Oe(i.time,"HH:mm:ss")}),r.jsx("div",{children:i.type}),r.jsx("div",{children:i.message})]},i.id))})]})}),ete=X(function(){const{appStore:e}=se(),[n,s]=K.useState(0),[i,a]=K.useState("objects");return r.jsxs("div",{className:"absolute bottom-10 left-10 top-10 z-50 w-2/3 overflow-scroll rounded-xl bg-base-bg-elevated p-12 shadow-400",children:[r.jsxs("div",{className:"mb-12 flex flex-row items-center gap-6",children:[r.jsx("div",{className:U(ht,"grow"),children:"Inspector"}),r.jsx(ce,{label:"ObjectPool is not tracked by MobX, so new objects do not appear automatically",children:r.jsx(ae,{size:"small",onClick:()=>s(n+1),children:"Refresh"})}),r.jsx(ae,{size:"small",onClick:()=>e.toggleInspector(),children:"Close"})]}),r.jsx("div",{className:"mb-6 flex flex-row items-start",children:r.jsx(er,{options:[{label:"Objects",value:"objects"},{label:"Websocket",value:"websocket"},{label:"Transactions",value:"transactions"}],defaultValue:i,onChange:l=>a(l)})}),i==="objects"&&r.jsx(Yee,{}),i==="websocket"&&r.jsx(qee,{}),i==="transactions"&&r.jsx(Jee,{})]},n)}),tte=X(function(){const{actionsStore:e,userStore:n}=se();return r.jsx("div",{className:U("absolute top-0 z-20 flex select-none items-center justify-between gap-4 [-webkit-app-region:drag]",pe.isMacApp?"pl-80":"pl-14"),style:{height:z0()},children:r.jsx(ce,{label:n.navigationSideBarVisible?"Close sidebar":"Open sidebar",keyboardShortcut:hv.keyboardShortcut,children:r.jsx(ae,{variant:"tertiary",size:"small",icon:i_,onClick:()=>e.executeAction(hv)})})})}),Bm={type:"spring",duration:.3,bounce:.1},G0={duration:0},nte=X(function({className:e}){const{userStore:n,browserStore:s}=se(),i=n.navigationSideBarVisible,a=Mt()||s.shouldDisableHeavyAnimations;return r.jsx(on.div,{transition:a?G0:Bm,initial:!1,animate:{width:i?0:24+(pe.isMacApp?80:14)},className:e})}),Lp=X(function({header:e,subHeader:n,hasObjectDetailsPanel:s,preventClearSelectionOnOutsideClick:i,children:a}){const{appStore:l,actionsStore:p,browserStore:f,userStore:v}=se(),{draggingCursor:E}=Je();$e({key:"K",commandKey:!0,isActiveWhenInputFocused:!0},m=>{m.preventDefault(),Fx()}),K.useEffect(()=>(p.enableActions(),()=>p.disableActions()),[p]);const w=Mt()||f.shouldDisableHeavyAnimations,[D,M]=K.useState(null),o=v.navigationSideBarVisible?r.jsx(on.div,{initial:{width:0},animate:{width:Li},exit:{width:0},transition:w?G0:Bm,className:"flex h-full flex-none justify-end overflow-hidden bg-gray-50 [-webkit-app-region:drag]",children:r.jsx("div",{className:"h-full flex-none border-r border-contrast-10",style:{width:Li},children:r.jsx(ote,{})})}):null,d=m=>{M(m?{sidebarJsx:o}:null)};return r.jsxs("div",{className:"relative isolate flex h-full overflow-hidden",children:[r.jsx(Sr,{initial:!1,children:D?D.sidebarJsx:o}),r.jsxs("div",{className:"flex size-full min-w-0 grow flex-col bg-base-bg",onClick:s&&!i&&l.selectedObject?m=>{var h;((h=window.getSelection())==null?void 0:h.type)!=="Range"&&m.currentTarget.contains(m.target)&&!fx(m.target,m.currentTarget)&&l.setSelectedObject(null)}:void 0,children:[e&&r.jsxs("div",{className:"border-b border-contrast-10",children:[r.jsxs("div",{className:"flex items-center gap-4 px-10 [-webkit-app-region:drag]",style:{height:z0()},children:[r.jsx(nte,{className:"-mr-4"}),e]}),n&&r.jsx("div",{className:"flex items-center gap-8 border-t border-contrast-10 p-12",children:n})]}),r.jsx("div",{className:"relative z-20 flex min-h-0 min-w-0 grow flex-col overflow-auto",children:typeof a=="function"?a(d):a})]}),r.jsx(tte,{}),E&&r.jsx("div",{className:U("absolute inset-0 z-10",E)}),l.inspectorVisible&&r.jsx(ete,{})]})}),Li=220;let ob;function z0(){return ob===void 0&&(ob=pe.isAtLeastVersion("1.20.0")?44:52),ob}const rte=X(function(){var v;const{appStore:e,actionsStore:n,objectPool:s,tasks:i,projectStates:a}=se();K.useEffect(()=>{if(!e.selectedObject)return n.actionContext.setContextOverride({assignee:s.member})},[n.actionContext,e.selectedObject,s.member]);const l=fn(i.items,[{option:"assignee",value:(v=s.member)==null?void 0:v.uuid},{option:"statusType",value:["unstarted","started"]}]),p=U$(fn(l,[{option:"due",value:"due"}]),"due_date",[],a,"due_date"),f=Ni(fn(l,[{option:"due",value:"no-due"},{option:"createdAt",value:"now"}]),["createdAt"]);return r.jsxs("div",{className:"flex-1 px-6",children:[r.jsx(PY,{}),p.map(E=>r.jsx(CN,{label:E.label,tasks:E.tasks},E.label)),r.jsx(CN,{label:"Just created",tasks:f})]})});function CN({label:t,tasks:e}){return e.length===0?null:r.jsx(I0,{title:t,children:Ni(e,["due_date","priority"]).map(n=>r.jsx(ste,{task:n},n.uuid))})}const ste=X(function({task:e}){const{appStore:n}=se(),{bindCreateEventFromTask:s}=Je(),i=it();return r.jsx(Vs,{task:e,children:r.jsxs("div",{role:"button",tabIndex:0,onClick:()=>{n.setSelectedObject(e)},className:U(oe,"flex touch-none items-center gap-6 rounded-md px-8 py-6 outline-none transition-shadow hover:cursor-pointer hover:bg-contrast-5 focus-visible:ring data-[state=open]:bg-contrast-5",n.selectedObject===e&&"bg-contrast-5"),...s(e),children:[r.jsx(Pt,{task:e}),r.jsx(ce,{label:e.title,children:r.jsx("div",{className:U("grow overflow-hidden overflow-ellipsis whitespace-nowrap",e.isDone&&"text-contrast-50 line-through"),children:e.displayTitle})}),e.dueDate&&r.jsx(ce,{label:Oe(e.dueDate,"MMM do, yyyy"),children:r.jsx("div",{className:U("flex-none",e.overDue&&!e.isDone?"text-red-500":"text-contrast-50",e.isDone&&"text-contrast-50 line-through"),children:en(e.dueDate,ge.nowStartOfDay)>6?Oe(e.dueDate,"MMM do"):Oe(e.dueDate,"EEE")})}),e.project&&r.jsx(ce,{label:e.project.name,children:r.jsx("button",{onClick:a=>{a.stopPropagation(),e.project&&i(ye.projects.children.project.getPath({projectUuid:e.project.uuid}))},children:r.jsx(Ut,{className:"flex-none text-contrast-50"})})}),e.priority&&r.jsx("span",{className:"flex-none",children:r.jsx(Vt,{priority:e.priority})})]})})}),ite=X(function(){var s,i;const{categories:e}=se();if(e.favoriteCategory===void 0)return null;const n=(s=e.favoriteCategory)==null?void 0:s.projectCategories;return(n==null?void 0:n.length)===0?null:r.jsx("div",{className:"mx-6",children:r.jsx(I0,{title:"Favorites",children:r.jsx("div",{className:"flex flex-col gap-6",children:(i=e.favoriteCategory)==null?void 0:i.projectCategories.map(a=>r.jsx(ate,{project:a.project},a.project.uuid))})})})}),ate=X(function({project:e}){const{displayEventsStore:n}=se(),s=pm(),i=n.hasVisibleProject(e),a=s.pathname===ye.calendar.path;return r.jsx("div",{className:"group [-webkit-app-region:no-drag]",children:r.jsxs(Ck,{to:ye.projects.children.project.getPath({projectUuid:e.uuid}),className:({isActive:l})=>U(oe,"flex items-center gap-8 overflow-hidden rounded-md outline-none transition-shadow focus-visible:ring",a?"pl-8":"px-8 py-6",l?"bg-primary-50 text-primary hover:bg-primary-100 hover:text-primary-700 dark:text-primary-900 hover:dark:text-black":"text-contrast-50 hover:bg-contrast-5 hover:text-black"),children:[ze(Ut,"size-16"),r.jsx("span",{className:"min-w-0 flex-1 truncate",children:e.name}),a&&r.jsx("div",{className:U(!i&&"invisible group-focus-within:visible group-hover:visible"),children:r.jsx(ce,{label:"Toggle project tasks",children:r.jsx("button",{className:"ml-4 p-6 hover:bg-contrast-5",onClick:l=>{l.stopPropagation(),l.preventDefault(),i?n.removeVisibleProject(e):n.addVisibleProject(e)},children:i?r.jsx(ji,{style:{color:e.displayColor}}):r.jsx(xm,{})})})})]})})});function es({icon:t,label:e,path:n,action:s,badgeNumber:i,overrideActiveState:a}){var v,E;const{state:l}=pm(),p=n===((E=(v=l==null?void 0:l.breadcrumbs)==null?void 0:v[0])==null?void 0:E.link),f=r.jsx("div",{className:"group [-webkit-app-region:no-drag]",children:r.jsx(Ck,{to:n,className:({isActive:w})=>U(oe,"flex items-center gap-8 rounded-md px-8 py-6 outline-none transition-shadow focus-visible:ring",(a===void 0||a===!0)&&(w||p)?"bg-primary-50 text-primary hover:bg-primary-100 hover:text-primary-700 dark:text-primary-900 hover:dark:text-black":"text-contrast-50 hover:bg-contrast-5 hover:text-black"),children:({isActive:w})=>r.jsxs(r.Fragment,{children:[ze(t,"size-16"),r.jsx("span",{className:"min-w-0 flex-1 truncate",children:e}),typeof i=="number"&&r.jsx("span",{className:U(yr,"flex min-w-16 justify-center rounded px-4 py-2",!(w||p)&&"bg-contrast-5 text-black group-hover:bg-transparent"),children:i})]})})});return s?r.jsx(ce,{label:s.label,keyboardShortcut:s.alternativeKeyboardShortcuts&&s.alternativeKeyboardShortcuts[0]?s.alternativeKeyboardShortcuts[0]:s.keyboardShortcut,side:"right",children:f}):f}const ote=X(function(){var E;const{tasks:e,userStore:n,projects:s,categories:i,inboxNotifications:a}=se(),l=pm(),p=it();let f;const v=Ix();if(((E=v[1])==null?void 0:E.type)==="project"){const w=s.findByUuid(v[1].uuid);w&&(f=!i.isFavorite(w))}return r.jsxs("div",{className:"relative flex h-full flex-col",children:[r.jsxs("div",{className:U("flex items-center justify-between pr-12 transition-opacity",pe.isMacApp?"pl-80":"pl-14",!n.navigationSideBarVisible&&"opacity-0"),style:{height:z0()},children:[r.jsx("div",{className:"flex gap-4 pl-28",children:pe.isDesktopApp&&r.jsxs(r.Fragment,{children:[r.jsx(ce,{label:"Go back",keyboardShortcut:{key:"[",commandKey:!0},children:r.jsx(ae,{variant:"tertiary",size:"small",icon:c0,onClick:()=>p(-1)})}),r.jsx(ce,{label:"Go forward",keyboardShortcut:{key:"]",commandKey:!0},children:r.jsx(ae,{variant:"tertiary",size:"small",icon:vn,onClick:()=>p(1)})})]})}),r.jsx(ce,{label:"Add task",keyboardShortcut:rP.keyboardShortcut,children:r.jsx(ae,{variant:"colored",size:"small",icon:Xe,onClick:()=>U0()})})]}),r.jsxs("div",{className:"flex flex-1 flex-col overflow-y-auto pt-48 [-webkit-app-region:no-drag]",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"mx-6 flex flex-col gap-6 pb-24",children:[r.jsx(es,{icon:ex,label:"Inbox",path:ye.inbox.path,action:sP,badgeNumber:e.inboxTasks.length!==0&&e.inboxTasks.length}),n.hasTag("inbox_notifications")&&r.jsx(es,{icon:nx,label:"Updates",path:ye.updates.path,action:iP,badgeNumber:a.unreadNotifications.length!==0&&a.unreadNotifications.length}),r.jsx("div",{className:"h-4"}),r.jsx(es,{icon:fv.icon,label:"My Focus",path:ye.myFocus.path,action:fv,badgeNumber:e.numberOfMyFocusTasks!==0&&e.numberOfMyFocusTasks}),r.jsx(es,{icon:mv.icon,label:"Calendar",path:ye.calendar.path,action:mv}),r.jsx(es,{icon:pv.icon,label:"Tasks",path:ye.tasks.path,action:pv}),r.jsx(es,{icon:gv.icon,label:"Projects",path:ye.projects.path,action:gv,overrideActiveState:f})]}),r.jsx(ite,{}),l.pathname===ye.calendar.path&&r.jsx(rte,{})]}),r.jsx(lte,{})]}),r.jsx(IY,{})]})}),lte=X(function(){const{actionsStore:e,userStore:n}=se();return r.jsx("div",{className:"sticky bottom-0 w-max p-10",children:r.jsx(Ue,{options:()=>[[{label:ds.label,icon:ds.icon,onSelect:()=>e.executeAction(ds),keyboardShortcut:ds.keyboardShortcut},{label:"Open command line",icon:dF,keyboardShortcut:{commandKey:!0,key:"K"},onSelect:Fx}],[{label:up.label,icon:up.icon,onSelect:()=>e.executeAction(up)},{label:"Get started using Rise",icon:$F,subOptions:hi.map(({title:s,icon:i,stepKey:a,description:l})=>({label:s,icon:n.onboardingState[a]?o0:r.jsx(i,{className:"text-primary-500"}),onSelect:()=>{Me(ke.GETTING_STARTED_STEP_OPENED,{step:a,source:"menu"}),Hm(a)},secondaryLabel:l}))},{label:"Help",icon:r_,onSelect:()=>e.executeAction(dv),keyboardShortcut:dv.keyboardShortcut},{label:"Invite others to Rise",icon:Tn,onSelect:()=>e.executeAction(n5)}],[!pe.isDesktopApp&&{label:cp.label,icon:cp.icon,onSelect:()=>e.executeAction(cp)},{label:op.label,icon:op.icon,onSelect:()=>e.executeAction(op)},{label:lp.label,icon:lp.icon,onSelect:()=>e.executeAction(lp)}],[{label:dp.label,icon:dp.icon,onSelect:()=>e.executeAction(dp)}]],children:r.jsx(We,{children:r.jsx(ce,{label:"Open menu",children:r.jsx(ae,{size:"small",icon:r.jsx(Ot,{className:"rotate-90"})})})})})})}),Die=X(function(){return wm("dark:bg-base-elevated bg-gray-50"),r.jsxs("div",{className:"flex min-h-full",children:[r.jsx(iB,{}),r.jsx(cte,{}),r.jsxs("div",{className:"flex-1 bg-base-bg-elevated dark:bg-base-bg",children:[r.jsx("div",{className:"fixed inset-x-0 top-0 -z-10 h-48 [-webkit-app-region:drag]"}),r.jsx(aB,{})]})]})}),cte=X(function(){const{workspaces:e}=se(),n=[{label:"Calendar",icon:ln,elements:[{label:"General",path:ye.settings.children.general.path},{label:pe.isMac?"Menu bar":"Tray calendar",path:ye.settings.children.menuBar.path},{label:"Smart color-coding",path:ye.settings.children.smartColorCoding.path}]},{label:"Tasks & Projects",icon:yt,elements:[{label:"General",path:ye.settings.children.tasksGeneral.path}]},{label:"Integrations",icon:mF,elements:[{label:"Calendars",path:ye.settings.children.calendars.path},{label:"Rooms & contacts",path:ye.settings.children.roomsAndContacts.path},{label:"Conferencing",path:ye.settings.children.conferencing.path}]},{label:"Scheduling",icon:Mk,elements:[{label:"Working hours",path:ye.settings.children.workingHours.path},{label:"Focus guard",path:ye.settings.children.focusGuard.path},{label:"Scheduling links",path:ye.settings.children.schedulingLinks.path}]},{label:"Account",icon:Jt,elements:[{label:"Profile",path:ye.settings.children.profile.path},{label:"Emails",path:ye.settings.children.emails.path},{label:"Plans & billing",path:ye.settings.children.plans.path}]},{label:"Workspaces",icon:Ut,elements:e.items.map(a=>({label:a.name||a.domain,path:ye.settings.children.workspaceSettings.getPath({workspaceUuid:a.uuid})}))}],s=pm(),i=it();return Rt(()=>i(ye.calendar.path)),r.jsx("div",{className:"flex-none",style:{width:Li},children:r.jsxs("div",{className:"fixed flex h-full flex-col border-r border-contrast-10",style:{width:Li},children:[r.jsxs("div",{className:"sticky top-0 flex-none p-16 [-webkit-app-region:drag]",children:[pe.isMacApp&&r.jsx("div",{className:"h-40"}),r.jsx(ae,{variant:"tertiary",icon:Ts,onClick:()=>i(-1),children:"Back"})]}),r.jsx("div",{className:"flex flex-grow flex-col gap-16 overflow-y-auto px-16 pb-16",children:n.map((a,l)=>r.jsxs("div",{children:[r.jsxs("div",{className:U(oe,"flex items-center gap-8 p-8 text-contrast-50"),children:[r.jsx(a.icon,{className:"flex-none"}),a.label]}),r.jsx("div",{className:"grid gap-px pl-24",children:a.elements.map((p,f)=>{if(!p)return null;const E=oB(p.path,s.pathname).pathname===s.pathname;return r.jsx(qt,{to:p.path,replace:!0,variant:"tertiary",justifyText:"left",className:U("transition-shadow",E&&"bg-contrast-5 hover:bg-contrast-10"),children:p.label},f)})})]},l))})]})})}),lb="py-6 pr-8 flex items-center",cb="py-6 pr-8 flex items-center border-t border-contrast-10",NR=X(function({calendarDropdownOptions:e}){const{accounts:n,crossCalendarBlocking:s,objectPool:i}=se();return n.connected.map(a=>r.jsxs("div",{className:"grid w-full grid-cols-[minmax(0,auto)_max-content_11rem] justify-items-stretch rounded-md border border-contrast-10",children:[r.jsxs("div",{className:U(lb,"pl-8"),children:[r.jsx("div",{className:"flex-none",children:r.jsx(RM,{type:a.type})}),r.jsx("span",{className:"mx-8 overflow-hidden text-ellipsis whitespace-nowrap text-sm font-medium",children:a.accountEmail}),r.jsx(Ue,{align:"end",options:[[{label:"Remove account",icon:lt,onSelect:()=>{xt({title:`Are you sure you want to remove account ${a.accountEmail} from Rise?`,description:"You can always add it back later.",secondaryAction:{key:"no",label:"Cancel"},primaryAction:{key:"yes",label:"Remove account"}}).then(l=>{l==="yes"&&(ue.account.delete(a.uuid),jt(`Account ${a.accountEmail} is now gone from Rise.`))})}}]],children:r.jsx(We,{children:r.jsx(ce,{label:"Open options",children:r.jsx(ae,{variant:"tertiary",size:"small",icon:Ot,className:"flex-none group-focus-within:opacity-100"})})})})]}),r.jsxs("span",{className:U(yr,lb,"justify-self-center text-contrast-50"),children:["Influences avail.",r.jsx(ce,{label:"Only calendars marked as influencing your availability affect flexible events, FocusGuard, Meet and external scheduling.",className:"w-256",children:r.jsx("span",{className:"text-contrast-30",children:r.jsx(wn,{className:"inline"})})})]}),r.jsxs("span",{className:U(yr,lb,"pl-8 text-contrast-50"),children:["Block on",r.jsx(ce,{label:"Automatically copy events from one calendar to another. Only events that are marked as busy will be copied.",className:"w-256",children:r.jsx("span",{className:"text-contrast-30",children:r.jsx(wn,{className:"inline"})})})]}),a.calendars.map(l=>{const p=s.isBlockedIn(l.uuid),f=p.map(E=>i.getObject("calendar",E.followerCalendar));let v={label:"Select calendars",icon:r.jsx(qk,{})};return f.length>0&&(v={label:f.length===1?f[0].name:`${f.length} calendars`,icon:r.jsxs("div",{className:"flex flex-none items-center gap-8",children:[r.jsx(eF,{}),r.jsx("div",{className:"relative h-12",style:{width:`calc(6px + 6px * ${f.length})`},children:f.map((E,w)=>r.jsx("div",{className:U("absolute top-0 inline-block size-12 rounded outline outline-white"),style:{background:E.color,left:`calc(6px * ${w})`}},E.uuid))})]})}),r.jsxs(K.Fragment,{children:[r.jsxs("div",{className:U(cb,"pl-8"),children:[r.jsx("div",{className:"size-16 flex-none rounded",style:{background:l.color}}),r.jsx("span",{className:"ml-8 mr-8 w-[12rem] truncate text-sm font-medium text-black",children:l.name})]}),r.jsx("div",{className:U(cb,"align-center flex justify-center justify-self-stretch"),children:r.jsx(et,{checked:l.influencesAvailability,onChange:async E=>{E.target.checked?l.setInfluencing(!0):await xt({title:"Are you sure most events in this calendar dont influence your availability?",description:`Events in "${l.name}" will be marked as available by default. Typically only shared or subscribed calendars should have this setting. Rise ignores available events when scheduling or moving meetings.`,secondaryAction:{key:"cancel",label:"Cancel"},primaryAction:{key:"confirm",label:"Confirm"}})==="confirm"&&l.setInfluencing(!1)}})}),r.jsx("div",{className:U(cb,"border-t border-contrast-10 py-6 pr-8"),children:r.jsx(je,{inputPlaceholder:"Pick a calendar",options:e(!1,l.uuid),initialOptionValue:f.map(E=>E.uuid),hasMultipleValues:!0,shouldStayOpenOnSubmit:!0,renderLabel:E=>{var w;return r.jsxs("div",{className:"flex items-center gap-6",children:[E.calendar&&r.jsx(He,{color:(w=E.calendar)==null?void 0:w.color,className:"flex-none"}),r.jsx("div",{className:"truncate",children:E.label})]})},onSubmit:async E=>{const w=p.find(D=>D.followerCalendar===E.calendar.uuid);if(w){const D=i.getObject("calendar",w.followerCalendar);await xt({title:`Do you want to stop blocking events on ${D.name}?`,description:`Events created on ${l.name} will no longer be automatically blocked off on ${D.name}.`,primaryAction:{key:"unblock",label:"Unblock",negative:!0},secondaryAction:{key:"cancel",label:"Cancel"}})==="unblock"&&s.delete(w)}else s.blockIn(l.uuid,E.value),jt(`Events on ${l.name} will be automatically copied over to ${E.label}.`)},selectButtonProps:{className:"w-full",classNameInner:"min-w-0",icon:v.icon,iconRight:null,justifyText:"left",children:r.jsx("div",{className:"min-w-0 truncate",children:v.label}),isMuted:f.length===0},side:"bottom",align:"end"})})]},l.uuid)})]},a.uuid))});function mt(){return r.jsx("div",{className:"p-8",children:r.jsx("div",{className:"h-px bg-contrast-10"})})}function Fm({variant:t="default",icon:e,title:n,description:s,learnMoreLink:i,noMarginBottom:a,onLearnMoreClick:l,close:p}){const f=ute[t],v={variant:"tertiary",iconRight:r.jsx(l0,{className:f.learnMoreButtonIcon}),className:U("-mb-6 -ml-8 self-start",f.learnMoreButton),children:"Learn more"};return r.jsxs("article",{className:U(oe,"flex flex-col gap-8 rounded-md border border-contrast-10 p-16",!a&&"mb-16",f.container),children:[r.jsxs("div",{className:"flex gap-8",children:[ze(e,f.icon),r.jsx("h3",{className:"flex-1",children:n}),p&&r.jsx("div",{className:"flex size-16 items-center justify-center",children:r.jsx(ce,{label:"Close",side:"top",children:r.jsx(ae,{icon:Rn,variant:"tertiary",size:"small",onClick:p,className:"flex-none"})})})]}),r.jsx("p",{className:U(Ne,"text-contrast-50"),children:s}),i?r.jsx(qt,{...v,to:i,onClick:l}):l&&r.jsx(ae,{...v,onClick:l})]})}const ute={default:{container:"border-contrast-10",icon:"text-primary",learnMoreButton:"text-primary",learnMoreButtonIcon:"text-primary group-hover/button:text-primary"},warning:{container:"border-yellow-300",icon:"text-yellow-300",learnMoreButton:"text-yellow-300",learnMoreButtonIcon:"text-yellow-300 group-hover/button:text-yellow-300"}};function Bn({title:t,description:e,className:n}){return r.jsxs("div",{className:n,children:[r.jsx("div",{className:oe,children:t}),e&&r.jsx("div",{className:U(Ne,"text-contrast-50"),children:e})]})}function Fn({left:t,leftClassName:e,right:n,rightClassName:s}){return r.jsxs("div",{className:"flex items-center gap-12 px-8",children:[r.jsx("div",{className:U("flex-grow",e),children:t}),n&&r.jsx("div",{className:U("flex-none",s),children:n})]})}function Bi({title:t,description:e,...n}){return r.jsx(Fn,{left:r.jsx(Bn,{title:t,description:e}),right:r.jsx(vr,{...n})})}function ur({title:t,description:e,...n}){return r.jsx(Fn,{left:r.jsx(Bn,{title:t,description:e}),right:r.jsx(je,{align:"end",...n})})}function dt({title:t,description:e,...n}){return r.jsx(Fn,{left:r.jsx(Bn,{title:t,description:e}),right:r.jsx(et,{...n})})}function Ct({title:t,subtitle:e,children:n,goBack:s}){return r.jsx("div",{className:"px-32 py-56",children:r.jsxs("div",{className:"mx-auto grid max-w-[34rem] grid-cols-1 gap-16",children:[r.jsxs("div",{className:"grid gap-16 pb-16",children:[s&&r.jsx("div",{children:r.jsx(ae,{variant:"tertiary",icon:c0,onClick:s,children:"Back"})}),r.jsx("h1",{className:U(J_,"px-8"),children:t}),e&&r.jsx("div",{className:U(Ne,"px-8 text-contrast-50"),children:e})]}),n]})})}function Zt({title:t}){return r.jsx("h2",{className:Ae(ht,"px-8 font-semibold"),children:t})}const wie=X(function(){var p,f,v;const{accounts:e,userStore:n,objectPool:s,crossCalendarBlocking:i}=se(),a=i.getSharedBlockingSettings(),l=(E,w)=>e.connected.map(D=>({key:D.accountEmail,label:D.accountEmail,options:D.calendars.filter(M=>M.accessLevel==="owner"||M.accessLevel==="writer").filter(M=>M.uuid!==w).map(M=>({value:M.uuid,label:M.name,calendar:M,icon:E?r.jsx(He,{color:M.color}):void 0}))})).filter(D=>D.options.length!==0);return r.jsxs(Ct,{title:"Calendars",children:[r.jsx(Fm,{icon:qk,title:"Synchronize availability with cross-calendar blocking",description:"Ever got double booked because you had an appointment in your private calendar that your teammates werent aware of? With cross-calendar blocking this wont happen anymore.",learnMoreLink:"https://support.risecalendar.com/cross-calendar-blocking"}),r.jsx(NR,{calendarDropdownOptions:l}),r.jsxs("div",{className:"flex flex-wrap gap-16",children:[r.jsx(ub,{icon:r.jsx(ax,{}),label:"Google",buttonLabel:"Connect",isPrimary:!0,action:()=>void ZM("settings")}),r.jsx(ub,{icon:r.jsx(g0,{}),label:"Outlook",buttonLabel:"Connect",isPrimary:!0,action:()=>void YM("settings")}),r.jsx(ub,{icon:r.jsx(l_,{className:"text-contrast-50"}),label:"Apple",buttonLabel:"Request",action:()=>XM(e.ownEmails[0])})]}),r.jsx(mt,{}),r.jsx(ur,{title:"Primary calendar",description:"Destination for events others create",inputPlaceholder:"Set primary calendar",initialOptionValue:(p=n.primaryCalendar)==null?void 0:p.uuid,options:l(!0),className:"max-w-sm",onSubmit:({value:E})=>n.setPrimaryCalendar(s.getObject("calendar",E)),selectButtonProps:{icon:n.primaryCalendar&&r.jsx(He,{color:n.primaryCalendar.color})}}),r.jsx(ur,{title:"Active calendar",description:"Destination for events you create",inputPlaceholder:"Set active calendar",initialOptionValue:(f=n.activeCalendar)==null?void 0:f.uuid,options:l(!0),className:"max-w-sm",onSubmit:({value:E})=>n.setActiveCalendar(s.getObject("calendar",E)),selectButtonProps:{icon:n.activeCalendar?r.jsx(He,{color:n.activeCalendar.color}):void 0,children:((v=n.activeCalendar)==null?void 0:v.name)||"None"}}),a&&r.jsxs(r.Fragment,{children:[r.jsx(mt,{}),r.jsx(Zt,{title:"Cross-calendar blocking"}),r.jsx(dt,{title:"Block events during working hours only",description:"Don't block events that happen on times and days you are not working",checked:a.onlyWithinWorkingHours||!1,onChange:()=>{i.toggleOnlyWithinWorkingHours()}}),r.jsx(Bi,{title:"Event title",description:"The title others will see",value:a.title||"",placeholder:"Busy",onChange:E=>{xe(()=>{E.target.value!==""?i.setTitle(E.target.value):i.setTitle(null)})},onBlur:()=>{n.save()}})]})]})});function ub({icon:t,label:e,buttonLabel:n,action:s,isPrimary:i}){const[a,l]=K.useState(!1);return r.jsxs("div",{className:"flex flex-grow items-center gap-8 rounded-md bg-contrast-5 p-8 ring ring-contrast-10",children:[t,r.jsx("div",{className:U(oe,"flex-1"),children:e}),r.jsx(ae,{variant:i?"primary":"secondary",disabled:a,onClick:()=>{const p=s();p&&(l(!0),p.finally(()=>{l(!1)}))},children:n})]})}function dte({keyboardShortcut:t,onChange:e,disabled:n}){const[s]=K.useState(t||null),[i,a]=K.useState(!1),l=p=>{if(!i||(p.stopPropagation(),p.preventDefault(),["Control","Meta","Shift","Alt"].includes(p.key)))return;const v={key:p.code.includes("Key")?p.code.replace("Key",""):p.key,shiftKey:p.shiftKey,commandKey:p.metaKey,altKey:p.altKey,ctrlKey:p.ctrlKey},E=mx(v);if(E&&!lB(E)){alert(`The given keyboard shortcut ${E} is not supported.`),a(!1);return}if(["","`"].includes(p.key)){alert(`The ${p.key} key is not supported as a keyboard shortcut.`),a(!1);return}e==null||e(v),a(!1)};return K.useEffect(()=>(window.addEventListener("keydown",l),()=>window.removeEventListener("keydown",l))),i?r.jsxs("div",{className:U(oe,"flex items-center gap-4 rounded-md px-8 py-6 ring ring-contrast-20"),children:["Type shortcut...",s&&r.jsx(ce,{label:"Use old shortcut",children:r.jsx("button",{onClick:()=>{e==null||e(s),a(!1)},className:"text-contrast-50",children:r.jsx(Ok,{width:12,height:12})})}),r.jsx(ce,{label:"Delete shortcut",children:r.jsx("button",{onClick:()=>{e==null||e(null),a(!1)},className:"text-contrast-50",children:r.jsx(ix,{})})})]}):r.jsx(ae,{onClick:()=>{e==null||e(null),a(!0)},disabled:n,className:t?"text-black":"text-contrast-50",children:t?r.jsx(Pn,{shortcut:t,size:"small"}):"Record shortcut"})}function kR({title:t,description:e,...n}){return r.jsx(Fn,{left:r.jsx(Bn,{title:t,description:e}),right:r.jsx(dte,{...n})})}function Sn({title:t,children:e,className:n}){return r.jsxs("div",{className:n,children:[r.jsx("div",{className:U(Te,"mb-8 text-contrast-50"),children:t}),e]})}function TN(t){Ke(({close:e})=>r.jsx(hte,{close:e,conferenceSolution:t}))}const hte=X(function({close:e,conferenceSolution:n}){const{conferenceSolutions:s}=se(),[i]=K.useState(()=>{if(n)return n;const a=s.new();return a.provider="custom_link",a});return r.jsxs("div",{className:"w-288",children:[r.jsxs("div",{className:"flex flex-col gap-16 p-24",children:[r.jsxs("h1",{children:[n?"Edit":"Create"," custom link"]}),r.jsx(Sn,{title:"Title",children:r.jsx(vr,{variant:"border-transparent",placeholder:"My conferencing",value:i.label||"",onChange:a=>{xe(()=>{i.label=a.target.value})}})}),r.jsx(Sn,{title:"Link",children:r.jsx(vr,{variant:"border-transparent",placeholder:"https://my-conferencing.com",value:i.link||"",onChange:a=>{xe(()=>{i.link=a.target.value.trim()})}})})]}),r.jsxs("div",{className:"flex justify-between border-t border-contrast-10 bg-contrast-5 px-24 py-8",children:[r.jsx(ae,{variant:"secondary",onClick:e,children:"Cancel"}),r.jsx(ae,{variant:"primary",disabled:!i.isValidCustomLink||!mV(i.link),onClick:()=>{i.save(),s.add(i),e()},children:"Save"})]})]})}),Cie=X(function(){var a;const{userStore:e,conferenceSolutions:n,objectPool:s}=se(),i=l=>{n.delete(l)};return r.jsxs(Ct,{title:"Conferencing",children:[r.jsx(ur,{title:"Default video conferencing",description:"New events will have a video conferencing link",inputPlaceholder:"Set video conferencing",options:[{value:null,label:"None"},...n.items.map(l=>({value:l.uuid,label:l.label}))],initialOptionValue:(a=e.defaultConferenceSolution)==null?void 0:a.uuid,onSubmit:({value:l})=>{e.setDefaultConferenceSolution(l?s.getObject("conference_solution",l):null)}}),r.jsx(kR,{title:"Global keyboard shortcut to join next meeting",description:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"Open next meetings video conferencing link"}),!pe.isDesktopApp&&r.jsxs("p",{children:["You need the ",r.jsx("a",{href:"https://download.risecalendar.com/",target:"_blank",rel:"noreferrer noopener",className:"text-primary hover:underline",children:"Rise desktop app"})," to enable this setting."]})]}),keyboardShortcut:$_(e.globalNextEventKeyboardShortcut),onChange:l=>e.setGlobalNextEventKeyboardShortcut(mx(l)),disabled:!pe.isDesktopApp}),r.jsx(dt,{title:"Auto-join all meetings",description:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"Automatically join all meetings with video conferencing links. Only works with the menu bar app enabled."}),!pe.isDesktopApp&&r.jsxs("p",{children:["You need the ",r.jsx("a",{href:"https://download.risecalendar.com/",target:"_blank",rel:"noreferrer noopener",className:"text-primary hover:underline",children:"Rise desktop app"})," to enable this setting."]})]}),checked:e.autoJoinAllMeetings,disabled:!pe.isDesktopApp,onChange:()=>{e.toggleAutoJoinAllMeetings()}}),r.jsx(mt,{}),r.jsx(Zt,{title:"Conferencing providers"}),r.jsx(mn,{children:n.items.filter(l=>l.provider!=="google_meet"&&l.provider!=="teamsForBusiness"&&l.provider!=="skypeForBusiness"&&l.provider!=="skypeForConsumer").map(l=>{const p=l.provider==="zoom",f=l.provider==="custom_link",v=()=>[p&&{icon:pr,label:"Configure",onSelect:()=>Fe("https://marketplace.zoom.us/apps/lE5_mHCCRFypPRQUR4pnvg")},f&&{icon:pr,label:"Edit",onSelect:()=>TN(l)},{icon:f?lt:Rn,label:f?"Delete":"Disconnect",isDestructive:!0,onSelect:()=>i(l)}];return r.jsx(Cr,{options:v,children:r.jsxs("div",{className:U(oe,"flex items-center gap-8"),children:[p?r.jsx(ai,{className:"text-[#4A8CFF]"}):r.jsx(Ns,{className:"text-contrast-50"}),r.jsx("div",{className:"w-144 truncate",children:l.label}),r.jsx("div",{className:"flex-1 truncate text-contrast-50",children:l.email||l.link}),r.jsx(Ue,{options:v,children:r.jsx(ae,{variant:"tertiary",icon:Ot})})]})},l.uuid)})}),r.jsxs("div",{className:"flex justify-end gap-8 px-8",children:[r.jsx(ae,{icon:r.jsx(ai,{className:"text-[#4A8CFF]"}),onClick:()=>{const l=pe.isDesktopApp?"web-electron":"web";Fe(`https://beta.risecalendar.com/connect/zoom?client=${l}`)},children:"Connect Zoom"}),r.jsx(ae,{icon:ai,onClick:()=>TN(),children:"Add custom link"})]})]})}),Tie=X(function(){const{userStore:e}=se();return r.jsxs(Ct,{title:"Emails",children:[r.jsx(dt,{title:"Onboarding emails",description:"A series of emails that help you get started with Rise",checked:e.dripCampaignUnsubscribedAt===null,onChange:n=>e.toggleDripCampaign()}),r.jsx(dt,{title:"Product updates",description:"Bi-weekly updates where we share what we've been working on",checked:e.emailNotificationsProductUpdates,onChange:n=>e.toggleEmailNotificationsProductUpdates()}),r.jsx(dt,{title:"FocusGuard notifications",description:"Email me when FocusGuard makes changes to my schedule",checked:e.emailNotificationsFocusGuard,onChange:()=>e.toggleEmailNotificationsFocusGuard()})]})}),Nie=X(function(){var f,v;const{userStore:e,accounts:n}=se();if(!n.loaded)return null;const s=(v=(f=e.primaryCalendar)==null?void 0:f.account.colors)==null?void 0:v.event,i=e.primaryCalendar.color,a=e.focusGuardSettings.eventRemoteColorId,l=s?[{value:null,label:"Default color",icon:r.jsx(He,{color:i,isSelected:e.focusGuardSettings.eventRemoteColorId===null})},...Object.entries(s).map(([E,w])=>({value:E,label:w.name||"Calendar Color",icon:r.jsx(He,{color:w.background,isSelected:a===E})}))]:[],p=a?s==null?void 0:s[a]:null;return r.jsxs(Ct,{title:"Focus guard",children:[!e.hintDismissed.settingsFocusGuard&&r.jsx(Fm,{icon:s_,title:"How does it work?",description:"Automatically block off time when your calendar fills up and goes below your desired minimum focus time.",onLearnMoreClick:()=>Hm("fgExplainerDone",!0),close:()=>e.dismissHint("settingsFocusGuard")}),e.focusGuardStatus==="waiting_for_analysis"||e.focusGuardStatus==="analyzing"?r.jsx("p",{className:oe,children:"Focus guard will be automatically enabled after Rise completed analyzing your calendar. We'll keep you posted via email."}):r.jsxs(r.Fragment,{children:[r.jsx(dt,{title:r.jsxs(r.Fragment,{children:["Automatically block off time",r.jsx(je,{selectButtonProps:{className:"mx-8"},initialOptionValue:e.focusTimeDayPartPreference??void 0,options:[{value:"anytime",label:"anytime during the day"},{value:"morning",label:"in the morning"},{value:"afternoon",label:"in the afternoon"}],onSubmit:({value:E})=>e.setFocusTimeDayPartPreference(E)}),"when I have",r.jsx("br",{}),r.jsx(je,{selectButtonProps:{className:"mr-8"},initialOptionValue:e.focusTimeThresholdMinutes??void 0,options:Array.from({length:21},(E,w)=>({value:w*60,label:w===0?"No minimum":`${w} hour${w===1?"":"s"}`})).filter(E=>E.value!==0||e.focusTimeThresholdMinutes===0),onSubmit:({value:E})=>e.setFocusTimeThresholdMinutes(E)}),"or less focus time per week."]}),checked:e.focusGuardStatus!=="disabled",onChange:()=>{Me(e.focusGuardStatus==="disabled"?ke.FOCUS_GUARD_ENABLED:ke.FOCUS_GUARD_DISABLED,{source:"settings"}),e.toggleFocusGuardStatus()}}),e.focusGuardStatus==="enabled"&&r.jsxs(r.Fragment,{children:[r.jsx(mt,{}),r.jsx(Zt,{title:"Customize focus blocks"}),r.jsxs("div",{className:"grid gap-16 px-8",children:[r.jsxs("div",{children:[r.jsx("div",{className:U(Te,"mb-8 text-contrast-50"),children:"Title"}),r.jsx(vr,{placeholder:" Focus Time",value:e.focusGuardSettings.eventTitle||"",onChange:E=>e.setFocusGuardEventTitle(E.target.value),onBlur:()=>{e.save()},outerClassName:"w-full"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-16",children:[r.jsxs("div",{children:[r.jsx("div",{className:U(Te,"mb-8 text-contrast-50"),children:"Visibility"}),r.jsx(je,{inputPlaceholder:"Set visibility",initialOptionValue:e.focusGuardSettings.eventVisibility,options:[{value:null,label:"Default visibility"},{value:"public",label:"Public"},{value:"private",label:"Private"}],onSubmit:E=>{e.setFocusGuardEventVisibility(E.value)},selectButtonProps:{className:"flex-none w-full"},align:"end"})]}),s&&r.jsxs("div",{children:[r.jsx("div",{className:U(Te,"mb-8 text-contrast-50"),children:"Color"}),r.jsx(je,{initialOptionValue:e.focusGuardSettings.eventRemoteColorId,options:l,onSubmit:E=>{e.setFocusGuardEventColor(E.value)},selectButtonProps:{className:"flex-none w-full",icon:r.jsx(He,{color:(p==null?void 0:p.background)||i})},align:"end"})]})]}),r.jsxs("div",{children:[r.jsx("div",{className:U(Te,"mb-8 text-contrast-50"),children:"Auto decline mode"}),r.jsx(je,{inputPlaceholder:"Set auto decline mode...",initialOptionValue:e.focusGuardSettings.autoDeclineMode||"declineOnlyNewConflictingInvitations",options:[{value:"declineNone",label:"Do not decline meetings"},{value:"declineAllConflictingInvitations",label:"Decline new and existing meetings"},{value:"declineOnlyNewConflictingInvitations",label:"Decline only new meeting invitations"}],onSubmit:E=>{e.setFocusGuardEventAutoDeclineMode(E.value)},selectButtonProps:{className:"flex-none w-full"},align:"end"})]}),r.jsxs("div",{children:[r.jsx("p",{className:U(Te,"mb-8 text-contrast-50"),children:"Notes (optional)"}),r.jsx(E0,{value:e.focusGuardSettings.eventDescription||"",onChange:E=>e.setFocusGuardEventDescription(E.target.value),onBlur:()=>{e.save()},placeholder:"I'm using Rise to dynamically block time to focus when I'm in too many meetings.",rows:4,className:oe})]})]}),r.jsx(mt,{}),r.jsx(Zt,{title:"Email"}),r.jsx(dt,{title:"Get notified when FocusGuard blocks off time",description:"Receive an email notification when FocusGuard kicked in",checked:e.emailNotificationsFocusGuard,onChange:()=>e.toggleEmailNotificationsFocusGuard()})]})]})]})});function K0({title:t,description:e,content:n}){return r.jsx(Fn,{left:r.jsx(Bn,{title:t,description:e}),rightClassName:oe,right:n})}function qm({title:t,description:e,...n}){return r.jsx(Fn,{left:r.jsx(Bn,{title:t,description:e}),right:r.jsx(er,{...n})})}const kie=X(function(){var v;const{userStore:e,appStore:n}=se(),s=cB(),i=E=>({value:E.name,label:E.name.startsWith("Etc")?E.abbreviation:`${E.name.replace("_"," ").replace("/","  ")} (${E.abbreviation})`}),a=[{value:null,label:"Use default"},...fm.map(i),...Sm.map(i)],l=Array(24).fill(0).map((E,w)=>({value:w+1,label:`${w+1}`}));function p(E){const w=parseInt(E.trim(),10);return isNaN(w)||w<=0?db:[{value:w,label:`${w} min`},...db.filter(D=>D.value!==w)]}const f=E=>{const w=db.find(D=>D.value===E);return w?w.label:`${E} min`};return r.jsxs(Ct,{title:"General",children:[r.jsx(dt,{title:"Show declined events",checked:e.declinedEventsVisible,onChange:()=>e.toggleDeclinedEventsVisible()}),r.jsx(dt,{title:"Show weekends",checked:e.weekendVisible,onChange:()=>n.toggleWeekend()}),r.jsx(mt,{}),r.jsx(qm,{title:"Start of week",options:[{value:"0",label:"Sunday"},{value:"1",label:"Monday"}],value:e.startOfWeek.toString(),onChange:E=>{e.setStartOfWeek(Number.parseInt(E)),n.gotoToday()}}),r.jsx(qm,{title:"Time format",options:[{value:"12",label:"12-hour"},{value:"24",label:"24-hour"}],value:e.timeNotation.toString(),onChange:E=>e.setTimeNotation(E==="12"?12:24)}),r.jsx(ur,{title:"Locale",description:"Preferred language setting",inputPlaceholder:"Set locale",initialOptionValue:e.locale,options:bk.all.filter(E=>E.location!==null).map(E=>({value:E.tag,label:`${E.name} (${E.tag})`})),className:"max-w-sm",onSubmit:({value:E})=>e.setLocale(E)}),r.jsx(K0,{title:"Timezone",description:"Updated automatically based on local timezone",content:(v=e.timezone)==null?void 0:v.replaceAll("_"," ")}),r.jsx(ur,{title:"Display timezone",description:"Override detected timezone",inputPlaceholder:"Set display timezone",initialOptionValue:e.displayTimezone,options:a,className:"max-w-sm",onSubmit:({value:E})=>e.setDisplayTimezone(E)}),r.jsx(mt,{}),r.jsx(qm,{title:"Preferred maps app",description:"Pick a default app to open locations in",options:[{value:"google_maps",label:"Google Maps"},{value:"apple_maps",label:"Apple Maps"}],value:e.mapsProvider,onChange:E=>{e.mapsProvider=E}}),r.jsx(mt,{}),r.jsx(ur,{title:"Default event duration",inputPlaceholder:"Set duration",initialOptionValue:e.defaultEventDuration,options:[],getOptions:p,className:"max-w-sm",onSubmit:({value:E})=>e.setDefaultEventDuration(E),selectButtonProps:{isMuted:!1,children:f(e.defaultEventDuration)}}),r.jsx(ur,{title:"Amount of hours displayed",description:"How many hours to show at once in the calendar view",inputPlaceholder:"Set number of hours",initialOptionValue:e.amountOfHoursInCalendar,options:l,className:"max-w-sm",onSubmit:({value:E})=>e.setAmountOfHoursInCalendar(E)}),r.jsx(dt,{title:"Present multiday events as all day events",description:"Events that span longer than a day are shown as all day events",checked:e.presentMultidayEventsAsAllDay,onChange:()=>{e.togglePresentMultidayEventsAsAllDay()}}),r.jsx(mt,{}),r.jsx(qm,{title:"Color theme",options:[{label:"System",value:"system",icon:vp},{label:"Light",value:"light",icon:Sp},{label:"Dark",value:"dark",icon:jp}],value:e.colorScheme,onChange:E=>e.setColorScheme(E)}),r.jsx(dt,{title:"Use pointer cursor",description:"Change the cursor to a pointer when hovering over interactive elements",checked:!e.noPointerCursor,onChange:E=>{e.setPointerCursor(E.target.checked)}}),r.jsx(dt,{title:"Reduce motion",description:"Reduces animations for popovers, modals and sidebars",checked:e.reducedMotion==="user"?s||!1:e.reducedMotion==="always",onChange:E=>{e.setReducedMotion(E.target.checked===s?"user":E.target.checked?"always":"never")}}),e.hasTag("ai")&&e.inboundEmailAddress&&r.jsxs(r.Fragment,{children:[r.jsx(mt,{}),r.jsx(Fn,{left:r.jsx(Bn,{title:"Scheduling AI Inbox",description:"Personal assistant"}),rightClassName:"flex gap-12 items-center",right:r.jsxs(r.Fragment,{children:[r.jsx("a",{href:`mailto:${e.inboundEmailAddress}`,className:U(oe,"outline-none transition-shadow hover:underline focus-visible:ring"),children:e.inboundEmailAddress}),r.jsx(ae,{size:"small",variant:"tertiary",icon:xn,onClick:()=>{navigator.clipboard.writeText(e.inboundEmailAddress),jt("Scheduling AI email copied to clipboard")}})]})})]})]})}),db=[{value:15,label:"15 min"},{value:20,label:"20 min"},{value:25,label:"25 min"},{value:30,label:"30 min"},{value:45,label:"45 min"},{value:60,label:"1 hour"},{value:90,label:"1,5 hours"},{value:120,label:"2 hours"}],_ie=X(function(){const{userStore:e}=se(),n=pe.isDesktopApp&&e.showMenuBarApp;return r.jsxs(Ct,{title:pe.isMac?"Menu bar":"Tray calendar",children:[r.jsx(dt,{title:pe.isMac?"Menu bar app":"Tray icon",description:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["Shows upcoming meetings in the"," ",pe.isMac?"menu bar":"system tray"]}),!pe.isDesktopApp&&r.jsxs("p",{children:["You need the ",r.jsx("a",{href:"https://download.risecalendar.com/",target:"_blank",rel:"noreferrer noopener",className:"text-primary outline-none transition hover:underline focus-visible:ring",children:"Rise desktop app"})," to enable this setting."]})]}),disabled:!pe.isDesktopApp,checked:n,onChange:()=>e.toggleShowMenuBarApp()}),n&&r.jsxs(r.Fragment,{children:[pe.isMac&&r.jsxs(r.Fragment,{children:[r.jsx(dt,{title:"Show title of next event in menu bar",description:"Pick a smaller or larger variant of Rise",checked:e.menuBarMode==="normal",onChange:()=>e.toggleMenuBarMode()}),e.menuBarMode==="normal"&&r.jsx(dt,{title:"Hide menu bar when there are no events",description:"Collapse into small icon when upcoming is empty",checked:e.hideMenuBarWhenNoEvents,onChange:()=>e.toggleHideMenuBarWhenNoEvents()})]}),r.jsx(ur,{title:"Events to include",description:"Select days to show events for",inputPlaceholder:"Set days to include events from",options:[{value:1,label:"Today"},{value:2,label:"Today and tomorrow"},{value:3,label:"3 days"},{value:4,label:"4 days"},{value:5,label:"5 days"},{value:6,label:"6 days"},{value:7,label:"1 week"}],initialOptionValue:e.amountOfDaysInMenuBarApp,onSubmit:({value:s})=>{e.setAmountOfDaysInMenuBarApp(s)}}),pe.isMac&&e.amountOfDaysInMenuBarApp>1&&r.jsx(dt,{title:"Limit menu bar title to events from today",description:"Dont show events if they are happening next day",checked:e.limitMenuBarTitleToToday,onChange:()=>e.toggleLimitMenuBarTitleToToday()})]})]})});function Xx({title:t,description:e,...n}){return r.jsx(Fn,{left:r.jsx(Bn,{title:t,description:e}),right:r.jsx(ae,{...n})})}const fte=X(function({workspace:e}){return r.jsxs(r.Fragment,{children:[r.jsx(Zt,{title:"Workspace members"}),r.jsx(mn,{children:e.workspaceMembers.map(({member:n,role:s})=>r.jsx(mte,{workspace:e,userUuid:n==null?void 0:n.uuid,workspaceUuid:e.uuid,email:n==null?void 0:n.email,accessLevel:s},n==null?void 0:n.email))})]})});function mte({workspace:t,userUuid:e,workspaceUuid:n,email:s,accessLevel:i}){const{peopleStore:a}=se(),l=i==="admin",p=i==="member",f=i==="disabled",v=t.accessLevel!=="admin"?[]:()=>[p&&{label:"Make admin",icon:Jt,onSelect:()=>{ue.subscriptions.saveMember(n,e,"admin")}},l&&{label:"Make member",icon:Jt,onSelect:()=>{ue.subscriptions.saveMember(n,e,"member")}},f?{label:"Make member",icon:Jt,onSelect:()=>{ue.subscriptions.saveMember(n,e,"member")}}:{label:"Revoke access",icon:r.jsx(lt,{className:"text-red-400"}),onSelect:()=>{ue.subscriptions.saveMember(n,e,"disabled")}}];return r.jsx(Cr,{options:v,children:r.jsxs("div",{className:"flex items-center gap-8",children:[r.jsx(bt,{profileImageUrl:a.profileImageUrlForEmail(s),label:s}),r.jsxs("div",{className:"grow",children:[r.jsx("div",{className:oe,children:a.nameForEmail({email:s})}),r.jsx("div",{className:U(Ne,"text-contrast-50"),children:s})]}),r.jsxs("div",{className:U(oe,"flex w-160 flex-none items-center justify-between gap-8",f&&"text-contrast-50"),children:[f?"Access revoked":On(i),t.accessLevel==="admin"&&r.jsx(Ue,{options:v,children:r.jsx(ae,{variant:"tertiary",size:"small",icon:Ot,className:"flex-none"})})]})]})})}const NN=10,kN=.2;function pte({workspace:t}){var s;const[e,n]=K.useState(!1);return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex gap-8 px-8",children:[r.jsx("div",{className:"grow"}),r.jsxs("div",{className:"flex w-160 flex-none flex-col gap-8",children:[r.jsx("div",{className:oe,children:"Free"}),r.jsxs("div",{className:"flex gap-8",children:[r.jsx("div",{className:U(Di,"flex-none"),children:"0"}),r.jsx("div",{className:U(wi,"text-contrast-50"),children:"per seat/month"})]}),!t.isSubscriptionActive&&r.jsx(ae,{disabled:!0,children:"Active"})]}),r.jsxs("div",{className:"flex w-160 flex-none flex-col gap-8",children:[r.jsx("div",{className:oe,children:"Teams"}),r.jsxs("div",{className:"flex gap-8",children:[r.jsxs("div",{className:U(Di,"flex-none"),children:["",e?NN*(1-kN):NN]}),r.jsx("div",{className:U(wi,"text-contrast-50"),children:"per seat/month"})]}),r.jsx(ae,{variant:"primary",disabled:t.isSubscriptionActive||t.hasFreeSubscription||!1,onClick:async()=>{const i=await ue.subscriptions.create(t.uuid,e?"yearly":"monthly");Fe(i.checkout_url)},children:t.hasFreeSubscription?"Unlimited":t.isSubscriptionActive?"Active":"Upgrade"}),r.jsxs("div",{className:"mt-8 flex items-center gap-6",children:[r.jsx(et,{checked:t.isSubscriptionActive?((s=t.subscription)==null?void 0:s.plan)==="yearly":e,onChange:()=>n(!e),disabled:t.isSubscriptionActive||t.hasFreeSubscription||!1}),r.jsx("div",{className:oe,children:"Annual billing"}),r.jsxs("div",{className:U(yr,"rounded bg-contrast-5 p-4 text-contrast-50"),children:["-",kN*100,"%"]})]})]})]}),r.jsxs("div",{className:"divide-y divide-contrast-10 px-8",children:[r.jsx(Ir,{label:"Tasks",free:"250 open tasks",hideFreeCheckmark:!0,paid:"Unlimited"}),r.jsx(Ir,{label:"Scheduling links",free:"Unlimited",paid:"Unlimited"}),r.jsx(Ir,{label:"FocusGuard",free:"Yes",paid:"Yes"}),r.jsx(Ir,{label:"Cross-calendar blocking",free:"Yes",paid:"Yes"}),r.jsx(Ir,{label:"Meet",free:"Yes",paid:"Yes"}),r.jsx(Ir,{label:"Reschedule",free:"Yes",paid:"Yes"}),r.jsx(Ir,{label:"Best time to meet suggestions",free:"Yes",paid:"Yes"})]})]})}function Ir({label:t,free:e,hideFreeCheckmark:n,paid:s}){return r.jsxs("div",{className:"flex gap-8 py-8",children:[r.jsx("div",{className:U(Ne,"min-w-0 grow text-contrast-50"),children:t}),r.jsxs("div",{className:U(oe,"flex w-160 flex-none gap-4"),children:[!n&&r.jsx(yt,{className:"text-primary"}),e]}),r.jsxs("div",{className:U(oe,"flex w-160 flex-none gap-4"),children:[r.jsx(yt,{className:"text-primary"}),s]})]})}const gte=X(function({workspace:e}){const{actionsStore:n}=se();return r.jsxs(r.Fragment,{children:[r.jsx(bte,{numberOfTasks:e.numberOfTasks,maxNumberOfTasks:T0,hasInfiniteTasks:!!e.hasFreeSubscription||!!e.isSubscriptionActive}),e.hasFreeSubscription&&r.jsx("div",{className:U(oe,"mx-8 rounded-md bg-green-500/30 p-8 text-center"),children:" You are on the unlimited free plan."}),e.isSubscriptionActive&&r.jsx("div",{className:U(oe,"mx-8 rounded-md bg-primary-50 p-8 text-center"),children:" Thanks for supporting Rise with your subscription."}),e.isSubscriptionActive&&e.accessLevel==="admin"&&r.jsx(Xx,{title:"Manage your subscription",description:"See invoices, change billing and cancel",variant:"primary",onClick:async()=>{const s=await ue.subscriptions.requestPortalSessionLink(e.uuid);Fe(s.portal_session_url)},children:"Manage subscription"}),r.jsx(mt,{}),r.jsx(pte,{workspace:e}),r.jsx(mt,{}),r.jsx(fte,{workspace:e}),r.jsx("div",{className:"px-8 text-right",children:r.jsx(ae,{variant:"primary",onClick:()=>n.executeAction(n5),children:"Invite teammates"})})]})});function bte({numberOfTasks:t,maxNumberOfTasks:e,hasInfiniteTasks:n}){const s=!n&&t>e,i=s?e/t:t/e;return r.jsx(K0,{title:"Tasks created",content:r.jsxs("div",{className:U("flex w-288 items-center gap-8",s&&"text-red-400"),children:[n?r.jsx("div",{className:"grow"}):r.jsx("div",{className:U("h-4 grow rounded-full",s?"overflow-hidden bg-red-400":"bg-contrast-10"),children:r.jsx("div",{className:U("h-full rounded-full","h-full rounded-full bg-primary",s&&"ring ring-base-bg-elevated dark:ring-base-bg"),style:{width:i*100+"%"}})}),t," of ",n?"":e,s&&r.jsx(p0,{})]})})}const Oie=X(function(){const{workspaces:e}=se(),[n,s]=K.useState();return K.useEffect(()=>{e.loaded&&s(i=>i&&e.findByUuid(i.uuid)?i:e.items[0])},[n,e,e.loaded]),r.jsxs(Ct,{title:"Plans & billing",children:[e.loaded&&(e.items.length===0?r.jsx(Xx,{title:"You are not part of any team on Rise.",variant:"primary",onClick:()=>x0("app"),children:"Connect work calendar"}):r.jsxs("div",{className:"pb-8",children:[r.jsx("div",{className:"flex gap-4",children:e.items.map(i=>{const a=i.uuid===(n==null?void 0:n.uuid);return r.jsxs("div",{children:[r.jsx(ae,{variant:"tertiary",iconRight:i.isOverTaskLimit&&!i.hasFreeSubscription?r.jsx(p0,{className:"text-red-400 group-hover/button:text-red-400"}):void 0,className:a?void 0:"text-contrast-50",onClick:()=>s(i),children:i.domain||i.name}),r.jsx("div",{className:U("mx-8 mt-2 h-2",a&&"bg-primary")})]},i.uuid)})}),r.jsx("div",{className:"mx-8 h-px bg-contrast-10"})]})),n&&r.jsx(gte,{workspace:n})]})}),yte=X(function(){const{userStore:e}=se();function n(){let s=document.createElement("input");s.type="file",s.onchange=async function(i){const a=i.target.files;if(!a||a.length===0)return;const l=a[0];e.uploadProfileImage(l)},s.click()}return r.jsxs(r.Fragment,{children:[e.profileImageUrl&&r.jsx("div",{className:"bg-contrast-5",children:r.jsx("img",{src:e.profileImageUrl,alt:e.firstName||e.email})}),r.jsx(Fn,{left:r.jsx(Bn,{title:"Profile image",description:"Your picture as it is shown to others"}),right:r.jsx("div",{children:r.jsx(ae,{onClick:n,children:"Upload"})})})]})}),Iie=X(function(){const{userStore:e}=se();return r.jsxs(Ct,{title:"Profile",children:[e.hasTag("profile-image")&&r.jsx(yte,{}),r.jsx(K0,{title:"Email",description:"Primary email address for your account",content:e.email}),r.jsx(Bi,{title:"First name",value:e.firstName||"",onChange:n=>{xe(()=>e.firstName=n.target.value)},onBlur:()=>{e.save()}}),r.jsx(Bi,{title:"Last name",value:e.lastName||"",onChange:n=>{xe(()=>e.lastName=n.target.value)},onBlur:()=>{e.save()}}),r.jsx(mt,{}),r.jsx(Xx,{title:"Delete account",description:"This can not be undone",destructive:!0,onClick:()=>xt({title:"Youre about to delete your account",description:"This will delete all your data from Rise. Obviously all your calendars, events and contacts will remain as they were at Google or Outlook.",secondaryAction:[{key:"no",label:"Cancel"},{key:"yes",label:"Confirm",onClick:()=>{ue.user.deleteUser().then(()=>{window.location.href="/account/delete"})},negative:!0}]}),children:"Delete account"})]})}),Mie=X(function(){const{accounts:e}=se();return r.jsx(Ct,{title:"Permissions to meeting rooms and contacts",subtitle:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"Find meeting rooms and find more contacts by giving more permissions."}),r.jsxs("p",{children:["Your data is stored encrypted and never be shared with anyone else."," ",r.jsx("a",{href:"https://support.risecalendar.com/c8d90455821f467b925405d2bdbe9fe9",target:"_blank",rel:"noreferrer",className:U(oe,"text-primary outline-none transition-shadow hover:underline focus-visible:ring"),onClick:()=>Me(ke.PERMISSIONS_SUPPORT_LINK_CLICKED,{source:"settings",alert:!1}),children:"Learn more"})]})]}),children:e.connected.map(n=>r.jsx(LM,{account:n,analyticsSource:"settings"},n.uuid))})}),vte=X(function({onSubmit:e,excludeEmails:n}){var f;const{accounts:s,peopleStore:i,userStore:a}=se(),l=(f=i.people)!=null&&f.length?i.excludeEmails(i.filterPeople(i.people,null,a.domainsWithAliases,!1),n).map(v=>({value:v.email,label:v.name||v.email,secondaryLabel:v.name?v.email:void 0,icon:r.jsx(bt,{label:v.name||v.email,profileImageUrl:v.profileImageUrl}),person:v})):[],p=it();return r.jsx(Rs,{placeholder:"Add teammates",getOptions:v=>[...Ps(v,[{options:l}]),...O0(s.connected,"scheduling-links-form",p)],onSubmit:v=>v.action?v.action():e(v.person),inputProps:{iconLeft:r.jsx(Xe,{className:"ml-14 text-contrast-50"}),variant:"ghost",outerClassName:"-m-8 rounded-t-none",className:"py-14 pr-16 pl-36"},shouldResetOnSubmit:!0})}),_N=K.forwardRef(function({label:e,description:n,icon:s,...i},a){const l=i["data-state"]==="checked";return r.jsxs("button",{ref:a,...i,className:U("flex flex-col items-center justify-center gap-4 rounded-md px-8 py-8 outline-none ring-inset transition focus-visible:ring",l?"bg-base-bg-elevated shadow-200 dark:bg-contrast-10":"text-contrast-75 hover:text-black"),children:[s&&r.jsxs("span",{className:"flex",children:[ze(s,"text-primary"),r.jsx(vn,{className:"text-contrast-30"}),r.jsx(Jt,{className:"text-contrast-30"})]}),r.jsx("span",{className:U(oe,"flex-shrink-0"),children:e}),r.jsx("span",{className:U(Te,"flex-shrink-0 text-contrast-50"),children:n})]})}),xte=X(function({schedulingLink:e,close:n}){var x,N,b,O;const{conferenceSolutions:s,accounts:i,objectPool:a,peopleStore:l,schedulingLinks:p,userStore:f}=se(),[v,E]=K.useState(e.contactEmails.length>0?"collective":"single"),[w,D]=K.useState(e.contactEmails),M=(x=e.calendar)==null?void 0:x.account.accountEmail,o=[M,...e.contactEmails].map(T=>{var L;return(L=l.people)==null?void 0:L.find(c=>c.email===T)}).filter(ct),d=[{value:null,label:"No video call"},...D7(s,e.calendar).map(T=>({value:T.uuid,label:T.label}))];async function m(){if(e.isDraft)return n();if(e.isDirty){await xt({title:"Discard changes?",description:"Do you want to revert the changes you made?",primaryAction:{key:"continue",label:"Continue editing"},secondaryAction:{key:"discard",label:"Discard and close"}})==="discard"&&(e.revertUnsavedChanges(),n());return}n()}const h=i.connected.map(T=>({key:T.accountEmail,label:T.accountEmail,options:T.calendars.filter(L=>L.accessLevel==="owner"||L.accessLevel==="writer").map(L=>({value:L.uuid,label:L.name,calendar:L,icon:r.jsx(He,{color:L.color})}))})).filter(T=>T.options.length!==0),u=As({nullDuration:!1}),P=As({nullDuration:!1}),R=[{value:1,label:"1 hour"},{value:2,label:"2 hours"},{value:3,label:"3 hours"},{value:4,label:"4 hours"},{value:5,label:"5 hours"},{value:6,label:"6 hours"},{value:7,label:"7 hours"},{value:8,label:"8 hours"},{value:9,label:"9 hours"},{value:10,label:"10 hours"},{value:11,label:"11 hours"},{value:12,label:"12 hours"}],_=[{value:1,label:"1 day"},{value:2,label:"2 days"},{value:3,label:"3 days"},{value:4,label:"4 days"},{value:5,label:"5 days"},{value:6,label:"6 days"},{value:7,label:"7 days"},{value:8,label:"8 days"},{value:9,label:"9 days"},{value:10,label:"10 days"},{value:11,label:"11 days"},{value:12,label:"12 days"}],F=T=>{switch(T){case"minutes":return P;case"hours":return R;case"days":return _}},C=[{day:1,label:"Monday"},{day:2,label:"Tuesday"},{day:3,label:"Wednesday"},{day:4,label:"Thursday"},{day:5,label:"Friday"},{day:6,label:"Saturday"},{day:7,label:"Sunday"}],A=e.times?C0(e.times):!0,j=V_(f.timeNotation);return r.jsxs(Ct,{title:e.isNew?"New scheduling link":"Edit scheduling link",goBack:m,children:[r.jsx(Sn,{title:"Meeting title",className:"px-8",children:r.jsx(vr,{value:e.title||"",onChange:T=>{xe(()=>e.title=T.target.value)}})}),r.jsxs("div",{className:"grid grid-cols-2 gap-16 px-8",children:[r.jsx(Sn,{title:"Duration",children:r.jsx(je,{inputPlaceholder:"Select duration",align:"end",options:[...u,...u.find(T=>T.value===e.defaultDuration)?[]:[{value:e.defaultDuration,label:`${e.defaultDuration} minutes`}]],getOptions:T=>{const L=parseInt(T.trim(),10);return isNaN(L)||L<=0?u:[{value:L,label:`${L} minutes`},...u.filter(c=>c.value!==L)]},initialOptionValue:e.defaultDuration,onSubmit:({value:T})=>{e.setDuration(T)},selectButtonProps:{className:"w-full"}})}),r.jsx(Sn,{title:"Video",children:r.jsx(je,{inputPlaceholder:"Select video conferencing",align:"end",options:d,initialOptionValue:((N=e.conferenceSolution)==null?void 0:N.uuid)||null,onSubmit:({value:T})=>{T?e.conferenceSolution=a.getObject("conference_solution",T):e.conferenceSolution=null},selectButtonProps:{className:"w-full"}})})]}),r.jsx(Sn,{title:"Times",className:"px-8",children:r.jsx(er,{options:[{value:"default",label:"Your working times"},{value:"custom",label:"Custom times"}],value:e.times&&e.times.length>0?"custom":"default",onChange:T=>{T==="default"?e.times=null:e.times=f.workingTimes.slice()}})}),e.times&&e.times.length>0&&r.jsxs(r.Fragment,{children:[f.displayTimezone&&r.jsx(Fm,{variant:"warning",icon:m0,title:"Times are shown in local timezone",description:`You have set your display timezone to ${f.displayTimezone}. However, the working times below are in your local timezone ${f.timezone}.`,noMarginBottom:!0}),!A&&r.jsx("p",{className:U(oe,"rounded-md bg-red-200/20 p-8 text-red-400"),children:"Invalid custom times selected. Please double check your settings."}),r.jsxs("div",{className:"flex flex-row items-center gap-8 px-8",children:[r.jsx("div",{className:"mr-auto text-sm font-medium text-black",children:"Days"}),C.map(({day:T,label:L})=>{const c=e.workingTimesByDay[T];return r.jsx(ce,{label:`Set ${L} as ${c?"non-working":"working"} day`,side:"top",children:r.jsx(ae,{variant:c?"primary":"secondary",className:"w-28 rounded-full",onClick:()=>e.toggleWorkingDayAvailability(T),children:L[0]})},T)})]}),r.jsx(mn,{children:C.map(({day:T,label:L})=>{const c=e.workingTimesByDay[T];return c?r.jsxs("div",{className:"grid grid-flow-row-dense grid-cols-[auto,min-content,auto] items-center gap-8",children:[r.jsx("div",{className:U(oe,"col-start-1 w-80"),children:L}),c.map(({startsAt:k,endsAt:S},y)=>r.jsxs("div",{className:"col-start-2 flex items-center gap-8",children:[r.jsx(je,{inputPlaceholder:"Set time",options:j,initialOptionValue:k,onSubmit:G=>{e.setWorkingTimeStartsAt(T,y,G.value)},selectButtonProps:{className:U("w-112 tabular-nums",!A&&"bg-red-200/20 hover:enabled:bg-red-200/30")}}),r.jsx("span",{className:U(Ne,"whitespace-nowrap text-contrast-50"),children:"to"}),r.jsx(je,{inputPlaceholder:"Set time",options:j,initialOptionValue:S,onSubmit:G=>{e.setWorkingTimeEndsAt(T,y,G.value)},selectButtonProps:{className:U("w-112 tabular-nums",!A&&"bg-red-200/20 hover:enabled:bg-red-200/30")}}),r.jsx(ce,{label:"Remove working time",children:r.jsx(ae,{variant:"tertiary",icon:lt,onClick:()=>e.removeWorkingTime(T,y)})})]},y)),r.jsx(ce,{label:"Add working time",children:r.jsx(ae,{variant:"tertiary",icon:Xe,className:"col-start-3 ml-auto",onClick:()=>{e.addWorkingTime(T)}})})]},T):null})})]}),r.jsx(Sn,{title:"Meeting type",className:"px-8",children:r.jsx(er,{options:[{value:"single",label:"One-to-one",button:r.jsx(_N,{label:"One-to-one",description:"1 host to 1 invitee",icon:Jt})},{value:"collective",label:"Collective",button:r.jsx(_N,{label:"Collective",description:"Multiple hosts to 1 invitee",icon:rH})}],value:v,onChange:T=>{T==="single"?(D(e.contactEmails),e.contactEmails=[]):e.contactEmails=w,e.markAsDirty("contactEmails"),E(T)}})}),v==="collective"&&r.jsx(Sn,{title:"Hosts",className:"px-8",children:r.jsxs(mn,{children:[o.map(T=>r.jsxs("div",{className:"flex items-center gap-8",children:[r.jsx(bt,{label:T.name||T.email,profileImageUrl:T.profileImageUrl}),r.jsxs("div",{className:"grow",children:[r.jsx("div",{className:oe,children:T.name||T.email}),T.name&&r.jsx("div",{className:U(Te,"text-contrast-50"),children:T.email})]}),T.email!==M&&r.jsx(ae,{variant:"tertiary",icon:lt,onClick:()=>e.removeContactByEmail(T.email)})]},T.email)),r.jsx(vte,{excludeEmails:e.contactEmails,onSubmit:T=>e.addContactByEmail(T.email)})]})}),r.jsx(Sn,{title:"Calendar",className:"px-8",children:r.jsx(je,{inputPlaceholder:"Pick calendar",align:"end",initialOptionValue:e.calendar.uuid,options:h,className:"max-w-sm",onSubmit:({value:T})=>{T&&(e.calendar=a.getObject("calendar",T))},selectButtonProps:{className:"w-full",icon:r.jsx(He,{color:e.calendar.color})}})}),r.jsx(Sn,{title:"Notes (optional, max 300 characters)",className:"px-8",children:r.jsx(E0,{value:e.description||"",onChange:T=>e.description=T.target.value,placeholder:"These notes will be added to the meeting and are visible on the scheduling page.",minRows:3,className:oe,maxLength:300})}),r.jsx(mt,{}),r.jsx(Zt,{title:"Advanced"}),r.jsx(dt,{title:"Ignore FocusGuard for booker",description:"Booker can schedule on top of events created by FocusGuard",checked:e.availabilityType==="maximum_availability",onChange:()=>{e.availabilityType==="maximum_availability"?e.availabilityType="standard":e.availabilityType="maximum_availability"}}),r.jsx(dt,{title:"Requires approval",description:"Your RSVP will be set to tentative",checked:e.requiresApproval,onChange:()=>{e.requiresApproval=!e.requiresApproval}}),r.jsxs("div",{className:"px-8",children:[r.jsx("div",{className:U(oe,"mb-4"),children:"Invitees need to schedule at least"}),r.jsxs("div",{className:"flex flex-row items-center gap-6",children:[r.jsx(je,{inputPlaceholder:"Set amount",align:"end",options:[{value:e.minimumDistance.value,label:e.minimumDistance.value.toString()}],getOptions:T=>{var c,k,S;const L=parseInt(T.trim(),10);return isNaN(L)||L<=0?F(((c=e.minimumDistance)==null?void 0:c.period)||"minutes"):[{value:L,label:`${L} ${(k=e.minimumDistance)==null?void 0:k.period}`},...F(((S=e.minimumDistance)==null?void 0:S.period)||"minutes").filter(y=>y.value!==L)]},initialOptionValue:(b=e.minimumDistance)==null?void 0:b.value,onSubmit:({value:T})=>{T&&(e.minimumDistance={...e.minimumDistance,value:T})}}),r.jsx(je,{inputPlaceholder:"Set option",align:"end",options:[{value:"minutes",label:"minutes"},{value:"hours",label:"hours"},{value:"days",label:"days"}],initialOptionValue:(O=e.minimumDistance)==null?void 0:O.period,onSubmit:({value:T})=>{T&&(e.minimumDistance={...e.minimumDistance,period:T})}}),r.jsx("div",{className:U(Ne,"text-contrast-50"),children:"in advance"})]})]}),r.jsx(mt,{}),r.jsx("div",{className:"flex justify-between px-8",children:e.isNew?r.jsxs(r.Fragment,{children:[r.jsx(ae,{onClick:()=>{p.delete(e),n()},children:"Cancel"}),r.jsx(ae,{variant:"primary",onClick:()=>{e.save(),p.add(e),n()},children:"Save"})]}):r.jsxs(r.Fragment,{children:[r.jsx(ae,{destructive:!0,icon:lt,onClick:()=>{xt({title:"Are you sure you want to delete this scheduling link?",description:"It will be instantly gone for everyone you shared it with.",secondaryAction:[{key:"no",label:"Cancel"},{key:"yes",label:"Confirm",onClick:()=>{p.delete(e),n()},negative:!0}]})},children:"Delete"}),r.jsx(ae,{variant:"primary",onClick:()=>{e.save(),p.add(e),n()},disabled:!e.isDirty,children:"Save"})]})})]})}),Rie=X(function(){const{schedulingLinks:e,userStore:n}=se(),[s,i]=K.useState(null),[a,l]=K.useState(n.username||""),[p,f]=K.useState("pending"),[v,E]=K.useState(!0);if(K.useEffect(()=>{let M=!1;const o=window.setTimeout(()=>{ue.user.checkUsername(a).then(d=>{M||d.available||E(!1)})},1e3);return()=>{M=!0,window.clearTimeout(o)}},[a]),s)return r.jsx(xte,{schedulingLink:s,close:()=>i(null)});const w=(()=>{if(a.length<3)return"Must be at least 3 characters long";if(!/^[a-z0-9_-]{3,}$/i.test(a))return"Can only contain letters, numbers, '-' and '_'";if(!v)return"Already taken. Please choose another.";if(p==="error")return"Error saving username."})();function D(){const M=e.new();M.calendar=n.calendarForNewEvents,M.conferenceSolution=n.defaultConferenceSolution,M.setDuration(30),M.title="30-min meeting",i(M)}return r.jsxs(Ct,{title:"Scheduling Links",children:[!n.hintDismissed.settingsSchedulingLinks&&r.jsx(Fm,{icon:tx,title:"How does it work?",description:"Schedule meetings with anyone outside your organisation. With scheduling links, youre able to give others access to your availability and book a slot.",onLearnMoreClick:()=>Hm("externalSchedulingExplainerDone",!0),close:()=>n.dismissHint("settingsSchedulingLinks")}),r.jsx(Bi,{title:"Username",description:w?r.jsx("span",{className:"text-red-400",children:w}):p==="saved"?r.jsx("span",{className:"text-green-400",children:"Saved"}):"Used in the scheduling link",placeholder:"Username",value:a||"",onChange:M=>{f("pending"),E(!0),l(M.target.value)},onBlur:()=>{ue.user.checkUsername(a).then(({available:M})=>{if(E(M),M)return xe(()=>{n.username=a}),n.save().then(async({done:o})=>{await o,f("saved")})}).catch(()=>f("error"))},autoComplete:"off",outerClassName:w?"ring !ring-red-400 focus-within:!ring-red-400":void 0}),r.jsx(mt,{}),r.jsx(Zt,{title:"Scheduling links"}),r.jsx("div",{className:"divide-y divide-contrast-10 rounded-md border border-contrast-10",children:e.visibleSchedulingLinks().map(M=>{var o;return r.jsxs("div",{tabIndex:0,role:"button",className:"group flex cursor-pointer flex-row items-center gap-8 p-8 outline-none transition-shadow first:rounded-t-md last:rounded-b-md hover:bg-contrast-5 focus-visible:ring",onClick:()=>i(M),children:[r.jsx("div",{className:"self-stretch",children:r.jsx("div",{className:"h-full w-4 justify-self-stretch rounded-md",style:{backgroundColor:(o=M.calendar)==null?void 0:o.color}})}),r.jsxs("div",{className:"grow",children:[r.jsx("div",{className:oe,children:M.title}),r.jsx("div",{className:U(Te,"text-contrast-50"),children:M.defaultDuration&&lr(M.defaultDuration,!0)})]}),M.link&&r.jsxs("div",{className:"sr-only flex flex-row gap-8 group-focus-within:not-sr-only group-hover:not-sr-only",children:[r.jsx(ae,{variant:"tertiary",icon:J1,onClick:d=>{d.stopPropagation(),Fe(M.link,!1)}}),r.jsx(ae,{variant:"tertiary",icon:xn,onClick:d=>{d.stopPropagation(),navigator.clipboard.writeText(M.link),jt("Link copied to clipboard!")}})]})]},M.uuid)})}),r.jsx("div",{className:"px-8",children:r.jsx(ae,{variant:"primary",icon:Xe,onClick:D,children:"Add scheduling link"})})]})}),Pie=X(function(){const{accounts:e,userStore:n}=se(),s=e.connected.flatMap(i=>i.calendars.filter(a=>a.remotePrimary));return r.jsx(Ct,{title:"Smart color-coding",children:s.map(i=>r.jsxs("div",{className:U(oe,"rounded-md border border-contrast-10"),children:[r.jsxs("div",{className:"mx-8 flex items-center border-b border-contrast-10 py-12",children:[r.jsx(Ue,{options:()=>JM(i,n),side:"bottom",children:r.jsx(We,{children:r.jsx(ce,{label:"Open calendar options",children:r.jsx(ae,{icon:r.jsx(He,{color:i.color}),size:"tiny",variant:"tertiary",isBlock:!0,className:"-m-4"})})})}),r.jsx("div",{className:"mx-8 flex-1 truncate",children:i.name}),r.jsx(et,{checked:i.account.areEventTypeColorsActive,onChange:a=>i.account.setEventTypeColorsActive(a.target.checked)})]}),r.jsx("div",{className:U("flex flex-col gap-16 px-8 py-12 transition-opacity",!i.account.areEventTypeColorsActive&&"opacity-50"),children:jte.map(a=>{const l=i.account.eventTypeColors[a.key];return r.jsxs("div",{className:"flex items-center",children:[r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("div",{className:"truncate",children:a.label}),r.jsx("div",{className:"truncate text-contrast-50",children:a.description})]}),r.jsx(hb,{label:"No color",value:"",calendar:i,eventTypeKey:a.key}),r.jsx("div",{className:"mx-2 h-16 border-r border-contrast-10"}),Ci.map(p=>r.jsx(hb,{...p,calendar:i,eventTypeKey:a.key},p.value)),l!==""&&!Ci.find(p=>p.value===l.toLowerCase())&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mx-2 h-16 border-r border-contrast-10"}),r.jsx(hb,{label:"Custom color",value:l,calendar:i,eventTypeKey:a.key})]})]},a.key)})})]},i.uuid))})}),hb=X(function({value:e,label:n,calendar:s,eventTypeKey:i}){const a=e===s.account.eventTypeColors[i].toLowerCase();return r.jsx(ce,{label:n,children:r.jsx("button",{className:"flex-none rounded-md px-6 py-6 outline-none hover:bg-contrast-5 focus-visible:ring data-[highlighted]:bg-contrast-5",onClick:()=>!a&&s.account.setEventTypeColor(i,e),children:r.jsx(He,{color:e||s.color,isSelected:a})})},e)}),jte=[{label:"1:1s",description:"One internal attendee",key:"oneAttendee"},{label:"Team sync",description:"Two or more internal attendees",key:"manyAttendees"},{label:"External attendees",description:"One or more external attendees",key:"externalAttendees"},{label:"Tasks",description:"No attendees or location",key:"noAttendeesNoLocation"}],Lie=X(function(){const{userStore:e,workspaces:n,accounts:s,projectsUserPreferencesCollection:i}=se(),a=[{key:"defaults",options:[{value:null,calendar:null,label:"Default (primary calendar)"},{value:"none",calendar:null,label:"None"}]},...s.connected.map(l=>({key:l.accountEmail,label:l.accountEmail,options:l.calendars.filter(p=>p.accessLevel==="owner"||p.accessLevel==="writer").map(p=>({value:p.uuid,label:p.name,calendar:p,icon:r.jsx(He,{color:p.color})}))})).filter(l=>l.options.length!==0)];return r.jsxs(Ct,{title:"General",children:[e.inboundTaskEmailAddress&&r.jsx(Fn,{left:r.jsx(Bn,{title:"Task Inbox",description:"Use email to create personal tasks"}),rightClassName:"flex gap-12 items-center",right:r.jsxs(r.Fragment,{children:[r.jsx("a",{href:`mailto:${e.inboundTaskEmailAddress}`,className:U(oe,"outline-none transition-shadow hover:underline focus-visible:ring"),children:e.inboundTaskEmailAddress}),r.jsx(ae,{size:"small",variant:"tertiary",icon:xn,onClick:()=>{navigator.clipboard.writeText(e.inboundTaskEmailAddress),jt("Personal task email copied to clipboard")}})]})}),r.jsx(kR,{title:"Global keyboard shortcut to add new task",description:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"Open quick add from anywhere"}),!pe.isDesktopApp&&r.jsxs("p",{children:["You need the ",r.jsx("a",{href:"https://download.risecalendar.com/",target:"_blank",rel:"noreferrer noopener",className:"text-primary hover:underline",children:"Rise desktop app"})," to enable this setting."]})]}),keyboardShortcut:$_(e.globalQuickTaskWindowKeyboardShortcut),onChange:l=>e.setGlobalQuickTaskWindowKeyboardShortcut(mx(l)),disabled:!pe.isDesktopApp}),r.jsx(mt,{}),r.jsx(Zt,{title:"Default calendar for tasks"}),r.jsx("div",{className:U(Ne,"px-8 text-contrast-50"),children:"Specify into which calendar tasks should be added. You can pick a different calendar per workspace."}),r.jsx(mn,{children:n.items.map(l=>{const p=i.getForWorkspace(l);return r.jsxs("div",{className:U(oe,"flex items-center gap-16"),children:[r.jsx("div",{className:"flex-1 truncate",children:l.name||l.domain}),r.jsxs("label",{className:"flex cursor-pointer items-center gap-8",children:[r.jsx(et,{checked:(p==null?void 0:p.exposeTitles)||!1,onChange:f=>{i.setExposeTitlesForWorkspace(l,f.target.checked)}}),"Expose titles"]}),r.jsx(je,{inputPlaceholder:"Set destination calendar",initialOptionValue:p?p.calendar?p.calendar.uuid:p.disableTaskEventSync?"none":null:null,options:a,onSubmit:({value:f,calendar:v})=>{i.setCalendarForWorkspace(l,v,f==="none")},side:"bottom",align:"end",selectButtonProps:{icon:p!=null&&p.calendar?r.jsx(He,{color:p.calendar.color}):void 0}})]},l.uuid)})})]})}),Bie=X(function(){const{userStore:e}=se(),n=[{day:1,label:"Monday"},{day:2,label:"Tuesday"},{day:3,label:"Wednesday"},{day:4,label:"Thursday"},{day:5,label:"Friday"},{day:6,label:"Saturday"},{day:7,label:"Sunday"}],s=C0(e.workingTimes),i=V_(e.timeNotation);return r.jsxs(Ct,{title:"Working hours",children:[e.displayTimezone&&r.jsx(Fm,{variant:"warning",icon:m0,title:"Times are shown in local timezone",description:`You have set your display timezone to ${e.displayTimezone}. However, the working times below are in your local timezone ${e.timezone}.`,noMarginBottom:!0}),!s&&r.jsx("p",{className:U(oe,"rounded-md bg-red-200/20 p-8 text-red-400"),children:"Invalid working times selected. Please double check your settings."}),r.jsxs("div",{className:"flex flex-row items-center gap-8 px-8",children:[r.jsx("div",{className:"mr-auto text-sm font-medium text-black",children:"Days"}),n.map(({day:a,label:l})=>{const p=e.workingTimesByDay[a];return r.jsx(ce,{label:`Set ${l} as ${p?"non-working":"working"} day`,side:"top",children:r.jsx(ae,{variant:p?"primary":"secondary",className:"w-28 rounded-full",onClick:()=>{e.toggleWorkingDayAvailability(a),e.save()},children:l[0]})},a)})]}),e.workingTimes.length!==0&&r.jsx(mn,{children:n.map(({day:a,label:l})=>{const p=e.workingTimesByDay[a];return p?r.jsxs("div",{className:"grid grid-flow-row-dense grid-cols-[auto,min-content,auto] items-center gap-8",children:[r.jsx("div",{className:U(oe,"col-start-1 w-80"),children:l}),p.map(({startsAt:f,endsAt:v},E)=>r.jsxs("div",{className:"col-start-2 flex items-center gap-8",children:[r.jsx(je,{inputPlaceholder:"Set time",options:i,initialOptionValue:f,onSubmit:w=>{e.setWorkingTimeStartsAt(a,E,w.value),e.save()},selectButtonProps:{className:U("w-112 tabular-nums",!s&&"bg-red-200/20 hover:enabled:bg-red-200/30")}}),r.jsx("span",{className:U(Ne,"whitespace-nowrap text-contrast-50"),children:"to"}),r.jsx(je,{inputPlaceholder:"Set time",options:i,initialOptionValue:v,onSubmit:w=>{e.setWorkingTimeEndsAt(a,E,w.value),e.save()},selectButtonProps:{className:U("w-112 tabular-nums",!s&&"bg-red-200/20 hover:enabled:bg-red-200/30")}}),r.jsx(ce,{label:"Remove working time",children:r.jsx(ae,{variant:"tertiary",icon:lt,onClick:()=>e.removeWorkingTime(a,E)})})]},E)),r.jsx(ce,{label:"Add working time",children:r.jsx(ae,{variant:"tertiary",icon:Xe,className:"col-start-3 ml-auto",onClick:()=>{e.addWorkingTime(a),e.save()}})})]},a):null})})]})}),Ste=Ci,Ate=Ste.map(t=>({...t,icon:r.jsx("div",{className:"size-14 rounded-full",style:{backgroundColor:t.value}})})),_R=X(function({defaultOption:e,color:n,onChange:s}){var p;const i=[...e?[e]:[],...Ate],a=n?n.toLowerCase():null,l=(p=i.find(f=>f.value===a))==null?void 0:p.icon;return r.jsx(je,{inputPlaceholder:"Select color",options:i,initialOptionValue:n,onSubmit:({value:f})=>{s(f)},selectButtonProps:{variant:"tertiary",className:"h-32 ml-8",children:l?ze(l):void 0,iconRight:null}})});function Ete(t){Ke(({close:e})=>r.jsx(OR,{close:e,workspace:t}),{id:"create-label-modal",hasVariableHeight:!0})}function Dte(t){Ke(({close:e})=>r.jsx(OR,{close:e,workspace:t.workspace,label:t}),{id:"create-label-modal",hasVariableHeight:!0})}const OR=X(function({workspace:e,label:n,close:s}){const{workspaces:i,actionsStore:a,labels:l}=se(),p=!!n,f=n||l.new(),[v,E]=K.useState(""),[w,D]=K.useState(p?f.color:()=>l.nextColor),[M,o]=K.useState(p?f.workspace:e||a.actionContext.workspace||i.items[0]),d=l.items.some(h=>h.name===v&&h.workspace===f.workspace&&h.uuid!==f.uuid),m=()=>{f.workspace=M,f.name=v,f.color=w,f.valid()&&!d&&(l.add(f),f.save(),s())};return $e({key:"Enter",commandKey:!0,isActiveWhenInputFocused:!0},m),K.useEffect(()=>{n&&(o(n.workspace),E(n.name),D(n.color))},[n]),r.jsx("div",{className:"w-[38rem]",children:r.jsxs("div",{className:"flex h-full flex-col",children:[r.jsxs("div",{className:"flex items-center gap-8",children:[r.jsx(_R,{color:w,onChange:h=>{D(h)}}),r.jsx("input",{value:v,onChange:h=>E(h.target.value),type:"text",className:"w-full grow bg-transparent py-8 pr-16 text-lg leading-36 outline-none placeholder:text-contrast-50",placeholder:p?"Edit label":"New label"})]}),r.jsxs("div",{className:"flex items-center gap-8 border-t border-contrast-5 bg-contrast-5 p-8",children:[r.jsx(je,{inputPlaceholder:"Select workspace",options:i.items.map(h=>({value:h.uuid,label:h.name||h.domain})),initialOptionValue:M.uuid,onSubmit:({value:h})=>{const u=i.findByUuid(h);u&&o(u)},selectButtonProps:{readOnly:p}}),r.jsx("div",{className:"grow"}),d&&r.jsx("div",{className:U(Ne,"text-yellow-900"),children:"A label with this name already exists"}),r.jsx(ae,{variant:"primary",onClick:m,keyboardShortcut:{commandKey:!0,key:"Enter"},disabled:d,children:"Save"})]})]})})});function wte(t,e){Ke(({close:n})=>r.jsx(IR,{close:n,workspace:t,statusType:e}),{id:"create-task-status-modal",hasVariableHeight:!0})}function Cte(t){Ke(({close:e})=>r.jsx(IR,{close:e,workspace:t.workspace,taskStatus:t,statusType:t.type}),{id:"create-task-status-modal",hasVariableHeight:!0})}const IR=X(function({workspace:e,taskStatus:n,statusType:s,close:i}){const{workspaceTaskStatuses:a}=se(),l=!!n,p=n||a.new(),[f,v]=K.useState(""),[E,w]=K.useState(l?p.color:null),D=()=>{p.type=s,p.workspace=e,p.label=f,p.color=E,p.isNew&&p.setInitialOrdering(),a.add(p),p.save(),i()};return $e({key:"Enter",commandKey:!0,isActiveWhenInputFocused:!0},D),K.useEffect(()=>{n&&(v(n.label),w(n.color))},[n]),r.jsx("div",{className:"w-[38rem]",children:r.jsxs("div",{className:"flex h-full flex-col",children:[r.jsxs("div",{className:"flex items-center gap-8",children:[r.jsx(_R,{color:E,onChange:M=>w(M),defaultOption:{value:null,label:"Default",icon:r.jsx("div",{className:"h-14 w-14 rounded-full",style:{backgroundColor:$Y[s]}})}}),r.jsx("input",{value:f,onChange:M=>v(M.target.value),type:"text",className:"w-full grow bg-transparent py-8 pr-16 text-lg leading-36 outline-none placeholder:text-contrast-50",placeholder:l?`Edit ${s} status`:`New ${s} status`})]}),r.jsxs("div",{className:"flex items-center gap-8 border-t border-contrast-5 bg-contrast-5 p-8",children:[r.jsx("div",{className:"grow"}),r.jsx(ae,{variant:"primary",onClick:D,keyboardShortcut:{commandKey:!0,key:"Enter"},children:"Save"})]})]})})});function Tte(t){Ke(({close:e})=>r.jsx(MR,{close:e,workspace:t}),{id:"create-team-modal",hasVariableHeight:!0})}function Nte(t){Ke(({close:e})=>r.jsx(MR,{close:e,workspace:t.workspace,team:t}),{id:"create-team-modal",hasVariableHeight:!0})}const MR=X(function({workspace:e,team:n,close:s}){const{workspaces:i,actionsStore:a,teams:l,objectPool:p}=se(),f=!!n,v=n||l.new(),E=K.useRef(null),[w,D]=K.useState(f?v.workspace:e||a.actionContext.workspace||i.items[0]),M=()=>{var o;v.workspace=w,v.name=((o=E.current)==null?void 0:o.value)||null,v.valid()&&(l.add(v),v.save(),s())};return $e({key:"Enter",commandKey:!0,isActiveWhenInputFocused:!0},M),K.useEffect(()=>{n&&(D(n.workspace),E.current&&(E.current.value=n.name))},[n]),r.jsx("div",{className:"w-[38rem]",children:r.jsxs("div",{className:"flex h-full flex-col",children:[r.jsx("input",{ref:E,type:"text",className:"w-full bg-transparent px-16 py-8 text-lg leading-36 outline-none placeholder:text-contrast-50",placeholder:f?"Edit team":"New team"}),r.jsxs("div",{className:"flex items-center gap-8 border-t border-contrast-5 bg-contrast-5 p-8",children:[r.jsx(je,{inputPlaceholder:"Select workspace",options:i.items.map(o=>({value:o.uuid,label:o.name||o.domain})),initialOptionValue:w.uuid,onSubmit:({value:o})=>{const d=i.findByUuid(o);d&&D(d)},selectButtonProps:{readOnly:f}}),f&&r.jsx(je,{inputPlaceholder:"Select team members",options:w.workspaceMembers.map(o=>({workspaceMember:o,value:o.member.uuid,label:o.member.displayName})),initialOptionValue:v.members.map(o=>o.member.uuid),hasMultipleValues:!0,shouldStayOpenOnSubmit:!0,onSubmit:({workspaceMember:o})=>{const d=v.members.find(m=>m.member.uuid===o.member.uuid);if(d)d.delete();else{const m=_p.create(p);m.team=v,m.member=o.member,m.role="member",m.save()}}}),r.jsx("div",{className:"grow"}),r.jsx(ae,{variant:"primary",onClick:M,keyboardShortcut:{commandKey:!0,key:"Enter"},children:"Save"})]})]})})}),Fie=X(function(){const{workspaces:e,teams:n,labels:s,peopleStore:i}=se(),[a,l]=K.useState(null),{workspaceUuid:p}=z1();if(K.useEffect(()=>{if(!p)return;const E=e.findByUuid(p);E&&l(E)},[p,e,e.loaded]),!a)return null;const f=n.getTeamsByWorkspace(a),v=E=>{s.delete(E)};return r.jsxs(Ct,{title:a.isPersonal?"Personal Workspace":"Workspace",children:[r.jsx(Bi,{title:"Workspace name",value:a.name||"",onChange:E=>{E.target.value!==""&&xe(()=>a.name=E.target.value)},onBlur:()=>{a.save()},disabled:a.accessLevel!=="admin"}),!a.isPersonal&&r.jsxs(r.Fragment,{children:[r.jsx(K0,{title:"Domain",description:"Connected domain. New users from this domain will automatically join this workspace.",content:a.domain}),r.jsx(Zt,{title:"Members"}),r.jsx(mn,{children:a.workspaceMembers.map(E=>{var w,D;return r.jsxs("div",{className:U(oe,"flex items-center gap-8"),children:[r.jsx(bt,{profileImageUrl:i.profileImageUrlForEmail(E.member.email),label:E.member.email}),r.jsxs("div",{className:"grow",children:[r.jsx("div",{className:oe,children:E.member.displayName}),r.jsx("div",{className:U(Ne,"text-contrast-50"),children:E.member.email})]}),r.jsx("div",{children:E.role})]},`${(w=E.workspace)==null?void 0:w.uuid}_${(D=E.member)==null?void 0:D.uuid}`)})}),r.jsx(Zt,{title:"Teams"}),r.jsx(mn,{children:f.map(E=>r.jsxs("div",{className:U(oe,"flex items-center gap-8"),children:[r.jsxs("span",{className:"grow",children:[E.name," ",E.members.length>0&&r.jsxs("span",{className:"text-contrast-50",children:["(",E.members.length===1?"1 member":`${E.members.length} members`,")"]})]}),a.accessLevel==="admin"&&r.jsx(Ue,{options:[[{icon:pr,label:"Edit team",onSelect:()=>Nte(E)},{icon:lt,label:"Delete team",isDestructive:!0,onSelect:()=>{E.delete()}}]],align:"end",children:r.jsx(ae,{variant:"tertiary",icon:Ot})})]},E.uuid))}),a.accessLevel==="admin"&&r.jsx("div",{className:"px-8 text-right",children:r.jsx(ae,{variant:"secondary",onClick:()=>Tte(a),children:"New team"})})]}),r.jsx(Zt,{title:"Labels"}),r.jsx(mn,{children:s.getLabelsByWorkspace(a).map(E=>{const w=[[{icon:pr,label:"Edit label",onSelect:()=>Dte(E)},{icon:lt,label:"Delete label",isDestructive:!0,onSelect:()=>v(E)}]];return r.jsx(Cr,{options:w,children:r.jsxs("div",{className:U(oe,"flex items-center gap-8"),children:[r.jsx("div",{className:"ml-4 size-10 rounded-full",style:{backgroundColor:E.color}}),r.jsx("div",{className:U(oe,"grow"),children:E.name}),r.jsx(Ue,{options:w,align:"end",children:r.jsx(ae,{variant:"tertiary",icon:Ot})})]})},E.uuid)})}),r.jsx("div",{className:"px-8 text-right",children:r.jsx(ae,{variant:"secondary",onClick:()=>Ete(a),children:"New label"})}),r.jsx(Zt,{title:"Statuses"}),["unstarted","started","completed","canceled"].map(E=>r.jsx(kte,{workspace:a,statusType:E},E))]})}),kte=X(function({workspace:e,statusType:n}){const s=e.taskStatuses.filter(i=>i.type===n);return r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{className:"flex flex-row border-r border-transparent px-8",children:[r.jsx("div",{className:U(Te,"grow"),children:On(n)}),e.accessLevel==="admin"&&r.jsx(ce,{label:`Add new ${n} status`,children:r.jsx(ae,{onClick:()=>wte(e,n),size:"tiny",variant:"tertiary",className:"mr-4",children:r.jsx(e_,{})})})]}),s.length===0?r.jsx(mn,{children:r.jsxs("div",{className:U(oe,"py-4 text-contrast-50"),children:["No ",n," status defined"]})}):r.jsx(mn,{children:s.map(i=>r.jsxs("div",{className:U(oe,"flex items-center gap-8"),children:[r.jsx(Ii,{type:i.type,colorHex:i.color||void 0}),r.jsxs("div",{className:U(oe,"flex grow items-center gap-4"),children:[i.label," ",i.tasks.length>0&&r.jsxs("span",{className:"text-contrast-50",children:[i.tasks.length," tasks"]}),i.isDefault&&r.jsx("span",{className:"rounded-md bg-contrast-10 px-4 py-2 text-xs text-contrast-50",children:"Default"})]}),e.accessLevel==="admin"&&r.jsx(Ue,{options:[[{icon:pr,label:"Edit status",onSelect:()=>Cte(i)},{icon:lt,label:"Delete status",disabled:!i.canDelete,isDestructive:!0,onSelect:()=>{i.delete()}}]],align:"end",children:r.jsx(We,{children:r.jsx(ce,{label:"Open options",children:r.jsx(ae,{variant:"tertiary",size:"small",icon:Ot,className:"[-webkit-app-region:no-drag]"})})})})]},i.uuid))})]})}),Z0=({items:t,title:e})=>r.jsxs("div",{className:"flex flex-col gap-12",children:[e&&r.jsx("h3",{className:ht,children:e}),r.jsx("ul",{className:U(Ne,"flex flex-col gap-12 text-contrast-50"),children:t.map(n=>r.jsxs("li",{className:"flex gap-8",children:[r.jsx(yt,{className:"flex-none text-primary-500"}),r.jsx("span",{children:n})]},n))})]}),ts=new Date("2022-08-12T09:00:00"),_te=(t,e)=>r.jsxs(r.Fragment,{children:[r.jsx("p",{className:U(Ne,"text-contrast-50"),children:"Cross-calendar blocking automatically marks that appointment at the dentist from your private calendar as busy in your work calendar, for example. This will prevent you from being double booked and will not require any manual work."}),r.jsxs("div",{className:"flex justify-center gap-32 rounded-md border border-contrast-10 bg-contrast-5 p-24 pb-16",children:[r.jsxs("div",{className:"w-[160px] text-center text-contrast-50",children:[r.jsxs("div",{className:"relative mb-8 h-[134px]",children:[r.jsx(dn,{position:{offsetTopPx:0,heightPx:32},startDate:ts,timeNotation:e,stripeVariant:"no-stripes",colorVariant:"color-light",title:"Standup",baseColorHex:"#E43FFF"}),r.jsx(dn,{position:{offsetTopPx:34,heightPx:32},startDate:Ie(ts,30),timeNotation:e,stripeVariant:"no-stripes",colorVariant:"color-light",title:`${t} / Emiel`,baseColorHex:"#E43FFF"}),r.jsx(dn,{position:{offsetTopPx:32*2+2*2,heightPx:64},startDate:Ie(ts,60),timeNotation:e,stripeVariant:"no-stripes",colorVariant:"color-light",title:"Dentist appointment",baseColorHex:"#FF843F",secondaryHighlightLines:[{color:"#E43FFF"}]})]}),r.jsx("div",{className:Te,children:"Shown to you"})]}),r.jsxs("div",{className:"w-[160px] text-center text-contrast-50",children:[r.jsxs("div",{className:"relative mb-8 h-[134px]",children:[r.jsx(dn,{position:{offsetTopPx:0,heightPx:32},startDate:ts,timeNotation:e,stripeVariant:"no-stripes",colorVariant:"color-light",title:"Standup",baseColorHex:"#E43FFF"}),r.jsx(dn,{position:{offsetTopPx:34,heightPx:32},startDate:Ie(ts,30),timeNotation:e,stripeVariant:"no-stripes",colorVariant:"color-light",title:`${t} / Emiel`,baseColorHex:"#E43FFF"}),r.jsx(dn,{position:{offsetTopPx:32*2+2*2,heightPx:64},startDate:Ie(ts,60),timeNotation:e,stripeVariant:"no-stripes",colorVariant:"color-light",title:"Busy",baseColorHex:"#E43FFF"})]}),r.jsx("div",{className:Te,children:"Shown to others"})]})]}),r.jsx(Z0,{title:"Good to know",items:["When the source event gets moved or deleted, everything gets updated. This works from wherever you make the change (even from different apps)","Only blocks off events that influence your availability and are marked as busy in your calendar","Teammates wont see the exact details of your appointment"]})]}),Ote=X(function({isStandalone:e}){const{accounts:n,userStore:s}=se(),i=(a,l)=>n.connected.map(p=>({key:p.accountEmail,label:p.accountEmail,options:p.calendars.filter(f=>f.accessLevel==="owner"||f.accessLevel==="writer").filter(f=>f.uuid!==l).map(f=>({value:f.uuid,label:f.name,calendar:f,icon:a?r.jsx(He,{color:f.color}):void 0}))})).filter(p=>p.options.length!==0);return r.jsxs(_m,{title:"Prevent being double booked",stepKey:"crossCalendarBlockingExplainerDone",allowManualCompletion:!e,children:[_te(s.firstName||"Tim",s.timeNotation),r.jsxs("div",{className:"flex flex-col gap-16",children:[r.jsx("div",{className:ht,children:"Settings"}),r.jsx(NR,{calendarDropdownOptions:i}),r.jsx("div",{children:r.jsx(ae,{variant:"primary",onClick:()=>x0("settings"),children:"Add account"})})]})]})});function Ite(t){switch(t){case 0:return Pk;case 1:return Lk;case 2:return Bk;case 3:return Fk;case 4:return Hk;case 5:return uF}return null}const Bp=({items:t,title:e})=>r.jsxs("div",{className:"flex flex-col gap-12",children:[e&&r.jsx("h3",{className:ht,children:e}),r.jsx("ol",{className:U(Ne,"flex flex-col gap-12 text-contrast-50"),children:t.map((n,s)=>{const i=Ite(s);return r.jsxs("li",{className:"flex gap-8",children:[i?r.jsx(i,{className:"flex-none text-primary-500"}):r.jsx("div",{className:"w-16 flex-none"}),r.jsx("span",{children:n})]},n)})})]}),Mte=r.jsxs(r.Fragment,{children:[r.jsx(Bp,{title:"How does it work?",items:["You create a scheduling link","Share your scheduling link with anyone outside your organization you like to schedule a meeting with","The recipient can book an available time in your calendar","Youll get an email about the meeting being booked by someone","The recipient will receive a calendar invite"]}),r.jsx(Z0,{title:"Good to know",items:["It will only show slots youre available and respects your working hours. Even if youre booked in your private calendar it will remove that slot from the scheduling link","Collective scheduling links let someone schedule a meeting with you and your teammates","Highlights preferred times to reduce impact on your focus time"]})]}),Rte=({isStandalone:t})=>r.jsx(_m,{title:"Schedule a meeting with anyone. Without emailing back and forth",video:"8GYyEao9n2Q",previewImage:EY,stepKey:"externalSchedulingExplainerDone",allowManualCompletion:!t,children:Mte}),Pte=r.jsxs(r.Fragment,{children:[r.jsx(Bp,{title:"How does it work?",items:["Decide how much focus time you like to have on a weekly basis","Nothing happens when your focus time is not under pressure, but:","When your calendar is filling up and your minimal focus time threshold is hit, FocusGuard will create blocks in your calendar","Teammates will see your need to focus and consider scheduling meetings sometime later"]}),r.jsx(Z0,{title:"Good to know",items:["You can easily adjust your focus time threshold","You can remove individual focus blocks if needed","You can customize the focus blocks FocusGuard creates in your calendar","Teammates can still schedule meetings with you if its something urgent","Works with teammates who are not on Rise"]})]}),Lte=X(function({isStandalone:e}){const{userStore:n}=se();return r.jsxs(_m,{title:"Protect your focus time and block off time when needed",video:"id4tCoc3Ymg",previewImage:IM,stepKey:"fgExplainerDone",allowManualCompletion:!e,children:[n.focusGuardStatus==="waiting_for_analysis"||n.focusGuardStatus==="analyzing"?r.jsx("p",{className:Ne,children:"Focus guard will be automatically available after Rise completed analyzing your calendar. We'll keep you posted via email."}):!e&&r.jsxs("div",{className:"flex items-center",children:[r.jsxs("div",{className:U(Ne,"flex-grow"),children:["Automatically block off time"," ",r.jsx(je,{selectButtonProps:{variant:"secondary-semi-transparent",className:"mx-4"},initialOptionValue:n.focusTimeDayPartPreference??void 0,options:[{value:"anytime",label:"anytime during the day"},{value:"morning",label:"in the morning"},{value:"afternoon",label:"in the afternoon"}],onSubmit:({value:s})=>n.setFocusTimeDayPartPreference(s)})," ","when I have",r.jsx("br",{}),r.jsx(je,{selectButtonProps:{variant:"secondary-semi-transparent",className:"mr-4"},initialOptionValue:n.focusTimeThresholdMinutes??void 0,options:Array.from({length:21},(s,i)=>({value:i*60,label:i===0?"No minimum":`${i} hour${i===1?"":"s"}`})).filter(s=>s.value!==0||n.focusTimeThresholdMinutes===0),onSubmit:({value:s})=>n.setFocusTimeThresholdMinutes(s)})," ","or less focus time per week."]}),r.jsx(et,{className:"flex-none",checked:n.focusGuardStatus!=="disabled",onChange:()=>{Me(n.focusGuardStatus==="disabled"?ke.FOCUS_GUARD_ENABLED:ke.FOCUS_GUARD_DISABLED,{source:"getting_started"}),n.toggleFocusGuardStatus()}})]}),Pte]})}),Bte=r.jsxs(r.Fragment,{children:[r.jsx(Bp,{title:"How to schedule a meeting",items:["Click the Meet button or use F on your keyboard","Select the teammates you like to meet with (and optionally add a meeting room)","Continue and let the engine find the best time to meet","Confirm the meeting and send the invite"]}),r.jsx(Bp,{title:"How to reschedule a meeting",items:["Open the meeting you like to move and click the reschedule button","Select to when you like to reschedule","Continue and let the engine find the best time to meet","Confirm the change and send the update"]}),r.jsx(Z0,{title:"Good to know",items:["Checks everyones availability and works across timezones","Finds the time that has least impact on everyones focus time","Nothing will be changed automatically. Youll always be in control."]})]}),Fte=({isStandalone:t})=>r.jsx(_m,{title:"Effortless scheduling and rescheduling meetings",video:"azwEDgm5cWk",previewImage:AY,stepKey:"meetRescheduleExplainerDone",allowManualCompletion:!t,children:Bte}),hi=[{standaloneHeading:"Focus guard",title:"Protect your valuable time",description:"Timeblocking while staying flexible",stepKey:"fgExplainerDone",icon:Pk,component:Lte},{standaloneHeading:"Scheduling and rescheduling",title:"1-click (re)scheduling",description:"Without the calendar tetris",stepKey:"meetRescheduleExplainerDone",icon:Lk,component:Fte},{standaloneHeading:"Scheduling links",title:"Scheduling links",description:"No more email back and forth",stepKey:"externalSchedulingExplainerDone",icon:Bk,component:Rte},{standaloneHeading:"Cross-calendar blocking",title:"Cross-calendar blocking",description:"Prevent being double booked",stepKey:"crossCalendarBlockingExplainerDone",icon:Fk,component:Ote},{standaloneHeading:"Permissions",title:"Complete setup",description:"Unlock contacts & meeting rooms",stepKey:"contactsSetupDone",icon:Hk,component:OY}];function Hm(t,e){Ke(({close:n,closeHandlerRef:s})=>r.jsx(Hte,{activeTabKey:t,isStandalone:e,close:n,closeHandlerRef:s}),{id:"getting-started-modal"})}const Hte=X(function({activeTabKey:e,isStandalone:n,close:s,closeHandlerRef:i}){const[a,l]=K.useState(()=>{if(!e)return 0;const v=hi.findIndex(E=>E.stepKey===e);return v===-1?0:v}),{userStore:p}=se(),f=hi[a];return K.useEffect(()=>{if(!n)return i.current=()=>(Object.values(p.onboardingState).every(v=>v)&&(Me(ke.GETTING_STARTED_ALL_STEPS_COMPLETED),p.toggleGettingStartedVisible(),jt("You can revisit the Getting Started section via the menu at any time")),!0),()=>{i.current=void 0}},[i,p,n]),r.jsx("div",{className:U("h-[42rem] max-h-[calc(100vh-theme(spacing.64))]",n?"w-[35rem]":"w-[53rem]"),children:r.jsxs("div",{className:"flex h-full flex-col",children:[r.jsxs("div",{className:"flex items-center gap-8 border-b border-contrast-10 p-8",children:[r.jsx("h1",{className:U(oe,"grow pl-16 text-contrast-50"),children:n?f.standaloneHeading:"Get started using Rise"}),r.jsx(ce,{label:"Close",side:"top",children:r.jsx(ae,{variant:"tertiary",size:"small",icon:Rn,onClick:()=>{s()}})})]}),r.jsxs("div",{className:"flex min-h-0 flex-grow",children:[!n&&r.jsx("div",{className:"w-[16.75rem] flex-none overflow-y-auto border-r border-contrast-10 p-16",children:r.jsx("div",{className:" grid gap-2",children:hi.map(({title:v,description:E,icon:w,stepKey:D},M)=>r.jsxs("button",{className:U("flex gap-8 rounded-md px-8 py-6 text-left outline-none transition-shadow focus-visible:ring",M===a?"bg-contrast-5":"hover:bg-contrast-5"),onClick:()=>{Me(ke.GETTING_STARTED_STEP_OPENED,{step:D,source:"modal"}),l(M)},children:[p.onboardingState[D]?r.jsx(o0,{className:"size-16 flex-none rounded-full text-contrast-50"}):r.jsx(w,{className:"flex-none text-primary-500"}),r.jsxs("div",{className:"flex-col",children:[r.jsx("div",{className:U(oe),children:v}),r.jsx("div",{className:U(Te,"text-contrast-50"),children:E})]})]},v))})}),r.jsx("div",{className:"w-full",children:r.jsx(f.component,{isStandalone:n})})]})]})})}),ON=Array.from({length:24}).flatMap((t,e)=>{const n=`${e<10?0:""}${e}`;return[`${n}:00`,`${n}:30`]}).map(t=>({value:t,label:t})),Hie=X(function(){var i,a;const{userStore:e}=se();K.useEffect(()=>{if(!e.didOnboarding){const l=kY();l!==e.uses12HourClock&&(e.uses12HourClock=l,e.save())}},[e]),wm("bg-base-bg-elevated dark:bg-base-bg");const n=[{day:1,label:"Monday"},{day:2,label:"Tuesday"},{day:3,label:"Wednesday"},{day:4,label:"Thursday"},{day:5,label:"Friday"},{day:6,label:"Saturday"},{day:7,label:"Sunday"}],s=C0(e.workingTimes);return r.jsxs(_0,{progress:1,showBackButton:!0,children:[r.jsx(k0,{event:ke.ONBOARDING_TIMES_PAGE_OPENED}),r.jsx("h1",{className:Di,children:"When do you work?"}),!s&&r.jsx("p",{className:U(zn,"rounded-md bg-red-200/20 p-10 text-red-400"),children:"It looks like you selected incorrect working times. Please double check."}),r.jsxs("div",{className:"flex flex-col gap-24",children:[r.jsxs("div",{className:"flex flex-col gap-8",children:[r.jsx("span",{className:Ae(ls,"text-[0.9375rem] text-contrast-50"),children:"Working days"}),r.jsx("div",{className:"flex gap-8",children:n.map(({day:l,label:p})=>{const f=e.workingTimesByDay[l];return r.jsx("button",{className:U(zn,"flex size-36 flex-col items-center justify-center rounded-full outline-none transition focus-visible:ring lg:h-40 lg:w-40",f?"bg-primary text-white hover:bg-primary-500 focus-visible:ring-offset-1":"border border-contrast-10 text-black hover:bg-contrast-10"),onClick:()=>{var v,E;e.toggleWorkingDayAvailability(l),e.setWorkingTimesForAllWorkingDays((v=e.workingTimes[0])==null?void 0:v.startsAt,(E=e.workingTimes[0])==null?void 0:E.endsAt),e.save()},children:p[0]},l)})})]}),r.jsxs("div",{className:"flex flex-col gap-8",children:[r.jsxs("span",{className:Ae(ls,"flex items-center gap-4 text-[0.9375rem] text-contrast-50"),children:["Working hours",r.jsx(ce,{label:"You can adjust these later for each weekday",className:"w-256",children:r.jsx("span",{className:"align-middle text-contrast-30",children:r.jsx(wn,{className:"text-contrast-30"})})})]}),r.jsxs("div",{className:"flex w-[14rem] items-center gap-8",children:[r.jsx(je,{inputPlaceholder:"Set time",options:ON,initialOptionValue:(i=e.workingTimes[0])==null?void 0:i.startsAt,onSubmit:l=>{var p;e.setWorkingTimesForAllWorkingDays(l.value,(p=e.workingTimes[0])==null?void 0:p.endsAt),e.save()},selectButtonProps:{className:U(zn,"flex-grow tabular-nums",!s&&"bg-red-200/20 hover:enabled:bg-red-200/30")}}),r.jsx("span",{className:Ae(ls,"flex-none whitespace-nowrap text-[0.9375rem] text-contrast-60"),children:"to"}),r.jsx(je,{inputPlaceholder:"Set time",options:ON,initialOptionValue:(a=e.workingTimes[0])==null?void 0:a.endsAt,onSubmit:l=>{var p;e.setWorkingTimesForAllWorkingDays((p=e.workingTimes[0])==null?void 0:p.startsAt,l.value),e.save()},selectButtonProps:{className:U(zn,"flex-grow tabular-nums",!s&&"bg-red-200/20 hover:enabled:bg-red-200/30")}})]})]}),r.jsxs("div",{className:"flex flex-col gap-8",children:[r.jsxs("div",{className:Ae(ls,"flex items-center gap-4 text-[0.9375rem] text-contrast-50"),children:["Best time to focus",r.jsx(ce,{label:"Rise uses this information to decide how best to protect your time",className:"w-256",children:r.jsx("span",{className:"align-middle text-contrast-30",children:r.jsx(wn,{className:"text-contrast-30"})})})]}),r.jsx("div",{className:"flex w-[14rem] gap-8",children:r.jsx(je,{inputPlaceholder:"Set preferred focus time",align:"end",initialOptionValue:e.focusTimeDayPartPreference??"anytime",options:[{value:"anytime",label:"Doesnt matter"},{value:"morning",label:"Mornings"},{value:"afternoon",label:"Afternoons"}],onSubmit:({value:l})=>e.setFocusTimeDayPartPreference(l),selectButtonProps:{className:U(zn,"flex-grow")}})})]})]}),r.jsx("div",{children:r.jsx(qt,{to:ye.setupFocusguard.path,size:"large",variant:"primary",className:"w-full sm:w-auto",children:"Continue"})})]})});function Vte(){const t=Re(ge.nowStartOfWeek,2),e=Re(t,1);return[...[[{value:"asap",label:"ASAP",secondaryLabel:"First available option",icon:r.jsx(m0,{className:"text-yellow-400"})},{value:"next_7",label:"Within 7 days",secondaryLabel:"Balancing focus and priority",icon:r.jsx(QB,{className:"text-turquoise-400"})}],[{value:"today",label:"Today"},{value:"tomorrow",label:"Tomorrow"},{value:"early this week",label:"Early this week"},{value:"end of this week",label:"End of this week"}],[{value:"next week",label:"Next week"},{value:"early next week",label:"Early next week"},{value:"end of next week",label:"End of next week"}],[{value:"in 2 weeks",label:"In 2 weeks",secondaryLabel:`Week ${m5(t)}  ${rt(t,"MMM do")}`},{value:"in 3 weeks",label:"In 3 weeks",secondaryLabel:`Week ${m5(e)}  ${rt(e,"MMM do")}`}]],Wte]}const Wte=[{label:"Before",getRange(t){return[fe(t,-6),t]}},{label:"After",getRange(t){return[fe(t,1),fe(t,7)]}},{label:"On",getRange(t){return[t,fe(t,1)]}}],$te=X(function({onSubmit:e}){const{userStore:n}=se(),s=Wx();return r.jsx(A0,{today:ge.nowStartOfDay,isInteractive:!0,isSelectionInPastPrevented:!0,onSubmit:e,className:"p-12",startOfWeek:n.startOfWeek,...s})});function Ute(){Me(ke.FAT_MODAL_OPENED),Ke(({close:t})=>r.jsx(Gte,{close:t}),{id:"meet-modal",hasVariableHeight:!0})}const Gte=X(function({close:e}){var L;const{peopleStore:n,userStore:s,eventsStore:i,alternativeCalendarsStore:a,resourcesStore:l,accounts:p,groups:f,eventsStoreManager:v}=se(),E=Vte(),w=K.useRef(null),[D,M]=K.useState(!1),[o,d]=K.useState(!1),[m,h]=K.useState(!1),[u,P]=K.useReducer((c,k)=>{var y,G,J,Q,ee;const S={...c};switch(k.type){case"updateDuration":S.duration=k.duration,xe(()=>s.setRiseMeetDuration(k.duration));break;case"updateTimewindow":S.timeWindow=k.timeWindow,S.type=k.timeWindow==="asap"?"asap":"best-time";break;case"addPerson":(y=c.items)!=null&&y.find(W=>W.type==="person"&&W.person===k.person)||(S.items=[...c.items||[],{type:"person",person:k.person}]),(G=w.current)==null||G.focus();break;case"addResource":(J=c.items)!=null&&J.find(W=>W.type==="resource"&&W.resource===k.resource)||(S.items=[...c.items||[],{type:"resource",resource:k.resource}]),(Q=w.current)==null||Q.focus();break;case"removeLastItem":c.items&&c.items.length>0&&(S.items=c.items.slice(0,c.items.length-1));break;case"removeItem":c.items&&c.items[k.index]&&(S.items=[...c.items.slice(0,k.index),...c.items.slice(k.index+1)]),(ee=w.current)==null||ee.focus();break}return S},{mode:"fat-modal",items:[],duration:s.riseMeetDuration,timeWindow:"next_7",type:"best-time"});$e({key:"1",commandKey:!0,shiftKey:!0,isActiveWhenInputFocused:!0},c=>{c.preventDefault(),d(!0)}),$e({key:"2",commandKey:!0,shiftKey:!0,isActiveWhenInputFocused:!0},c=>{c.preventDefault(),h(!0)});function R(c){var k;c.preventDefault(),(k=w.current)==null||k.focus()}function _(c,k){return M(!1),xt({title:c,description:k,primaryAction:{key:"ok",label:"Close"},secondaryAction:{key:"telegram",label:"Get support",onClick(){Fe("https://t.me/joinchat/4Y9U7gc6NlEyYWEy")}}})}async function F(){D||(M(!0),km(u).then(c=>{if(!N0(c))return _("Could not find a time","We could not find a suitable time for your request, which should not happen. We are notified and will look into it.");c.schedulingContextParticipants.forEach(S=>{a.fetchCalendarForPerson({email:S},_t.EVENT)}),a.setForceHideBestTimesToMeet(!0),i.bookProposal({query:u,response:c,source:"fat-modal",title:Ex({users:Es(u),peopleStore:n,userStore:s}),eventsStoreManager:v}),e()}).catch(c=>{if(NK(c)&&c.status==="timeout")return _("The server took too long to respond","We could not find a good slot quickly enough, sorry about that. We have been notified and are looking into it.");_("Something went wrong","Sorry. We could not find a time for you. We are notified and will look into it.")}))}const C=(()=>{var c;return(c=n.people)!=null&&c.length?n.filterPeople(n.people,null,s.domainsWithAliases,!0).filter(k=>!f.findByEmail(k.email)).map(k=>Ox(k,n,f)):[]})(),A=(l.resourcesByAccountUuid[s.calendarForNewEvents.account.uuid]||[]).filter(c=>c.type!=="other").map(c=>({label:c.name,secondaryLabel:c.labelSecondary,value:c.remoteEmail,icon:r.jsx("div",{className:"relative flex size-24 items-center justify-center rounded-full bg-contrast-5 text-contrast-50",children:r.jsx(vm,{})}),resource:c})),j=As({nullDuration:!1}),x=c=>{const k=j.find(S=>S.value===c);return k?k.label:`${c} min`},N=c=>{var k;return(k=E.flatMap(S=>[...S]).find(S=>"value"in S&&S.value===c))==null?void 0:k.label},b={...qn,Content:In(c=>r.jsx(qn.Content,{...c,onCloseAutoFocus:R}))},O={...Zb,Content:In(c=>r.jsx(Zb.Content,{...c,onCloseAutoFocus:R}))},T=it();return r.jsx("div",{className:"w-[38rem]",children:r.jsxs("div",{className:"flex h-full flex-col",children:[r.jsxs("div",{className:"flex flex-wrap px-16 py-12",children:[r.jsx(r.Fragment,{children:(L=u.items)==null?void 0:L.map((c,k)=>r.jsx(K.Fragment,{children:c.type==="person"?r.jsx("div",{className:"my-[0.1875rem] mr-4 inline-block whitespace-nowrap rounded bg-primary px-4 text-base leading-[1.875rem] text-white-static",onClick:()=>P({type:"removeItem",index:k}),children:c.person.name||c.person.email},c.person.email):r.jsx("div",{className:"my-[0.1875rem] mr-4 inline-block whitespace-nowrap rounded bg-primary px-4 text-base leading-[1.875rem] text-white-static",onClick:()=>P({type:"removeItem",index:k}),children:c.resource.name},c.resource.remoteEmail)},k))}),r.jsx("div",{className:"grow",children:r.jsx(Rs,{getOptions:c=>{var y,G;if(!c)return[];const k=(y=u.items)==null?void 0:y.filter(J=>J.type==="person").map(J=>J.person),S=(G=u.items)==null?void 0:G.filter(J=>J.type==="resource").map(J=>J.resource);return[...Ps(c,[{options:k?C.filter(J=>!k.includes(J.person)):C,noSort:!0,matchThreshold:"ACRONYM"},{options:S?A.filter(J=>!S.includes(J.resource)):A}]),...O0(p.connected,"meet",T)]},onSubmit:c=>{c&&(c.action&&c.action(),c.person?P({type:"addPerson",person:c.person}):c.resource&&P({type:"addResource",resource:c.resource}))},shouldResetOnSubmit:!0,className:"w-[19rem] grow",inputProps:{variant:"ghost"},children:({onChange:c,isOpen:k,isLoading:S,onKeyDown:y,ref:G,...J})=>r.jsx(s7,{ref:w,variant:"internal",className:"w-full min-w-[40px] pl-0 text-base font-normal",placeholder:!u.items||u.items.length===0?"Add teammates or rooms":void 0,onChange:Q=>{c(Q.target.value)},onKeyDown:Q=>{y(Q),J.value||_s({key:"Enter",execute:F,isActiveWhenInputFocused:!0},{key:"Backspace",execute:()=>P({type:"removeLastItem"}),isActiveWhenInputFocused:!0},{key:"Escape",execute:e,isActiveWhenInputFocused:!0})(Q)},...J})})})]}),r.jsxs("div",{className:"flex items-center gap-8 border-t border-contrast-5 bg-contrast-5 p-8",children:[r.jsx(je,{inputPlaceholder:"Pick duration",options:[],getOptions:c=>{const k=parseInt(c.trim(),10);return isNaN(k)||k<=0?j:[{value:k,label:`${k} min`},...j.filter(S=>S.value!==k)]},initialOptionValue:u.duration,onSubmit:({value:c})=>{P({type:"updateDuration",duration:c})},selectButtonProps:{variant:"secondary-semi-transparent",icon:mr,iconRight:null,isMuted:!1,keyboardShortcut:{key:"1",commandKey:!0,shiftKey:!0},children:x(u.duration)},open:o,onOpenChange:c=>{c&&Me(ke.FAT_MODAL_DURATION_OPENED),d(c)},components:b}),r.jsx(Ue,{components:O,options:E.map(c=>c.map(k=>"getRange"in k?{label:k.label,subOptions:[{options:[],renderOptions({close:S}){return r.jsx($te,{onSubmit:y=>{const[G,J]=k.getRange(y),Q={label:`${k.label} ${rt(y,"MMM do")}`,startsAt:G,endsAt:J};P({type:"updateTimewindow",timeWindow:Q}),S()}})}}]}:{...k,onSelect:()=>{P({type:"updateTimewindow",timeWindow:k.value.toString()})}})),open:m,onOpenChange:c=>{c&&Me(ke.FAT_MODAL_TIME_WINDOW_OPENED),h(c)},children:r.jsx(ae,{variant:"secondary-semi-transparent",icon:ln,keyboardShortcut:{key:"2",commandKey:!0,shiftKey:!0},children:typeof u.timeWindow=="string"?N(u.timeWindow):u.timeWindow.label})}),r.jsx("div",{className:"grow"}),r.jsx(b7,{shouldOpen:!s.hintDismissed.meetExplainer,title:"Schedule meetings with teammates in a couple of keystrokes",body:r.jsxs("ul",{className:"flex flex-col gap-4",children:[r.jsxs("li",{className:"flex gap-8 opacity-75",children:[r.jsx(yt,{className:"flex-none"})," Finds the best time to meet, optimizing for maximum focus time"]}),r.jsxs("li",{className:"flex gap-8 opacity-75",children:[r.jsx(yt,{className:"flex-none"})," Handles timezone differences"]}),r.jsxs("li",{className:"flex gap-8 opacity-75",children:[r.jsx(yt,{className:"flex-none"})," Works with all your teammates"]})]}),primaryAction:{label:"I understand",onClick:()=>s.dismissHint("meetExplainer")},secondaryAction:{label:"Learn more",noHintClose:!0,onClick:()=>{Hm("meetRescheduleExplainerDone")}},children:r.jsx(We,{children:r.jsx(ce,{label:"Combine hundreds of signals like availability, timezones and focus time. Nothing will be scheduled without your confirmation.",className:"w-256",children:r.jsxs(ae,{variant:"primary",disabled:D,onClick:F,icon:rx,children:["Show proposal",r.jsxs("div",{className:"relative ml-8 size-16",children:[r.jsx(Pn,{shortcut:{key:"Enter"},colorVariant:"light-static",size:"small",className:D?"invisible":"block"}),D&&r.jsx(Gr,{className:"absolute inset-0"})]})]})})})})]})]})})});var ve=(t=>(t.Number="Number",t.Weekday="Weekday",t.Month="Month",t.In="In",t.At="At",t.On="On",t.With="With",t.Next="Next",t.Previous="Previous",t.Punctuation="Punctuation",t.Whitespace="Whitespace",t.Word="Word",t.Am="AM",t.Pm="PM",t.Colon="Colon",t.Separator="Separator",t.RelativeDay="RelativeDay",t.DurationCategory="DurationCategory",t.Skip="Skip",t.Every="Every",t.NthSuffix="NthSuffix",t))(ve||{});const zt=(t,e)=>n=>{const s=t(n);return e(s)},Fp=(t,e)=>n=>{const s=t(n);return e(s)?s:void 0},_e=t=>e=>e[0]&&e[0].type===t?e[0]:!1,Ds=t=>e=>t(e)||"optional",Hn=(...t)=>e=>{let n=!0,s=[...e],i=[];for(let a=0,l=0;a<t.length;a++){if(!s[l])return;const f=t[a],v=f(s.slice(l));if(v){if(v==="optional"){i.push({value:"skip",type:ve.Skip});continue}l++,i.push(v);continue}else{n=!1;break}}if(n)return i},Jx=t=>e=>{let n=[...e],s=[];for(let i=0;i<n.length;i++){const a=n[i];if(!a)return;if(t(n.slice(i)))return s;s.push(a)}return s},qr=(...t)=>e=>{for(let n=0;n<t.length;n++){const s=t[n];if(s(e))return s(e)}},Qx=["sunday","monday","tuesday","wednesday","thursday","friday","saturday","sun","mon","tue","wed","thu","fri","sat","su","mo","tu","we","th","fr","sa"],qx=["january","february","march","april","may","june","july","august","september","october","november","december","jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],nv={minutes:"minutes",mins:"minutes",minute:"minutes",min:"minutes",hours:"hours",hrs:"hours",hour:"hours",hr:"hours",days:"days",day:"days",d:"days",weeks:"weeks",wks:"weeks",week:"weeks",wk:"weeks",months:"months",mnths:"months",month:"months",years:"years",yrs:"years",year:"years"},zte=Object.keys(nv),IN=_e(ve.Separator),Kte=zt(Hn(qr(_e(ve.Next),_e(ve.Previous)),_e(ve.Whitespace),_e(ve.Weekday)),t=>{if(!t)return;const[e,,n]=t,s=Qx.findIndex(i=>i===n.value)%7;return Pe(e.type===ve.Next?Tk(new Date,s):uB(new Date,s))}),Zte=zt(_e(ve.Weekday),t=>{if(!t)return;const e=Qx.findIndex(n=>n===t.value)%7;return Pe(Tk(new Date,e))}),Yte=zt(_e(ve.RelativeDay),t=>{if(!t)return;const e=t.value.toLowerCase();if(["today","tod"].includes(e))return dB();if(e==="yesterday")return hB();if(["tomorrow","tom"].includes(e))return fB()}),Xte=zt(Hn(_e(ve.Number),IN,_e(ve.Number),IN,_e(ve.Number)),t=>{if(!t)return;const[e,,,,n]=t;if(e.value.length===4){const s=mB(t.map(i=>i.value).join(""));if(s instanceof Date)return s}n.value.length}),Jte=zt(Hn(_e(ve.Number),Ds(_e(ve.NthSuffix)),Ds(_e(ve.Whitespace)),_e(ve.Month)),t=>{if(!t)return;const[e,,,n]=t,s=qx.findIndex(a=>a===n.value)%12,i=Pe(hn(new Date,{date:e.value,month:s}));return pB(i)?i:J6(i,1)}),Qte=t=>{const e=parseInt(t.value);return e>=1e3&&e<=3e3},qte=zt(Hn(_e(ve.Number),Ds(_e(ve.NthSuffix)),Ds(_e(ve.Whitespace)),_e(ve.Month),_e(ve.Whitespace),Fp(_e(ve.Number),Qte)),t=>{if(!t)return;const[e,,,n,,s]=t,i=qx.findIndex(l=>l===n.value)%12;return Pe(hn(new Date,{date:e.value,month:i,year:s.value}))}),RR=qr(qte,Jte,Kte,Zte,Xte,Yte),ene=(t,e)=>{switch(t){case"minutes":return e;case"hours":return e*60;case"days":return e*60*24;case"weeks":return e*60*24*7;default:throw new Error("I cannot possibly know what that would be in minutes")}},PR=zt(Hn(_e(ve.Number),Ds(_e(ve.Whitespace)),_e(ve.DurationCategory)),t=>{if(!t)return;const[e,,n]=t,s=parseInt(e.value,10);return{category:nv[n.value],value:s,minutes:ene(nv[n.value],s)}}),tne=t=>{const e=parseInt(t.value);return e>=1&&e<=12},nne=t=>{const e=parseInt(t.value);return e>=0&&e<=23},rne=t=>{const e=parseInt(t.value);return e>=0&&e<=59},sne=zt(Hn(Fp(_e(ve.Number),tne),Ds(_e(ve.Whitespace)),qr(_e(ve.Am),_e(ve.Pm))),t=>{if(!t)return;const[e,,n]=t;return{hours:n.type===ve.Am?parseInt(e.value,10)%12:parseInt(e.value,10)%12+12,minutes:0}}),ine=zt(Hn(Fp(_e(ve.Number),nne),_e(ve.Colon),Fp(_e(ve.Number),rne)),t=>{if(!t)return;const[e,,n]=t;return{hours:parseInt(e.value,10),minutes:parseInt(n.value,10)}}),LR=qr(sne,ine),e5=qr(RR,LR,PR,_e(ve.At),_e(ve.In),_e(ve.With),_e(ve.Every)),ane=zt(Hn(_e(ve.With),_e(ve.Whitespace),Jx(e5)),t=>{if(!t)return;const[,,e]=t;if(e)return e.map(n=>n.value).join("")}),one=zt(Hn(qr(_e(ve.At),_e(ve.On)),_e(ve.Whitespace),Jx(e5)),t=>{if(!t)return;const[,,e]=t;if(e)return e.map(n=>n.value).join("")}),lne=zt(Hn(_e(ve.Word),Jx(e5)),t=>{if(!t)return;const[e,n]=t;if(e)return[e,...n].map(s=>s.value).join("")}),cne=zt(_e(ve.Word),t=>{if(t)return t.value}),une=qr(lne,cne),dne=t=>/[a-zA-Z]/.test(t),hne=t=>/\d/.test(t),fne=t=>/\s/.test(t),MN=t=>dne(t)?"word":hne(t)?"number":fne(t)?"whitespace":"punctuation",mne=t=>({value:t,type:ve.Word}),kr=(t,e)=>n=>{if(t.toLowerCase()===n.toLowerCase())return{value:n,type:e}},pne=t=>{if(/\s+/.test(t))return{value:t,type:ve.Whitespace}},gne=t=>{if(/[,.;:()[\]{}]/.test(t))return{value:t,type:ve.Punctuation}},bne=t=>{if(/\d+/.test(t))return{value:t,type:ve.Number}},_r=(t,e)=>n=>{if(t.includes(n))return{value:n,type:e}},yne=_r(["with","w/","w"],ve.With),vne=kr("at",ve.At),xne=kr("on",ve.On),jne=kr("next",ve.Next),Sne=_r(["prev","previous"],ve.Previous),Ane=kr("am",ve.Am),Ene=kr("pm",ve.Pm),Dne=_r(Qx,ve.Weekday),wne=_r(qx,ve.Month),Cne=kr(":",ve.Colon),Tne=kr("-",ve.Separator),Nne=kr("/",ve.Separator),kne=_r(["yesterday","today","tod","tomorrow","tom"],ve.RelativeDay),_ne=_r(zte,ve.DurationCategory),One=_r(["every","ev"],ve.Every),Ine=_r(["st","nd","rd","th"],ve.NthSuffix);function Mne(t){let e=[],n=0;function s(){if(!t[n])return;let i="",a=MN(t[n]);for(;t[n]&&a===MN(t[n]);)i=`${i}${t[n]}`,n++;e.push(yne(i)||vne(i)||xne(i)||jne(i)||Sne(i)||Ane(i)||Ene(i)||Dne(i)||wne(i)||Cne(i)||Tne(i)||Nne(i)||kne(i)||_ne(i)||One(i)||Ine(i)||gne(i)||bne(i)||pne(i)||mne(i))}do s();while(n<t.length);return e}function Rne(t){const e=Mne(t),n={date:null,time:null,attendees:[],location:null,title:null,duration:null};return n.time=(()=>{const s=e.map((a,l)=>LR(e.slice(l))).find(a=>!!a);if(!s)return null;const i=new Date;return i.setHours(s.hours,s.minutes,0,0),i})(),n.date=(()=>{const s=e.map((i,a)=>RR(e.slice(a))).find(i=>!!i);return s||null})(),n.duration=(()=>{const s=e.map((i,a)=>PR(e.slice(a))).find(i=>!!i);return s?s.minutes:null})(),n.location=(()=>{const s=e.map((i,a)=>one(e.slice(a))).find(i=>!!i);return s||null})(),n.attendees=(()=>{const s=e.map((i,a)=>ane(e.slice(a))).find(i=>!!i);return s?[s]:[]})(),n.title=(()=>{const s=e.map((i,a)=>une(e.slice(a))).find(i=>!!i);return s||null})(),n}function Pne(){Ke(({close:t})=>r.jsx(Lne,{close:t}),{id:"nlp-scheduling-modal",hasVariableHeight:!0})}const RN="Dentist appointment tomorrow at 10:30 for 1 hour",PN="Call plumber mon 9am",Lne=X(function({close:e}){var d;const{alternativeCalendarsStore:n,eventsStore:s,eventsStoreManager:i,userStore:a}=se(),[l,p]=K.useState(""),[f,v]=K.useState(null),E=Os(()=>{v(l?Rne(l):null)},300),w=(m,h,u)=>h?u?`${It(m)}`:`${It(m)} ${Ye(m,a.timeNotation)}`:u?"All-day":Ye(m,a.timeNotation),D=m=>{var h,u;return hn(m.date||new Date,{hours:(h=m.time)==null?void 0:h.getHours(),minutes:(u=m.time)==null?void 0:u.getMinutes(),seconds:0,milliseconds:0})};async function M(){const m={mode:"new-event",duration:30,timeWindow:"today",users:n.alternativeCalendarEmails};let u=(await km(m)).proposals[0];u&&(u.time=D(f),u.duration=f.duration),u||(u={duration:f.duration||30,time:D(f),score:1,scores:[],type:"normal"}),s.bookProposal({query:m,proposal:u,source:"create-event",title:f.title,eventsStoreManager:i}),e()}K.useEffect(()=>E(),[l,E]);let o;if(f&&f.time){const m=D(f),h=Ie(m,f.duration||30),u=Ve(m,h);o=[w(m,!0,!1),w(h,!u,!1)].filter(ct).join("  ")}return r.jsxs("div",{className:"flex max-h-384 w-[40rem] flex-col",children:[r.jsxs("div",{className:"flex items-center border-b border-contrast-5",children:[r.jsx("input",{type:"text",className:"w-full bg-transparent px-16 py-8 text-lg leading-36 outline-none placeholder:text-contrast-50",placeholder:"New event...",onChange:m=>p(m.target.value),value:l,onKeyDown:m=>{m.key==="Enter"&&(m.preventDefault(),M())}}),r.jsx(ce,{label:"Currently recognizes title, date, and time",children:r.jsx("div",{className:U(yr,"ml-auto mr-16 flex flex-none cursor-help gap-4 rounded-sm bg-contrast-5 p-4 text-contrast-50"),children:"Beta"})})]}),!l&&r.jsxs("div",{className:U(oe,"flex gap-4 px-16 py-16 text-contrast-50"),children:[r.jsx("div",{children:"Try an example:"}),r.jsx("button",{className:U(oe,"text-primary"),onClick:()=>p(RN),children:RN}),r.jsx("span",{children:""}),r.jsx("button",{className:U(oe,"text-primary"),onClick:()=>p(PN),children:PN})]}),f&&r.jsxs("div",{className:"px-16 py-16",children:[r.jsx("div",{className:U(ht,!f.title&&"text-contrast-50","mb-16"),children:f.title||"New event"}),r.jsxs("div",{className:U(oe,"grid grid-cols-[max-content,auto] gap-8"),children:[f.attendees.length>0&&r.jsxs(r.Fragment,{children:[r.jsx(Jt,{className:"text-contrast-50"}),r.jsx("div",{children:(d=f.attendees)==null?void 0:d.join(", ")})]}),o&&r.jsxs(r.Fragment,{children:[r.jsx(mr,{className:"text-contrast-50"}),r.jsx("div",{children:o})]}),f.location&&r.jsxs(r.Fragment,{children:[r.jsx(Qk,{className:"text-contrast-50"}),r.jsx("div",{children:f.location})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(ae,{variant:"primary",keyboardShortcut:{key:"Enter"},icon:rx,onClick:M,children:"Schedule event"})})]})]})});function Bne(){Ke(({close:t})=>r.jsx(Fne,{close:t}),{id:"search-modal",hasVariableHeight:!0})}const Fne=X(function({close:e}){const{eventsStoreManager:n,appStore:s}=se(),[i,a]=K.useState(""),[l,p]=K.useState([]),[f,v]=K.useState(!1),[E,w]=K.useState(null),D=K.useRef(null),M=Os(()=>{i.length>2?ue.search(i,100).then(P=>{const R=P.map(F=>n.processEvent(F)).sort((F,C)=>Ar(sr(F),sr(C)));p(R);const _=R.findIndex(F=>wt(sr(F),ge.nowStartOfDay)||Ur(sr(F),ge.nowStartOfDay));_!==-1?m(_):R.length>0?m(R.length-1):m(0),v(_>0),w(_)}):p([])},300);K.useEffect(M,[i,M]),K.useLayoutEffect(()=>{var P;f&&((P=D.current)==null||P.scrollIntoView({block:"start",inline:"nearest"}))},[f]);const{scrollIntoViewKey:o,selectedOptionIndex:d,setSelectedOptionIndex:m}=Is({optionsLength:l.length,resetKey:i,submit:P=>{h(l[P])}}),h=P=>{s.setSelectedObject(P),s.setCalendarDateTime(P.allDay?P.startsAtDate:P.startsAt),e()},u=Ms(o);return r.jsxs("div",{className:"flex max-h-384 w-[40rem] flex-col",children:[r.jsx("input",{type:"text",className:"w-full border-b border-contrast-5 bg-transparent px-16 py-8 text-lg leading-36 outline-none placeholder:text-contrast-50",placeholder:"Search events...",onChange:P=>a(P.target.value)}),l.length>0&&r.jsx("div",{className:"overflow-auto p-4",children:l.map((P,R)=>{const _=R===d;let F=!1;return(R===0||!Ve(sr(P),sr(l[R-1])))&&(F=!0),r.jsxs(K.Fragment,{children:[f&&E===R&&r.jsxs("div",{ref:D,className:U(Te,"flex flex-row gap-4 py-4 pl-6 text-contrast-50"),children:[r.jsx(cF,{}),"Past events"]}),F&&r.jsx(Vne,{date:sr(P)}),r.jsx(Hne,{ref:_?u:void 0,event:P,selected:_,onMouseMove:()=>m(R),onClick:()=>h(P)})]},P.uuid)})})]})}),Hne=K.forwardRef(function({event:e,selected:n,onMouseMove:s,onClick:i},a){const{userStore:l}=se(),p=Yt(sr(e),ge.nowStartOfDay);return r.jsxs("div",{ref:a,className:U("flex cursor-pointer scroll-my-[0.3125rem] flex-row items-center gap-8 rounded-md px-8 py-6",oe,n&&"bg-contrast-5"),onMouseMove:s,onClick:i,children:[r.jsx("div",{className:"h-28 w-4 rounded-lg",style:{backgroundColor:rr(e)||e.calendar.color}}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("div",{className:U(p?"text-contrast-50":"text-black"),children:e.title}),r.jsx("div",{className:U(Te,"text-contrast-50"),children:e.allDay?"All-day":r.jsxs(r.Fragment,{children:[Ye(e.startsAt,l.timeNotation)," "," ",Ye(e.endsAt,l.timeNotation)]})})]})]})}),Vne=X(function({date:e}){const n=Ve(e,ge.nowStartOfDay);return r.jsx("div",{className:U(Te,"mt-2 py-4 pl-8",n?"text-primary":"text-contrast-50"),children:n?"Today":Oe(e,"MMM do, yyyy")})});function sr(t){return t.allDay?t.startsAtDate:t.startsAt}function he(t){var e;return{objectType:"action",id:Dt(),...t,alternativeKeyboardShortcuts:(e=t.alternativeKeyboardShortcuts)==null?void 0:e.filter(ct)}}const At={id:Dt(),label:"Event",order:100},Vn={id:Dt(),label:"Task",order:101},BR={id:Dt(),label:"Updates",order:102},Wne={id:Dt(),label:"Project",order:103},$ne={id:Dt(),label:"Share availability",order:200},Ze={id:Dt(),label:"Calendar",order:300},Kt={id:Dt(),label:"General",order:400},Or={id:Dt(),label:"Navigation",order:500},t5={id:Dt(),label:"Tasks",order:600},Ws={id:Dt(),label:"Developer",order:700};function tt(t){return t.rootStore.browserStore.isRoute(ye.calendar.path)}function FR(t){var e;return tt(t)&&((e=t.rootStore.userStore)==null?void 0:e.calendarView)==="month"}function HR(t){var e;return tt(t)&&((e=t.rootStore.userStore)==null?void 0:e.calendarView)!=="month"}function qe(t){return t.rootStore.status==="loaded"}function Une(t){return t.rootStore.browserStore.doesRouteStartWith(ye.settings.path)}const Yr=he({group:Ze,icon:Xe,label:"Find a time to meet",keyboardShortcut:{key:"F"},order:70,execute:({rootStore:t})=>{var e;!t.browserStore.isRoute(ye.calendar.path)&&((e=t.browserStore.history)==null||e.navigate(ye.calendar.path)),setTimeout(()=>{Ute()})}}),Fi=he({group:Ze,icon:UF,label:"Share availability",keyboardShortcut:{key:"S"},order:80,execute:({rootStore:t})=>{var e;!t.browserStore.isRoute(ye.calendar.path)&&((e=t.browserStore.history)==null||e.navigate(ye.calendar.path)),t.appStore.calendarMode===$t.Normal?t.appStore.setCalendarMode($t.SelectProposals):(t.proposalStore.resetProposals(),t.appStore.setCalendarMode($t.Normal))}}),Gne=he({group:Ze,icon:js,label:"Show teammate calendar",keyboardShortcut:{key:"C"},order:90,applicable:tt,execute:t=>{t.rootStore.userStore.showNavigationSideBar(),t.rootStore.calendarDetailsBarStore.setSearchFocused(!0)}}),ti=he({group:Ze,icon:js,label:"Search events",keyboardShortcut:{key:"/"},order:100,applicable:tt,execute:Bne}),zne=he({group:Ze,icon:jm,label:"New event with magic",keyboardShortcut:{key:"B"},order:100,applicable:at(tt,t=>t.rootStore.userStore.hasTag("nlp")),execute:Pne}),Kne=he({group:Ze,icon:sx,label:"Show secondary timezone",keyboardShortcut:{key:"A"},order:150,applicable:tt,execute:()=>Ip("secondary")}),Zne=he({group:Ze,icon:sx,label:"Change display timezone (beta)",order:160,applicable:tt,execute:()=>Ip("display")}),rv=he({group:Ze,icon:pF,label:"Display day view",keyboardShortcut:{key:"D"},alternativeKeyboardShortcuts:[{key:"1"}],order:300,applicable:tt,execute:t=>{t.rootStore.appStore.setCalendarView("day")}}),sv=he({group:Ze,icon:ln,label:"Display 2 days",keyboardShortcut:{key:"2"},order:310,applicable:tt,execute:t=>{t.rootStore.appStore.setCalendarView(2)}}),iv=he({group:Ze,icon:ln,label:"Display 3 days",keyboardShortcut:{key:"3"},order:311,applicable:tt,execute:t=>{t.rootStore.appStore.setCalendarView(3)}}),av=he({group:Ze,icon:ln,label:"Display 4 days",keyboardShortcut:{key:"4"},order:312,applicable:tt,execute:t=>{t.rootStore.appStore.setCalendarView(4)}}),ov=he({group:Ze,icon:ln,label:"Display 5 days",keyboardShortcut:{key:"5"},order:313,applicable:tt,execute:t=>{t.rootStore.appStore.setCalendarView(5)}}),lv=he({group:Ze,icon:sF,label:"Display week view",keyboardShortcut:{key:"W"},order:400,applicable:tt,execute:t=>{t.rootStore.appStore.setCalendarView("week")}}),ap=he({group:Ze,icon:rF,label:"Display month view",keyboardShortcut:{key:"M"},order:400,applicable:t=>tt(t)&&!!t.rootStore.appStore&&t.rootStore.appStore.calendarMode!==$t.SelectProposals,execute:t=>{t.rootStore.appStore.setCalendarView("month")}}),VR=he({group:Ze,icon:gF,label:"Toggle weekend",keyboardShortcut:{key:"E",commandKey:!0,shiftKey:!0},order:500,applicable:tt,execute:t=>{t.rootStore.appStore.toggleWeekend()}}),WR=he({group:Ze,icon:bF,label:"Toggle declined events",keyboardShortcut:{key:"D",commandKey:!0,shiftKey:!0},order:600,applicable:tt,execute:t=>t.rootStore.userStore.toggleDeclinedEventsVisible()}),Yne=he({group:Ze,icon:xF,label:"Zoom hours in",keyboardShortcut:{key:"Z"},order:700,applicable:tt,execute:t=>t.rootStore.userStore.decreaseAmountOfHoursInCalendar()}),Xne=he({group:Ze,icon:vF,label:"Zoom hours out",keyboardShortcut:{key:"X"},order:800,applicable:tt,execute:t=>t.rootStore.userStore.increaseAmountOfHoursInCalendar()}),Jne=he({group:Ze,icon:qB,label:"Go to date",keyboardShortcut:{key:"."},order:1100,applicable:tt,execute:lQ}),cv=he({group:Ze,icon:a_,label:"Go to today",keyboardShortcut:{key:"T"},order:1200,applicable:tt,execute:t=>t.rootStore.appStore.gotoToday()}),$R=he({group:Ze,icon:c0,label:t=>{var n;const e=(n=t.rootStore.userStore)==null?void 0:n.calendarView;return typeof e=="string"?`Go to previous ${e}`:typeof e=="number"?`Go to previous ${e} days`:"Go to previous"},keyboardShortcut:{key:"ArrowLeft"},alternativeKeyboardShortcuts:[{key:"K"}],order:1300,applicable:HR,execute:t=>{t.rootStore.appStore.gotoPrev()}}),UR=he({group:Ze,icon:vn,label:t=>{var n;const e=(n=t.rootStore.userStore)==null?void 0:n.calendarView;return typeof e=="string"?`Go to next ${e}`:typeof e=="number"?`Go to next ${e} days`:"Go to next"},keyboardShortcut:{key:"ArrowRight"},alternativeKeyboardShortcuts:[{key:"J"}],order:1400,applicable:HR,execute:t=>{t.rootStore.appStore.gotoNext()}}),GR=he({group:Ze,icon:GB,label:"Go to previous month",keyboardShortcut:{key:"ArrowUp"},alternativeKeyboardShortcuts:[{key:"K"},{key:"ArrowLeft"}],order:1430,applicable:FR,execute:t=>{t.rootStore.appStore.gotoPrev()}}),zR=he({group:Ze,icon:zB,label:"Go to next month",keyboardShortcut:{key:"ArrowDown"},alternativeKeyboardShortcuts:[{key:"J"},{key:"ArrowRight"}],order:1450,applicable:FR,execute:t=>{t.rootStore.appStore.gotoNext()}}),Qne=he({group:Ze,icon:t_,label:"Create event",keywords:["new","add"],keyboardShortcut:{key:"N"},applicable:at(tt,t=>t.rootStore.appStore.selectedObject===null),order:1500,execute:async t=>{const e={mode:"new-event",duration:t.rootStore.userStore.defaultEventDuration,timeWindow:"today",users:t.rootStore.alternativeCalendarsStore.alternativeCalendarEmails};let s=(await km(e)).proposals[0];if(!s){const i=bb(ge.nowStartOfMinute)<20?30:60;s={duration:t.rootStore.userStore.defaultEventDuration,time:Kr(ge.nowStartOfMinute,Oe(Ie(Cs(ge.nowStartOfMinute),i),"HH:mm")),score:1,scores:[]}}t.rootStore.eventsStore.bookProposal({query:e,proposal:s,source:"create-event",eventsStoreManager:t.rootStore.eventsStoreManager})}}),qne=he({group:Ws,icon:vn,label:"Developer: Copy event uuid",keyboardShortcut:{altKey:!0,shiftKey:!0,key:"C",isActiveWhenInputFocused:!0},applicable:t=>t.event instanceof de,execute:t=>{const e=t.event;navigator.clipboard.writeText(e.uuid),Bs({variant:"copy",title:`Event uuid '${e.uuid}' copied to clipboard`})}}),ere=he({group:Ws,icon:vn,label:"Developer: Copy task uuid",applicable:t=>!!t.task,execute:t=>{navigator.clipboard.writeText(t.task.uuid),Bs({variant:"copy",title:`Task uuid '${t.task.uuid}' copied to clipboard`})}}),tre=he({group:Ws,icon:vn,label:"Developer: Toggle inspector",keyboardShortcut:{commandKey:!0,shiftKey:!0,key:"I",isActiveWhenInputFocused:!0},applicable:qe,execute:t=>{t.rootStore.appStore.toggleInspector()}}),nre=he({group:Ws,icon:vn,label:"Developer: Copy debug info",applicable:qe,execute:t=>{var n,s;const e={"Current time":new Date().toISOString(),Client:pe.client,"Rise version":"e657c5f3f3e00f703c5e861cd13d04953cbe41dd","Desktop app version":pe.isDesktopApp?pe.appVersion:"-","Calendar view setting":t.rootStore.userStore.calendarView,"Amount of hours in calendar":t.rootStore.userStore.amountOfHoursInCalendar,"Menu bar enabled":t.rootStore.userStore.showMenuBarApp,"Reduced motion":t.rootStore.userStore.reducedMotion,"Color scheme":t.rootStore.userStore.colorScheme,"User UUID":t.rootStore.userStore.uuid,"Selected event UUID":((n=t.event)==null?void 0:n.uuid)||"none","Websocket status":t.rootStore.socketService.connectionStatus,"Websocket last connected at":(s=t.rootStore.socketService.connectionStatusLastConnectedAt)==null?void 0:s.toISOString(),"Websocket time difference":`${t.rootStore.socketService.timeDiffInMs}ms`,"Chrome timezone":Intl.DateTimeFormat().resolvedOptions().timeZone,"Remote timezone":t.rootStore.userStore.timezone,"Display timezone":t.rootStore.userStore.displayTimezone,isMac:pe.isMac};navigator.clipboard.writeText(Object.keys(e).map(i=>`${i}: ${e[i]}`).join(`
`)),Bs({variant:"copy",title:"Debug info copied to clipboard"})}}),rre=he({group:Ws,icon:vn,label:"Developer: Copy sync errors",applicable:qe,execute:()=>{navigator.clipboard.writeText(JSON.stringify(B_,null,2)),Bs({variant:"copy",title:"Sync errors copied to clipboard"})}}),sre=he({group:Ws,icon:lt,label:"Developer: Clear local database",applicable:qe,execute:async t=>{var e;(e=t.rootStore.objectPool.objectStorage)==null||e.clear(),Bs({variant:"success",title:"Local database cleared"})}}),fi=he({group:At,icon:Tn,label:"Email all participants",keyboardShortcut:{key:"E",thenKey:"E"},order:200,applicable:t=>{var e;return!!((e=t.event)!=null&&e.attendees&&t.event.attendees.length>0)},execute:t=>{const e=t.event.attendees.filter(n=>!n.isResource&&!n.isSelf).map(n=>n.email).join(",");Fe(`mailto:${e}`)}}),ire=he({group:At,icon:xn,label:"Copy participant emails",keyboardShortcut:{key:"E",thenKey:"C"},order:250,applicable:t=>{var e;return!!((e=t.event)!=null&&e.attendees&&t.event.attendees.length>0)},execute:t=>{const e=t.event.attendees.filter(n=>!n.isResource&&!n.isSelf).map(n=>{var i;const s=(i=t.rootStore.peopleStore)==null?void 0:i.nameForEmail({email:n.email});return s?`${s} <${n.email}>`:n.email});navigator.clipboard.writeText(e.join(", ")),jt(`Copied ${e.length} ${e.length===1?"email":"emails"} to clipboard.`)}}),KR=he({group:At,icon:Tn,label:t=>{var n;return t.event?`Email organizer (${((n=t.rootStore.peopleStore)==null?void 0:n.nameForEmail({email:t.event.organizerEmail}))||(t.event instanceof de?t.event.organizerName:null)||t.event.organizerEmail})`:""},keyboardShortcut:{key:"O"},order:300,applicable:t=>{var e,n,s;return!!((e=t.event)!=null&&e.organizerEmail)&&!((s=(n=t.event)==null?void 0:n.organizerEmail)!=null&&s.endsWith("@group.v.calendar.google.com"))},execute:t=>{Fe(`mailto:${t.event.organizerEmail}`)}}),uv=he({group:At,icon:xm,label:"Toggle all participant calendars",keyboardShortcut:{key:"V"},order:200,applicable:at(qe,t=>{var e;return!!((e=t.event)!=null&&e.attendees&&t.event.attendees.length>0)}),execute:t=>{const e=t.event.attendees.filter(n=>n.isResource||!n.isSelf&&Er(n.email,t.rootStore.userStore.domainsWithAliases)&&!t.rootStore.groups.findByEmail(n.email)).map(n=>n.email);t.rootStore.alternativeCalendarsStore.allCalendarsVisibleForEmails(e)?e.forEach(n=>t.rootStore.alternativeCalendarsStore.remove(n)):t.rootStore.alternativeCalendarsStore.makeCalendarsVisible(e,_t.EVENT)}}),mi=he({group:At,icon:Rn,label:"Save and close event",keyboardShortcut:{commandKey:!0,key:"Enter",isActiveWhenInputFocused:!0},order:400,applicable:at(qe,t=>{var e,n;return((e=t.rootStore.appStore)==null?void 0:e.selectedObject)instanceof de&&((n=t.rootStore.appStore.selectedObject.calendar)==null?void 0:n.accessLevel)!=="reader"}),execute:t=>{const e=t.rootStore.appStore.selectedObject;e.save({force:!0}).then(({saveDecision:n})=>{n!=="continueEditing"&&t.rootStore.appStore.selectedObject===e&&t.rootStore.appStore.setSelectedObject(null)})}}),are=he({group:At,icon:zk,label:"Change event availability to busy",keyboardShortcut:{altKey:!0,key:"B"},order:500,applicable:t=>{var e;return t.event instanceof de&&((e=t.event.calendar)==null?void 0:e.accessLevel)!=="reader"},execute:t=>{const e=t.event;e.setInfluencesAvailability(!0),e.save()}}),ore=he({group:At,icon:Mk,label:"Change event availability to available",keyboardShortcut:{altKey:!0,key:"A"},order:600,applicable:t=>{var e;return t.event instanceof de&&((e=t.event.calendar)==null?void 0:e.accessLevel)!=="reader"},execute:t=>{const e=t.event;e.setInfluencesAvailability(!1),e.save()}}),ZR=he({group:At,icon:Nb,label:"Accept invite",keyboardShortcut:{key:"E",thenKey:"Y"},order:700,applicable:t=>t.event instanceof de&&t.event.isMeeting&&t.event.canRespond,execute:t=>{t.event.setAttendanceStatus("accepted")}}),YR=he({group:At,icon:Si,label:"Decline invite",keyboardShortcut:{key:"E",thenKey:"N"},order:800,applicable:t=>t.event instanceof de&&t.event.isMeeting&&t.event.canRespond,execute:t=>{t.event.setAttendanceStatus("declined")}}),XR=he({group:At,icon:Ib,label:"Tentatively accept invite",keyboardShortcut:{key:"E",thenKey:"M"},order:900,applicable:t=>t.event instanceof de&&t.event.isMeeting&&t.event.canRespond,execute:t=>{t.event.setAttendanceStatus("tentative")}}),JR=he({group:At,icon:Ns,label:"Join video call",order:950,applicable(t){var e,n;return!!((n=(e=t.event)==null?void 0:e.conferenceData)!=null&&n.link)},execute(t){Fe(Zr(t.event))}}),QR=he({group:At,icon:xn,label:t=>t.place==="context-menu"?"Copy":"Copy event",keyboardShortcut:{commandKey:!0,key:"C",isActiveWhenInputFocused:!0},applicable:at(qe,t=>t.event?qR()?!0:(t.rootStore.appStore.copiedEvent=null,!1):!1),order:1e3,execute:t=>{t.rootStore.appStore.copiedEvent=t.event,jt(`Event copied. Click and ${pe.isMac?"":"Ctrl"}+V to paste event details.`),eP(t)}});function qR(){const t=window.getSelection();return!t||t.type!=="Range"}function eP(t){fb&&clearTimeout(fb),fb=setTimeout(()=>{t.rootStore.appStore.copiedEvent=null},lre)}let fb=null;const lre=30*_n,cre=he({group:At,icon:xn,label:"Paste event",keyboardShortcut:{commandKey:!0,key:"V",isActiveWhenInputFocused:!0},applicable:at(qe,t=>!!(t.rootStore.appStore.copiedEvent&&qR())),order:1050,execute:t=>{const e=t.rootStore.appStore.copiedEvent;if(t.event instanceof de){if(t.event.readOnly){Mn("Cannot paste contents to a read only event.");return}t.event.pasteEvent(e)}else{let n=e.allDay?e.startsAtDate:e.startsAt;t.rootStore.userStore.calendarView==="week"&&(n=AH(t.rootStore.appStore.firstCalendarDay,n.getDay())),t.rootStore.appStore.isDayVisible(n)||(n=t.rootStore.appStore.firstCalendarDay),e.allDay||(n=SH(n,e.startsAt));const s=t.rootStore.eventsStore.createEventAt(n,e.allDay);s.pasteEvent(e),t.rootStore.appStore.setSelectedObject(s)}eP(t)}}),tP=he({group:At,icon:Uk,label:t=>t.place==="context-menu"?"Duplicate":"Duplicate event",keyboardShortcut:{key:"D",commandKey:!0},order:1100,applicable:t=>!!t.event,execute:t=>{if(t.event instanceof de||t.event instanceof Le){const e=t.rootStore.eventsStore.createEventAt(t.event.allDay?t.event.startsAtDate:t.event.startsAt,t.event.allDay);e.pasteEvent(t.event),t.rootStore.appStore.setSelectedObject(e)}}}),pi=he({group:At,icon:lt,label(t){var e,n;return t.place==="context-menu"?(e=t.event)!=null&&e.canBeEdited?"Delete":"Delete and decline":(n=t.event)!=null&&n.canBeEdited?"Delete event":"Delete and decline event"},keyboardShortcut:{key:"Backspace"},order:1200,applicable:at(qe,t=>t.event instanceof de&&t.event.canDeleteOrDecline),execute:t=>{const e=t.event;e.delete().then(n=>{n&&t.rootStore.appStore.selectedObject===e&&t.rootStore.appStore.setSelectedObject(null)})}}),ure=he({group:At,icon:J1,label:t=>t.place==="context-menu"?"Open in Google Calendar":"Open event in Google Calendar",order:1300,applicable:t=>t.event instanceof de&&!!qb(t.event),execute:t=>{const e=t.event,n=qb(e);Fe(n)}});function dre(){Ke(({close:t})=>r.jsx(hre,{close:t}),{id:"change-color-scheme-modal",hasVariableHeight:!0})}const hre=X(function({close:e}){const{userStore:n}=se(),[s,i]=K.useState(""),a=K.useMemo(()=>s?or(LN,s,{keys:["label"]}):LN,[s]),{scrollIntoViewKey:l,selectedOptionIndex:p,setSelectedOptionIndex:f}=Is({optionsLength:a.length,resetKey:s,submit:E}),v=Ms(l);function E(w){n.setColorScheme(a[w].value),e()}return r.jsxs("div",{className:"flex max-h-384 w-[40rem] flex-col",children:[r.jsx("input",{placeholder:"Set color scheme","aria-label":"Set color scheme",value:s,className:"w-full bg-transparent px-16 py-8 text-lg outline-none",onChange:w=>i(w.target.value)}),r.jsx("div",{className:"relative grow overflow-y-auto border-t border-contrast-5 p-[0.3125rem] [scrollbar-width:none] empty:hidden [&::-webkit-scrollbar]:hidden",children:a.map((w,D)=>{const M=D===p;return r.jsx(B0,{ref:M?v:void 0,command:{label:w.label,icon:w.icon},onClick:()=>E(D),onMouseMove:()=>f(D),selected:M},D)})})]})}),LN=[{label:"System",value:"system",icon:vp},{label:"Light",value:"light",icon:Sp},{label:"Dark",value:"dark",icon:jp}],fre=X(function({onSubmit:e}){var i;const{peopleStore:n}=se(),s=(i=n.people)!=null&&i.length?n.people.map(a=>({value:a.email,label:a.name||a.email,secondaryLabel:a.name?a.email:void 0,icon:r.jsx(bt,{label:a.name||a.email,profileImageUrl:a.profileImageUrl}),person:a})):[];return r.jsx(Rs,{placeholder:"Search teammates and friends",getOptions:a=>{if(!a)return[];const l=Ps(a,[{options:s}]);return CH(a)?[...l,{options:[{value:"query-value",label:a,icon:r.jsx(Xe,{className:"w-24"}),person:{email:a}}]}]:l},onSubmit:a=>e(a.person),inputProps:{iconLeft:r.jsx(js,{className:"ml-14 text-contrast-50"}),variant:"ghost",outerClassName:"-m-8 rounded-b-none",className:"py-14 pr-16 pl-36"},shouldResetOnSubmit:!0})});function mre(){return Ke(({close:t})=>r.jsx(pre,{close:t}),{id:"invite-teammates-modal",hasVariableHeight:!0})}const pre=X(function({close:e}){const{onboardingStore:n}=se(),[s,i]=K.useState([]);K.useEffect(()=>{n.prefetchTopPeopleInDomains()},[n]);const a=K.useRef(null),l=p=>{const f=n.topPeopleInDomainsToInvite.find(v=>v.email===p.email);if(f){if(f.status==="invited")return;xe(()=>{f.status="invited"})}ue.people.inviteByEmail(p.email).then(v=>{var E;v.status==="invited"?(i(w=>[...w,p]),(E=a.current)==null||E.scrollTo({top:0,behavior:"smooth"})):Bs({title:"This person is already invited to Rise!",variant:"error"})})};return r.jsxs("div",{className:"grid max-w-md justify-items-start p-24",children:[r.jsx("h1",{className:U(Jr,"mb-12"),children:"Invite teammates and friends"}),r.jsx("p",{className:U(Ne,"mb-24 text-contrast-50"),children:"Teammates using Rise are more productive, less likely to disturb your focus and just more amazing. You can also invite your friends."}),n.isLoadingTopPeopleInDomainsOrIdle?r.jsx("p",{className:U(oe,"mb-24 animate-pulse text-contrast-50"),children:"Fetching teammates"}):r.jsxs("div",{className:"mb-24 w-full rounded-md border border-contrast-10 empty:hidden",children:[r.jsx("div",{className:"w-full flex-1 flex-row items-center gap-8 border-b border-b-contrast-10 p-8 first:rounded-t-sm last:rounded-b-sm last:border-b-0",children:r.jsx(fre,{onSubmit:l})}),r.jsxs("ul",{ref:a,className:"max-h-256 overflow-auto",children:[s.map(p=>r.jsxs("li",{className:"flex w-full flex-row items-center gap-8 border-b border-b-contrast-10 p-8 first:rounded-t-sm last:rounded-b-sm last:border-b-0",children:[r.jsx("div",{className:"flex-none",children:r.jsx(bt,{label:p.name||p.email,profileImageUrl:p.profileImageUrl})}),r.jsxs("div",{className:"grow",children:[r.jsx("div",{className:oe,children:p.name||p.email}),p.name&&r.jsx("div",{className:U(Te,"text-contrast-50"),children:p.email})]}),r.jsxs("div",{className:U(oe,"flex flex-none flex-row gap-4 align-middle text-primary"),children:[r.jsx(yt,{className:"inline-block"})," Invited"]})]},p.email)),n.topPeopleInDomainsToInvite.filter(p=>!s.find(f=>f.email===p.email)).map(p=>r.jsxs("li",{className:"flex w-full flex-row items-center gap-8 border-b border-b-contrast-10 p-8 first:rounded-t-sm last:rounded-b-sm last:border-b-0",children:[r.jsx("div",{className:"flex-none",children:r.jsx(bt,{label:p.name||p.email,profileImageUrl:p.profile_image_url})}),r.jsxs("div",{className:"grow",children:[r.jsx("div",{className:oe,children:p.name||p.email}),p.name&&r.jsx("div",{className:U(Te,"text-contrast-50"),children:p.email})]}),p.status==="invited"?r.jsxs("div",{className:U(oe,"flex flex-none flex-row gap-4 align-middle text-primary"),children:[r.jsx(yt,{className:"inline-block"})," Invited"]}):r.jsx(ae,{className:"flex-none",onClick:()=>{ue.people.inviteByEmail(p.email),xe(()=>{p.status="invited"})},children:"Invite"})]},p.email))]})]}),r.jsx(ae,{onClick:e,variant:"primary",className:"w-full sm:w-auto",children:"Done"})]})}),nP=he({group:Kt,icon:Ns,label:"Join next meeting",keyboardShortcut:{key:"J",commandKey:!0},order:100,applicable:qe,execute:t=>{const e=t.rootStore.eventsStore.findCurrentOrNextEvent();if(e){const n=Zr(e);n?Fe(n):Mn(`Sorry, your next event (${e.title}) does not seem to have a conferencing link.`)}else Mn("Sorry, no event found that starts shortly!")}}),gre=he({group:Kt,icon:Tn,label:"Share feedback",keywords:["bugs","suggestions"],order:200,execute:()=>{Fe("mailto:support@risecalendar.com")}}),dv=he({group:Kt,icon:r_,label:"Help",keyboardShortcut:{key:"?"},order:300,execute:()=>{Fe("https://support.risecalendar.com",!1)}}),bre=he({group:Kt,dynamicIcon(t){var e;return{system:vp,light:Sp,dark:jp}[((e=t.rootStore.userStore)==null?void 0:e.colorScheme)||"system"]},label:"Change color scheme",keywords:["dark mode","light mode","system theme"],order:400,execute:dre,subActions:{showInline:!0,parentLabel:"Change color scheme to",options:[{id:Dt(),icon:vp,label:"System",execute(t){var e;(e=t.rootStore.userStore)==null||e.setColorScheme("system")}},{id:Dt(),icon:Sp,label:"Light",execute(t){var e;(e=t.rootStore.userStore)==null||e.setColorScheme("light")}},{id:Dt(),icon:jp,label:"Dark",execute(t){var e;(e=t.rootStore.userStore)==null||e.setColorScheme("dark")}}]}}),n5=he({group:Kt,icon:Tn,label:"Invite teammates",order:500,execute:mre}),rP=he({group:Kt,icon:yt,label:"Create task",keywords:["new task"],order:600,keyboardShortcut:{key:"Q"},execute:()=>U0()}),yre=he({group:Kt,icon:Ut,label:"Create project",keywords:["new project"],order:601,execute:()=>Om()}),vre=he({group:Kt,icon:Ut,label:({project:t})=>`Edit project ${t.name}`,order:602,applicable:t=>t.project!==null,execute:({project:t})=>Om({project:t})}),op=he({group:Kt,icon:q1,label:"Get Rise for iOS",keywords:["app","mobile","iphone"],order:700,execute:()=>Fe("https://apps.apple.com/app/id6472171795")}),lp=he({group:Kt,icon:q1,label:"Get Rise for Android",keywords:["app","mobile"],order:800,execute:()=>Fe("https://play.google.com/store/apps/details?id=com.risecalendar.mobile")}),cp=he({group:Kt,icon:q1,label:"Get Rise for Desktop",keywords:["download","app","desktop"],applicable:()=>!pe.isDesktopApp,order:801,execute:()=>Fe("https://download.risecalendar.com",!0)}),up=he({group:Kt,icon:aF,label:"Join Telegram community",keywords:["help","support"],order:899,execute:()=>Fe("https://t.me/joinchat/4Y9U7gc6NlEyYWEy")}),dp=he({group:Kt,icon:AF,label:"Log out",order:900,execute:t=>{var e;(e=t.rootStore.objectPool.objectStorage)==null||e.clear(),Fe("/logout",!0)}}),xre=he({group:BR,icon:yt,label:t=>{var e;return(e=t.inboxNotification)!=null&&e.readAt?"Mark update as unread":"Mark update as read"},keyboardShortcut:{key:"U"},order:200,applicable:t=>!!t.inboxNotification,execute:t=>{t.inboxNotification&&(t.inboxNotification.readAt?t.inboxNotification.readAt=null:t.inboxNotification.readAt=new Date,t.inboxNotification.save())}}),jre=he({group:BR,icon:lt,label:"Delete update",keyboardShortcut:{key:"Backspace"},order:300,applicable:t=>!!t.inboxNotification,execute:t=>{t.inboxNotification&&t.inboxNotification.delete()}}),hv=he({group:Or,icon:i_,label:"Toggle sidebar",keyboardShortcut:{key:"`"},order:100,applicable:t=>!Une(t),execute:t=>{t.rootStore.userStore.toggleNavigationSideBarVisible()}}),sP=he({group:Or,icon:ex,label:"Go to inbox",keyboardShortcut:{key:"G",thenKey:"I"},alternativeKeyboardShortcuts:[pe.isDesktopApp&&{key:"1",commandKey:!0}],order:200,execute:({rootStore:t})=>{var e;(e=t.browserStore.history)==null||e.navigate(ye.inbox.path)}}),iP=he({group:Or,icon:nx,label:"Go to updates",keyboardShortcut:{key:"G",thenKey:"U"},applicable:t=>{var e;return((e=t.rootStore.userStore)==null?void 0:e.hasTag("inbox_notifications"))||!1},order:200,execute:({rootStore:t})=>{var e;(e=t.browserStore.history)==null||e.navigate(ye.updates.path)}}),fv=he({group:Or,icon:Vk,label:"Go to my focus",keyboardShortcut:{key:"G",thenKey:"M"},alternativeKeyboardShortcuts:[pe.isDesktopApp&&{key:"2",commandKey:!0}],order:300,execute:({rootStore:t})=>{var e;(e=t.browserStore.history)==null||e.navigate(ye.myFocus.path)}}),mv=he({group:Or,icon:ln,label:"Go to calendar",keyboardShortcut:{key:"G",thenKey:"C"},alternativeKeyboardShortcuts:[pe.isDesktopApp&&{key:"3",commandKey:!0}],order:400,execute:({rootStore:t})=>{var e;(e=t.browserStore.history)==null||e.navigate(ye.calendar.path)}}),pv=he({group:Or,icon:Zk,label:"Go to tasks",keyboardShortcut:{key:"G",thenKey:"T"},alternativeKeyboardShortcuts:[pe.isDesktopApp&&{key:"4",commandKey:!0}],order:500,execute:({rootStore:t})=>{var e;(e=t.browserStore.history)==null||e.navigate(ye.tasks.path)}}),gv=he({group:Or,icon:Ut,label:"Go to projects",keyboardShortcut:{key:"G",thenKey:"P"},alternativeKeyboardShortcuts:[pe.isDesktopApp&&{key:"5",commandKey:!0}],order:600,execute:({rootStore:t})=>{var e;(e=t.browserStore.history)==null||e.navigate(ye.projects.path)}}),ds=he({group:Or,icon:pr,label:"Go to Settings",keyboardShortcut:{key:"G",thenKey:"S"},alternativeKeyboardShortcuts:[pe.isMac&&pe.isDesktopApp&&{key:",",commandKey:!0}],order:600,execute:({rootStore:t})=>{var e;return(e=t.browserStore.history)==null?void 0:e.navigate(ye.settings.path)}}),Sre=he({group:Wne,icon:Ob,label:t=>{var e,n;return t.project&&((n=(e=t.rootStore)==null?void 0:e.categories)!=null&&n.isFavorite(t.project))?"Remove from favorites":"Add to favorites"},order:100,applicable:at(qe,t=>t.project),execute:t=>{var n,s,i,a,l,p;const e=t.project;e&&((s=(n=t.rootStore)==null?void 0:n.categories)!=null&&s.isFavorite(e)&&((a=(i=t.rootStore)==null?void 0:i.displayEventsStore)==null||a.removeVisibleProject(e)),(p=(l=t.rootStore)==null?void 0:l.categories)==null||p.toggleFavorite(e))}}),bv=he({group:$ne,icon:xn,label:"Copy proposals",keyboardShortcut:{commandKey:!0,key:"C"},applicable:at(qe,t=>{if(t.rootStore.appStore.calendarMode!==$t.SelectProposals)return!1;const e=window.getSelection();return!e||e.type!=="Range"}),execute:async t=>{if("ClipboardItem"in window){const e=new ClipboardItem({"text/html":new Blob([t.rootStore.proposalStore.proposalHTML],{type:"text/html"}),"text/plain":new Blob([t.rootStore.proposalStore.proposalText],{type:"text/plain"})});await navigator.clipboard.write([e])}else navigator.clipboard.writeText(t.rootStore.proposalStore.proposalText);jt("Times copied to clipboard!")}}),aP=he({group:Vn,icon:Rn,label:"Save and close task",keyboardShortcut:{commandKey:!0,key:"Enter",isActiveWhenInputFocused:!0},order:400,applicable:at(qe,t=>{var e;return((e=t.rootStore.appStore)==null?void 0:e.selectedObject)instanceof Ce}),execute:t=>{var n;((n=t.rootStore.appStore)==null?void 0:n.selectedObject).save().then(()=>{t.rootStore.appStore.setSelectedObject(null)})}}),oP=he({group:Vn,icon:Uk,label:t=>t.place==="context-menu"?"Duplicate":"Duplicate task",keyboardShortcut:{key:"D",commandKey:!0},order:1100,applicable:t=>!!t.task,execute:t=>{t.task&&F7(t.task,t.rootStore.objectPool).save()}}),Are=he({group:Vn,icon:tx,label:"Copy task URL",keyboardShortcut:{shiftKey:!0,commandKey:!0,key:","},applicable:at(qe,t=>t.task),execute:t=>{const{task:e}=t;if(e)return navigator.clipboard.writeText(`https://beta.risecalendar.com/app/task/${e.uuid}`),jt("Task URL copied to clipboard.")}}),$r=he({group:Vn,icon:lt,label:"Delete task",keyboardShortcut:{key:"Backspace"},order:1200,applicable:at(qe,t=>t.task&&!t.inboxNotification),execute:t=>{const e=t.task;if(e){const{allChildrenCount:n}=e;n!==0?xt({title:`Are you sure you want to delete task "${e.title}" and ${n} sub-task${n===1?"":"s"}?`,primaryAction:{key:"delete",label:"Delete",negative:!0,onClick:()=>e.delete()},secondaryAction:{key:"cancel",label:"Cancel"}}):e.delete()}}}),lP=he({group:Vn,icon:a_,label:"Due today",order:400,applicable:at(qe,t=>t.task),execute:t=>{const e=t.task;e&&(e.setDueDate(ge.nowStartOfDay),e.save())}}),cP=he({group:Vn,icon:vn,label:"Due tomorrow",order:400,applicable:at(qe,t=>t.task),execute:t=>{const e=t.task;e&&(e.setDueDate(fe(ge.nowStartOfDay,1)),e.save())}}),uP=he({group:Vn,icon:vn,label:"Due next week",order:500,applicable:at(qe,t=>t.task),execute:t=>{const e=t.task;e&&(e.setDueDate(ge.nowStartOfNextWeek),e.save())}}),dP=he({group:Vn,icon:Rn,label:"Clear due date",order:600,applicable:at(qe,t=>t.task),execute:t=>{const e=t.task;e&&(e.setDueDate(null),e.save())}}),hP=he({group:Vn,icon:Jt,label:"Assign to myself",order:400,applicable:at(qe,t=>t.task&&!t.task.isPersonal),execute:t=>{const e=t.task;e&&(e.assignee=t.rootStore.objectPool.member,e.save())}}),Ere=he({group:t5,icon:jm,label:"Move all overdue tasks to today",keywords:["magic"],order:400,execute:({rootStore:t})=>{var s;if(!t.tasks)return;const e=fn(t.tasks.items,[{option:"assignee",value:(s=t.objectPool.member)==null?void 0:s.uuid}]);Ni(fn(e,[{option:"statusType",value:"unstarted"},{option:"due",value:"overdue"}]),["due_date","priority"]).forEach(i=>{i.setDueDate(ge.nowStartOfDay),i.save()})}}),fP=he({group:t5,icon:f0,label:"Upload attachment",applicable:at(qe,t=>t.task),execute:t=>{const{rootStore:e}=t;let n=document.createElement("input");n.type="file",n.setAttribute("multiple","true"),n.onchange=async function(s){const i=s.target.files;i&&Array.from(i).forEach(a=>{const l=ki.create(e.objectPool);l.task=t.task,l.upload(a)})},n.click()}}),mP=he({group:t5,icon:lt,label:"Delete attachment",applicable:at(qe,t=>t.attachment),execute:t=>{const{attachment:e}=t;e&&e.delete()}}),Dre=he({group:Vn,icon:t_,label:"Add sub-task",keyboardShortcut:{key:"O",commandKey:!0,shiftKey:!0},applicable:at(qe,t=>t.task),execute:async t=>{const e=t.task;if(e){e.isNew&&(e.save(),await e.persisted);const n=e.addChildTask();t.rootStore.appStore.setSelectedObject(n)}}}),wre=Object.freeze(Object.defineProperty({__proto__:null,ADD_SUBTASK_ACTION:Dre,ANDROID_APP_DOWNLOAD_ACTION:lp,ASSIGN_TASK_TO_MYSELF_ACTION:hP,CHANGE_COLOR_SCHEME_ACTION:bre,CHANGE_DISPLAY_TIMEZONE_ACTION:Zne,CHANGE_TO_AVALIABLE_ACTION:ore,CHANGE_TO_BUSY_ACTION:are,CHANGE_TO_DUE_NEXT_WEEK_ACTION:uP,CHANGE_TO_DUE_TODAY_ACTION:lP,CHANGE_TO_DUE_TOMORROW_ACTION:cP,CLEAR_DUE_DATE_ACTION:dP,CLEAR_LOCAL_DATABASE_ACTION:sre,COPY_DEBUG_INFO_ACTION:nre,COPY_EVENT_ACTION:QR,COPY_EVENT_UUID_ACTION:qne,COPY_PARTICIPANTS_ACTION:ire,COPY_PROPOSALS_ACTION:bv,COPY_SYNC_ERRORS_ACTION:rre,COPY_TASK_LINK_ACTION:Are,COPY_TASK_UUID_ACTION:ere,CREATE_EVENT_ACTION:Qne,DELETE_ATTACHMENT_ACTION:mP,DELETE_EVENT_ACTION:pi,DELETE_INBOX_NOTIFICATION_ACTION:jre,DELETE_TASK_ACTION:$r,DESKTOP_APP_DOWNLOAD_ACTION:cp,DISPLAY_2_DAYS_ACTION:sv,DISPLAY_3_DAYS_ACTION:iv,DISPLAY_4_DAYS_ACTION:av,DISPLAY_5_DAYS_ACTION:ov,DISPLAY_DAY_VIEW_ACTION:rv,DISPLAY_MONTH_VIEW_ACTION:ap,DISPLAY_WEEK_VIEW_ACTION:lv,DUPLICATE_EVENT_ACTION:tP,DUPLICATE_TASK_ACTION:oP,EMAIL_ALL_PARTICIPANTS_ACTION:fi,EMAIL_ORGANIZER_ACTION:KR,EVENT_JOIN_VIDEO_CALL_ACTION:JR,EVENT_STATUS_ACCEPT_ACTION:ZR,EVENT_STATUS_DECLINE_ACTION:YR,EVENT_STATUS_TENTATIVE_ACTION:XR,FIND_TIME_TO_MEET_ACTION:Yr,GO_TO_CALENDAR_ACTION:mv,GO_TO_DATE_ACTION:Jne,GO_TO_INBOX_ACTION:sP,GO_TO_MY_FOCUS_ACTION:fv,GO_TO_NEXT_DAY_ACTION:UR,GO_TO_NEXT_MONTH_ACTION:zR,GO_TO_PREVIOUS_DAY_ACTION:$R,GO_TO_PREVIOUS_MONTH_ACTION:GR,GO_TO_PROJECTS_ACTION:gv,GO_TO_SETTINGS_ACTION:ds,GO_TO_TASKS_ACTION:pv,GO_TO_TODAY_ACTION:cv,GO_TO_UPDATES_ACTION:iP,IOS_APP_DOWNLOAD_ACTION:op,JOIN_NEXT_MEETING_ACTION:nP,JOIN_TELEGRAM_COMMUNITY_ACTION:up,LOG_OUT_ACTION:dp,MOVE_ALL_OVERDUE_TASKS_TO_TODAY_ACTION:Ere,OPEN_CREATE_PROJECT_MODAL_ACTION:yre,OPEN_CREATE_TASK_MODAL_ACTION:rP,OPEN_EDIT_PROJECT_MODAL_ACTION:vre,OPEN_EVENT_GOOGLE_CALENDAR_ACTION:ure,OPEN_HELP_ACTION:dv,OPEN_INVITE_TEAMMATES_MODAL_ACTION:n5,PASTE_EVENT_ACTION:cre,SAVE_AND_CLOSE_EVENT_ACTION:mi,SAVE_AND_CLOSE_TASK_ACTION:aP,SEARCH_CALENDAR_OF_COLLEAGUE_ACTION:Gne,SEARCH_EVENTS_ACTION:ti,SHARE_AVAILABILITY_ACTION:Fi,SHARE_FEEDBACK_ACTIION:gre,SHOW_FEWER_HOURS_AT_A_TIME_ACTION:Yne,SHOW_MORE_HOURS_AT_A_TIME_ACTION:Xne,SHOW_SECONDARY_TIMEZONE_ACTION:Kne,SMART_SCHEDULE_ACTION:zne,TOGGLE_ALL_ATTENDEE_CALENDARS_ACTION:uv,TOGGLE_DECLINED_EVENTS_ACTION:WR,TOGGLE_FAVORITE_PROJECT_ACTION:Sre,TOGGLE_INBOX_NOTIFICATION_READ_ACTION:xre,TOGGLE_INSPECTOR_ACTION:tre,TOGGLE_SIDEBAR_ACTION:hv,TOGGLE_WEEKEND_ACTION:VR,UPLOAD_ATTACHMENT_ACTION:fP},Symbol.toStringTag,{value:"Module"}));var BN,FN,HN,VN;function Cre(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:WN(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||WN(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return kre(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:Tre(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function Tre(t){var e=Nre(t,"string");return typeof e=="symbol"?e:e+""}function Nre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WN(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function kre(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}var B1,mf,pf,gf;const Xg=class Xg{constructor(e){B(this,mf,(BN(this),FN(this)));B(this,pf,HN(this,!1));B(this,gf,VN(this,new Set));this.actionContext=e,this.startKeyboardShortcutListeners()}get actionContext(){return H(this,mf)}set actionContext(e){V(this,mf,e)}get areActionsEnabled(){return H(this,pf)}set areActionsEnabled(e){V(this,pf,e)}get shortcutListeners(){return H(this,gf)}set shortcutListeners(e){V(this,gf,e)}get applicableActionGroups(){return $N.map(e=>({...e,actions:e.actions.filter(n=>!n.applicable||n.applicable(this.actionContext)).map(n=>({...n,label:typeof n.label=="function"?n.label(this.actionContext):n.label,execute:()=>n.execute(this.actionContext)}))}))}dispose(){this.stopKeyboardShortcutListeners()}startKeyboardShortcutListeners(){$N.forEach(e=>{e.actions.forEach(n=>{const s=i=>{!this.areActionsEnabled||n.applicable&&!n.applicable(this.actionContext)||(i.preventDefault(),n.execute(this.actionContext))};n.keyboardShortcut&&this.shortcutListeners.add(Bb({...n.keyboardShortcut,execute:s})),n.alternativeKeyboardShortcuts&&n.alternativeKeyboardShortcuts.forEach(i=>{this.shortcutListeners.add(Bb({...i,execute:s}))})})})}stopKeyboardShortcutListeners(){this.shortcutListeners.forEach(e=>e()),this.shortcutListeners.clear()}applicableAction(e,n=this.actionContext){return e.applicable===void 0||e.applicable(n)}executeAction(e,n=this.actionContext){const s=n instanceof Oi?n:this.actionContext.withOverrides(n);this.applicableAction(e,s)&&e.execute(s)}enableActions(){this.areActionsEnabled=!0}disableActions(){this.areActionsEnabled=!1}};B1=new WeakMap,mf=new WeakMap,pf=new WeakMap,gf=new WeakMap,B(Xg,B1,[FN,HN,VN,BN]=Cre(Xg,[[re,1,"actionContext"],[re,1,"areActionsEnabled"],[re,1,"shortcutListeners"],[ne,3,"applicableActionGroups"],[Y,2,"startKeyboardShortcutListeners"],[Y,2,"stopKeyboardShortcutListeners"],[Y,2,"enableActions"],[Y,2,"disableActions"]],[]).e);let yv=Xg;const $N=_re(Object.values(wre));function _re(t){const e=new Map;for(const s of t){const i=s.group;let a=e.get(i.id);a||(a={...i,actions:[]},e.set(i.id,a)),a.actions.push(s)}const n=Array.from(e.values()).sort(UN);return n.forEach(s=>{s.actions.sort(UN)}),n}function UN(t,e){const n=t.order??1/0,s=e.order??1/0;return n-s}var GN,zN,KN;function Ore(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:ZN(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||ZN(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return Rre(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:Ire(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function Ire(t){var e=Mre(t,"string");return typeof e=="symbol"?e:e+""}function Mre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZN(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function Rre(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}const Pre=6;var F1,bf,yf;const Jg=class Jg extends Op{constructor({socketService:n,userStore:s,alternativeCalendarsStore:i,onCalendarDateRangeChanged:a}){super({userStore:s,alternativeCalendarsStore:i,onCalendarDateRangeChanged:a});ie(this,"socketService",void GN(this));B(this,bf,zN(this,!1));B(this,yf,KN(this,!1));this.socketService=n,this.setInitialCalendarDate(),this.socketService.addMessageListener("deploy",l=>{if(!(pk(new Date,this.appLoadedAt)<3*24))return H2("A new version of Rise is available.",[{label:"Get it!",variant:"secondary",onClick:()=>window.location.reload()}])})}get isScrolling(){return H(this,bf)}set isScrolling(n){V(this,bf,n)}get inspectorVisible(){return H(this,yf)}set inspectorVisible(n){V(this,yf,n)}get calendarView(){return this.userStore.calendarView}get maxPositionInMonthView(){const n=z0()+41;return Math.max(Math.floor(((pe.viewportHeight-n)/Pre-32-2)/21)-1,0)}toggleInspector(){this.inspectorVisible=!this.inspectorVisible}setPartiallyVisibleDirection(n){this.partiallyVisibleDirection=n}setIsScrolling(n){this.isScrolling!==n&&(this.isScrolling=n)}};F1=new WeakMap,bf=new WeakMap,yf=new WeakMap,B(Jg,F1,[zN,KN,GN]=Ore(Jg,[[re,1,"isScrolling"],[re,1,"inspectorVisible"],[ne,3,"maxPositionInMonthView"],[Y,2,"toggleInspector"],[Y,2,"setPartiallyVisibleDirection"],[Y,2,"setIsScrolling"]],[],0,void 0,Op).e);let vv=Jg;const mb=new Set;function Lre(t,e){if(!t||!e)return;const n=Zr(t);if(!n)return;const s=K1(t.startsAt,new Date);if(s<100&&s>-1e3&&!mb.has(t.uuid))return mb.add(t.uuid),Fe(n);mb.delete(t.uuid)}async function Bre(t){let e;switch(t){case"google_meet":e=Fre();break;case"zoom":e=Hre();break;case"microsoft_teams":e=Vre();break;case"webex":e=Wre();break}if(!e)return;const n=await bm(e),s=await a0({ref:n,height:16,width:16});return await Z1({ref:s,value:!0}),s}function Fre(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGASURBVHgB7ZXtUcMwDIZfeh0gI3iEsEE6AbBBRwgTJBvABj0mACZoOwHdoGECugFYiUIc147t1Omf5rl7L1+2pUiWDMzMDCOk1ny/lfoNVOEysHAY3/J1LKVUihEOiAjGWxLtOWNZHRARjevkvPa7bYCQOqKfx5K/jdkDr8raL9q3MxKD8UscyJV1TXNrlooDa6k9S+XA10+pb5ghIw98f5J6ktph2nT2EGj+6ojO2KPUD+wRqlEjsLEsTn/+ATd7NkoRKNClzhubp6XH3ES5buC3R2qWiAP9tUBTXmnIxFgOtDtdIJAF4kAReMMIYjlAlGjK7xQySU2BrcZ9FqQUZGiqhfrGVWpfRaB//Aq4O2eN3glNHFhU44llTPu+5PtnqRU/F/DE1QdCzoIvdCnIMRCBmJtQJUW3D+hEvJeqTAOncgBsvI0EpXBlcmJKB4gEXSoqdoL6xf+JG6sT+lJB2+xqBEZ1Mg+Du6EBd9pzhvMG0pah6ZsLakxBnXHm9vgD8GymELJG7E4AAAAASUVORK5CYII="}function Hre(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFlSURBVHgB7ZftTcMwEIZfIf4TJsBMQDdIRigT1BswAxuECWAENqCdIGUCd4OGCcpZsaWrcYjjj0ZCPNKrXpSL72zn0jPwzzwaUkvqSEfSyUjbH+ZegwJIkmIBp6TMM8kIDLM9RUqZMaLY4HyZY6XHWGMm6wyBXW1CgwvkmblvJURIAqpAcKtuKrgsGNxKYqHZWyke8JrZDc736EB6RhgNxl+yF1JNWplrYfy3rmPrZPqKebiVw8vvzbnX2oeu2AAPSOOd1DP73vz6qK3Bt2CFdL5IO9LjhJ+wBl+BCnk4BvhUvgQWgSfQIw8hK9n7Ejg4TreIQ7/5uoLELz6fvgR2jlON+L9SiaFBkSP399bgVaBL5oldV2YQ/SEJ3Z4bZgsMK6Encuf4jZXn5T/FLvICCUhMkNKCJc3eIrBwQ6KRBRKI6gtzNaUSkQikVUaHhLacI7HQwcSlwdBMbPHzaLZHwaPZ3+Ubax16ydJEmnEAAAAASUVORK5CYII="}function Vre(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEYSURBVHgB7ZeBDYMgEEW/TQdwBEdxFEboBrKBdoJ2E92gHcENGMFiKikxHJ4gtkl9yU+MwN3XwxwC4ZRarZbSGqZrgZ2opqQuVUiM8CQ3KpGQlmGgRUIGhtRsTTXdG1UjEsU0YagdYxIRcErQLRhWiKBkGBAhBmpGYI7kLK50zGlcBmKSjk/Ugf78Gnw2obQHspmBEDJEcMKX8RnICFFQpXGNKzuJPWFugErkmkeVMPOtO4NmWAiwCT+9B/7DwJkxJ0ntDUcJbANXrCdkTRJy0I3KQJ0XNknua+UuAwIB9Fjfph8OAxKByAADN2t9h8jj+viquQdS0/EKbIxYYeCCRIyBfW9CYYd/xELrrvW0Evd475McByt4AXQV6ujlMESdAAAAAElFTkSuQmCC"}function Wre(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHFSURBVHgB7VbLVcMwEBygAR+5oRJSgkpwCSohHcQd4A6SEuggpgLTgcONmzlyMxJZxRtl15bhwMXz3jwn1mj/igKsWPHPeMjUGeKj50eGduP56fmFP2Lr2XoOjL3nnhxxpzWtcW3n6fBL7BNjg2C8wDnbfka7w0JUMwYH0pgM55HbOachG+dpyXCL6exBzyGTPcaKmdR5WsZnEmvZOeKwkBUl2JPPC6RMgrBmGZcYW2M8j4qTmjnR5qanCl+gReuYw4gtfZf2NExXKRoePO5J/I5bPHmePF/pGVFTNSTU7HOjaAz5e+MvX4RIQ4niYKaQyt8lGm2GDO1v0silchWQIWn3gq7EOF8hGN4+Xi11oq1g1EI/GRLi0Stobwzoqo0G+iCmqKAPlxX0DueSt4L+CifB6FEwqPW/UPQt5uflB9ocWKYpoPff4nZuNsifF7W3PCunaEqWgGP6Q0ZSV9B+/3e0foR+Wtok4J2i7TABp2yKG6X3DW6HeOoic5hBN7FZM/icqe2Qgc0C58FgsSBog0y4DGM9GZy6theVPoWdyCy85/f5ZkZrNSd3mEdJBuL5DrfYAed/vSkcRmdhPVxyDVasmMA3qmGMBczn0mgAAAAASUVORK5CYII="}let ns;async function $re(t){ns||(ns=document.createElement("canvas"),ns.width=12,ns.height=40);const e=ns.getContext("2d");return e.reset(),e.fillStyle=t,e.beginPath(),e.roundRect(2,3,8,34,6),e.fill(),await a0({ref:await bm(ns.toDataURL()),height:20,width:6})}const r5=new Map;function Ure(t){return r5.has(t)}function s5(t){return r5.get(t)}function i5(t,e){r5.set(t,e)}async function hp(t,e){if(!pe.isMac)return zre();if(e==="tiny")return Gre();const n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAsCAYAAABloJjNAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACPSURBVHgB7ZZNDYAwDIU77hMAAtCBDnCBAgRgAAHoAAFgAAEgYALGI+FASLMt/JzWL3lp0rVfdiyRECnW2gzpkAGZkBZJQ3YVJ0PpEX17MkiplNrIQcL0akZGZ68hD5ywcMzn9EDoQn8t9CJCEYpQhCIUYdxCQy/ghItjfiQP/x9LWFhRqstvDtEcIhNiYQflWioiFslt4gAAAABJRU5ErkJggg==",s=t?"mac-menu-bar-icon":"mac-menu-bar-invisible-icon";let i=s5(s);if(i)return i;i=await bm(n);const a=await a0({ref:i,height:22,width:t?10:0});return await Z1({ref:a,value:!0}),i5(s,a),a}async function Gre(){const t="rise-mac-logo-icon";let e=s5(t);if(e)return e;e=await bm("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFXSURBVHgBxZeBbcMgEEV/qg6QERihI9AJmhE6ikfpBh6BdgI3Ezgb2Bsk4IDiIAPHgcmXLomEff/lwAcGeFI6rl70aCS5Ye7iA5l6Q10dkakQgPkng45RhwBfYpWHXB1z4YRHWX0IifAUSM98XI1NIED45lsQkgDgm5MhxkhyByETACKRZ4gBDJEbHYSKjKuEucsRlCAkKIn1VDaHIJnvBZFlngMxlZq/22/zaGx1sUvkZjP2aX+rxHUiMP5rPnqUl1SAN2UGvNp8ciGqmJdAVDPnQlQ150BEWyvHPAeiP9iLZSTRv44ZPAmE4Web+7VyFTiCcZwq1IxVZVPb8B6xnAvcmfAP7fU0/6b8lI2lVozYWJyyIcAJAXUNzDsktCdEB6K+UfdEZNbXCZkSOn4qmCuUvV0ti5NzaFGIt/hFB9AlbMIvPHq8656mo11wf7bPuFeOtH/cAL7QBorjiTm0AAAAAElFTkSuQmCC");const s=await a0({ref:e,height:16,width:16});return await Z1({ref:s,value:!0}),i5(t,s),s}async function zre(){const t="rise-logo-icon";if(Ure(t))return s5(t);const n=await bm("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAACeSSURBVHgB7X3Nj11Xcl/VeaTkQTIYEUicDBKArb9gaO+DaQrIIotEpOF4ZHksdmusRA6ciMQkFpANyWwGjjxWyxgkY40lNpHYM14YErzwwguRgvcezl+gFgyMYdmAOPCnhuxbPvecU1W/Ovc+srv5mh/tLqn53jv3fNSp76pz331MRxTk9RfWaZDL+e2X8t8z+Y9zq5QXzv+J9RzbxhaKbeMI/lH+92Z+fYt/7Xs36QgC0xGEzPxrmYcbVFmKe6zM1rcFmOLnpbDF//v3LtERg0RHDORXv/Jm/vdC4SsTG3/L51HTqxGgxK1NyNpqnzJNGyflc/mji/L6OPfRgiNlAeRXf+4cpfSeN4gUphfrP6hZj3tu1r4wWdBA6NjxfREIbv3W+Rvf/ZCOCBwtC7DgC+2dFG6yclVGjefyV01943q+NlqCpFpv7kDAdlRLUucRGoYj5QZO0FECTuvNzdcgr/IbnXwWgjTysYV8zNaODNf2Giy2OKJJB5eg8sjAEYsB5Jka3zefXngnrtnaZvEAA+uL1qPvV5PPLT5o8QCt0RGCI2YB9F/P+LJVsFbTZlV8tRL1uo9LaDVErQlPk4onH46WBcAI3vgkYoKhWq99k3oAtRJqOWxwfaMZwxFj/ghHywKMoJrK5uPVlJO9qnUwhW5jEtfoH4sDxYIIZgX3LRg8SXDUXADkdKCuYnEAQwxATQI0yMN+znCmmBIeMTNw1ASATbXN3zctFrUKXWWQyXP9BDUCxooh8xG0/gUeigDIlZ8/l2Op5/O7tdrCO8TDdb5yGPV1y+5cYzGjT7nDQPX6yHBplaBk9gMCRWpBIXBfVu8B5Mp4bsHnLMUc6HZ+/z7/r+9ep0OGQ5XrvLG1TOcbeZm1EJSp/RW6ngXhahaEHVoByOUXxVI6Aa1Vvdel6+fWao3wSl4F0PdEFlfwld9dCd3kyrl8SPW59zKu6xZasNYdyxIfZWl4blX0mYNDywIK8yndyFs5nd2sWCXNVWsk8IX8+UbtuwLg/r3UP7bTPezHXR4IryVbEHiPQeVKTIBc2VjLzP9+nnO9O4fwV6Jns/v6YGX0mYFDEYCCMGfmk5xuqVf7S+wbNVrmPosVbVJivV/XYXZPb+3jayJIGSXMETIBwjkeWPvrXj/LysFrELi6YDH8SRGCG4clBCsXAGd+rph53i2Qj5Odxnl9vm1y1IoHAObu9I8iu8p6DR11FQ1tqwjWOcSqf5Y1wLwPAEYf5tNenxgDUKq4pYRWRml2mtLiUCzBSgWgMDAVs7/mWiV1i6p1SZ2xNPtMav7WaHHngwcSAi/XulYHQQiuoEb99ZqbeezPTUBr3ICl4gNBYWBStxhwZjQ4LoSA3+gOFosPHlhJOliZAFTm/7iZNSUwNV9qKVkFJa6/Vwv4bBWCA0q6a3Fd3xjL6Ff9dJB07dLsVkBxtblaf6wk7hMKfRaLqhxV8OrE9R4FcTqMbU0I/ORSWhxVaLxKS7ASAaiby8xPvGbETOGwhaN2BcmWFmDp9VHSD7ZJLOca4xs+unZ1O9RputYAxEvE97Ik+6XPC5U+xTJyqzY2Fxjp0WjCQn5UzSB84/vTtFiBu2zwwAIg38iInFTNLy1wDl+7uJlr4MzQzXOzAOoS1ujEAX1e4imjVHMTWJ0I7P0MZwqCE3vuGSrzU6UPtTlTF5QSrKlKE+5dEIH+XBTtxJ2VxAQPJACF+cPI/LTm5n3Gf00CK8KIt5k4Rl9cLcFTi/1JOod5mab+3314AuvQCw1aKt/T/pk/0uephQd8yuCwBkVLQwR4AE10T8neZ8V78JjgwAJQNid3mmQLhQ1GRkaz7+VWcQGx/yjcn0d57qfu7F0I4nr9K6wBhE7NWoW+FJmguJrQ7IU+o3beqdlQIga3xJ2wYeDKs3hM0ljr+yydvPNA7uBAAlCYXzd3uq+fYAYTr2kjUWcC/S/4bTOJa/R03uQ39rDJnul1GpkEbsHUzzGFucUFBPGMtLLxfQtBFdes+dLoE+ORKFR2oyoiKY4bkdPDYwaCQDsryd0P9kSfGTiYBeBdZT6bZmApMzEwn2RiWm0zGuCYz/P0EHN64rVR4O6/SYgj4h0+5BrsBsiibm1AISBCiyV2JfE9bYArR8aZw2wVUitEqKX0s2kPQDVemVowx9PigrFvtgRVIfcN+xYA+bVfuJDr06cjg8iJqfRJBIhzZ1brjltRxhll2ghBpDNujeg+km4VR3zP7LiMf1LXdSvR0jDz99QJApkJ3wvz+Y4HxPhHBBZgFHjqYiWOboHskKrRyOhRaed71drGmrzx0vO0TziABUjnCqYujdGHUUNYN6Jpj222FwZleJ3OriUwy9KkfZT0dA9LEDSji+CNyM1cKb4xYHWLhfcH2niKggFQcEq7HfMZ56Owhu0dA2BwC0RTGgUlIYp7GJHYPUf7hP0LQKJnWoFHF4/+0/PW1iDS7rGrhFcmE0WXMPFxcD3p2EKsQuhZIXAtFQjYxPylNBcTtW7e1DJovY5fApX5o+aX426JwhSYRWHuGPWDgkhUAJ+LmjVAQXJlE16jfcJBswAx0x3z1850ouSSBMHA92Y9GFM1DwxDn/E1E3qRheBNFwJ546vrtm7VILb3waqoe1GZsv3oW4xiCawZq4/GtQoOi13P8w1HVqxjrh+DXWBywYs8jmEc0+bqilwECrjUNt0b9n9DCPMP8r/rsDUNuvDGCT9NZ/vyJQZ12k3aTRlEeGsWBf6IM9TmGmGN7mYh+PWXtmgYxi9/vgaaypH26OPrJmzemHnDeyHC42vlT0XuPXnjF9/PbbcyDheJW7Svt44J0MPDUJ/L8Rib2elgXUFIER+OuGJAW/ezQ/uE/QtAkvdoyMSutPHoGGk4JTbASKTkzJy72VLIq4kMjLe5GnE4CwHJVjCPYb2lSgF4S6xShvv/uvEut1/I/27ELkxRF3EK257Ah7Y/dqMTFYQjvszL92JbuU77BKYDgHzzF8ccdx0251pnglt8bj3elLD5xmCye18mbXXa1m7MJlTDMEZnR61h6pg5txFSP8rTOaNMTvqadbK+sYeAW7HTPmk4pbiP/lr5HmMXCEa8G62MNqNv2uavX9+kfcLBYoC0OJ9N1o5rHbn/d/JwSK3q53rNKmPkbsFSrdAqRYCstxGUbLzvRAOuPpqGOIVQkQT01blheb/EvgkEq+CphBdlNBMafCaeZjjsvj4YKrhW5k56YCUdzuSxA5PTJvMi8YG+s3ggC1C2MwY/MtwgKmaYIh1BMAzrXuI7M6wCIuG2sW4M3PEjEMDZZ5cbGNMaJq6IfD1DE24MlYBsnBTdjSAOM3t2v+EIwTid01wBWBMCbxHbEOePsySc5UvbO3QAOLAAjFCj8GFMf06XmzDne80vo4UN6fxv6toUS72tWxoR7P3MfALMXeYCRKKp97gDFyW4PpUhc2L9XpRXM+06xtYjxxPxHccOpOm2r6P7r7DzIMzXXT4QFCFgyTFBTs3M/HEX8wwzGliua3uvvpBB6IThKk0tTGuzu4Glj7obQeFztd48CSCXyGyYyx1IJ4j6GTMI6zOdOeyH+b5r6z4pfZz3+kDMr6itAIoQpCwE4x0rrkCgHc1/0iT8a0Qa8DbuGGhNyCVkfSXsBOYELVHLUZox+HIzYRrKYQysOfmE/077hXdhf904pmkGMNlXMEStcWcVzO+XfSAwIRhTM6AtrATmC92pdBrEnblv/Uim2hZ3EoUrzBX8q7KgIY5jIGZgFFjwu73mMwjQLE5d/DO3B/z+gY6Z0EXnymZ/WA3z67QrhCoEQ6uKgR+cMAQIXq8r7RkcPk+DIUVZ7uNSOt+dqCWX9xnTC4/XKshIZX7dkAG8iKZ+uo8ptBHNDQhVaQKhccaP8BHt8nOrYr5itVKopVGpgSGaYu8hUTVpxm92AhA0tJ+iTgC2lKeCsAzZJXKkF6smUrTDdr3+427HQVGYuKRlWUKbK8QsalksNtjJzD+7SuaXZegQoAjBCXUHBD6YiTwumDLcAj9m6umu18xfl5WiH9c2gUjaJaQh1/7pAz8UIMV5vDKAmQ+4KdpzewDcbP+g1cHHo1CkGi9QVygamX939cwvy9MhgQlBakKwFAPUZKJAMHQXQQmDIETfvHQdoikeaIUAD5kd3/tkx7V3cbRkfPBLqgz3WK/ua4furNbsx2UOEeT/ZiEYiiU4bX5tLrirbz1V8n9tqg7fyjg3kz7XnB/1aap2oUbPCQ5aeyxOB0vehAeDNiII5NCvYxyBPj8ITNt3qEXkCh+d5V8+HOa3TR0uFCGQMUXMloA6FlMX9WKe3ilLYPCcAMWAE/wu4TjXOsTCAAMCdC/EXq6AtajbS8Cpbw64EVGwJgJ4KN47+eVQmR+ROEQoQkCkQtAaqfP3GHSRGNdRcTiR00+6FA3nIagxEMU5zNSDm6l+hUScidxHiNIFfKrVBHO19/08imfFL7q5KbVGK/BRvv7cYTO/YfhwwIRAA8OAgVOSNMJyPREPnvpALJhaonAeT9QFb9SI22tenLPHC12MzUexBKwDZC/07OZCqG0f53dnHwbzy5L0EKEIAVOLCSgeBE97L9EQgMKbAXzxHvczCeiYgjZjvKKolDWaGUGhC/hDXGDboBje9jiMrUkFKuf5w8PRfEfjIYMLAa81zQa7PIPPNLLu+1mINiE2BpbTuW/n1vepPkr+jOGjprk9WtiYQ5OAYQkgCvfs1uOWK3wPT/MdjUcA8vbGa3npramST5w1XmiAvlf7dtfMRIfrGMJf4v+0/VbA6bc2Luf+Vzw+oJjvwxIzgusCiEErzoW7CCmh7fNij9PDgEf1oMgzbXWp9+SL3rAh5FSvL9yoyf6hjEuq+aw3XdQxqZXu7Dt0zOGINfHmHKH5P29fzeM3G/MY1vYvazDwTNeztduYemNKm7T9y61Nr6EjINvuKXoE8PBdwHc21vOy4yPdn+muSCMEkKcLumo/omCR1e92pVPuikVFO2Vk/vY98Xt7YyMPvzZdX5xz3FUbcV3DsS5sfSwIJe48mI67nd+f51e2b9JDhCAAhTmcsnmWdeoZhMGRj5Bo77SUWZo64ZpjMMWCiYRw4IDCiQUZmGK4P/NthlEIUhOC3veHY+f8/8CxBD2LtTJ/4vJQaOJFDBJxyCR7mAmWwcEYnjI+ei59mBG+zr+0/T5iVse8s3EtT7wREHDc57blJVpbNgRz0fcxUSDmnGecnbML+PryKa7k5dNuvsz8r+2N+bbQO1kIqAjBdD8RTxA4mj8cspTRavwCSHMoQRudbOouXhjExhFmLvYOAtcJrm0+fou/9u4lW0muvfxmnvciTEHUn3sjhEAINw++O0bugChqidzj+BXXIppoSyyuxMMa1MZBNviXrl2nA4C8u3khz79Nc2kdWv2+jDHZc08/eBPPO7oSMtFsOwpZ/x7XdZxnFJm3sxBssrzz8kZuvtZpFUwu/YJRJ6kvvMwgOrepTrFn+4VKnpp2KMwQtFOYrs3PG/zyOwdivk31TnEH71JIBWdew30AnXnqq45Ir4AzQfyyZC57380RFIL8eJ17mpQlGtLpbMqbe95vt9Y/qZ+SBlRqclR7NSS2IIus3ZqZS0QOQ5uwsEXCDNaMyG+ADCE4zK3E4UZwL9dywIlXw/yyanEd8rLjTLAnfCWy/ZZXxr21yZwbjjvgPH1gFHTRfYf1yFQGXbbOn4DudQ5VrobI7uVEPHzZtYmUAWTmOumG9Y/1vntP4cinbBsAUW1Co/Mk9v6jJPqGxYlLQcgnFsdejGDS9d1cBfNtys0SP2zC19y6DiDcioXvQ4iDokhg4twfKlZYYwRVmtFKDM0iKi1ACHBF7W80M5zPZAFIp0yaEPXxPwwmVDtVW1HrdGwCjUw0DYTqPBwQdPxhzgYh34e/1FqSzscV/3pWtMmb727TiqHMyVkIUhO4ul7TsqYEUVmiYiRwcOV6YlcimgY9iXwd5wiQh/1pZ+H5B+0aWqwejwJjTCpfSBa01QcnCFGQY/jT6F4IFm4WQKKpcULEBzCZKWuTO0GwGISMdwnWNt3ApOAi4907h8J8Bb6Qg8mBXyYloIsqR+YyTV6jTvp4c38ENLXAgoMf90KStqHli67DCexuW2lq48tzKgpTHLXewLkUcWQit8AjdeaONOBoc6mLsHVUoECatT/TJN4wIqmJZba1Ccza6PMPkfmG6LjGQFUIapBM8Wtc9YK/JzIth625UPT7JHarBopkml1elIlsAqPXMYRKggKDBDermYDBMLBorgRTYlhKTIU0ylXEfPPOnERuJWDfVeI5WgYWtEBigjzxm+wE2c15/oXV+fz7QRWCYdNwl7b3wFxkVnNvYZ9KB4K9goLYYuzEsngLg3Ny62PWuQmcgL93XrmQyniHhUpGCCDMPjhCSHgL6EJg0UwzSHeQXKalQRSRz9FHwv48PzSPZOsP9FA0f4LtGBjm0rLhgkGx4QhpXgparG7Mr1Wf7m4tiUfrLjAcX4mC69Wx/VPPCCyVutEmU9UC+DdrfYLe1/ZCgIgomgwbUn9jC4b+0V/Fwx2yTatUExBA16mfH6rm98AvvVuFwHDttTJxYF5rAlpKx9DYH/tOHm9LNM3QyJmOdMX10aqbABCaCupTOzBfM4zvfRvhGJE4ntC6SJeXNlMpMrNZCZZnhCFt8lcfHfMVihBwEQIBjSPYX7ePjrYh9WUKn0Ug2JWpIipdaWY8cgfn77KqZCVUNNGlQ+fTcBPUBXCIdIhU4RVjgKjt/SZcknyOLgVabPBL39mmxwT4F0YXlItFBHQCAvk+2AU9mmuZCgLDYT3k/txF/oTZiOgaziv8vSO/P9GCzFQjc/AtCdI9HUSY0nMsLKj/sj7cmb0mYAmCnLl2u46ZAgqOIp+Z/9W3r9NjBlUIcmBInfusfp09XQam6QM2UWDCV9Rbc6yocoiNwitaWe1LaB2clgUNzkFgSi5BJgS93+5MjwYeSfuDebJCw5wgQB+fm20+3FhvHer1TX7x8WO+QrMEG024yTlB5C6SOWqxtWngR0aHxO4eUclSGExuTSSYd4NxnoQBOFuFN4XUYMIwml7DwEPaZ+E+GIyI2J9I6FPfx0AmjGP/nNIG//zjY/aXAb84xiW86VpLTpcE6XKkTVS2Aq02E0rHzFMa4V+I5eq8ZlmZuxS0/JuiieirTjaZdAx2JMrGlFHGMHg8axtf2hOmK54nUyAE1AOklXez5n/l8dX8HqqgWmAonXBL117DNFcSCvTE5ywSRc2eE4byWeKaEHBAf7UACiolHJHFdkcKUwz34Zi/W1+NFTgih8FJMufPZiLNej4Zmt8Df+WdWjZ2FzensWQX3G9HRfQgT823uof2ngTcZFRcXUnpbWcXLpQp+ndgmGKDz8j3gwSoN7Jrsj/qVOBwibwEbH6x8XYmFtDPRD/Kfuvsk6T5PRTB1busMMPCIDgonOlBLQpZRtXFWB5QUpgnIV/IFVWD6TJCYP1aCr4dJHQWMYJrRFMf1n7jZq7yZ4KFr0TUxwlKpCowt/M/Z/k//vZNesKhCfBP5b3fDgW3QE+i2fP+or3SKSbqHtG0uipTK2OvMK4q3+0xDbxVmJGmAcKMT5nxZwU5Istxxd1CCVxZvVwUBtV6gnnrRm7TYljnn/vOLToiUPaySGdpvDEzzQTI5TND8Cz4lTW9ToTnKwqYNVmMRZ0QEcGBlAfiA304onOV1NzrQl6Jm6aChO2dhDqiquHcHe1SqC/00W0amU9n+Wfe/QEdMeCf+a0f5K0/R8W1YaJP8QhY6yqFLgmOcE3BKFQYVbk0jHKB6hDgTiBy5wW/l6qZlevR34inK5PTuvZPb1KikDC5WeJggoJAQAWSi3ac5fNHR/N7KJaA0zqNQuBmuFyiiXtlN++hcppcUSf8IDfv2qev6SifhX6Tf/bt6+45fv+VrXzhNUJlLWNEuoc5unRNbtS0yW1bJut40+f0SxTjz6UfaeYjyHuvnMn7/yCT4VTl/TIad7zAu6ER/Msp3j+0kQSTMAzX+Wd/e4O62TNiXzuX6+wXqHwxhJ+p8yGzgJ3h8Sq5fRBHrOcv3kAS4XYed4vSYpPPf3uH/hGBvPfqWubEm4XWkmntqijxmYmahoMC9XIx+VKKeDVW+5Ps0Ph4e0pvZVrfpGM4hmM4hmM4hmM4hmM4hmM4hmM4hmM4hmM4hmP4RwS87MILZz5aFzox/hjxl6zzeLILh34i9NjB5Me75vpQvM+5NUwKrAoD6c8f92uNNCj3QnSF+6VT3QP2PgbwXzpI+ZO3dSvRybe+d+uLO8vmmsALP/2nl/PLFT3Ik0guvXVLcWjHDuxzhmdp6vE3d/P0xwttaIZa1e7POv35u5GBAqP7NeBKIYgdZRju0MfWGI9D9YytjmFcX08yaUaUAozCwRzWqNOXuRgGtj7CdcNL9gBHMdLhTnroEtuxB1/67p/86625WQNkzV9LJ09+JHq4R6zHEfUsypC3x6bZbgoa3bO1e2ntLUc37wQxITvqqM31WWL1oe/IfNP8pGfjPLM9I5D/9OCcEukTnYkRH/Frjl6luwlsYaKPbMrQ0Wzy1CCmMGcQsEBG7tdXIW37mduMzSd3TzzbW4LJbwcvnj55zg/zIidTOdfjpmqm4kBQqQfbbSx+m0nMSpKkxJV5fmbFrqVAFtabYupRYrs/xm+OhFNTky6Yr2og4VooFGBpyiWwCuLbVqMu9SReRAXItjc6CBRgvE4mCRzOcDlaO8HnTLHbzPoCbqYQHm1eUdJGZJ4YDvZfRRhReFqez6/hIZkTAciTfYGTEmRgNWPK4PZTwMIp+jvxe0mrxLe+LoDSaODmrphHZjcred6kJhOOk6XdYk+NECZsyRWNDQ8XhHqDjGtHkVrFsbguNdFlPlbO6eEqw/6ce9IEL9wdb3IqglpZGRYpRYqnVCtWcUl4l7Q9nlKaNBuOvm651o7g3ZK1S00oeqsq0j2cc+7Xw08MH7IsxI+hXUuADByNtUlI01KGqAlYJKRSYPMqIbAtmrlIaLVmnNgEyZagqOKFUeM3n5plKgxP9faZIb9PZY0U5HlcWOWqCk1FwIRCOEaENQQahd3WL47I90vqweyQf9xz0r2MTEzC4LvZbL/fVFUDEttX+bl5uwvADU+gmFpA3Tsthg+pA6YZuPBvfnhjIPpylV61dS6B7rOpMYuY+gBlaZpgViEwmSZBFXu84bdD8DSAIDDd/RpuDWIAKGqm2PqaJmE8MsV/uv9wdc7ZwyQ+xtZXOtlekCYze57sCWhnKAsF+lfebf+/P/5Xmz3GUwsw9l/w5oLkI7GbfJo/TWpjCE00I2GrK1c3wdzLgKdO0S1KkyEPzur1ZsWbYSAiVPe21Y62AedK52ayTZbbvCa3RnMx/OucLnxIe0FttTsyOw1Gv21SRsqcpFpps0pTXY0nKqJFNhK4FieYNN/PDCSqMpHEfGFrTCldpRmYtQAjbDz3wzfzxYu2nq1sjA6KUz+y6RAwg7FBzVLbAzISBFh9vaNYCWAUE1L3SATxR+3vQR/DGF0o4q99HDcBxpTZVBWDmZ7Myf5Ua6dL2wcQQzVUAK3GWE+r1NI2+vRrN43u1vZ+E1oyXd3+4IuzAjBrAQoMn12lxU+cy3Ouae6GrlrADihmFqyQhEAM/To3jEvgQ2QhFjeitPROpdpMamrrVln34KZcK5qCnmK8mszUJ1N1kKhyfVDEyOSU2WMAbbf9uSciEsx8SCVAY1hPXRtvVfARBTLrQBqtty6gmGx71wFed3E6NXqaNWYlndDHsvv3S3+HYKkFGGHz3/7ZlzNDboaenUkPZBVra/bMc8VKFIbolkwDyajWSXu/JqyhGjLBift5XOM1qLMFwT2I5UpxzSYEZs7DvoOfJdPGLnisAqlaOxMbzWl40YdgPXRfVeCHltUY/VufQuOI68Y7f/TF67QE7ikAI3zt3/1wK+/kNSQURgKwC7XObDFWWKIppK/MatZJZipYTarclJE4IZCPOD8FRjTFtzjAr4HMKoeKtggvXR+dlHTXkSYCwitQW2B3MSb4NoUX3IyWoBQ0FxBTRwMTxGRuJ9u37Xf+8F9u0j3gBN0Hdp/+7MrJH//E8zntWFN866bV/jfVahovbkphFnd3uFkGC4jGtjMy7QGgaGjmxgRlYCAoj8/BaKG7gdU1sF95jwUhQ5pcmJrxJasCEQgKexBn2JqQJuOg76e+balql/GC8JV5QeO5ulpfrzqOWs9oyvLx5//27y7RfeC+FmCEV/79X3w50e5NCoUO6kwNq0rFYMQCFiRsFxx1EM0ahxSOwYwgibAvh/eOl85R5+/Mp62NgRQbNupnuetDs8GhtzW3RxJpBXNRcCX93msjmFdMC135IKVsu1jIs99+f/4ACGFPAjDCq//hzy/nda4oo80CeFTU/FYQXzdzsV9Y2Qoaeo08fwatIA2SiDt3McdJIgzQ0HwQBnLGaOBBiKwm68PQ/hp3WBhTseZAulZcRxlI07l1fzjG54GAu8Ew0JW3/+BfXKU9wJ4FYIRfPv/JjTxiPfrzVgScGG5fIqZp2souvACzhFSK4+laq8B535k4IkyM/fUcScCHsEwFC5R8WZ/STsAgLWTgWHblgPHOUA5xSlQISFtpmaBBvSPx9v/5/Z/cpD3CfWMAhKfl5PnPTvz4+9kbrblJ405RIFhqYHFD7UuNUWA6PQ0OmkJoiNl8nzreVnWKhaNQ8SOGddlnqhIQFJBmK5tMwYiBCnd7bWsz4irebvg6RWocUPHHPVPz5uj/XWYicdSd2sCdp+78zX39PsK+LMAIr77wZ2uLYfH9jOEzHkCbm5qbr8PSlhYgIGwYIt72WmOOqlVYR1DDwM41FD8vrHT4uKDRbGCIuHiRiGLVdiZrnLtuc8e11FM2yRA78etUx7IGE2sT+FBKH0ny8e5nu2f34vcR9i0AI/yXFz85syC+QeF0qRDPDnu6oJvUxxkj/RTOysNeNWzWT9NE+yxqQ9ldghlHCkQB9gic0FGILZorY6jWGHEJYy4ht+7iMqn1mObn8b4Aw4EsN0eJaR6oOw6O+5HgZo2SNdW0gLycTn16V+789Le/tz/mV74cEP7ri59scPt9vanq98zx9qinBQVj2qQgElEFiZ+CCtx0zfl5DAMIuLpgNOSIs7j1wVpr9FoD7E19JnfLzswBdf9o/0PA5zTM+f7Zb/3/f36TDgAHFoAR/ttLf3kh68G2a/80IItBy9S8E6Y18ygaY6e3ZxHFU7TebRj74j4hcOjWooklmfTn7lBGZvbVz0eEKd08Lujq2r4bbdrhFZH6AvYClAy88Zu/88+u0wHhgQRghIsbn2zkYsQ1Cse1kKrXl3bIQk68kBY6AepH6QjGfkrXBM3mIPM6FuyRTHwlGW5AcFcwwxncP3lqU8YM7IwIkdgMnhT9n8wcoIVYQS9QOzPw+IQJZQYOt8rFYXNr+ye36QHggQVghIsbf7mRi23XyBBzjYmFID26Ei+H2nvy6C30idecRdOxTUDugSloqHFQmeM4h7MCouixZGq1+j1qu4TYt2YfAe+JpJCfccgS3D3o2Hjz2sE132alFUEWgnO8KDFBDQxbwFavetymmhXMaIfIXPsSes1E7t1E3Q7Hj4OdQaRWNpz49ihwPlqmfcFahWonTa3cuOl74Tsf51jQ1wbczied67/x7qmVPEhrZQIwwsVXPjnDw4n38qyn2Wyvxz5gHDy6JczFOwIakv5R3FwT+l2sQ4BuhgU6/wzVuTgG+wVzweTlZcClGR+sPHosUsP2OG93hu9rBUZPcM4XP8oR3/lVMR92tjq4uPHpWjopN/LMa3Y06e5cZUCdq5t69YsdZnOpkN3tK173p7m0CTTZ07T+MwiOeF6ufcx0g8qqxHlJXhdh8x7xOwEtZSSaWhZxIYBj0SZQ4f0tWfD5rW+f2qEVwsoFYIQsBM8snhq2BkovdWmZnxWYiwiZTgdKKe0XbTLciQx9TZxo6kDso8nf0rWn9fhJuojIQ7bji0GuVwFOCiEKbMHlBEn9mM8Kt+5+jq5ubZ26TSuGQxEAhUuvfnolMV+WmVQJy7Za5B0sV8YA0CwodzdDxgphSKHaSN5bUAiHNYYj1JzARM+Y826tTvPNwbgnKjtgGzOoMMV5W0B7Ozdf/Y23T23RIcGhCsAIF1/NLoH5BheX4CZtBFOC8qEh1FwBEZR4mWiSGdbeTlOieBeaNpvpNuL2pqH2AhNv1/Sgpg53/62fBfBlgjeW2lkoxP7lFjHE+jlsr2WeneGunN/6zqlDfXZiokOG0WcNT8tPZUF/q9zL3548WvxeUl/M9W6J9hsDrE8nbY+sLWSsPxNbI+nErU8eOt4fVf/8eulDjRcstX9uTkm0b7mBrrynOrbho79zwDaP1D5Numr/KmwMP91a+ybDvXzRoO6pPpJbnZLhW+fUORh+KCultDXS7LCZX/ZDDxG+/iufrouka6M1uHfPaT7NVpiZq7hZuNy4RG5sm2/u3UHtr1rarT5xHZB1mA1hClU9tVKtv54M0xIXNL+G5Oh+uPTNb526SQ8JHqoAKPz3X/mry1JuLmmkVLOnZV09e23YDe1GEK+Cjf8mrIp15VmovJHLw8iV1JVbmS0mhRt9POCcRuWWqpnht4wAHT6RO5u2NzsPwHSvjvk0L/3Wr3/r81fpIcMjEYARLl78NB8rpyvZ9r1EXX5Okxy6XUGGFKjUJjMAGjx1RiOOJ5rk5aSs9NvdNDDrYoBQIXY+ezZA4Mf9BtQmWay9W/pSbkvf3uXdS4cR4e8FHpkAKBRBoMXl7Cg3jJ0AriT1Yyzs+A0fcFsNx0KMfi76zDgnUYz7eGY9ckPU4wV3/3TX5tJEW8ME7ybT3UtvbJ16pA/IfuQCoFAEIZ28nCl1IZYHsTrmfkG6o9vGKTPh4sLSeOq3hIlAeN4uUsjVB4Z7vya5XGultrZ/dsGsTdZf/UvpdTNbh6vf3Pr8TXoM4LERAIVREE4sTl7JFHs+o/cF9OUVvC4QUzKoL4xtllfNraKnhoHP0gpLUJnEnB4/Kw7kp58868Za2jf8KFu4rbvDj69nU79DjxE8dgKgcPGiPJPS35zLmdVrGc0z/bdwNOI2BWRvnAu8va8aB3IjU7R+BCjQTCYxx9FWHtiNQ7hOnjWMX7VP79/Z/ez6o/Lx94PHVgAQXn/979aGQZ7PyrSReXOmalbldl8NHPtH9wDm1yJ5P0ESuJMImd55CsaHP7iFaGYkBpA384Wbd++mzPTP7dBjDk+EACBczMJwknfXc0J3gcoTzPhUDOUqTB/Q1IM59sLEmCF04ye3oOsaxYJk8843c6p6c/fO5zLT+bHU9GXwxAlAD19//a/W0+Lkl2iX1oWGNbUQI0BZdXZs02jqO3T1GwsiW31gh2hxM3uNW3Tn7odvvPFPn+ifuXniBWAO/sf//Oszg/BaonSG6s+xnKbxRhUZv+peOLqmzjv4e6Gd+kI7KfHtfFDzMaUhn8EP4y993brzt/9k50nT8PvBPwD3d10p6xY3GAAAAABJRU5ErkJggg==");return i5(t,n),n}function Kre({displayEventsStore:t,amountOfDaysInMenuBarApp:e,limitMenuBarTitleToToday:n,timezone:s}){const i=Zre(t,e,s),a=Yre(i,n,s);return{barEvent:a,upcomingEvents:i.filter(l=>l.uuid!==(a==null?void 0:a.uuid))}}function Zre(t,e,n){const s=xi(n).toDate(n),i=fe(s,e);return B$(t,{startDate:s,endDate:i}).filter(a=>a.startsAt&&a.endsAt>new Date&&a.title&&a.title.length>0&&(a instanceof Ce||a instanceof de&&!a.isDraft&&!a.isFocusBlock)&&a.type!=="workingLocation").sort((a,l)=>Ar(a.startsAt,l.startsAt))}function Yre(t,e,n){let s=t.filter(l=>l.startsAt>new Date&&l.startsAt<Ie(new Date,10));if(s.length>0)return s[0];let i=t.filter(l=>l.startsAt<=new Date).sort((l,p)=>{const f=Ge(l.endsAt,new Date),v=Ge(p.endsAt,new Date);return f<v?-1:1});if(i.length>0&&(xs(Xt(i[0].startsAt,n),xi(n))||!e))return i[0];const a=t.filter(l=>l.startsAt>new Date);return a[0]&&(xs(Xt(a[0].startsAt,n),xi(n))||!e)?a[0]:null}function ni(t){const e=an(t),n=sn(t.title);let s="";return n.isTask&&(s=n.isCompleted?" ":" "),t instanceof Ce&&(s=t.isDone?" ":" "),pP(`${s}${e}`)}function pP(t,e=30){return t.length>e?`${t.substring(0,e-2).trim()}`:t}function rs(t,e,n=!1){const s=Math.abs(fr(hs(t),hs(new Date)));if(s>=$s){let i=Math.floor(s/$s),a=Math.ceil((s-i*$s)/60);return a===60&&(i+=1,a=0),i>=2?e==="short"?`${n?"in ":""}${Math.round(s/$s)}h`:`${n?"in ":""}${Math.round(s/$s)} hours`:e==="short"?`${n?"in ":""}${i}h ${a}m`:`${n?"in ":""}${i} hours ${a} mins`}return n&&s<60?"now":e==="short"?`${n?"in ":""}${Math.ceil(s/60)}m`:`${n?"in ":""}${Math.ceil(s/60)} mins`}function Xre(t,e){const n=Xt(t,e);let s=Oe(t,"EEEE, MMM do",e);return xs(n,xi(e))?s=`Today, ${Oe(t,"MMM do",e)}`:xs(n,xi(e).add({days:1}))&&(s=`Tomorrow, ${Oe(t,"MMM do",e)}`),{label:s,enabled:!1}}async function gP(t,e,n,s){return{label:`${nn(t.startsAt,n,s)}  ${ni(t)}`,color:Jre(t),click:()=>{si(),ii({steal:!0}),e.setSelectedObject(t)}}}function Jre(t){return t instanceof Ce?t.color:t instanceof de?rr(t)||t.calendar.color:"#000000"}function Qre(t){switch(t){case 1:return"No upcoming events today";case 2:return"No upcoming events in the next two days";case 3:return"No upcoming events in the next three days";case 4:return"No upcoming events in the next four days";case 5:return"No upcoming events in the next five days";case 6:return"No upcoming events in the next six days";case 7:return"No upcoming events in the next week"}return"No upcoming events"}function qre(t,e){var i,a,l;const n=[],s=Zr(t);return s&&(n.push({label:`Join ${(i=t.conferenceData)==null?void 0:i.label}`,conferencing:(a=t.conferenceData)==null?void 0:a.provider,click:()=>{Fe(s)}}),K1(t.startsAt,new Date)>0&&n.push({label:e.autoJoinAllMeetings?"Cancel auto-joining meetings":"Auto-join meetings",conferencing:(l=t.conferenceData)==null?void 0:l.provider,click:()=>{e.toggleAutoJoinAllMeetings()}})),n}function ese(t,e){const n=[];return t.location&&n.push({label:pP(t.location,50),click:()=>{Fe(F_(t.location,e))}}),n}let nt,pb=null,xv=null,gb=null;function tse(t,e,n,s,i){pe.isDesktopApp&&(gb&&window.clearInterval(gb),gb=window.setInterval(()=>{yP(t,e,n,s,i)},1e3),Jn(()=>{e.showMenuBarApp?nse(t,e,n,s,i):rse()}))}async function nse(t,e,n,s,i){if(!nt){if(nt=await bP(),!nt){if(window.localStorage.getItem("rise:trayRef")){const a=JSON.parse(window.localStorage.getItem("rise:trayRef"));try{await Nk({ref:a})||(nt=a)}catch{}}nt||(nt=await sse()),window.localStorage.setItem("rise:trayRef",JSON.stringify(nt))}yP(t,e,n,s,i)}}async function bP(){const t=await gB({id:"UYOWCKDDMdfc83dzR1dxB"});if(!(!t||await Nk({ref:t})))return t}async function rse(){xv=null,nt&&(p5({ref:nt}),nt=void 0);const t=await bP();t&&p5({ref:t})}async function sse(){return await bB(await hp(!1,"normal"))}async function yP(t,e,n,s,i){if(!nt)return;const a=Kre({displayEventsStore:t,amountOfDaysInMenuBarApp:e.amountOfDaysInMenuBarApp,limitMenuBarTitleToToday:e.limitMenuBarTitleToToday,timezone:e.localTimeZoneString});Lre(a.barEvent,e.autoJoinAllMeetings);const l=await ise(a,e,n),p=await ose(a,n,e);l.length===0&&p.length===0&&p.push({label:Qre(e.amountOfDaysInMenuBarApp),enabled:!1});const f=await lse(i),v=[...l,...p,...f,{type:"separator"},{label:`${Yr.label}`,click:()=>{si(),ii({steal:!0}),s.executeAction(Yr)}},{type:"separator"},{label:"Rise",click:()=>{si(),ii({steal:!0})}},{label:"Settings",click:()=>{si(),ii({steal:!0}),s.executeAction(ds)}},{type:"separator"},{label:"Quit Rise Completely",click:()=>{kk()}}],E=use(v);xv!==E&&(xv=E,cse(pb),pb=await yB({template:await ase(v)}),await vB({ref:nt,menu:pb}))}async function ise(t,e,n){if(!nt)return[];const s=[];if(t.barEvent){const i=Ge(t.barEvent.startsAt,hs(new Date));i>0?(Mr(`${ni(t.barEvent)}  ${rs(t.barEvent.startsAt,"short",!0)}`,e.menuBarMode),s.push({label:`Starts ${rs(t.barEvent.startsAt,"long",!0)}`,enabled:!1})):i===0?(Mr(`${ni(t.barEvent)}  Starts now`,e.menuBarMode),s.push({label:"Starts now",enabled:!1})):i<0&&i>-10?(Mr(`${ni(t.barEvent)}  ${rs(t.barEvent.startsAt,"short")} ago`,e.menuBarMode),s.push({label:`Started ${rs(t.barEvent.startsAt,"long",!1)} ago`,enabled:!1})):(Mr(`${ni(t.barEvent)}  ${rs(t.barEvent.endsAt,"short")} left`,e.menuBarMode),s.push({label:`Ends ${rs(t.barEvent.endsAt,"long",!0)}`,enabled:!1})),s.push(await gP(t.barEvent,n,e.timeNotation,e.localTimeZoneString)),s.push(...qre(t.barEvent,e)),s.push(...ese(t.barEvent,e.mapsProvider)),Y0({ref:nt,image:await hp(!0,e.menuBarMode)})}else e.hideMenuBarWhenNoEvents?(Mr("","tiny"),Y0({ref:nt,image:await hp(!0,"tiny")})):(e.limitMenuBarTitleToToday?Mr("No more events today",e.menuBarMode):Mr("No upcoming events",e.menuBarMode),Y0({ref:nt,image:await hp(!1,e.menuBarMode)}));return s}async function ase(t){return Promise.all(t.map(async e=>{if("color"in e){const{color:n,...s}=e;return{...s,icon:n?await $re(n):void 0}}if("conferencing"in e){const{conferencing:n,...s}=e;return{...s,icon:n?await Bre(n):void 0}}return e}))}async function ose(t,e,n){const s=[];let i=null;for(const a of t.upcomingEvents){if(a.endsAt<new Date)continue;const l=Oe(a.startsAt,"yyyy-MM-dd",n.localTimeZoneString);i!==l&&(s.push({type:"separator"}),s.push(Xre(a.startsAt,n.localTimeZoneString)),i=l),s.push(await gP(a,e,n.timeNotation,n.localTimeZoneString))}return s}async function lse(t){const e=[],n=t.visibleSchedulingLinks();return n.length>0&&(e.push({type:"separator"}),e.push({label:"Scheduling links",enabled:!1})),n.forEach(s=>{var i;e.push({label:`${s.title||"Untitled link"}${s.defaultDuration&&`  ${lr(s.defaultDuration,!0)}`}`,color:(i=s.calendar)==null?void 0:i.color,click:async()=>{xB(s.link)}})}),e}function Mr(t,e){nt&&(e==="normal"?g5({ref:nt,title:t}):g5({ref:nt,title:""}),jB({ref:nt,tooltip:t}))}function cse(t){t&&setTimeout(()=>{t&&SB(t)},Ep)}function use(t){return JSON.stringify(t.map(e=>{if(e.type==="separator")return"separator";if(e.label){const{click:n,...s}=e;return s}return"unknown"}))}var YN,XN,JN,QN,qN,e6;function dse(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:t6(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||t6(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return mse(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:hse(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function hse(t){var e=fse(t,"string");return typeof e=="symbol"?e:e+""}function fse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t6(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function mse(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}var H1,vf,xf,jf,Sf,Af;const Qg=class Qg{constructor(){ie(this,"disposables",(YN(this),new Set));B(this,vf,XN(this,window.innerHeight));B(this,xf,JN(this,window.innerWidth));B(this,jf,QN(this,window.devicePixelRatio));B(this,Sf,qN(this,window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));B(this,Af,e6(this,null));pe.colorScheme=this.colorScheme,pe.devicePixelRatio=this.devicePixelRatio,pe.viewportWidth=this.innerWidth,pe.viewportHeight=this.innerHeight,this.startObservingInnerSize(),this.startObservingDevicePixelRatio(),this.startObservingColorScheme(),this.startObservingOnlineStatus()}get innerHeight(){return H(this,vf)}set innerHeight(e){V(this,vf,e)}get innerWidth(){return H(this,xf)}set innerWidth(e){V(this,xf,e)}get devicePixelRatio(){return H(this,jf)}set devicePixelRatio(e){V(this,jf,e)}get colorScheme(){return H(this,Sf)}set colorScheme(e){V(this,Sf,e)}get history(){return H(this,Af)}set history(e){V(this,Af,e)}get shouldDisableHeavyAnimations(){return navigator.hardwareConcurrency<4||this.innerWidth*this.innerHeight*this.devicePixelRatio>1728*1080*2}isRoute(e){var n;return((n=this.history)==null?void 0:n.location.pathname)===e}doesRouteStartWith(e){var n;return((n=this.history)==null?void 0:n.location.pathname.startsWith(e))??!1}startObservingInnerSize(){const e=this;function n(){xe(()=>{e.innerHeight!==window.innerHeight&&(e.innerHeight=window.innerHeight,pe.viewportHeight=window.innerHeight),e.innerWidth!==window.innerWidth&&(e.innerWidth=window.innerWidth,pe.viewportWidth=window.innerWidth)})}window.addEventListener("resize",n,{passive:!0}),this.disposables.add(()=>{window.removeEventListener("resize",n)})}startObservingDevicePixelRatio(){const e=this;function n(){xe(()=>{e.devicePixelRatio=window.devicePixelRatio,pe.devicePixelRatio=window.devicePixelRatio}),e.disposables.delete(s),e.startObservingDevicePixelRatio()}function s(){i.removeEventListener("change",n)}this.disposables.add(s);const i=window.matchMedia(`(resolution: ${this.devicePixelRatio}dppx)`);i.addEventListener("change",n,{passive:!0,once:!0})}startObservingColorScheme(){const e=this;function n(i){xe(()=>{e.colorScheme=i.matches?"dark":"light",pe.colorScheme=i.matches?"dark":"light"})}const s=window.matchMedia("(prefers-color-scheme: dark)");s.addEventListener("change",n,{passive:!0}),this.disposables.add(()=>{s.removeEventListener("change",n)})}startObservingOnlineStatus(){function e(){xe(()=>{pe.connectionStatus=navigator.onLine?"online":"offline"})}window.addEventListener("online",e,{passive:!0}),window.addEventListener("offline",e,{passive:!0}),this.disposables.add(()=>{window.removeEventListener("online",e),window.removeEventListener("offline",e)})}dispose(){this.disposables.forEach(e=>e())}};H1=new WeakMap,vf=new WeakMap,xf=new WeakMap,jf=new WeakMap,Sf=new WeakMap,Af=new WeakMap,B(Qg,H1,[XN,JN,QN,qN,e6,YN]=dse(Qg,[[re,1,"innerHeight"],[re,1,"innerWidth"],[re,1,"devicePixelRatio"],[re,1,"colorScheme"],[re,1,"history"],[ne,3,"shouldDisableHeavyAnimations"]],[]).e);let jv=Qg;class pse{constructor({displayEventsStore:e,userStore:n,appStore:s}){ie(this,"displayEventsStore");ie(this,"actionsStore");ie(this,"userStore");ie(this,"appStore");ie(this,"reminderInterval");ie(this,"menubarRefreshInterval");ie(this,"eventNotifications");this.displayEventsStore=e,this.userStore=n,this.appStore=s,this.eventNotifications={},pe.isDesktopApp&&(this.reminderInterval=window.setInterval(()=>{this.triggerNotifications(),this.clearIrrelevantNotifications()},1e3))}triggerNotifications(){const e=new Date,n=e0(e,1);L$(this.displayEventsStore,{startDate:e,endDate:n}).forEach(i=>{if(!(i instanceof de)||!i.startsAt)return;const a=fr(i.startsAt,new Date);a<-10||a>=310||(a<302&&a>=298&&!this.notificationSent(i,"before-start")&&this.triggerNotification(i,"before-start"),a<3&&a>=-3&&!this.notificationSent(i,"on-start")&&this.triggerNotification(i,"on-start"))})}clearIrrelevantNotifications(){Object.keys(this.eventNotifications).forEach(e=>{const n=this.eventNotifications[e];n.triggeredNotifications.has("before-start")&&new Date>n.event.startsAt&&n.refs["before-start"]&&(this.closeNotification(n.refs["before-start"]),n.triggeredNotifications.delete("before-start")),n.triggeredNotifications.has("on-start")&&new Date>Ie(n.event.startsAt,15)&&n.refs["on-start"]&&(this.closeNotification(n.refs["on-start"]),n.triggeredNotifications.delete("on-start"))})}notificationSent(e,n){return this.eventNotifications[e.uuid]?!!this.eventNotifications[e.uuid].triggeredNotifications.has(n):!1}markNotificationSent(e,n){this.eventNotifications[e.uuid]||(this.eventNotifications[e.uuid]={triggeredNotifications:new Set,event:e,refs:{}}),this.eventNotifications[e.uuid].triggeredNotifications.add(n)}saveNotificationRef(e,n,s){this.eventNotifications[e.uuid].refs[n]=s}setActionsStore(e){this.actionsStore=e}async triggerNotification(e,n){this.markNotificationSent(e,n);const s=await this.showNotification(e,n);this.saveNotificationRef(e,n,s),X0("click",()=>{this.openEvent(e)},{ref:s}),X0("action",i=>{if(i===-1)return this.openEvent(e);const a=Zr(e);a&&Fe(a)},{ref:s}),X0("close",()=>{window.setTimeout(()=>{this.eventNotifications[e.uuid].triggeredNotifications.delete(n)},10*_n)},{ref:s})}openEvent(e){si(),ii({steal:!0}),this.appStore.setSelectedObject(e),this.appStore.setCalendarDateTime(e.startsAt)}async showNotification(e,n){const s=await AB({title:this.buildTitle(e,n),subtitle:this.buildSubtitle(e,n),silent:!1,actions:this.buildActions(e)});return EB({ref:s}),s}buildTitle(e,n){const s=an(e);return n==="before-start"?`In 5 mins: ${s}`:`Now: ${s}`}buildSubtitle(e,n){var i;const s=`${nn(e.startsAt,this.userStore.timeNotation)} - ${nn(e.endsAt,this.userStore.timeNotation)}`;return(i=e.conferenceData)!=null&&i.label?`${s}
${e.conferenceData.label}`:e.location?`${s}
${e.location}`:s}buildActions(e){return Zr(e)?[{type:"button",text:"Join"}]:[]}closeNotification(e){DB({ref:e})}}function n6(t,e){if(!t.attendees||!e)return t;const n=t.attendees.map(s=>({...s,name:e.nameForEmail({email:s.email})||s.name,profileImageUrl:e.profileImageUrlForEmail(s.email)||void 0}));return{...t,attendees:n}}const vP=t=>e=>e.didChange(t),xP=t=>e=>e.didOnlyChange(t),jP=vP("influences_availability"),gse=xP("title"),bse=vP("recurrence");function SP(t){const e=["remote_color_id","influences_availability","visibility","calendar_uuid"];return Object.keys(t.newValues).filter(s=>!e.includes(s)).length>0}function AP(t){const e=t.previousValues.attendees;return!!((e===void 0||!(e instanceof Array)||e.length===0)&&t.newValues.attendees)}function yse(t,e){const n=e.previousValues.attendees;if(n===void 0||!(n instanceof Array)||n.length===0||!xP("attendees")(e))return!1;const i=ys(t.attendees,n,"email");return ys(n,t.attendees,"email").length>0?!1:i.length>0}function EP(t,e){if(!t.selfAttendee)return!1;if(Object.keys(e.newValues).length===1&&Object.keys(e.newValues)[0]==="attendees"){const n=e.previousValues.attendees;if(!n||!(n instanceof Array))return!1;if(t.attendees.length===n.length){let s=!1;return t.attendees.forEach(i=>{const a=n.find(l=>l.email===i.email);!i.isSelf&&JSON.stringify(i.asJson)!==JSON.stringify(a)&&(s=!0)}),!s}}return!1}function vse(t,e){if(gse(e)){const n=sn(e.previousValues.title||""),s=sn(t.title||"");return n.title===s.title&&n.isCompleted!==s.isCompleted}return!1}function xse(t){const e=t.readOnly?" This option is under construction for read only events":t.isOrganizer?void 0:" This option is under construction if you are not the organizer",n=t.type==="outOfOffice"?"Google does not allow us to cancel one out of office event in a series.":t.type==="workingLocation"?"Google does not allow us to cancel one working location event in a series.":void 0;return[{key:"just-this",label:"This event",disabled:t.isDirtyProperty("calendar")&&t.isRecurring||t.type==="outOfOffice"||t.type==="workingLocation",tooltip:n},{key:"this-and-following",label:"This and following events",disabled:t.readOnly||!t.isOrganizer||t.isDirtyProperty("calendar")&&t.isRecurring,tooltip:e},{key:"all",label:"All events"}]}function jse(t){var w,D;const e=M=>t.loadLastSavedValueForProperty(M),n=M=>t.isDirtyProperty(M),s=t.loadLastSavedValueForProperty("allDay"),i=e(s?"startsAtDate":"startsAt"),a=e(s?"endsAtDate":"endsAt"),l=t.allDay,p=l?t.startsAtDate:t.startsAt,f=l?t.endsAtDate:t.endsAt,v={startDate:i,endDate:a,allDay:s},E={startDate:p,endDate:f,allDay:l};if(n("title")&&(v.title=t.loadLastSavedValueForProperty("title"),E.title=t.title||void 0),n("location")&&(v.location=t.loadLastSavedValueForProperty("location"),E.location=t.location||void 0),n("description")&&(v.description=t.loadLastSavedValueForProperty("description"),E.description=t.description||void 0),n("recurrence")){const M=t.loadLastSavedValueForProperty("recurrence");if(M){const d=hk(JSON.parse(M).join(`
`),{forceset:!0}).rrules();d[0]&&(v.recurrence=On(d[0].toText()))}E.recurrence=On(((w=t.rrule)==null?void 0:w.toText())||"")}if(n("conferenceSolution")){const M=t.loadLastSavedValueForProperty("conferenceSolution");M&&(v.conferenceSolution=M.label||void 0),E.conferenceSolution=((D=t.conferenceSolution)==null?void 0:D.label)||void 0}if(n("attendees")){const M=t.loadLastSavedValueForProperty("attendees");v.attendees=M,E.attendees=t.attendees}return{before:v,after:E}}function DP(t,e,n){var i;if(!t.isRecurring)return[];if((i=n==null?void 0:n.opts)!=null&&i.recurringSaveDecision)return[n.opts.recurringSaveDecision];if(t.isRecurring&&!t.getLastSavedValueForProperty("recurrence"))return[ut.All];if(!t.isOrganizer&&jP(e))return[ut.Instance];if(!t.isMeeting&&vse(t,e))return[ut.Instance];if(t.isDirtyProperty("calendar"))return[ut.All];let s=[ut.Instance,ut.FromInstance,ut.All];return bse(e)&&(s=s.filter(a=>a!==ut.Instance)),(t.readOnly||!t.isOrganizer)&&(s=s.filter(a=>a!==ut.FromInstance)),Sse(t)&&(s=s.filter(a=>a!==ut.All)),s}function Sse(t){if(!t.isRecurring)return!1;if(t.allDay&&t.isDirtyProperty("startsAtDate"))return!0;if(!t.allDay){if(!t.isDirtyProperty("startsAt"))return!1;const e=t.loadLastSavedValueForProperty("startsAt");if(!e||!(e instanceof Date))return!1;const n=b5(t.startsAt),s=b5(e);return n!==s}return!1}function Ase(t,e,n){const s=(n==null?void 0:n.force)||!1;return t.isMeeting&&AP(e)&&s?!0:!t.isMeeting||!SP(e)||EP(t,e)?!1:null}var An=(t=>(t[t.Save=0]="Save",t[t.SaveAndUpdate=1]="SaveAndUpdate",t))(An||{});async function Ese(t,e,n,s){var v;const i=(n==null?void 0:n.force)||!1,a=((v=n==null?void 0:n.opts)==null?void 0:v.confirmDecision)||!1,l=Ase(t,e,n),p=DP(t,e,n),[f]=p;return!i&&!a?{save:"continueEditing",recurring:null,sendUpdate:!1}:p.length>1||typeof l!="boolean"?Dse(t,e,n,s):{save:"save",recurring:f||null,sendUpdate:l||!1}}async function Dse(t,e,n,s){const i=an(t),a={title:`Edit event ${i}`,description:void 0,displayTimezone:t.objectPool.user.displayTimezone,timeNotation:t.objectPool.user.timeNotation,recurringSaveOptions:DP(t,e,n),saveButtons:[{action:An.Save,label:"Save"}],...jse(t)};if(t.isMeeting&&(a.title="Send update to participants?",a.description="Do you want to save and send an email to the participants?",a.saveButtons=[{action:An.SaveAndUpdate,label:"Send update"},{action:An.Save,label:"Save without sending email"}]),t.isRecurring&&(a.title=`Review your changes to recurring event ${i}`,a.description=void 0),t.isMeeting&&AP(e)&&(a.saveButtons=[{action:An.SaveAndUpdate,label:"Save and invite"}]),t.isMeeting&&yse(t,e)&&(a.saveButtons=[{action:An.SaveAndUpdate,label:"Save and invite"}],a.description="Do you want to save and invite the added participants?",t.isRecurring||(a.title="Send invite to participants?")),t.isMeeting&&!SP(e)&&(a.saveButtons=[{action:An.Save,label:"Save"}]),EP(t,e)&&(a.saveButtons=[{action:An.Save,label:"Save"}],a.description=void 0,a.title="Save invite response",t.isRecurring)){const l={accepted:"Accepted",tentative:"Tentative",declined:"Declined",unknown:"Unknown",needsAction:"Needs action"};a.title=`Do you want to respond with ${l[t.attendanceStatus]} to this or all events?`}return s(a)}function wse({options:t,buttonRef:e,...n}){if(t.length<1)throw new Error("ButtonWithDropdown needs at least one option to display");const s=t.length>1,[i,...a]=t,{label:l,onClick:p}=i;return r.jsxs("div",{className:"group inline-flex items-center justify-center rounded-md ",children:[r.jsx(ae,{ref:e,variant:"primary",className:s?"rounded-r-none border-r border-primary-500":"",onClick:p,...n,children:l}),s&&r.jsx(Ue,{align:"end","data-side":"left",options:a.map(f=>({label:f.label,onSelect:f.onClick})),children:r.jsx(ae,{className:"rounded-l-none pr-px ring-0",icon:ym,variant:"primary"})})]})}function Cse(t){const{promise:e,resolve:n}=ZH(),{close:s}=Ke(({close:i,closeHandlerRef:a})=>(a.current=()=>(window.setTimeout(()=>n({save:"continueEditing",recurring:null,sendUpdate:!1})),!0),r.jsx(kse,{...t,resolvePromise:n,close:i})),{id:"save-event-modal"});return e.cancel=s,e}const Tse={[ut.Instance]:"This event",[ut.FromInstance]:"This and following",[ut.All]:"All events"},Nse=X(function({title:e,description:n,before:s,after:i,timeNotation:a,displayTimezone:l,recurringSaveOptions:p=[],close:f,resolvePromise:v,saveButtons:E=[{action:An.Save,label:"Save"}],peopleStore:w}){const[D,M]=K.useState((p==null?void 0:p[0])||ut.All),o=c7(s,i)||u7(s,i)||SW(s,i),d=p&&p.length>1,m=u=>()=>{f(),v({save:"save",recurring:p.length?D:null,sendUpdate:u===An.SaveAndUpdate})},h=X_();return r.jsxs("div",{className:"flex max-h-[80vh] w-[42rem] max-w-lg flex-col",children:[r.jsxs("div",{className:U("flex-none p-24",d&&"pb-20"),children:[r.jsx("h1",{className:U(ht),children:e}),n&&r.jsx("p",{className:U(Ne,"mt-8 text-contrast-50"),children:n}),d&&r.jsx(Ax,{className:"mt-16",variant:"plain",size:"small",options:p.map(u=>({value:u,label:Tse[u]})),value:D,onValueChange:u=>M(u)})]}),o&&r.jsxs("div",{className:"grid gap-8 overflow-y-auto border-t border-contrast-10 p-24",children:[r.jsx("p",{className:oe,children:"Changes"}),r.jsx(AW,{before:n6(s,w),after:n6(i,w),timeNotation:a,displayTimezone:l,className:"w-full"})]}),r.jsxs("div",{className:"flex flex-none justify-end gap-12 border-t border-contrast-10 bg-contrast-5 px-24 py-8",children:[r.jsx(ae,{destructive:!0,className:"mr-auto",onClick:()=>{f(),v({save:"discard",recurring:null,sendUpdate:!1})},children:"Discard changes"}),r.jsx(ae,{onClick:()=>{f(),v({save:"continueEditing",recurring:null,sendUpdate:!1})},keyboardShortcut:{key:"Escape"},children:"Continue editing"}),r.jsx(wse,{buttonRef:h,options:E.map(({action:u,label:P},R)=>({label:P,onClick:m(u),keyboardShortcut:R===0?{key:"Enter"}:void 0}))})]})]})});function kse(t){const{peopleStore:e}=se();return r.jsx(Nse,{...t,peopleStore:e})}const _se={async shouldSave(t,e,n){var i;if(!t.calendar)throw new Error("Event detached from calendar");if(t.calendar.accessLevel==="reader")throw new Error(`Cannot save event ${t.uuid} in read-only calendar ${(i=t.calendar)==null?void 0:i.uuid} (changed props: ${JSON.stringify(t.dirtyProperties)})`);const s=await Ese(t,n,e,Cse);return s.save==="save"&&(n.setAdditionalValue("recurringEventDecision",s.recurring),n.setAdditionalValue("sendUpdatesDecision",s.sendUpdate),Ose(t,s.save,n)),s.save},async shouldDelete(t,e){var s;if(t.calendar.accessLevel==="reader")throw new Error(`Cannot delete event ${t.uuid} in read-only calendar ${(s=t.calendar)==null?void 0:s.uuid}`);if(t.isDraft)return!0;let n=!0;return t.isMeeting&&(n=await Mse(t)),n&&t.isRecurring&&(n=await Ise(t,e)),n}};function Ose(t,e,n){if(e==="save"&&t.isRecurring&&!t.isOrganizer&&jP(n)){const s=It(t.startsAt||t.startsAtDate);jt(`Saved changes for ${s}. You cannot update availability for all events in this series if youre not the organizer.`)}}async function Ise(t,e){const n=xse(t),s=await xt({title:"Youre about to delete a recurring event",description:"Do you want to delete all occurrences or just the selected occurence?",secondaryAction:n});return s==="just-this"?e.setAdditionalValue("recurringEventDecision",ut.Instance):s==="this-and-following"?e.setAdditionalValue("recurringEventDecision",ut.FromInstance):s==="all"&&e.setAdditionalValue("recurringEventDecision",ut.All),s!=="closed"}async function Mse(t){return t.isOrganizer?await xt({title:"Youre about to delete this meeting",description:"Do you want to delete this meeting and notify attendees?",primaryAction:{key:"yes",label:"Delete meeting",negative:!0},secondaryAction:{key:"no",label:"Cancel"}})==="yes":await xt({title:"Youre about to delete and decline this meeting",description:"Do you want to delete and decline this meeting and notify attendees?",primaryAction:{key:"yes",label:"Delete and decline meeting",negative:!0},secondaryAction:{key:"no",label:"Cancel"}})==="yes"}function Ks(t){const e=new BroadcastChannel("quick-task");e.postMessage(t),e.close()}function as(t,e){const n=new BroadcastChannel("quick-task");return n.onmessage=s=>{s.data.type===t&&e(s.data)},()=>n.close()}function Vie(t,e){K.useEffect(()=>as(t,e),[t,e])}const Rse=1200,Pse=600,wP=0;let fp=null;async function Lse({tasks:t,projects:e,workspaces:n,userStore:s,objectPool:i}){if(!a5()){console.warn("Disabled quick task window. Update Rise for Desktop to latest version (at least 1.19.2).");return}const a=await Bse();let l=!1;Jn(()=>{Fse(s,()=>{l?f(a):E(a)})});let p=!0;Tb("focus",()=>{p=!0}),Tb("blur",()=>{p=!1}),as("closeModal",async()=>{f(a)}),as("createTask",async w=>{const D=t.new();if(D.workspace=s.privateWorkspace,w.projectUuid){const M=e.findByUuid(w.projectUuid);M&&(D.project=M,D.workspace=D.project.workspace)}D.durationInMinutes=30,D.title=w.title,D.status=D.workspace.taskUnstartedStatus,D.assignee=i.member,D.description=JSON.parse(w.description),w.dueDate&&D.setDueDate(yn(w.dueDate)),t.add(D),D.save()}),as("requestData",()=>{if(!n)return;const w=n.items.map(D=>({domain:D.domain,name:D.name,isPersonal:D.isPersonal,projects:w7(D.projects).map(M=>({uuid:M.uuid,name:M.name}))}));Ks({type:"dataResponse",startOfWeek:s.startOfWeek,data:w})}),as("requestMentionItems",w=>{const D=w.projectUuid?e.findByUuid(w.projectUuid):null;if(D){Ks({type:"mentionsResponse",mentionItems:Cx(D).map(M=>({key:M.uuid,text:M.displayName||M.email}))});return}Ks({type:"mentionsResponse",mentionItems:[]})}),as("mouseEntersModalArea",w=>{w.mouseOnModalArea&&l?s6(a):Sv(a)});async function f(w){y5({ref:w},wP),Sv(w),l=!1,Ks({type:"resetInput"}),v||v5(),v5({ref:w})}let v=!1;const E=w=>{v=p,kB({ref:w}),y5({ref:w},1),s6(w),l=!0,Ks({type:"modalOpened"})}}async function Bse(){const t=await wB({width:Rse,height:Pse,show:!1,alwaysOnTop:!0,minimizable:!1,maximizable:!1,resizable:!1,frame:!1,transparent:!0,hasShadow:!1,roundedCorners:!1,center:!0,fullscreen:!1,fullscreenable:!1,skipTaskbar:!0,acceptFirstMouse:!0,opacity:wP});Sv(t);const e=await CB({ref:t});return await TB({ref:e},"https://beta.risecalendar.com/app/quick-task/"),window.addEventListener("unload",()=>{NB({ref:t})}),t}function Fse(t,e){var n,s;fp&&((n=window.todesktop)==null||n.shortcut.unregister(fp).catch(i=>r6(t,i))),t.globalQuickTaskWindowKeyboardShortcut&&((s=window.todesktop)==null||s.shortcut.register(t.globalQuickTaskWindowKeyboardShortcut,()=>{e()}).catch(i=>r6(t,i)),fp=t.globalQuickTaskWindowKeyboardShortcut)}function r6(t,e){e.message.includes("Invalid accelerator")&&(fp=null,t.setGlobalQuickTaskWindowKeyboardShortcut(null))}function s6(t){a5()&&_k({ref:t},!1)}function Sv(t){a5()&&_k({ref:t},!0,{forward:!0})}function a5(){return pe.isAtLeastVersion("1.19.2")}function Hse({userStore:t,objectPool:e,tasks:n,projects:s,workspaces:i,browserStore:a,onGlobalHotkeyPressed:l}){pe.isDesktopApp&&(Vse(t),Wse(t,l),$se(t),Use(),Gse(a),n&&i&&s&&Lse({tasks:n,workspaces:i,userStore:t,projects:s,objectPool:e}))}function Vse(t){Jn(()=>{_B(t.colorScheme)})}function Wse(t,e){Jn(()=>{zse(t,e)}),window.addEventListener("unload",()=>{CP(t)})}async function $se(t){if(pe.isMac&&(document.addEventListener("keydown",function(e){e.metaKey&&e.key==="q"&&(t.showMenuBarApp?(e.preventDefault(),OB().then(n=>{n.forEach(s=>{s.id==="1"&&IB({ref:s})})}),MB()):kk())}),t.showMenuBarApp)){const e=await Tb("show",()=>{RB()});window.addEventListener("unload",()=>{e()})}}function Use(){PB("update-downloaded",()=>{H2("A new version of Rise is available.",[{label:"Restart",variant:"secondary",onClick:()=>LB()}])})}function Gse(t){var e;(e=window.todesktop)==null||e.on("open-protocol-url",(n,s)=>{const i=new URL(s.url),a=i.href.replace(i.origin,"");if(t.history&&a.startsWith(nj)){s.preventDefault();const l=a.replace(nj,"");t.history.navigate(l.startsWith("/")?l:`/${l}`)}})}let gi=null;function zse(t,e){var n;if(CP(t),t.globalNextEventKeyboardShortcut)try{(n=window.todesktop)==null||n.shortcut.isRegistered(t.globalNextEventKeyboardShortcut).then(s=>{var i;!s&&t.globalNextEventKeyboardShortcut&&(gi=t.globalNextEventKeyboardShortcut,(i=window.todesktop)==null||i.shortcut.register(t.globalNextEventKeyboardShortcut,()=>{e()}))}).catch(s=>TP(t,s))}catch{}}function CP(t){var e,n;gi&&((e=window.todesktop)==null||e.shortcut.unregister(gi),gi=null),t.globalNextEventKeyboardShortcut&&((n=window.todesktop)==null||n.shortcut.unregister(t.globalNextEventKeyboardShortcut).catch(s=>TP(t,s)))}function TP(t,e){e.message.includes("Invalid accelerator")&&(gi=null,t.setGlobalNextEventKeyboardShortcut(null))}const NP=K.createContext(!1);function Kse({children:t}){const{status:e}=se("loading");return e==="loaded"?r.jsx(NP.Provider,{value:!0,children:t}):null}function Zse(){return K.useContext(NP)}const Yse={async userInSuboptimalSelectsAnotherEvent(t,e){const n=e.allDay?It(e.startsAtDate):`${It(e.startsAt)} ${Ye(e.startsAt,24)}`,s=e.title,i=await xt({title:"Schedule the meeting here?",description:`Do you want to schedule the meeting on ${n}?`,primaryAction:{key:"move-event",label:"Yes"},secondaryAction:[{key:"cancel-and-open",label:`Open event ${s}`},{key:"continue-editing",label:"No"}]});return i==="cancel-and-open"?(t.mode="normal",t.revertUnsavedChanges(),e):(i==="move-event"&&(e.allDay?(t.allDay||t.setAllDay(!0),t.setStartsAtDate(e.startsAtDate)):(t.allDay&&(t.setAllDay(!1),t.setDuration(e.duration)),t.setStartsAt(e.startsAt)),t.mode="normal",t.findTimeResponse=null,t.findTimeQuery=null),t)},onSelectedObjectChanged:t=>{t instanceof de&&Me(ke.EVENT_OPENED)}};function i6(t){t.hasTag("persister")?window.localStorage.setItem("persister","true"):window.localStorage.removeItem("persister"),t.hasTag("no-persister")?(window.localStorage.setItem("no-persister","true"),window.localStorage.removeItem("persister")):window.localStorage.removeItem("no-persister")}var a6,o6,l6,c6,u6,d6,h6,f6,m6,p6,g6,b6,y6,v6,x6,j6,S6,A6,E6,D6,w6,C6,T6,N6,k6,_6,O6,I6,M6,R6,P6,L6,B6,F6,H6,V6,W6,$6,U6,G6,z6,K6,Z6,Y6,kP,_P,OP,IP;function Xse(t,e,n,s,i,a){function l(o,d,m){return function(h,u){return m&&m(h),o[d].call(h,u)}}function p(o,d){for(var m=0;m<o.length;m++)o[m].call(d);return d}function f(o,d,m,h){if(typeof o!="function"&&(h||o!==void 0))throw new TypeError(d+" must "+(m||"be")+" a function"+(h?"":" or undefined"));return o}function v(o,d,m,h,u,P,R,_,F,C,A,j,x){function N(g){if(!x(g))throw new TypeError("Attempted to access private element on non-instance")}var b,O=d[0],T=d[3],L=!_;if(!L){m||Array.isArray(O)||(O=[O]);var c={},k=[],S=u===3?"get":u===4||j?"set":"value";C?(A||j?c={get:X6(function(){return T(this)},h,"get"),set:function(g){d[4](this,g)}}:c[S]=T,A||X6(c[S],h,u===2?"":S)):A||(c=Object.getOwnPropertyDescriptor(o,h))}for(var y=o,G=O.length-1;G>=0;G-=m?2:1){var J=O[G],Q=m?O[G-1]:void 0,ee={},W={kind:["field","accessor","method","getter","setter","class"][u],name:h,metadata:P,addInitializer:(function(g,I){if(g.v)throw Error("attempted to call addInitializer after decoration was finished");f(I,"An initializer","be",!0),R.push(I)}).bind(null,ee)};try{if(L)(b=f(J.call(Q,y,W),"class decorators","return"))&&(y=b);else{var $,z;W.static=F,W.private=C,C?u===2?$=function(g){return N(g),c.value}:(u<4&&($=l(c,"get",N)),u!==3&&(z=l(c,"set",N))):($=function(g){return g[h]},(u<2||u===4)&&(z=function(g,I){g[h]=I}));var te=W.access={has:C?x.bind():function(g){return h in g}};if($&&(te.get=$),z&&(te.set=z),y=J.call(Q,j?{get:c.get,set:c.set}:c[S],W),j){if(typeof y=="object"&&y)(b=f(y.get,"accessor.get"))&&(c.get=b),(b=f(y.set,"accessor.set"))&&(c.set=b),(b=f(y.init,"accessor.init"))&&k.push(b);else if(y!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(y,(A?"field":"method")+" decorators","return")&&(A?k.push(y):c[S]=y)}}finally{ee.v=!0}}return(A||j)&&_.push(function(g,I){for(var Z=k.length-1;Z>=0;Z--)I=k[Z].call(g,I);return I}),A||L||(C?j?_.push(l(c,"get"),l(c,"set")):_.push(u===2?c[S]:l.call.bind(c[S])):Object.defineProperty(o,h,c)),y}function E(o,d){return Object.defineProperty(o,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:d})}if(arguments.length>=6)var w=a[Symbol.metadata||Symbol.for("Symbol.metadata")];var D=Object.create(w??null),M=function(o,d,m,h){var u,P,R=[],_=function(S){return qse(S)===o},F=new Map;function C(S){S&&R.push(p.bind(null,S))}for(var A=0;A<d.length;A++){var j=d[A];if(Array.isArray(j)){var x=j[1],N=j[2],b=j.length>3,O=16&x,T=!!(8&x),L=(x&=7)==0,c=N+"/"+T;if(!L&&!b){var k=F.get(c);if(k===!0||k===3&&x!==4||k===4&&x!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+N);F.set(c,!(x>2)||x)}v(T?o:o.prototype,j,O,b?"#"+N:Jse(N),x,h,T?P=P||[]:u=u||[],R,T,b,L,x===1,T&&b?_:m)}}return C(u),C(P),R}(t,e,i,D);return n.length||E(t,D),{e:M,get c(){var o=[];return n.length&&[E(v(t,[n],s,t.name,5,D,o),D),p.bind(null,o,t)]}}}function Jse(t){var e=Qse(t,"string");return typeof e=="symbol"?e:e+""}function Qse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function X6(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function qse(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}kP=[Y,Y.bound];_P=[Y,Y.bound];OP=[Y,Y.bound];IP=[Y,Y.bound];var V1,Ef,Df,wf,Cf,Tf,Nf,kf,_f,Of,If,Mf,Rf,Pf,Lf,Bf,Ff,Hf,Vf,Wf,$f,Uf,Gf,zf,Kf,Zf,Yf,Xf,Jf,Qf,qf,em,tm,nm,rm,sm,im,am,om,lm,cm,um,dm,hm;const qg=class qg{constructor(){B(this,Ef,(a6(this),o6(this,"loading")));B(this,Df,l6(this));B(this,wf,c6(this));B(this,Cf,u6(this));ie(this,"transactionQueue");B(this,Tf,d6(this,null));B(this,Nf,h6(this,null));B(this,kf,f6(this,null));B(this,_f,m6(this,null));B(this,Of,p6(this,null));B(this,If,g6(this,null));B(this,Mf,b6(this,null));B(this,Rf,y6(this,null));B(this,Pf,v6(this,null));B(this,Lf,x6(this,null));B(this,Bf,j6(this,null));B(this,Ff,S6(this,null));B(this,Hf,A6(this,null));B(this,Vf,E6(this,null));B(this,Wf,D6(this,null));B(this,$f,w6(this,null));B(this,Uf,C6(this,null));B(this,Gf,T6(this,null));B(this,zf,N6(this,null));B(this,Kf,k6(this,null));B(this,Zf,_6(this,null));B(this,Yf,O6(this,null));B(this,Xf,I6(this,null));B(this,Jf,M6(this,null));B(this,Qf,R6(this,null));B(this,qf,P6(this,null));B(this,em,L6(this,null));B(this,tm,B6(this,null));B(this,nm,F6(this,null));B(this,rm,H6(this,null));B(this,sm,V6(this,null));B(this,im,W6(this,null));B(this,am,$6(this,null));B(this,om,U6(this,null));B(this,lm,G6(this,null));B(this,cm,z6(this,null));B(this,um,K6(this,null));B(this,dm,Z6(this,null));B(this,hm,Y6(this,null));ie(this,"websocketLogger",null);ie(this,"isImpersonating");un.setDelegate(r$),this.browserStore=new jv,this.transactionQueue=new zy(this.onTransactionFailed),this.isImpersonating=new URLSearchParams(window.location.search).get("impersonate")==="true",this.objectPool=new Gy(this.transactionQueue,!this.isImpersonating&&window.localStorage.getItem("persister")==="true"&&window.localStorage.getItem("no-persister")!=="true"?new uY:void 0,this.onObjectPoolModelCreated),this.actionsStore=new yv(new Oi(this)),this.objectPool.ready.then(async()=>{var n,s,i;const e=await W5({objectPool:this.objectPool,preferLocal:!0});if(e.status==="error"){console.error(e.error);return}if(e.status==="unauthorized"){(n=this.objectPool.objectStorage)==null||n.clear(),xe(()=>this.status="unauthorized");return}if(t$(e.user.uuid),e.status==="authorizedRemote"&&i6(e.user),this.loadStores(e),e.status==="authorizedLocal"){const a=await W5({objectPool:this.objectPool,preferLocal:!1});if(a.status==="authorizedRemote"){if(a.user.uuid!==e.user.uuid){console.error("User UUID mismatch  clear storage and reload"),(s=this.objectPool.objectStorage)==null||s.clear(),window.location.reload();return}i6(a.user)}if(a.status==="unauthorized"){(i=this.objectPool.objectStorage)==null||i.clear(),window.location.href="/app/login";return}a.status==="error"&&console.error(a.error)}})}get status(){return H(this,Ef)}set status(e){V(this,Ef,e)}get actionsStore(){return H(this,Df)}set actionsStore(e){V(this,Df,e)}get browserStore(){return H(this,wf)}set browserStore(e){V(this,wf,e)}get objectPool(){return H(this,Cf)}set objectPool(e){V(this,Cf,e)}get alternativeCalendarsStore(){return H(this,Tf)}set alternativeCalendarsStore(e){V(this,Tf,e)}get appStore(){return H(this,Nf)}set appStore(e){V(this,Nf,e)}get calendarDetailsBarStore(){return H(this,kf)}set calendarDetailsBarStore(e){V(this,kf,e)}get conferenceSolutions(){return H(this,_f)}set conferenceSolutions(e){V(this,_f,e)}get crossCalendarBlocking(){return H(this,Of)}set crossCalendarBlocking(e){V(this,Of,e)}get displayEventsStore(){return H(this,If)}set displayEventsStore(e){V(this,If,e)}get eventsStore(){return H(this,Mf)}set eventsStore(e){V(this,Mf,e)}get eventsStoreManager(){return H(this,Rf)}set eventsStoreManager(e){V(this,Rf,e)}get favoritesStore(){return H(this,Pf)}set favoritesStore(e){V(this,Pf,e)}get notificationsStore(){return H(this,Lf)}set notificationsStore(e){V(this,Lf,e)}get onboardingStore(){return H(this,Bf)}set onboardingStore(e){V(this,Bf,e)}get peopleStore(){return H(this,Ff)}set peopleStore(e){V(this,Ff,e)}get proposalStore(){return H(this,Hf)}set proposalStore(e){V(this,Hf,e)}get resourcesStore(){return H(this,Vf)}set resourcesStore(e){V(this,Vf,e)}get schedulingLinks(){return H(this,Wf)}set schedulingLinks(e){V(this,Wf,e)}get socketService(){return H(this,$f)}set socketService(e){V(this,$f,e)}get userStore(){return H(this,Uf)}set userStore(e){V(this,Uf,e)}get websocketResolver(){return H(this,Gf)}set websocketResolver(e){V(this,Gf,e)}get accounts(){return H(this,zf)}set accounts(e){V(this,zf,e)}get groups(){return H(this,Kf)}set groups(e){V(this,Kf,e)}get workspaces(){return H(this,Zf)}set workspaces(e){V(this,Zf,e)}get workspaceTaskStatuses(){return H(this,Yf)}set workspaceTaskStatuses(e){V(this,Yf,e)}get teams(){return H(this,Xf)}set teams(e){V(this,Xf,e)}get projects(){return H(this,Jf)}set projects(e){V(this,Jf,e)}get projectStates(){return H(this,Qf)}set projectStates(e){V(this,Qf,e)}get tasks(){return H(this,qf)}set tasks(e){V(this,qf,e)}get comments(){return H(this,em)}set comments(e){V(this,em,e)}get teamMembers(){return H(this,tm)}set teamMembers(e){V(this,tm,e)}get attachments(){return H(this,nm)}set attachments(e){V(this,nm,e)}get subtasks(){return H(this,rm)}set subtasks(e){V(this,rm,e)}get labels(){return H(this,sm)}set labels(e){V(this,sm,e)}get taskLabels(){return H(this,im)}set taskLabels(e){V(this,im,e)}get taskSubscriptions(){return H(this,am)}set taskSubscriptions(e){V(this,am,e)}get projectsUserPreferencesCollection(){return H(this,om)}set projectsUserPreferencesCollection(e){V(this,om,e)}get views(){return H(this,lm)}set views(e){V(this,lm,e)}get boxes(){return H(this,cm)}set boxes(e){V(this,cm,e)}get categories(){return H(this,um)}set categories(e){V(this,um,e)}get projectCategories(){return H(this,dm)}set projectCategories(e){V(this,dm,e)}get inboxNotifications(){return H(this,hm)}set inboxNotifications(e){V(this,hm,e)}onCalendarDateRangeChanged(e){this.eventsStoreManager.eventFetcher.fetchEventsWithExpandedRange(e),this.displayEventsStore.setVisibleRange(e),this.alternativeCalendarsStore.setCalendarDateRange(e),this.proposalStore.setCalendarDate(e.startDate)}onProposalBooked(e){this.appStore.setSelectedObject(e),this.appStore.setCalendarDateTime(e.startsAt)}onObjectPoolModelCreated(e,n){e==="event"&&(n.delegate=_se)}onGlobalHotkeyPressed(){var e;(e=this.actionsStore)==null||e.executeAction(nP)}onTransactionFailed(e,n){Mn("Oops! Something went wrong when trying to save your changes. Reverted."),n instanceof y0&&Me(ke.TRANSACTION_FAILED,{type:e.type,model:e.model.entity,error_name:n.name,error:n})}loadStores(e){var s;this.userStore=e.user,this.socketService=new Ky(this.userStore.uuid,this.isImpersonating);const n=[...new URLSearchParams(window.location.search).getAll("tags"),...((s=un.getItem("tags"))==null?void 0:s.split(","))??[]];this.userStore.tagsLoose=new Set(n),this.websocketLogger=new tY(this.socketService,this.userStore),this.displayEventsStore=new Ry({userStore:this.userStore,objectPool:this.objectPool}),this.accounts=new Yb(this.objectPool),this.groups=new E$(this.objectPool),this.peopleStore=new Vy(this.accounts),this.resourcesStore=new $y({objectPool:this.objectPool}),this.alternativeCalendarsStore=new Oy({displayEventsStore:this.displayEventsStore,peopleStore:this.peopleStore,resourcesStore:this.resourcesStore,accounts:this.accounts,userStore:this.userStore}),this.conferenceSolutions=new Jb(this.objectPool),this.eventsStore=new Py({userStore:this.userStore,resourcesStore:this.resourcesStore,transactionQueue:this.transactionQueue,objectPool:this.objectPool,onProposalBooked:this.onProposalBooked}),this.eventsStoreManager=new LU(this.eventsStore,this.objectPool),this.favoritesStore=new By({peopleStore:this.peopleStore}),this.calendarDetailsBarStore=new Iy({favoritesStore:this.favoritesStore,peopleStore:this.peopleStore,alternativeCalendarsStore:this.alternativeCalendarsStore}),this.appStore=new vv({socketService:this.socketService,userStore:this.userStore,alternativeCalendarsStore:this.alternativeCalendarsStore,onCalendarDateRangeChanged:this.onCalendarDateRangeChanged}),this.appStore.delegate=Yse,this.displayEventsStore.appStore=this.appStore,this.notificationsStore=new pse({displayEventsStore:this.displayEventsStore,userStore:this.userStore,appStore:this.appStore}),this.schedulingLinks=new cU(this.objectPool),this.proposalStore=new Wy(this.appStore,this.userStore,this.schedulingLinks),this.notificationsStore.setActionsStore(this.actionsStore),this.crossCalendarBlocking=new A$(this.objectPool),this.onboardingStore=new Fy(this.eventsStoreManager),this.workspaces=new ay(this.objectPool),this.workspaceTaskStatuses=new xU(this.objectPool),this.teams=new yU(this.objectPool),this.teamMembers=new bU(this.objectPool),this.projects=new sU(this.objectPool),this.projectStates=new ny(this.objectPool),this.tasks=new sy(this.objectPool),this.comments=new y$(this.objectPool),this.attachments=new h$(this.objectPool),this.subtasks=new uU(this.objectPool),this.labels=new ty(this.objectPool),this.taskLabels=new dU(this.objectPool),this.taskSubscriptions=new hU(this.objectPool),this.projectsUserPreferencesCollection=new ry(this.objectPool),this.views=new vU(this.objectPool),this.boxes=new f$(this.objectPool),this.categories=new Xb(this.objectPool),this.projectCategories=new q$(this.objectPool),this.inboxNotifications=new Qb(this.objectPool),this.websocketResolver=new nY({socketService:this.socketService,eventsStoreManager:this.eventsStoreManager,userStore:this.userStore,resourcesStore:this.resourcesStore,conferenceSolutions:this.conferenceSolutions,schedulingLinks:this.schedulingLinks,favoritesStore:this.favoritesStore,crossCalendarBlocking:this.crossCalendarBlocking,peopleStore:this.peopleStore,objectPool:this.objectPool,tasks:this.tasks}),Hse({userStore:this.userStore,browserStore:this.browserStore,objectPool:this.objectPool,tasks:this.tasks,workspaces:this.workspaces,projects:this.projects,onGlobalHotkeyPressed:this.onGlobalHotkeyPressed}),tse(this.displayEventsStore,this.userStore,this.appStore,this.actionsStore,this.schedulingLinks),this.appStore.initialize(),this.userStore.autoCorrectTimezone(),this.status="loaded"}};V1=new WeakMap,Ef=new WeakMap,Df=new WeakMap,wf=new WeakMap,Cf=new WeakMap,Tf=new WeakMap,Nf=new WeakMap,kf=new WeakMap,_f=new WeakMap,Of=new WeakMap,If=new WeakMap,Mf=new WeakMap,Rf=new WeakMap,Pf=new WeakMap,Lf=new WeakMap,Bf=new WeakMap,Ff=new WeakMap,Hf=new WeakMap,Vf=new WeakMap,Wf=new WeakMap,$f=new WeakMap,Uf=new WeakMap,Gf=new WeakMap,zf=new WeakMap,Kf=new WeakMap,Zf=new WeakMap,Yf=new WeakMap,Xf=new WeakMap,Jf=new WeakMap,Qf=new WeakMap,qf=new WeakMap,em=new WeakMap,tm=new WeakMap,nm=new WeakMap,rm=new WeakMap,sm=new WeakMap,im=new WeakMap,am=new WeakMap,om=new WeakMap,lm=new WeakMap,cm=new WeakMap,um=new WeakMap,dm=new WeakMap,hm=new WeakMap,B(qg,V1,[o6,l6,c6,u6,d6,h6,f6,m6,p6,g6,b6,y6,v6,x6,j6,S6,A6,E6,D6,w6,C6,T6,N6,k6,_6,O6,I6,M6,R6,P6,L6,B6,F6,H6,V6,W6,$6,U6,G6,z6,K6,Z6,Y6,a6]=Xse(qg,[[re,1,"status"],[re,1,"actionsStore"],[re,1,"browserStore"],[re,1,"objectPool"],[re,1,"alternativeCalendarsStore"],[re,1,"appStore"],[re,1,"calendarDetailsBarStore"],[re,1,"conferenceSolutions"],[re,1,"crossCalendarBlocking"],[re,1,"displayEventsStore"],[re,1,"eventsStore"],[re,1,"eventsStoreManager"],[re,1,"favoritesStore"],[re,1,"notificationsStore"],[re,1,"onboardingStore"],[re,1,"peopleStore"],[re,1,"proposalStore"],[re,1,"resourcesStore"],[re,1,"schedulingLinks"],[re,1,"socketService"],[re,1,"userStore"],[re,1,"websocketResolver"],[re,1,"accounts"],[re,1,"groups"],[re,1,"workspaces"],[re,1,"workspaceTaskStatuses"],[re,1,"teams"],[re,1,"projects"],[re,1,"projectStates"],[re,1,"tasks"],[re,1,"comments"],[re,1,"teamMembers"],[re,1,"attachments"],[re,1,"subtasks"],[re,1,"labels"],[re,1,"taskLabels"],[re,1,"taskSubscriptions"],[re,1,"projectsUserPreferencesCollection"],[re,1,"views"],[re,1,"boxes"],[re,1,"categories"],[re,1,"projectCategories"],[re,1,"inboxNotifications"],[kP,18,"onCalendarDateRangeChanged"],[_P,18,"onProposalBooked"],[OP,18,"onObjectPoolModelCreated"],[IP,18,"onGlobalHotkeyPressed"],[Y,2,"loadStores"]],[]).e);let Av=qg,Ev;function eie(){return Ev}function Wie(){Ev||(Ev=new Av)}function se(t="loaded"){const e=tie();return BB(),Zse(),e}const tie=eie;function nie(t){return t.status==="loaded"}export{He as $,ke as A,qt as B,_0 as C,Vs as D,oe as E,Pt as F,Qy as G,M0 as H,u0 as I,P0 as J,zH as K,k0 as L,vr as M,_s as N,rP as O,Lp as P,yt as Q,WF as R,Xe as S,J_ as T,gV as U,Gr as V,CH as W,Rn as X,eH as Y,nH as Z,je as _,rn as a,Oie as a$,U$ as a0,uie as a1,fn as a2,ce as a3,Yn as a4,j5 as a5,Ob as a6,Sre as a7,Ue as a8,pr as a9,Nn as aA,lx as aB,vie as aC,jt as aD,Bs as aE,Mn as aF,mre as aG,gie as aH,nj as aI,Wie as aJ,bie as aK,fie as aL,Hie as aM,pie as aN,mie as aO,Die as aP,kie as aQ,_ie as aR,Pie as aS,wie as aT,Mie as aU,Cie as aV,Bie as aW,Nie as aX,Rie as aY,Iie as aZ,Tie as a_,Om as aa,lt as ab,xt as ac,We as ad,Ot as ae,Aie as af,jie as ag,Sie as ah,yre as ai,JY as aj,w7 as ak,Tr as al,Ut as am,d0 as an,kp as ao,die as ap,Ln as aq,Cr as ar,xre as as,jre as at,Ii as au,Oe as av,PM as aw,wi as ax,Eie as ay,ge as az,ue as b,Fie as b0,Lie as b1,xie as b2,yie as b3,eie as b4,tie as b5,yn as b6,lF as b7,iie as b8,bn as b9,Nr as ba,Se as bb,un as bc,r$ as bd,lie as be,Ks as bf,Yx as bg,Vie as bh,$e as bi,h0 as bj,zee as bk,Gx as bl,ln as bm,wm as c,ps as d,pe as e,Di as f,ls as g,Ne as h,bX as i,ae as j,se as k,Me as l,pX as m,x0 as n,H_ as o,aie as p,oie as q,ye as r,Fe as s,Ae as t,hie as u,Ni as v,cie as w,Xy as x,Ux as y,$x as z};
//# sourceMappingURL=styles-53dUAiCq.js.map
